(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[26220],{826220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=de;var r,o=Q(n(667294)),a=Z(n(294184)),i=n(517563),u=n(47354),l=n(171236),s=Q(n(536211)),c=n(91817),d=Z(n(939949)),f=Z(n(906998)),p=Z(n(369180)),v=Z(n(732741)),h=Z(n(185948)),_=n(973814),m=Q(n(48465)),E=Z(n(922659)),y=n(947329),g=Z(n(550910)),R=Q(n(802369)),O=Z(n(285629)),A=n(898460),T=Z(n(685528)),b=Z(n(405141)),M=Z(n(915574)),I=n(520310),C=Z(n(864062)),S=n(887299),N=Z(n(423046)),P=Z(n(8549)),D=Z(n(544196)),k=Z(n(730977)),L=Q(n(72840)),w=Z(n(662197)),G=Z(n(916417)),U=Z(n(776360)),x=Z(n(308920)),B=n(956506),j=Z(n(141482)),H=Z(n(801635)),Y=Q(n(900993)),F=Z(n(543188)),K=n(770348),W=n(822858),V=n(27577),X=n(754949),q=Z(n(247001)),$=Z(n(487384)),z=Z(n(380203));function Z(e){return e&&e.__esModule?e:{default:e}}function J(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(J=function(e){
return e?n:t})(e)}function Q(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=J(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}function ee(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function te(e,t,n,r,o,a,i){try{var u=e[a](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,o)}function ne(){ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ne.apply(this,arguments)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function oe(e,t){oe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return oe(e,t)}s.default.initialize();var ae=/\.$/,ie=function(e){return Array.isArray(e)?e.map((function(e){return e.replace(ae,"")})).join(". ").trim():e},ue=ee(Y.InviteResolvingHeader,{}),le=ee(g.default,{}),se=ee(p.default,{}),ce=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;oe(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).dateOfBirthRef=o.createRef();n._retryTimer=new c.Timeout;n.handleCaptchaVerify=function(e){return n.setState({
captchaKey:e},(function(){n.handleRegister()}))};n.handleGotoLogin=function(e){var t=n.state.email,r=n.props,o=r.closeRegister,a=r.giftCode,u=r.guildTemplate,l=r.invite,s=r.isGuest,c=r.location,f=r.onLoginStart,p=r.openLogin,v=r.redirectTo,h=r.transitionTo;if(s){void 0!==o&&o();void 0!==p&&p()}else{var _,m=null!=c?(0,i.parse)(c.search):{};if(null!=l)_=K.Routes.INVITE_LOGIN(l.code);else if(null!=a)_=K.Routes.GIFT_CODE_LOGIN(a.code);else if(null!=u)_=K.Routes.GUILD_TEMPLATE_LOGIN(u.code);else if(null!=v){_=K.Routes.LOGIN;m.redirect_to=v}else{_=K.Routes.LOGIN;""!==t&&(m={email:t})}d.default.loginReset();h(_,{search:(0,i.stringify)(m)});null!=f&&f(e);B.ComponentDispatch.dispatch(K.ComponentActions.WAVE_EMPHASIZE)}};n.handleSubmit=function(e){null==e||e.preventDefault();var t=n.state.parsedDateOfBirth,r=n.props,o=r.invite;null!==r.consentRequired&&(null==o&&null==t||n.handleRegister())};n.handleBirthdayChange=function(e){n.setState({parsedDateOfBirth:e})};var r=null!=t.location?(0,
i.parse)(t.location.search):{};n.state={email:r.email||"",username:"",password:"",parsedDateOfBirth:null,captchaKey:null,consent:!t.consentRequired,consentRequiredProp:t.consentRequired,isRateLimited:!1};return n}var n=t.prototype;n.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t};n.componentDidMount=function(){this.redirectIfAuthenticated();var e=this.props,t=e.giftCodeSKU,n=e.invite;x.default.track(K.AnalyticEvents.REGISTER_VIEWED,ne({location:null!=n?"Invite Register Page":"Non-Invite Register Page",registration_source:this.registrationSource},null!=t?(0,T.default)(t,!1,!1):{}),{flush:!0});null==this.props.consentRequired&&d.default.getLocationMetadata();(0,S.trackAppUIViewed)("register")};n.componentWillUnmount=function(){this._retryTimer.stop()};t.getDerivedStateFromProps=function(e,t){var n=e.consentRequired;return null==t.consentRequiredProp&&null!=n?{consent:!n,consentRequiredProp:n}:{consentRequiredProp:n}}
;n.componentDidUpdate=function(e,t){var n=this,r=this.props,o=r.apiErrors,a=r.authenticated,i=r.isUnderage,u=r.invite,l=r.onChangeStep,s=this.state.parsedDateOfBirth;if(e.apiErrors!==o||t.parsedDateOfBirth!==s)if(this.hasError("email")||this.hasError("phone"))null!=this.emailRef&&this.emailRef.focus();else if(this.hasError("username"))null!=this.usernameRef&&this.usernameRef.focus();else if(this.hasError("password"))null!=this.passwordRef&&this.passwordRef.focus();else if(null==this.state.parsedDateOfBirth)null!=this.dateOfBirthRef.current&&this.dateOfBirthRef.current.focus();else if(this.hasError("retry_after")&&"number"==typeof this.props.apiErrors.retry_after){this.setState({isRateLimited:!0});this._retryTimer.start(1e3*this.props.apiErrors.retry_after,(function(){n.setState({isRateLimited:!1})}))}if(a&&!e.authenticated){(0,I.setNewUser)(X.NewUserTypes.ORGANIC_REGISTERED);this.redirectIfAuthenticated()}var c=W.RegistrationSteps.FULL
;i||this.hasError("date_of_birth")?c=W.RegistrationSteps.AGE_GATE:this.hasError("captcha_key")?c=W.RegistrationSteps.CAPTCHA:null==u||null==u.guild&&null==u.channel||(c=W.RegistrationSteps.INVITE);l(c)};n.redirectIfAuthenticated=function(){var e=this.props,t=e.authenticated,n=e.isMobileWebInviteRegistration,r=e.transitionTo,o=e.redirectTo;t&&(l.isMobile&&n?(0,O.default)("mobile_web_reg"):r(null!=o?o:D.default.defaultRoute))};n.handleRegister=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,u,l,s,c,d,f,p,v,h,E,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state,n=t.email,r=t.username,o=t.password,a=t.captchaKey,i=t.consent,u=t.parsedDateOfBirth;l=this.props,s=l.invite,c=l.guildTemplate,d=l.giftCode,f=l.onRegister,p=l.isMobileWebInviteRegistration;v=null!=s?s.code:null;h=null!=d?d.skuId:null;E=_.usePromoEmailConsentStore.getState();if(!V.CONFERENCE_MODE_ENABLED){e.next=11;break}e.next=8;return(0,A.formatUsername)(r)
;case 8:e.t0=e.sent;e.next=12;break;case 11:e.t0=r;case 12:y=e.t0;B.ComponentDispatch.dispatch(K.ComponentActions.WAVE_EMPHASIZE);e.prev=14;if(p||null==s){e.next=20;break}e.next=18;return(0,m.default)({username:y,consent:i,invite:v,giftCodeSKUId:h,captchaKey:a});case 18:e.next=22;break;case 20:e.next=22;return(0,m.registerFull)({email:n,username:y,consent:i,password:o,invite:v,guildTemplateCode:null==c?void 0:c.code,giftCodeSKUId:h,captchaKey:a,birthday:u,promoEmailConsent:E.enabled?E:null});case 22:null==f||f();e.next=27;break;case 25:e.prev=25;e.t1=e.catch(14);case 27:case"end":return e.stop()}}),e,this,[[14,25]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){te(a,r,o,i,u,"next",e)}function u(e){te(a,r,o,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();n.hasError=function(e){return null!=this.props.apiErrors[e]};n.renderConsentComponents=function(){var e=this,t=this.state.consent,n=null,r=null
;this.props.consentRequired?r=ee(E.default,{value:t,onChange:function(t){return e.setState({consent:t})},subText:q.default.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:K.MarketingURLs.TERMS,privacyURL:K.MarketingURLs.PRIVACY})}):n=ee(L.SubText,{className:z.default.marginTop20},void 0,q.default.Messages.TERMS_PRIVACY.format({termsURL:K.MarketingURLs.TERMS,privacyURL:K.MarketingURLs.PRIVACY}));return{subText:n,consentText:r}};n.renderInviteResolving=function(){var e=this,t=this.props.authBoxClassName;return ee(L.default,{className:t},void 0,ue,ee(L.Block,{className:z.default.marginTop40},void 0,ee(w.default,{},void 0,q.default.Messages.FORM_LABEL_USERNAME),ee(k.default,{text:q.default.Messages.AUTH_USERNAME_TOOLTIP,position:k.default.Positions.RIGHT,color:k.default.Colors.BRAND},void 0,(function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return ee(L.Input,{autoFocus:!0,className:z.default.marginBottom8,name:"username",value:e.state.username,
placeholder:q.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},onMouseEnter:n,onMouseLeave:r})})),ee(L.Button,{className:z.default.marginTop20,disabled:!0},void 0,q.default.Messages.CONTINUE),V.CONFERENCE_MODE_ENABLED?null:ee(L.Button,{look:L.Button.Looks.LINK,color:L.Button.Colors.LINK,disabled:!0,className:z.default.marginTop8},void 0,q.default.Messages.ALREADY_HAVE_ACCOUNT),ee(L.SubText,{disabled:!0,className:z.default.marginTop20},void 0,q.default.Messages.TERMS_PRIVACY.format({termsURL:K.MarketingURLs.TERMS,privacyURL:K.MarketingURLs.PRIVACY}))))};n.renderInviteHeader=function(){var e=this.props.invite;return null!=(null==e?void 0:e.stage_instance)&&null!=e.guild?ee(R.default,{stageInstance:e.stage_instance,guild:e.guild}):null!=(null==e?void 0:e.guild_scheduled_event)?ee(y.GuildScheduledEventInviteHeader,{channel:e.channel,guildScheduledEvent:e.guild_scheduled_event}):ee(Y.default,{invite:e})};n.renderInviteButton=function(){
var e=this,t=this.props,n=t.invite,r=t.registering,a=t.consentRequired,i=this.state.consent,u=L.Button.Colors.BRAND,l=q.default.Messages.CONTINUE;if(null!=(null==n?void 0:n.stage_instance)){u=L.Button.Colors.GREEN;l=q.default.Messages.INSTANT_INVITE_ACCEPT_STAGE}return ee(k.default,{text:!i&&a?q.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null},void 0,(function(t){return o.createElement("div",ne({className:z.default.marginTop20},t),ee(L.Button,{type:"submit",submitting:r,disabled:!e.hasConsent(),color:u},void 0,l))}))};n.renderInvite=function(){var e=this,t=this.props,n=t.invite,r=t.authBoxClassName,o=t.apiErrors.username,a=this.renderConsentComponents(),i=a.subText,u=a.consentText,l=null!=(null==n?void 0:n.stage_instance)||null!=(null==n?void 0:n.guild_scheduled_event);return ee("div",{},void 0,ee(L.default,{onSubmit:this.handleSubmit,tag:"form",className:r},void 0,this.renderInviteHeader(),l?ee("div",{className:$.default.divider}):null,ee(L.Block,{
className:l?void 0:z.default.marginTop40},void 0,ee(w.default,{error:ie(o)},void 0,q.default.Messages.FORM_LABEL_USERNAME),ee(k.default,{text:q.default.Messages.AUTH_USERNAME_TOOLTIP,position:k.default.Positions.RIGHT,color:k.default.Colors.BRAND},void 0,(function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return ee(L.Input,{autoFocus:!0,className:z.default.marginBottom8,name:"username",value:e.state.username,placeholder:q.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=o?"":null,onMouseEnter:n,onMouseLeave:r})})),u,this.renderInviteButton(),V.CONFERENCE_MODE_ENABLED?null:ee(L.Button,{look:L.Button.Looks.LINK,color:L.Button.Colors.LINK,onClick:this.handleGotoLogin,className:z.default.marginTop8},void 0,q.default.Messages.ALREADY_HAVE_ACCOUNT),i)),null!=n&&l?ee(L.default,{className:z.default.marginTop20},void 0,ee(R.StageInviteFooter,{guild:n.guild,onlineCount:n.approximate_presence_count})):null)}
;n.renderErrorMessage=function(){var e=this.props.apiErrors.message;return"string"!=typeof e?null:ee(L.SubText,{className:(0,a.default)(z.default.marginTop20,$.default.errorMessage)},void 0,e)};n.renderFull=function(e,t){var n=this,r=this.state,i=r.email,u=r.username,l=r.password,s=r.consent,c=r.parsedDateOfBirth,d=this.props,f=d.registering,p=d.consentRequired,h=d.isGuest,_=d.isMobileWebInviteRegistration,m=d.authBoxClassName,E=d.apiErrors,y=(E=void 0===E?{}:E).email,g=E.username,R=E.password,O=E.date_of_birth,A=d.isMultiAccountPreviouslyEnabled,T=d.hasLoggedInAccounts,b=this.renderConsentComponents(),M=b.subText,I=b.consentText,C=this.renderErrorMessage(),S=ee(k.default,{text:!s&&p?q.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null},void 0,(function(e){return o.createElement("div",ne({className:z.default.marginTop20},e),ee(L.Button,{type:"submit",submitting:f,disabled:!n.hasConsent()||n.state.isRateLimited},void 0,q.default.Messages.CONTINUE))
})),N=h?null:null!=e?e():ee(L.Title,{},void 0,q.default.Messages.REGISTER_TITLE),P=ee(L.Block,{className:z.default.marginTop20},void 0,ee(L.Input,{autoFocus:!0,className:z.default.marginBottom20,label:q.default.Messages.FORM_LABEL_EMAIL,name:"email",value:i,onChange:function(e){return n.setState({email:e})},error:ie(y),type:"email",setRef:function(e){n.emailRef=e}}),ee(L.Input,{label:q.default.Messages.FORM_LABEL_USERNAME,className:z.default.marginBottom20,name:"username",value:u,onChange:function(e){return n.setState({username:e})},error:ie(g),setRef:function(e){n.usernameRef=e}}),ee(L.Input,{label:q.default.Messages.FORM_LABEL_PASSWORD,name:"password",value:l,onChange:function(e){return n.setState({password:e})},error:ie(R),type:"password",setRef:function(e){n.passwordRef=e}}),o.createElement(v.default,{label:q.default.Messages.AGE_GATE_YOUR_BIRTHDAY,wrapperClassName:z.default.marginTop20,name:"date_of_birth",onChange:this.handleBirthdayChange,ref:this.dateOfBirthRef,error:ie(O),
value:c}),I,le,S,C,V.CONFERENCE_MODE_ENABLED?null:ee(L.Button,{look:_?L.Button.Looks.FILLED:L.Button.Looks.LINK,color:_?L.Button.Colors.GREY:L.Button.Colors.LINK,onClick:this.handleGotoLogin,className:z.default.marginTop8},void 0,q.default.Messages.ALREADY_HAVE_ACCOUNT),M);return t?ee(F.default,{onSubmit:this.handleSubmit,tag:"form",className:(0,a.default)(m,$.default.horizontalAuthBox)},void 0,(function(){return[N,ee("div",{className:$.default.flex},void 0,ee(L.Title,{className:$.default.createAccountTemplateHeader},void 0,q.default.Messages.REGISTER_TITLE),P)]})):ee(L.default,{onSubmit:this.handleSubmit,tag:"form",className:m},void 0,A&&T&&!_?ee(L.Button,{onClick:this.handleGotoLogin,look:L.Button.Looks.LINK,color:L.Button.Colors.PRIMARY,className:$.default.goBackButton},void 0,ee("div",{className:$.default.content},void 0,ee(G.default,{width:16,height:16,className:$.default.caret}),ee(U.default,{size:U.default.Sizes.SIZE_16},void 0,q.default.Messages.AGE_GATE_GO_BACK))):null,N,P)}
;n.render=function(){var e=this.props,t=e.isGuest,n=e.authBoxClassName,r=e.isUnderage,o=e.apiErrors,a=o.captcha_service,i=o.captcha_sitekey,u=e.isMobileWebInviteRegistration;if(r||this.hasError("date_of_birth"))return se;if(this.hasError("captcha_key")&&"string"==typeof a)return ee(j.default,{authBoxClassName:n,onVerify:this.handleCaptchaVerify,title:t?null:q.default.Messages.REGISTER_TITLE,captchaService:a,sitekey:i});var l=this.props,s=l.invite,c=l.giftCode,d=l.guildTemplate,f=null!=s&&null==s.guild&&null==s.channel&&null!=s.inviter;if(null!=s&&!f&&!u)return s.state===K.InviteStates.RESOLVING?this.renderInviteResolving():this.renderInvite();var p=ee(b.default,{guildTemplate:d});if(null!=d)return this.renderFull((function(){return p}),!0);var v=ee(H.default,{giftCode:c});if(null!=c)return this.renderFull((function(){return v}));var h=ee(Y.default,{invite:s,isRegister:!0});return null!=s&&f&&s.state===K.InviteStates.RESOLVED&&!u?this.renderFull((function(){return h})):this.renderFull()
};!function(e,t,n){t&&re(e.prototype,t);n&&re(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"registrationSource",get:function(){var e=this.props,t=e.giftCode,n=e.guildTemplate,r=e.invite;if(null!=t)return"gift";if(null!=n)return"guild_template";if(null!=r){if(null!=r.guild)return"guild_invite";if(null!=r.channel)return"dm_invite";if(null!=r.inviter)return"friend_invite"}return null}}]);return t}(o.PureComponent);ce.displayName="Register";ce.defaultProps={giftCodeResolved:!1,transitionTo:function(e){return n.g.location.assign(e)}};function de(e){var t=(0,s.useStateFromStoresObject)([P.default,N.default,f.default,C.default,M.default],(function(){return{consentRequired:P.default.getAuthenticationConsentRequired(),registering:N.default.getRegisterStatus()===K.RegistrationStates.REGISTERING,apiErrors:N.default.getErrors(),authenticated:N.default.isAuthenticated(),isUnderage:f.default.isUnderageAnonymous(),country:C.default.getCountryCode(),
isMultiAccountPreviouslyEnabled:M.default.getIsMultiAccountPreviouslyEnabled(),hasLoggedInAccounts:M.default.getHasLoggedInAccounts()}})),n=o.useState(W.RegistrationSteps.FULL),r=n[0],a=n[1];(0,h.default)({type:u.ImpressionTypes.VIEW,name:u.ImpressionNames.USER_REGISTRATION,properties:{impression_group:u.ImpressionGroups.USER_REGISTRATION_FLOW,step:r}},{},[r]);return o.createElement(ce,ne({onChangeStep:function(e){return a(e)}},e,t))}de.displayName="ConnectedRegister"},921052:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.logoutUnderageNewUser=function(){o.default.dispatch({type:i.ActionTypes.AGE_GATE_LOGOUT_UNDERAGE_NEW_USER})};t.preventUnderageRegistration=function(){o.default.dispatch({type:i.ActionTypes.AGE_GATE_PREVENT_UNDERAGE_REGISTRATION})};t.submitDateOfBirth=function(e,t){(0,a.default)(e,t);return r.default.patch({url:i.Endpoints.ME,body:{date_of_birth:e.format("YYYY-MM-DD")},oldFormErrors:!0}).then((function(e){var t=e.body;o.default.dispatch({
type:i.ActionTypes.CURRENT_USER_UPDATE,user:t})}))};var r=u(n(118915)),o=u(n(636602)),a=u(n(132699)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},906998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=c(n(676489)),a=c(n(536211)),i=c(n(636602)),u=n(864489),l=n(78330),s=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=null;var p=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.isUnderageAnonymous=function(){if(!u.isPlatformEmbedded){return null!=o.default.parse(document.cookie).underage}return null!=f&&f+l.AGE_GATE_REGISTER_TIMEOUT_MS>Date.now()};return t}(a.default.Store))(i.default,((r={})[s.ActionTypes.AGE_GATE_PREVENT_UNDERAGE_REGISTRATION]=function(){!0;f=Date.now()
;document.cookie="underage=1;path=/"},r[s.ActionTypes.LOGIN_SUCCESS]=function(){!1;f=null;document.cookie="underage=1;path=/;max-age=0"},r));t.default=p},369180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;p(n(667294));var r,o=n(139982),a=d(n(956117)),i=p(n(72840)),u=d(n(550270)),l=n(770348),s=d(n(247001)),c=d(n(478602));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}
function v(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(){return(0,o.transitionTo)(l.Routes.LOGIN)},_=function(e){var t=e.authBoxClassName,r=e.underageMessage;return v(i.default,{className:t},void 0,v("img",{alt:"",src:n(697694),className:c.default.img}),v(i.Title,{className:c.default.title},void 0,s.default.Messages.AGE_GATE_UNDERAGE_HEADER),v(i.SubTitle,{className:c.default.subtitle},void 0,s.default.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:r||s.default.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_MESSAGE,helpURL:u.default.getArticleURL(l.HelpdeskArticles.AGE_GATE)})),v(a.default,{
fullWidth:!0,onClick:h},void 0,s.default.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN))};_.displayName="AgeGateUnderage";var m=_;t.default=m},732741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=f(n(294184)),i=f(n(730381)),u=f(n(474257)),l=n(688388),s=f(n(776360)),c=f(n(247001)),d=f(n(108083));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,o){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=(0,i.default)().localeData().months(),_=Array.from(Array(31).keys()).map((function(e){return{value:e+1,label:""+(e+1)}})),m=Array.from(Array(12).keys()).map((function(e){return{value:e+1,label:h[e]}}));var E=/[a-zA-Z0-9]/;function y(e){var t=e.options,n=e.selectOption,r=e.children,a=o.useState(""),i=a[0],u=a[1];o.useEffect((function(){if(""!==i){var e=setTimeout((function(){return u("")}),1e3);return function(){return clearTimeout(e)}}}),[i,u]);return v("div",{onKeyDown:o.useCallback((function(e){if(E.test(e.key)){var r=""+i+e.key.toLowerCase(),o=t.find((function(e){
return e.label.toLowerCase().startsWith(r)}));null!=o&&n(o.value);u(r)}}),[n,u,i,t])},void 0,r)}y.displayName="DropdownSuggestionWrapper";function g(){var e=(0,i.default)().localeData().longDateFormat("L"),t=e.indexOf("D"),n=e.indexOf("M"),r=e.indexOf("Y");if(-1===t||-1===n||-1===r){t=0;n=1;r=2}return[{index:t,type:"day"},{index:n,type:"month"},{index:r,type:"year"}].sort((function(e,t){return e.index<t.index?-1:1}))}var R=o.forwardRef((function(e,t){var n=e.value,r=e.wrapperClassName,f=e.onChange,p=e.onPopulated,h=e.error,E=e.autoFocus,R=function(e){var t=null,n=null,r=null;if(null!=e){t=e.date();n=e.month()+1;r=e.year()}var a=o.useState(t),i=a[0],u=a[1],l=o.useState(n),s=l[0],c=l[1],d=o.useState(r);return{day:i,setDay:u,month:s,setMonth:c,year:d[0],setYear:d[1]}}(n),O=R.day,A=R.setDay,T=R.month,b=R.setMonth,M=R.year,I=R.setYear,C=o.useMemo((function(){return null!=O&&null!=T&&null!=M?(0,i.default)(O+"/"+T+"/"+M,"DD/MM/YYYY"):null}),[O,T,M]);o.useEffect((function(){
f((null==C?void 0:C.isValid())?C:null)}),[C,f]);var S=h;null==C||C.isValid()||(S=c.default.Messages.AGE_GATE_INVALID_BIRTHDAY);var N=function(){var e=(new Date).getFullYear(),t=o.useRef(Array.from(Array(150).keys()).map((function(t){return{value:e-t-3,label:""+(e-t-3)}})));o.useEffect((function(){t.current=Array.from(Array(150).keys()).map((function(t){return{value:e-t-3,label:""+(e-t-3)}}))}),[e]);return t.current}(),P=o.useState(E?0:-1),D=P[0],k=P[1],L=o.useRef(null),w=o.useRef(null),G=o.useRef(null),U=o.useMemo(g,[]),x=o.useCallback((function(){var e,t,n,r;switch(null===(e=U[D])||void 0===e?void 0:e.type){case"day":null===(t=L.current)||void 0===t||t.focus();break;case"month":null===(n=w.current)||void 0===n||n.focus();break;case"year":null===(r=G.current)||void 0===r||r.focus()}}),[D,L,w,G,U]);o.useEffect((function(){setTimeout(x,500)}),[]);o.useEffect((function(){D>=U.length?null==p||p():x()}),[D,x]);for(var B=[],j=function(e){switch(U[e].type){case"day":B.push({key:"day",
input:v(y,{options:_,selectOption:A},void 0,o.createElement(u.default,{ref:L,className:d.default.inputDay,"aria-label":c.default.Messages.AGE_GATE_DOB_DAY,menuPlacement:u.default.MenuPlacements.TOP,placeholder:v("span",{"aria-hidden":!0},void 0,c.default.Messages.AGE_GATE_DOB_DAY),options:_,value:O,onChange:function(t){var n=t.value;A(n);k(e+1)},maxMenuHeight:215}))});break;case"month":B.push({key:"month",input:v(y,{options:m,selectOption:b},void 0,o.createElement(u.default,{ref:w,className:d.default.inputMonth,"aria-label":c.default.Messages.AGE_GATE_DOB_MONTH,menuPlacement:u.default.MenuPlacements.TOP,placeholder:v("span",{"aria-hidden":!0},void 0,c.default.Messages.AGE_GATE_DOB_MONTH),options:m,value:T,onChange:function(t){var n=t.value;b(n);k(e+1)},maxMenuHeight:215}))});break;case"year":B.push({key:"year",input:v(y,{options:N,selectOption:I},void 0,o.createElement(u.default,{ref:G,className:d.default.inputYear,"aria-label":c.default.Messages.AGE_GATE_DOB_YEAR,
menuPlacement:u.default.MenuPlacements.TOP,placeholder:v("span",{"aria-hidden":!0},void 0,c.default.Messages.AGE_GATE_DOB_YEAR),options:N,value:M,onChange:function(t){var n=t.value;I(n);k(e+1)},maxMenuHeight:215}))})}},H=0;H<3;H++)j(H);return v("div",{className:(0,a.default)(d.default.container,r)},void 0,v(l.FormTitle,{tag:l.FormTitle.Tags.H5},void 0,c.default.Messages.AGE_GATE_DATE_OF_BIRTH),v("div",{className:d.default.inputs},void 0,B.map((function(e,t){var n=e.key,r=e.input;return v("div",{tabIndex:t+1,className:d.default[n]},n,r)}))),v(s.default,{className:d.default.errors},void 0,S))}));t.default=R},389625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PromotionalEmailOptInExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-08_promotional_email_opt_in_experiment",label:"Promotional email opt in experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"show promotional email opt in checkbox above cta",config:{enabled:!0}}]
});t.PromotionalEmailOptInExperiment=r},822858:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RegistrationTransitionActionTypes=t.RegistrationSteps=void 0;var n,r;t.RegistrationTransitionActionTypes=n;!function(e){e.VIEWED="viewed";e.SUBMITTED="submitted";e.RESEND_CODE="resend_code";e.INPUT_ERROR="input_error";e.RESPONSE_ERROR="response_error";e.SUCCESS="success"}(n||(t.RegistrationTransitionActionTypes=n={}));t.RegistrationSteps=r;!function(e){e.IDENTITY="identity";e.ACCOUNT_INFORMATION="account_information";e.FULL="full";e.AGE_GATE="age_gate";e.CAPTCHA="captcha";e.INVITE="invite";e.SMS_VERIFY="sms_verify"}(r||(t.RegistrationSteps=r={}))},132699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){o.default.track(a.AnalyticEvents.AGE_GATE_SUBMITTED,{dob:(0,r.default)().diff(e,"years")<18?e.format("YYYY-MM-DD"):null,dob_day:e.date(),dob_month:e.month()+1,dob_year:e.year(),source:{section:t}})}
;var r=i(n(730381)),o=i(n(308920)),a=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}},48465:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.invite,n=void 0===t?null:t,r=e.giftCodeSKUId,o=void 0===r?null:r,a=e.captchaKey,i=void 0===a?null:a;return g(_({},function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,p),{invite:n,giftCodeSKUId:o,captchaKey:i}))};t.registerDeferred=function(e){a.default.dispatch({type:f.ActionTypes.REGISTER_SAVE_FORM,form:e})};t.registerFull=g;t.registerPhone=function(e){return y.apply(this,arguments)};var r=h(n(730381)),o=n(47354),a=h(n(636602)),i=h(n(568681)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(921052)),l=h(n(423046)),s=h(n(308920)),c=h(n(351772)),d=h(n(132699)),f=n(770348),p=["invite","giftCodeSKUId","captchaKey"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function m(e,t,n,r,o,a,i){try{var u=e[a](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,u,"next",e)}
function u(e){m(a,r,o,i,u,"throw",e)}i(void 0)}))}}function y(){return(y=E(regeneratorRuntime.mark((function e(t){var n,r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.phone,r=t.captchaToken;e.prev=1;e.next=4;return c.default.post({url:f.Endpoints.REGISTER_PHONE,body:{phone:n,captcha_key:r},trackedActionData:{event:o.NetworkActionNames.USER_REGISTER_PHONE}});case 4:return e.abrupt("return",e.sent);case 7:e.prev=7;e.t0=e.catch(1);u=new i.default(e.t0);a.default.dispatch({type:f.ActionTypes.REGISTER_FAILURE,error:u});throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function g(e){var t=e.email,n=e.phoneToken,p=e.username,v=e.consent,h=e.password,_=e.guildTemplateCode,m=e.birthday,E=e.invite,y=void 0===E?null:E,g=e.giftCodeSKUId,R=void 0===g?null:g,O=e.captchaKey,A=void 0===O?null:O,T=e.multiStep,b=void 0!==T&&T,M=e.promoEmailConsent,I=void 0===M?null:M;a.default.dispatch({type:f.ActionTypes.REGISTER,
birthday:b?m:null});if(null!=m){(0,d.default)(m,f.AnalyticsSections.REGISTER);!function(e){var t=(0,r.default)().diff(e,"years");if(!(t<13)){var n;n=t>=13&&t<=17?"13-17":t>=18&&t<=22?"18-22":"23+";s.default.track(f.AnalyticEvents.USER_AGE_SUBMITTED,{age_bucket:n})}}(m)}return c.default.post({url:f.Endpoints.REGISTER,body:{fingerprint:l.default.getFingerprint(),email:t,username:p,password:h,invite:y,consent:v,phone_token:n,date_of_birth:null==m?void 0:m.format("YYYY-MM-DD"),gift_code_sku_id:R,guild_template_code:_,captcha_key:A,promotional_email_opt_in:null==I?void 0:I.checked},trackedActionData:{event:o.NetworkActionNames.USER_REGISTER,properties:{invite_code:y,promotional_email_opt_in:null==I?void 0:I.checked,promotional_email_pre_checked:null==I?void 0:I.preChecked}}}).then((function(e){a.default.dispatch({type:f.ActionTypes.REGISTER_SUCCESS,token:e.body.token})}),(function(e){var t=new i.default(e);a.default.dispatch({type:f.ActionTypes.REGISTER_FAILURE,error:t})
;null!=t.getFieldErrors("date_of_birth")&&u.preventUnderageRegistration();throw e}))}},922659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r)}(n(667294));var r,o=c(n(294184)),a=c(n(789446)),i=c(n(530250)),u=n(72840),l=c(n(472499)),s=c(n(380203));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t,n=e.value,r=e.onChange,c=e.subText,d=e.muted,p=e.marginTopStyle;return f(i.default,{className:p||s.default.marginTop20,align:i.default.Align.CENTER},void 0,f(a.default,{value:n,type:a.default.Types.INVERTED,onChange:function(e,t){return r(t)},className:l.default.checkbox},void 0,f(u.SubText,{className:(0,o.default)((t={},t[l.default.subText]=!d,t))},void 0,c)))}p.displayName="ConsentCheckBox"},947329:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildScheduledEventInviteHeader=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t)
;if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r)}(n(667294));var r,o=n(341186),a=n(330321),i=n(958078),u=s(n(776360)),l=s(n(230531));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function f(e){var t=e.channel,n=(0,o.getSimpleChannelIconComponent)(t.type);return d("div",{className:l.default.channelInfoContainer},void 0,null!=n?d(n,{width:20,height:20}):null,d(u.default,{className:l.default.channelInfoText,color:u.default.Colors.CUSTOM,size:u.default.Sizes.SIZE_14},void 0,t.name))}f.displayName="ChannelInfo";function p(e){var t=e.channel,n=e.guildScheduledEvent;return d("div",{className:l.default.container},void 0,d(i.GuildEventStatus,{className:l.default.statusContainer,userCount:n.user_count,startTime:n.scheduled_start_time,isActive:(0,a.isGuildScheduledEventActive)(n),isEnded:(0,a.isGuildEventEnded)(n),guildId:n.guild_id,eventType:n.entity_type}),d(i.GuildEventDetails,{name:n.name,description:n.description,guildId:n.guild_id}),null!=t&&n.channel_id===t.id?d(f,{channel:t}):null)}p.displayName="GuildScheduledEventInviteHeader"},550910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,
a.usePromoEmailConsentStore)(),t=e.required,n=e.checked;return t?f(p,{checked:n}):null};var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(973814),i=n(389625),u=c(n(922659)),l=c(n(247001)),s=c(n(380203));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=o;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.checked,n=i.PromotionalEmailOptInExperiment.useExperiment({});o.useEffect((function(){i.PromotionalEmailOptInExperiment.trackExposure({})}),[]);o.useEffect((function(){n.enabled&&(0,a.setPromoEmailConsentEnabled)(n.enabled)}),[n.enabled]);return n.enabled?f(u.default,{value:t,subText:l.default.Messages.PROMOTIONAL_EMAIL_OPT_IN_CONSENT,onChange:a.setPromoEmailConsentChecked,marginTopStyle:s.default.marginTop8,muted:!0}):null}},285629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return g.apply(this,arguments)};var r=h(n(131795)),o=n(138864),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t)
;if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(997359)),i=n(919094),u=n(483559),l=n(139982),s=h(n(423046)),c=h(n(544196)),d=h(n(308920)),f=h(n(924117)),p=n(770348);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r,o,a,i){try{var u=e[a](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){_(a,r,o,i,u,"next",e)}function u(e){_(a,r,o,i,u,"throw",e)}i(void 0)}))}}function E(e){return y.apply(this,arguments)}function y(){
return(y=m(regeneratorRuntime.mark((function e(t){var n,i,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Android"!==(i=null===(n=r.default.os)||void 0===n?void 0:n.family)&&"iOS"!==i){e.next=14;break}c=null!==(l=s.default.getFingerprint())&&void 0!==l?l:s.default.getId();d=(0,a.generateAttemptId)();if(null!=c||!s.default.isAuthenticated()){e.next=13;break}e.prev=5;e.next=8;return(0,u.fetchCurrentUser)();case 8:c=s.default.getId();e.next=13;break;case 11:e.prev=11;e.t0=e.catch(5);case 13:return e.abrupt("return",(0,a.default)((0,o.getDefaultDynamicLinkTemplate)(),{utmSource:t,fingerprint:c,attemptId:d}));case 14:return e.abrupt("return","discord://");case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function g(){return(g=m(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return E(t);case 2:n=e.sent;null!=(r=(0,
a.parseDynamicLink)(n))&&d.default.track(p.AnalyticEvents.DEEP_LINK_CLICKED,{fingerprint:(0,i.maybeExtractId)(r.fingerprint),attempt_id:r.attemptId,source:r.utmSource});f.default.launch(n,(function(e){e||(0,l.replaceWith)(c.default.fallbackRoute)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},898460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.formatUsername=function(e){return u.apply(this,arguments)};var r,o=(r=n(922629))&&r.__esModule?r:{default:r};function a(e,t,n,r,o,a,i){try{var u=e[a](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,l,"next",e)}function l(e){a(i,r,o,u,l,"throw",e)}u(void 0)}))}}function u(){return(u=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3
;return o.default.getSetting("USERNAME_PREFIX","");case 3:e.t0=e.sent;e.t1=t;return e.abrupt("return",e.t0+e.t1);case 8:e.prev=8;e.t2=e.catch(0);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},520310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setNewUser=function(e){o.default.wait((function(){return o.default.dispatch({type:a.ActionTypes.NUF_NEW_USER,newUserType:e})}))};t.setNewUserFlowCompleted=function(){o.default.wait((function(){return o.default.dispatch({type:a.ActionTypes.NUF_COMPLETE})}))};var r,o=(r=n(636602))&&r.__esModule?r:{default:r},a=n(770348)},754949:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NewUserTypes=t.NUF_VALUE_PROPS_MODAL_KEY=t.NUF_NOTIFICATION_MODAL_KEY=t.NUF_IN_APP_EDUCATION_KEY=t.NUF_EMAIL_CONNECTION_MODAL_KEY=t.NUF_DISCOVERABILITY_MODAL_KEY=void 0;var n;t.NewUserTypes=n;!function(e){e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED"
;e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(n||(t.NewUserTypes=n={}));t.NUF_NOTIFICATION_MODAL_KEY="nuf-notification-modal-key";t.NUF_DISCOVERABILITY_MODAL_KEY="nuf-discoverability-modal-key";t.NUF_IN_APP_EDUCATION_KEY="nuf-in-app-education-modal-key";t.NUF_EMAIL_CONNECTION_MODAL_KEY="nuf-email-connection-modal-key";t.NUF_VALUE_PROPS_MODAL_KEY="nuf-value-props-modal-key"},474257:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.LIGHT_THEME_COLORS=t.DEFAULT_SELECT_STYLES=t.DARK_THEME_COLORS=void 0
;var r,o,a=m(n(667294)),i=h(n(294184)),u=m(n(392224)),l=h(n(314234)),s=n(925182),c=h(n(594050)),d=n(770348),f=h(n(247001)),p=h(n(932440)),v=["className","error","valueRenderer","optionRenderer","multiValueRenderer","options","value","autofocus","disabled","clearable","searchable","styleOverrides","lightThemeColorOverrides","darkThemeColorOverrides","isMulti"];function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}
function E(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}!function(e){e.TOP="top";e.BOTTOM="bottom"}(o||(o={}));var R={container:function(e,t){return g({},e,{cursor:t.isDisabled?"not-allowed":null,pointerEvents:null})},control:function(e,t){var n=t.isDisabled,r=t.isFocused,o=t.menuIsOpen,a=t.theme.colors;return g({},e,{
borderColor:n?a.neutral10:r?a.primary:a.neutral20,boxShadow:null,borderRadius:o?"4px 4px 0 0":"4px",minHeight:40,transition:"border 0.15s ease",cursor:n?"not-allowed":null,pointerEvents:n?"none":null,":hover":{borderColor:n?a.neutral10:a.primary}})},singleValue:function(e,t){var n=t.isDisabled;return g({},e,{color:t.theme.colors.text,opacity:n?.5:1})},input:function(e,t){return g({},e,{color:t.theme.colors.text})},menu:function(e,t){var n=t.theme.colors;return g({},e,{backgroundColor:n.menuBackground,border:"1px solid "+n.menuBorder,borderRadius:"0 0 4px 4px",boxShadow:"0 1px 5px 0 "+n.neutral20,color:n.text,marginTop:-1,marginBottom:-1})},clearIndicator:function(e,t){var n=t.isDisabled,r=t.theme.colors;return g({},e,{color:r.text,cursor:n?null:"pointer",opacity:.3,padding:"8px 0",transform:"scale(0.8)",":hover":{color:r.danger,opacity:1}})},indicatorsContainer:function(e){return g({},e,{alignItems:"flex-start"})},dropdownIndicator:function(e,t){var n=t.isDisabled,r=t.theme.colors
;return g({},e,{color:r.interactive,cursor:n?null:"pointer",opacity:n?.3:1,padding:"8px 8px 8px 0",":hover":{color:r.interactiveHover,opacity:n?.3:1}})},menuList:function(e,t){return g({},e,{padding:0,"&::-webkit-scrollbar":{width:8},"&::-webkit-scrollbar-thumb":{backgroundColor:t.theme.colors.scrollBarThumb,borderColor:"transparent",backgroundClip:"padding-box",borderRadius:4},"&::-webkit-scrollbar-track-piece":{backgroundColor:"transparent",borderColor:"transparent"}})},option:function(e,t){var n=t.isSelected,r=t.isFocused,o=t.theme.colors;return g({},e,{backgroundColor:n?o.selectedOptionBackground:r?o.primary25:"transparent",color:o.text,cursor:"pointer",display:"flex",alignItems:"center",minHeight:40})},placeholder:function(e,t){return g({},e,{color:t.theme.colors.placeholder})}};t.DEFAULT_SELECT_STYLES=R;var O={neutral0:(0,s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_500,.02),neutral5:(0,s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_500,.02),neutral10:(0,
s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_500,.1),neutral20:(0,s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_500,.3),neutral30:(0,s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_500,.3),primary:d.HEXColors.PRIMARY_DARK_300,primary25:d.HEXColors.PRIMARY_DARK_100,primary50:d.HEXColors.PRIMARY_DARK_100,selectedOptionBackground:d.HEXColors.PRIMARY_DARK_200,text:d.HEXColors.PRIMARY_LIGHT_700,placeholder:d.HEXColors.PRIMARY_LIGHT,menuBackground:d.HEXColors.WHITE,menuBorder:d.HEXColors.PRIMARY_DARK_300,scrollBarThumb:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.4),multiOptionBackground:d.HEXColors.PRIMARY_LIGHT_200,interactive:d.HEXColors.PRIMARY_LIGHT_600,interactiveHover:d.HEXColors.PRIMARY_LIGHT_700};t.LIGHT_THEME_COLORS=O;var A={neutral0:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.1),neutral5:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.1),neutral10:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.1),neutral20:(0,s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_700,.5),neutral30:(0,
s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_700,.5),primary:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.6),primary25:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.1),primary50:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.1),selectedOptionBackground:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.2),text:d.HEXColors.PRIMARY_DARK_200,placeholder:d.HEXColors.PRIMARY_DARK_400,menuBackground:d.HEXColors.PRIMARY_DARK_630,menuBorder:d.HEXColors.PRIMARY_DARK_700,scrollBarThumb:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.4),multiOptionBackground:d.HEXColors.PRIMARY_DARK_500,interactive:d.HEXColors.PRIMARY_DARK_300,interactiveHover:d.HEXColors.PRIMARY_DARK_200};t.DARK_THEME_COLORS=A;var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._selectRef=a.createRef();t._containerRef=a.createRef();t.state={isFocused:!1,isOpen:!1}
;t.handleFocus=function(e){var n,r;t.setState({isFocused:!0});null===(n=(r=t.props).onFocus)||void 0===n||n.call(r,e)};t.handleBlur=function(e){var n,r;t.setState({isFocused:!1});null===(n=(r=t.props).onBlur)||void 0===n||n.call(r,e)};t.handleKeyDown=function(e){e.which===d.KeyboardKeys.ESCAPE&&t.state.isOpen&&e.stopPropagation()};t.handleMenuOpen=function(){t.setState({isOpen:!0})};t.handleMenuClose=function(){t.setState({isOpen:!1})};return t}var n=t.prototype;n.focus=function(){var e;null===(e=this._selectRef.current)||void 0===e||e.focus()};n.render=function(){var e,t=this,n=this.props,r=n.className,o=n.error,s=n.valueRenderer,h=n.optionRenderer,_=n.multiValueRenderer,m=n.options,y=n.value,T=n.autofocus,b=n.disabled,M=n.clearable,I=n.searchable,C=n.styleOverrides,S=n.lightThemeColorOverrides,N=n.darkThemeColorOverrides,P=n.isMulti,D=g({},function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(n,v))
;null!=T&&(D.autoFocus=T);null!=b&&(D.isDisabled=b);null!=M&&(D.isClearable=M);null!=I&&(D.isSearchable=I);var k={IndicatorSeparator:function(){return null}};null!=h&&(k.Option=function(e){return a.createElement(u.components.Option,e,h(e.data))});null!=s&&(k.SingleValue=function(e){return a.createElement(u.components.SingleValue,e,s(e.data))});null!=_&&(k.MultiValue=function(e){return _(e.data)});var L,w=null!=C?C:R,G=null!=S?S:O,U=null!=N?N:A;if(P&&Array.isArray(y)){var x={};m.forEach((function(e){x[String(e.value)]=e}));L=y.map((function(e){return x[String(e)]}))}else L=null!=y?m.find((function(e){return e.value===y})):null;return E(l.default,{focused:this.state.isFocused&&!this.state.isOpen,ringTarget:this._containerRef},void 0,a.createElement("div",{className:(0,i.default)(p.default.select,r,(e={},e[p.default.error]=null!=o,e)),ref:this._containerRef},E(c.default.Consumer,{},void 0,(function(e){return a.createElement(u.default,g({},D,{ref:t._selectRef,isMulti:P,components:k,
options:m,styles:w,onFocus:t.handleFocus,onBlur:t.handleBlur,onMenuOpen:t.handleMenuOpen,onMenuClose:t.handleMenuClose,value:L,onKeyDown:t.handleKeyDown,placeholder:f.default.Messages.SELECT,noOptionsMessage:function(){return f.default.Messages.NO_RESULTS_FOUND},theme:function(t){return g({},t,{colors:g({},t.colors,{},e===d.ThemeTypes.LIGHT?G:U)})}}))})),null!=o?E("div",{className:p.default.errorMessage},void 0,o):null))};return t}(a.Component);t.default=T;T.displayName="SelectTempWrapper";T.MenuPlacements=o},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"}}]);
//# sourceMappingURL=ce2ea4b2df03bc81d753.js.map