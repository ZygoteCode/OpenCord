"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[52389],{186705:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,i=(a=n(636602))&&a.__esModule?a:{default:a},r=n(770348);var o={clearDraft:function(e,t){i.default.dirtyDispatch({type:r.ActionTypes.DRAFT_CLEAR,channelId:e,draftType:t})},saveDraft:function(e,t,n){i.default.dirtyDispatch({type:r.ActionTypes.DRAFT_SAVE,channelId:e,draft:t,draftType:n})},changeDraft:function(e,t,n){i.default.dirtyDispatch({type:r.ActionTypes.DRAFT_CHANGE,channelId:e,draft:t,draftType:n})},changeThreadSettings:function(e,t){i.default.dirtyDispatch({type:r.ActionTypes.THREAD_SETTINGS_DRAFT_CHANGE,channelId:e,draft:t})}};t.default=o},536487:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.getApplicationDiscoveryCommands=t.clearGuildDiscoveryCommands=void 0;t.getApplicationGuildCommandPermissions=function(e,t,n){
return r.default.get(c.Endpoints.APPLICATION_BOT_GUILD_COMMAND_PERMISSIONS(e,t,n))};t.listApplicationGuildCommands=function(e,t,n,a,i,r){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_QUERY_LIST_REQUEST,applicationId:e,guildId:t,limit:n,commandType:a,nonce:i,scope:r})};t.performAutocomplete=function(e,t,n){var i;(0,a.default)(null!=t.autocomplete,"Missing autocomplete context");var p=t.autocomplete,f=p.query,A=p.name;if(null!=d.default.getAutocompleteChoices(t.channel.id,f))return;var _=s.default.fromTimestamp(Date.now());o.default.dirtyDispatch({type:"APPLICATION_COMMAND_AUTOCOMPLETE_REQUEST",nonce:_,channelId:t.channel.id,query:f,name:A});r.default.post({url:c.Endpoints.INTERACTIONS,body:{type:u.InteractionTypes.APPLICATION_COMMAND_AUTOCOMPLETE,application_id:e.applicationId,guild_id:null===(i=t.guild)||void 0===i?void 0:i.id,channel_id:t.channel.id,session_id:l.default.getSessionId(),data:n,nonce:_},timeout:3e3}).catch((function(){o.default.dirtyDispatch({
type:"INTERACTION_FAILURE",nonce:_})}))};t.queryDmApplicationCommands=function(e,t){return _.apply(this,arguments)};t.queryGuildApplications=t.queryGuildApplicationCommands=void 0;t.setActiveCommand=function(e,t){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_SET_ACTIVE_COMMAND,channelId:e,command:t})};t.setPreferredCommandId=function(e,t){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_SET_PREFERRED_COMMAND,channelId:e,commandId:t})};t.updateApplicationGuildCommandPermissions=function(e,t,n,a){return r.default.put({body:{permissions:a},url:c.Endpoints.APPLICATION_BOT_GUILD_COMMAND_PERMISSIONS(e,t,n)})};t.updateChannelState=function(e,t,n,a){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_UPDATE_CHANNEL_STATE,channelId:e,command:t,preferredCommandId:n,changedOptionStates:a})};t.updateOptionStates=function(e,t){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_UPDATE_OPTIONS,channelId:e,changedOptionStates:t})}
;t.updatePreferredCommandOptionValue=function(e,t){o.default.dispatch({type:c.ActionTypes.APPLICATION_COMMAND_UPDATE_PREFERRED_OPTION_VALUE,option:e,value:t})};var a=p(n(441143)),i=p(n(496486)),r=p(n(118915)),o=p(n(636602)),u=n(81069),l=p(n(423046)),s=p(n(71636)),d=p(n(373265)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a,i,r,o){try{var u=e[r](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(a,i)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){f(r,a,i,o,u,"next",e)}function u(e){f(r,a,i,o,u,"throw",e)}o(void 0)}))}}function _(){return(_=A(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.get(c.Endpoints.APPLICATION_BOT_COMMANDS(t));case 2:(a=e.sent).ok&&o.default.dirtyDispatch({type:c.ActionTypes.DM_APPLICATION_COMMANDS_UPDATE,botUserId:t,
applicationCommands:a.body,commandType:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=i.default.debounce((function(e,t,n,a,i){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_QUERY_REQUEST,guildId:e,query:t,limit:n,nonce:s.default.fromTimestamp(Date.now()),includeApplications:i,commandType:a})}),250,{leading:!0,trailing:!0,maxWait:750});t.queryGuildApplicationCommands=m;t.queryGuildApplications=function(e,t,n,a){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATIONS_REQUEST,guildId:e,nonce:s.default.fromTimestamp(Date.now()),commandLimit:t,commandType:n,commandIds:a})};t.getApplicationDiscoveryCommands=function(e,t,n,a,i,r,u){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_DISCOVERY_REQUEST,guildId:e,offset:t,limit:n,isBefore:a,commandType:r,applications:i,jumpDescriptor:u,nonce:s.default.fromTimestamp(Date.now())})};t.clearGuildDiscoveryCommands=function(){o.default.dirtyDispatch({
type:c.ActionTypes.CLEAR_GUILD_DISCOVERY_COMMANDS})}},373265:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,i=s(n(536211)),r=s(n(636602)),o=s(n(211136)),u=s(n(572935)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return c.apply(this,arguments)}var p=new Map,f=new Map;function A(e){if(!f.has(e)){var t;f.set(e,{commandId:null===(t=u.default.getActiveCommand(e))||void 0===t?void 0:t.id,optionName:u.default.getActiveOptionName(e),autocompleteQueries:new Map,autocompleteLastResults:new Map,optionNameToNonce:new Map,lastErrored:!1})}return f.get(e)}function _(){p.clear();f.clear();return!0}var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e=this;u.default.addChangeListener((function(){var t,n=o.default.getChannelId();if(null!=n){var a=null===(t=u.default.getActiveCommand(n))||void 0===t?void 0:t.id,i=u.default.getActiveOptionName(n),r=f.get(n);if(null!=r&&(a!==r.commandId||i!==r.optionName)){if(null!=a&&a!==r.commandId){r.autocompleteLastResults.clear();r.optionNameToNonce.clear()}r.autocompleteQueries.clear();r.lastErrored=!1;r.commandId=a;r.optionName=i;e.emitChange()}}else _()}))};n.getLastErrored=function(e){return A(e).lastErrored};n.getAutocompleteChoices=function(e,t){return A(e).autocompleteQueries.get(t)};n.getAutocompleteLastChoices=function(e,t){return A(e).autocompleteLastResults.get(t)};return t}(i.default.Store))(r.default,((a={})[l.ActionTypes.CONNECTION_OPEN]=_,a[l.ActionTypes.LOGOUT]=_,a[l.ActionTypes.CHANNEL_SELECT]=_,
a[l.ActionTypes.APPLICATION_COMMAND_AUTOCOMPLETE_REQUEST]=function(e){var t=e.nonce,n=e.channelId,a=e.query,i=e.name,r=A(n),o=r.optionNameToNonce.get(i);o&&p.delete(o);p.set(t,{channelId:n,query:a,name:i});r.optionNameToNonce.set(i,t);if(r.lastErrored){r.lastErrored=!1;return!0}},a[l.ActionTypes.APPLICATION_COMMAND_AUTOCOMPLETE_RESPONSE]=function(e){var t,n=e.choices,a=e.nonce,i=p.get(a);if(null==i)return!1;p.delete(a);var r=null!==(t=null==n?void 0:n.map((function(e){var t;return c({},e,{displayName:null!==(t=e.name_localized)&&void 0!==t?t:e.name})})))&&void 0!==t?t:[],o=A(i.channelId);o.lastErrored=!1;o.autocompleteQueries.set(i.query,r);o.autocompleteLastResults.set(i.name,r);return!0},a[l.ActionTypes.INTERACTION_FAILURE]=function(e){var t=e.nonce;if(null==t)return!1;var n=p.get(t);if(null==n)return!1;p.delete(t);A(n.channelId).lastErrored=!0;return!0},a));t.default=m},481414:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0})
;t.getBuiltInCommands=t.BUILT_IN_SECTIONS=t.BUILT_IN_COMMANDS_ORIGINAL=t.BUILT_IN_COMMANDS=void 0;var a,i=v(n(441143)),r=v(n(730381)),o=v(n(616213)),u=v(n(709403)),l=v(n(415275)),s=v(n(786345)),d=n(81069),c=n(506309),p=v(n(614293)),f=v(n(887174)),A=n(819235),_=n(894826),m=v(n(644263)),T=v(n(689389)),I=v(n(663303)),E=v(n(728429)),C=n(65621),O=n(484278),y=n(770348),M=n(397769),N=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a,i,r,o){try{var u=e[r](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(a,i)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){g(r,a,i,o,u,"next",e)}function u(e){g(r,a,i,o,u,"throw",e)}o(void 0)}))}}var S=n(258938).Z,R=function(e,t){var n;return null===(n=e.find((function(e){return e.name===t})))||void 0===n?void 0:n.value},h=((a={})[O.BuiltInSectionId.BUILT_IN]={id:O.BuiltInSectionId.BUILT_IN,type:C.ApplicationCommandSectionType.BUILT_IN,
get name(){return N.default.Messages.COMMAND_SECTION_BUILT_IN_NAME}},a[O.BuiltInSectionId.FRECENCY]={id:O.BuiltInSectionId.FRECENCY,type:C.ApplicationCommandSectionType.BUILT_IN,get name(){return N.default.Messages.FREQUENTLY_USED}},a);t.BUILT_IN_SECTIONS=h;var P,L=[].concat(S,[{id:"-1",name:"shrug",displayName:"shrug",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.COMMAND_SHRUG_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_SHRUG_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_SHRUG_MESSAGE_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_SHRUG_MESSAGE_DESCRIPTION}}],execute:function(e){var t;return{content:((null!==(t=R(e,"message"))&&void 0!==t?t:"")+" ¯\\_(ツ)_/¯").trim()}}},{id:"-2",name:"tableflip",
displayName:"tableflip",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_TABLEFLIP_MESSAGE_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_TABLEFLIP_MESSAGE_DESCRIPTION}}],execute:function(e){var t;return{content:((null!==(t=R(e,"message"))&&void 0!==t?t:"")+" (╯°□°）╯︵ ┻━┻").trim()}}},{id:"-3",name:"unflip",displayName:"unflip",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},get displayDescription(){
return N.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_TABLEUNFLIP_MESSAGE_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_TABLEUNFLIP_MESSAGE_DESCRIPTION}}],execute:function(e){var t;return{content:((null!==(t=R(e,"message"))&&void 0!==t?t:"")+" ┬─┬ ノ( ゜-゜ノ)").trim()}}},{id:"-4",name:"tts",displayName:"tts",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.COMMAND_TTS_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_TTS_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_TTS_MESSAGE_DESCRIPTION},get displayDescription(){
return N.default.Messages.COMMAND_TTS_MESSAGE_DESCRIPTION},required:!0}],predicate:function(e){var t=e.channel;return!t.isPrivate()&&_.EnableTTSCommand.getSetting()&&T.default.can(y.Permissions.SEND_TTS_MESSAGES,t)},execute:function(e){var t;return{content:null!==(t=R(e,"message"))&&void 0!==t?t:"",tts:!0}}},{id:"-5",name:"me",displayName:"me",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.COMMAND_ME_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_ME_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_ME_MESSAGE_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_ME_MESSAGE_DESCRIPTION},required:!0}],execute:function(e){var t;return{content:"_"+(null!==(t=R(e,"message"))&&void 0!==t?t:"")+"_"}}},{id:"-6",
name:"spoiler",displayName:"spoiler",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.COMMAND_SPOILER_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_SPOILER_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_SPOILER_MESSAGE_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_SPOILER_MESSAGE_DESCRIPTION},required:!0}],execute:function(e){var t,n=null!==(t=R(e,"message"))&&void 0!==t?t:"";return{content:(0,y.MARKDOWN_SPOILER_WRAPPER)(n).trim()}}},{id:"-7",name:"nick",displayName:"nick",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.COMMAND_NICK_DESCRIPTION},get displayDescription(){
return N.default.Messages.COMMAND_NICK_DESCRIPTION},options:[{name:"new_nick",displayName:"new_nick",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_NICK_NEWNICK_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_NICK_NEWNICK_DESCRIPTION}}],predicate:function(e){var t=e.channel;return!t.isPrivate()&&(T.default.can(y.Permissions.CHANGE_NICKNAME,t)||T.default.can(y.Permissions.MANAGE_NICKNAMES,t))},execute:function(e,t){var n,a=t.guild,i=t.channel;if(null!=a){var r=null!==(n=R(e,"new_nick"))&&void 0!==n?n:"";o.default.changeNickname(a.id,i.id,y.ME,r||"")}}},{id:"-10",name:"thread",displayName:"thread",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.COMMAND_THREAD_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_THREAD_DESCRIPTION},options:[{name:"name",displayName:"name",
type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_THREAD_NAME_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_THREAD_NAME_DESCRIPTION},required:!0},{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_THREAD_MESSAGE_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_THREAD_MESSAGE_DESCRIPTION},required:!0}],predicate:function(e){var t=e.channel;return(0,A.computeCanStartPublicThread)(t)},execute:function(e,t){var n,a,i=t.guild,r=t.channel,o=null!==(n=R(e,"name"))&&void 0!==n?n:"",u=null!==(a=R(e,"message"))&&void 0!==a?a:"";f.default.createThreadAndMessage(o,u,r,i,"Slash Command")}},{id:"-11",name:"kick",displayName:"kick",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.COMMAND_KICK_DESCRIPTION},
get displayDescription(){return N.default.Messages.COMMAND_KICK_DESCRIPTION},options:[{name:"user",displayName:"user",type:d.ApplicationCommandOptionType.USER,get description(){return N.default.Messages.COMMAND_KICK_USER_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_KICK_USER_DESCRIPTION},required:!0},{name:"reason",displayName:"reason",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_KICK_REASON_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_KICK_REASON_DESCRIPTION},required:!1}],predicate:function(e){var t=e.guild;return T.default.can(y.Permissions.KICK_MEMBERS,t)},execute:function(e,t){var n,a=t.guild,i=t.channel;if(null!=a){var r=null!==(n=R(e,"user"))&&void 0!==n?n:"";if(T.default.canManageUser(y.Permissions.KICK_MEMBERS,r,a)){var o=function(){var t=D(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:
if(null!=(o=E.default.getUser(r))){t.next=3;break}throw new Error;case 3:t.next=5;return l.default.kickUser(a.id,r,null!==(n=R(e,"reason"))&&void 0!==n?n:"");case 5:s.default.sendBotMessage(i.id,N.default.Messages.COMMAND_KICK_CONFIRMATION.format({user:I.default.hidePersonalInformation?o.username:o.tag}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o().catch((function(){s.default.sendBotMessage(i.id,N.default.Messages.COMMAND_KICK_ERROR)}))}else s.default.sendBotMessage(i.id,N.default.Messages.COMMAND_KICK_UNABLE)}}},{id:"-12",name:"ban",displayName:"ban",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.COMMAND_BAN_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_BAN_DESCRIPTION},options:[{name:"user",displayName:"user",type:d.ApplicationCommandOptionType.USER,get description(){
return N.default.Messages.COMMAND_BAN_USER_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_BAN_USER_DESCRIPTION},required:!0},{name:"delete_messages",displayName:"delete_messages",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_BAN_DELETE_MESSAGES_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_BAN_DELETE_MESSAGES_DESCRIPTION},required:!0,get choices(){return[{name:N.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE,displayName:N.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE,value:"0"},{name:N.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR,displayName:N.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR,value:"1"},{name:N.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D,displayName:N.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D,value:"7"}]}},{name:"reason",displayName:"reason",type:d.ApplicationCommandOptionType.STRING,get description(){
return N.default.Messages.COMMAND_BAN_REASON_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_BAN_REASON_DESCRIPTION},required:!1}],predicate:function(e){var t=e.guild;return T.default.can(y.Permissions.BAN_MEMBERS,t)},execute:function(e,t){var n,a=t.guild,i=t.channel;if(null!=a){var r=null!==(n=R(e,"user"))&&void 0!==n?n:"";if(T.default.canManageUser(y.Permissions.BAN_MEMBERS,r,a)){var o=function(){var t=D(regeneratorRuntime.mark((function t(){var n,o,u,d,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==r){t.next=2;break}throw new Error;case 2:u=null!==(n=R(e,"delete_messages"))&&void 0!==n?n:"";d=null!==(o=R(e,"reason"))&&void 0!==o?o:"";c=E.default.getUser(r);t.next=7;return l.default.banUser(a.id,r,u,d);case 7:s.default.sendBotMessage(i.id,N.default.Messages.COMMAND_BAN_CONFIRMATION.format({user:null!=c?I.default.hidePersonalInformation?c.username:c.tag:r}));case 8:case"end":return t.stop()}}),t)})));return function(){
return t.apply(this,arguments)}}();o().catch((function(){s.default.sendBotMessage(i.id,N.default.Messages.COMMAND_BAN_ERROR)}))}else s.default.sendBotMessage(i.id,N.default.Messages.COMMAND_BAN_UNABLE)}}},{id:"-13",name:"timeout",displayName:"timeout",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.COMMAND_TIMEOUT_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_TIMEOUT_DESCRIPTION},options:[{name:"user",displayName:"user",type:d.ApplicationCommandOptionType.USER,get description(){return N.default.Messages.COMMAND_TIMEOUT_USER_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_TIMEOUT_USER_DESCRIPTION},required:!0},{name:"duration",displayName:"duration",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_TIMEOUT_DURATION_DESCRIPTION},get displayDescription(){
return N.default.Messages.COMMAND_TIMEOUT_DURATION_DESCRIPTION},required:!0,get choices(){return Object.keys(M.DisableCommunicationDuration).filter((function(e){return isNaN(Number(e))})).map((function(e){var t,n=null!==(t=(0,M.makeLabel)(M.DisableCommunicationDuration[e]))&&void 0!==t?t:"";return{name:n,displayName:n,value:""+M.DisableCommunicationDuration[e]}}))}},{name:"reason",displayName:"reason",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_TIMEOUT_REASON_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_TIMEOUT_REASON_DESCRIPTION},required:!1}],predicate:function(e){var t=e.guild;return T.default.can(y.Permissions.MODERATE_MEMBERS,t)},execute:function(e,t){var n=t.guild,a=t.channel;if(null!=n){var i=R(e,"user");if((0,c.canToggleCommunicationDisableOnUser)(n.id,i)){var o=function(){var t=D(regeneratorRuntime.mark((function t(){var o,u,d,c,p;return regeneratorRuntime.wrap((function(t){
for(;;)switch(t.prev=t.next){case 0:d=null!==(o=R(e,"duration"))&&void 0!==o?o:"";c=null!==(u=R(e,"reason"))&&void 0!==u?u:"";if(null!=(p=E.default.getUser(i))){t.next=5;break}throw new Error;case 5:t.next=7;return l.default.setCommunicationDisabledUntil(n.id,i,(0,r.default)().add(d,"s").toISOString(),d,c);case 7:s.default.sendBotMessage(a.id,N.default.Messages.COMMAND_TIMEOUT_CONFIRMATION.format({user:I.default.hidePersonalInformation?p.username:p.tag,duration:d}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o().catch((function(){s.default.sendBotMessage(a.id,N.default.Messages.COMMAND_TIMEOUT_ERROR)}))}else s.default.sendBotMessage(a.id,N.default.Messages.COMMAND_TIMEOUT_UNABLE)}}},{id:"-14",name:"msg",displayName:"msg",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.COMMAND_MSG_DESCRIPTION},
get displayDescription(){return N.default.Messages.COMMAND_MSG_DESCRIPTION},options:[{name:"user",displayName:"user",type:d.ApplicationCommandOptionType.USER,get description(){return N.default.Messages.COMMAND_MSG_USER_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_MSG_USER_DESCRIPTION},required:!0},{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return N.default.Messages.COMMAND_MSG_MESSAGE_DESCRIPTION},get displayDescription(){return N.default.Messages.COMMAND_MSG_MESSAGE_DESCRIPTION},required:!0}],execute:function(e,t){var n,a=t.channel,r=R(e,"user"),o=null!==(n=R(e,"message"))&&void 0!==n?n:"",l=function(){var e=D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return u.default.openPrivateChannel(r).then((function(e){var t=m.default.getChannel(e);(0,i.default)(null!=t,"Newly created PrivateChannel is null")
;s.default.sendMessage(t.id,p.default.parse(t,o))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l().catch((function(){s.default.sendBotMessage(a.id,N.default.Messages.COMMAND_MSG_ERROR)}))}},{id:"-15",name:"leave",displayName:"leave",type:d.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return N.default.Messages.LEAVE_GROUP_DM},get displayDescription(){return N.default.Messages.LEAVE_GROUP_DM},predicate:function(e){return e.channel.isGroupDM()},execute:(P=D(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.channel;e.prev=1;e.next=4;return u.default.closePrivateChannel(a.id);case 4:e.next=9;break;case 6:e.prev=6;e.t0=e.catch(1);s.default.sendBotMessage(a.id,N.default.Messages.LEAVE_GROUP_DM_ERROR);case 9:case"end":return e.stop()}}),e,null,[[1,6]])}))),function(e,t){
return P.apply(this,arguments)})}]);t.BUILT_IN_COMMANDS=L;var b=L.filter((function(e){return["giphy","tenor","tts","me","tableflip","unflip","shrug","spoiler","nick"].includes(e.name)}));t.BUILT_IN_COMMANDS_ORIGINAL=b;t.getBuiltInCommands=function(e,t,n){var a=t?L:b;return a=a.filter((function(t){return t.type===e&&(!n||t.inputType===C.ApplicationCommandInputType.BUILT_IN_TEXT||t.inputType===C.ApplicationCommandInputType.BUILT_IN_INTEGRATION)}))}},484278:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.TRUE_OPTION_NAME=t.SUB_COMMAND_KEY_SEPARATOR=t.FALSE_OPTION_NAME=t.DISCOVERY_COMMAND_FRECENCY_GATEWAY_LIMIT=t.DISCOVERY_COMMANDS_QUERY_LIMIT_WEB=t.DISCOVERY_COMMANDS_QUERY_LIMIT_MOBILE=t.DISCOVERY_COMMANDS_QUERY_LIMIT=t.DISCOVERY_COMMANDS_FRECENCY_LIMIT=t.BuiltInSectionId=t.BOOLEAN_CHOICES=t.APPLICATION_COMMAND_PERMISSIONS_LIMIT=void 0;t.getValidationErrorText=function(e){if(null!=e.choices)return r.default.Messages.COMMAND_VALIDATION_CHOICE_ERROR;switch(e.type){
case i.ApplicationCommandOptionType.BOOLEAN:return r.default.Messages.COMMAND_VALIDATION_BOOLEAN_ERROR;case i.ApplicationCommandOptionType.CHANNEL:return r.default.Messages.COMMAND_VALIDATION_CHANNEL_ERROR;case i.ApplicationCommandOptionType.INTEGER:return r.default.Messages.COMMAND_VALIDATION_INTEGER_ERROR;case i.ApplicationCommandOptionType.NUMBER:return r.default.Messages.COMMAND_VALIDATION_NUMBER_ERROR;case i.ApplicationCommandOptionType.ROLE:return r.default.Messages.COMMAND_VALIDATION_ROLE_ERROR;case i.ApplicationCommandOptionType.USER:return r.default.Messages.COMMAND_VALIDATION_USER_ERROR;case i.ApplicationCommandOptionType.MENTIONABLE:return r.default.Messages.COMMAND_VALIDATION_MENTIONABLE_ERROR;default:return r.default.Messages.COMMAND_VALIDATION_GENERAL_ERROR}};var a,i=n(81069),r=(a=n(247001))&&a.__esModule?a:{default:a};var o="True";t.TRUE_OPTION_NAME=o;var u="False";t.FALSE_OPTION_NAME=u;var l,s=[{name:o,displayName:o,value:"true"},{name:u,displayName:u,value:"false"}]
;t.BOOLEAN_CHOICES=s;t.BuiltInSectionId=l;!function(e){e.BUILT_IN="-1";e.FRECENCY="-2"}(l||(t.BuiltInSectionId=l={}));t.DISCOVERY_COMMANDS_QUERY_LIMIT_WEB=10;t.DISCOVERY_COMMANDS_QUERY_LIMIT_MOBILE=5;t.DISCOVERY_COMMANDS_QUERY_LIMIT=10;t.DISCOVERY_COMMANDS_FRECENCY_LIMIT=5;t.DISCOVERY_COMMAND_FRECENCY_GATEWAY_LIMIT=25;t.SUB_COMMAND_KEY_SEPARATOR="\0";t.APPLICATION_COMMAND_PERMISSIONS_LIMIT=100},117883:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,i,r,o,u=A(n(536211)),l=A(n(636602)),s=A(n(644263)),d=A(n(211136)),c=A(n(728429)),p=n(153823),f=n(770348);function A(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function m(e){var t=s.default.getChannel(e),n=null!=t&&t.type===f.ChannelTypes.DM?t.getRecipientId():null,a=c.default.getUser(n);null!=a&&a.bot||(n=null);if(i===n)return!1;i=n;r=null;o=null}var T=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default)};n.getCommands=function(e,t){return i===e&&t===o?r:null};return t}(u.default.Store))(l.default,((a={})[f.ActionTypes.LOGOUT]=function(){i=null;r=null;o=null},a[f.ActionTypes.CONNECTION_OPEN]=function(){var e=d.default.getChannelId();null!=e&&m(e)},a[f.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId;null!=t&&m(t)},a[f.ActionTypes.DM_APPLICATION_COMMANDS_UPDATE]=function(e){var t=e.botUserId,n=e.applicationCommands,a=e.commandType;if(t!==i)return!1;r=(0,p.buildApplicationCommands)(n).filter((function(e){return e.type===a}));o=a},a));t.default=T},290760:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getFilteredTopCommands=function(e,t){return e.filter((function(e){return!e.includes(":")||null!=t.guild&&t.guild.id===e.split(":")[1]})).map((function(e){
return e.split(":")[0]}))};t.getTopRealCommands=function(e){for(var t,n=[],a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=a()).done;){var i=t.value.split(d.SUB_COMMAND_KEY_SEPARATOR)[0];Number(i)>0&&n.push(i);if(n.length>=d.DISCOVERY_COMMAND_FRECENCY_GATEWAY_LIMIT)break}return n}
;var a,i=f(n(496486)),r=f(n(536211)),o=f(n(636602)),u=n(81069),l=f(n(71319)),s=f(n(960441)),d=n(484278),c=n(770348),p=n(840433);function f(e){return e&&e.__esModule?e:{default:e}}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return _.apply(this,arguments)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var T={pendingUsages:[]},I=new l.default((function(){return 1}),(function(e){return e<=3?100:e<=15?70:e<=30?50:e<=45?30:e<=80?10:0}),(function(e){return e}),(function(){}),500);function E(e,t){return Number(t.id)<0?t.id:null!=e.guild&&t.guildId?t.id+":"+e.guild.id:t.id}function C(){
var e,t,n=null!==(e=null===(t=s.default.frecencyWithoutFetchingLatest.applicationCommandFrecency)||void 0===t?void 0:t.applicationCommands)&&void 0!==e?e:{};I.overwriteHistory(i.default.mapValues(n,(function(e){return _({},e,{recentUses:e.recentUses.map(Number)})})),T.pendingUsages)}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(T=e);this.syncWith([s.default],C)};n.getState=function(){return T};n.hasPendingUsage=function(){return T.pendingUsages.length>0};n.getCommandFrecencyWithoutLoadingLatest=function(){return I};n.getScoreWithoutLoadingLatest=function(e,t){var n;return null!==(n=I.getScore(E(e,t)))&&void 0!==n?n:0};n.getTopCommandsWithoutLoadingLatest=function(){return I.frequently};return t}(r.default.PersistedStore);O.persistKey="ApplicationCommandFrecencyV2"
;var y=new O(o.default,((a={})[c.ActionTypes.APPLICATION_COMMAND_USED]=function(e){var t=e.command,n=e.context;if(t.type!==u.ApplicationCommandType.CHAT)return!1;var a=E(n,t);T.pendingUsages.push({key:a,timestamp:Date.now()});I.track(a);I.compute()},a[c.ActionTypes.USER_SETTINGS_PROTO_UPDATE]=function(e){var t=e.settings.type,n=e.wasSaved;if(t!==p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS||!n)return!1;T.pendingUsages=[]},a));t.default=y},400704:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NO_COMMANDS=void 0;var a,i=l(n(536211)),r=l(n(636602)),o=n(153823),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d,c,p,f,A,_=Object.freeze([]);t.NO_COMMANDS=_;var m,T=[];var I=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype
;n.getResultCommands=function(e){return e===A?T:_};n.hasResults=function(e,t){if(t!==A)return!1;e=e.trimEnd().split(" ")[0].toLocaleLowerCase();return!(null==f||0!==T.length||!e.startsWith(f))||f===e};return t}(i.default.Store))(r.default,((a={})[u.ActionTypes.LOGOUT]=function(){m=void 0;T=[];d=void 0;c=void 0;f=void 0;p=void 0;A=void 0},a[u.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.guildId;if(m===t)return!1;m=t;T=[];d=void 0;c=void 0;f=void 0;p=void 0;A=void 0},a[u.ActionTypes.GUILD_APPLICATION_COMMANDS_UPDATE]=function(e){var t,n=e.applicationCommands,a=e.applications;if(e.nonce!==d)return!1;var i=null!=a?(0,o.applicationPermissionsList)(a):void 0;T=(0,o.buildApplicationCommands)(n,i);f=null===(t=c)||void 0===t?void 0:t.toLocaleLowerCase();A=p},a[u.ActionTypes.APPLICATION_COMMAND_QUERY_REQUEST]=function(e){var t=e.nonce,n=e.query,a=e.commandType;d=t;c=n;p=a},a));t.default=I},473517:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var a,i=f(n(536211)),r=f(n(636602)),o=n(81069),u=f(n(759027)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e;n&&n.set(e,a);return a}(n(536487)),s=n(65621),d=n(484278),c=n(770348);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var T=null,I=null,E=null,C={},O=[];function y(){T=null;I=null;E=null;C={}}function M(e,t,n,a){var i,r=C[e];if(null==r)return!1;var o=r.find((function(e){return e.id===t}));if(null==o||void 0===o.commandCountByType)return!1;var u=null!==(i=o.commandCountByType[a])&&void 0!==i?i:0;o.commandCountByType[a]=u+n;C[e]=[].concat(r)}
var N=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getRemoteGuildApplications=function(e){return null==e?null:C[e]};n.getGuildSections=function(e){if(null==e)return O;var t=C[e];return null==t?O:t};n.getGuildSection=function(e,t){if(null==e)return null;var n=C[e];if(null!=n){var a;return null!==(a=n.find((function(e){return e.id===t})))&&void 0!==a?a:null}return null};n.getTotalGuildCommands=function(e,t){for(var n,a=0,i=A(this.getGuildSections(e));!(n=i()).done;){var r,o;a+=null!==(r=null===(o=n.value.commandCountByType)||void 0===o?void 0:o[t])&&void 0!==r?r:0}return a};return t}(i.default.Store))(r.default,((a={})[c.ActionTypes.CONNECTION_OPEN]=y,a[c.ActionTypes.LOGOUT]=y,a[c.ActionTypes.GUILD_APPLICATION_COMMANDS_UPDATE]=function(e){var t,n=e.applications;if(e.nonce!==T||null==I||null==n||null==E)return!1;var a={}
;null===(t=C[I])||void 0===t||t.forEach((function(e){a[e.id]=e}));C[I]=n.sort((function(e,t){var n=e.name,a=t.name;return n===a?0:n<a?-1:1})).map((function(e){var t,n,i=null!==(t=null===(n=a[e.id])||void 0===n?void 0:n.commandCountByType)&&void 0!==t?t:{};i[E]=e.command_count;return{type:s.ApplicationCommandSectionType.GUILD,id:e.id,name:e.name,icon:e.icon,bot:null!=e.bot?new u.default(e.bot):void 0,applicationCommandPermissions:e.application_command_permissions,commandCountByType:i}}))},a[c.ActionTypes.APPLICATIONS_REQUEST]=function(e){var t=e.nonce,n=e.guildId,a=e.commandType;T=t;I=n;E=a},a[c.ActionTypes.APPLICATION_COMMAND_QUERY_REQUEST]=function(e){var t=e.nonce,n=e.guildId;if(e.includeApplications){T=t;I=n}},a[c.ActionTypes.INTEGRATION_CREATE]=function(e){var t=e.guildId;if(null==e.integration.application)return!1;I===t&&null!=E&&l.queryGuildApplications(t,d.DISCOVERY_COMMANDS_QUERY_LIMIT,E);return!1},a[c.ActionTypes.INTEGRATION_DELETE]=function(e){
var t=e.guildId,n=e.applicationId,a=C[t];if(null==n||null==a)return!1;var i=a.findIndex((function(e){return e.id===n}));if(i<0)return!1;a.splice(i,1);C[t]=[].concat(a)},a[c.ActionTypes.APPLICATION_COMMAND_CREATE]=function(e){var t;M(e.guildId,e.applicationId,1,null!==(t=e.command.type)&&void 0!==t?t:o.ApplicationCommandType.CHAT)},a[c.ActionTypes.APPLICATION_COMMAND_DELETE]=function(e){var t;M(e.guildId,e.applicationId,-1,null!==(t=e.command.type)&&void 0!==t?t:o.ApplicationCommandType.CHAT)},a));t.default=N},905043:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.getCommandSection=_;t.getContextCommands=A;t.useCommandSection=function(e,t){return(0,a.useStateFromStores)([s.default,r.default],(function(){return _(t,s.default,r.default,e)}),[t,e])};t.useContextCommands=function(e,t){return(0,a.useStateFromStores)([u.default,l.default,i.default],(function(){return A(e,t,u.default,l.default,i.default)}),[e,t])}
;var a=n(536211),i=f(n(689389)),r=f(n(728429)),o=n(481414),u=f(n(117883)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e;n&&n.set(e,a);return a}(n(400704)),s=f(n(473517)),d=n(65621),c=n(770348);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,a,i){if(e.type===c.ChannelTypes.DM){var r,o=e.getRecipientId();return null!==(r=n.getCommands(o,t))&&void 0!==r?r:l.NO_COMMANDS}if(null!=e.guild_id){
return i.can(c.Permissions.USE_APPLICATION_COMMANDS,e)?a.getResultCommands(t):l.NO_COMMANDS}return l.NO_COMMANDS}function _(e,t,n,a,i){var r=o.BUILT_IN_SECTIONS[e];if(null!=r)return r;if(null!=i)return t.getGuildSection(i,e);if(null!=(null==a?void 0:a.guild_id))return t.getGuildSection(null==a?void 0:a.guild_id,e);if((null==a?void 0:a.type)===c.ChannelTypes.DM){var u=n.getUser(a.getRecipientId());return null==u?null:{id:e,type:d.ApplicationCommandSectionType.DM,name:u.username,icon:u.avatar}}return null}},572935:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,i=d(n(536211)),r=d(n(636602)),o=n(844784),u=d(n(502546)),l=d(n(211136)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}
return e};return p.apply(this,arguments)}var f={};function A(){f={};return!0}function _(e){e in f||(f[e]={activeCommand:null,activeOptionName:null,preferredCommandId:null,optionStates:{}});return f[e]}function m(e){var t,n=e.channelId,a=e.command,i=_(n);if((null==a?void 0:a.id)===(null===(t=i.activeCommand)||void 0===t?void 0:t.id))return!1;i.activeCommand=a;i.activeOptionName=null;i.preferredCommandId=null;var r={};null!=(null==a?void 0:a.options)&&a.options.forEach((function(e){r[e.name]={isActive:!1,hasValue:!1,lastValidationResult:null,optionValue:null}}));i.optionStates=r;if(null!=a){var u,l;(0,o.trackWithMetadata)(s.AnalyticEvents.APPLICATION_COMMAND_SELECTED,{command_id:null!==(u=null===(l=a.rootCommand)||void 0===l?void 0:l.id)&&void 0!==u?u:a.id,application_id:a.applicationId})}return!0}function T(e){var t,n,a=e.channelId,i=e.commandId,r=_(a)
;if(i===r.preferredCommandId||null===r.preferredCommandId&&i===(null!==(t=null===(n=r.activeCommand)||void 0===n?void 0:n.id)&&void 0!==t?t:null))return!1;r.activeCommand=null;r.activeOptionName=null;r.preferredCommandId=i;r.optionStates={};return!0}function I(e){for(var t=e.channelId,n=e.changedOptionStates,a=_(t),i=p({},a.optionStates),r=0,o=Object.entries(n);r<o.length;r++){var u,l,s,d=o[r],c=d[0],f=d[1];if(c in a.optionStates){if(void 0!==f.hasValue?f.hasValue:i[c].hasValue){var A=i[c];i[c]={hasValue:!0,isActive:void 0!==f.isActive?f.isActive:A.isActive,lastValidationResult:void 0!==f.lastValidationResult?f.lastValidationResult:A.lastValidationResult,optionValue:null!==(u=f.optionValue)&&void 0!==u?u:A.optionValue,location:null!==(l=f.location)&&void 0!==l?l:A.location,length:null!==(s=f.length)&&void 0!==s?s:A.length};if(void 0!==f.isActive)if(f.isActive){if(null!=a.activeOptionName&&a.activeOptionName!==c){i[a.activeOptionName]=p({},i[a.activeOptionName])
;i[a.activeOptionName].isActive=!1}a.activeOptionName=c}else c===a.activeOptionName&&(a.activeOptionName=null)}else{i[c]={hasValue:!1,isActive:!1,lastValidationResult:null,optionValue:null,location:void 0,length:void 0};a.activeOptionName===c&&(a.activeOptionName=null)}}}a.optionStates=i;return!0}var E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){u.default.addChangeListener((function(){var e=l.default.getChannelId();if(null==e){f={};return!0}var t=u.default.getCurrentSidebarChannelId(e);if(null!=t&&t in f)return!1;if(e in f){var n;f=((n={})[e]=f[e],n)}else f={}}))};n.getActiveCommand=function(e){return _(e).activeCommand};n.getActiveOptionName=function(e){return _(e).activeOptionName};n.getActiveOption=function(e){var t,n,a,i=_(e)
;return null!==(t=null===(n=i.activeCommand)||void 0===n||null===(a=n.options)||void 0===a?void 0:a.find((function(e){return e.name===i.activeOptionName})))&&void 0!==t?t:null};n.getPreferredCommandId=function(e){return _(e).preferredCommandId};n.getOptionStates=function(e){return _(e).optionStates};n.getOptionState=function(e,t){return _(e).optionStates[t]};n.getOption=function(e,t){var n,a;return null===(n=_(e).activeCommand)||void 0===n||null===(a=n.options)||void 0===a?void 0:a.find((function(e){return e.name===t}))};return t}(i.default.Store))(r.default,((a={})[s.ActionTypes.CONNECTION_OPEN]=A,a[s.ActionTypes.CHANNEL_SELECT]=A,a[s.ActionTypes.LOGOUT]=A,a[s.ActionTypes.APPLICATION_COMMAND_SET_ACTIVE_COMMAND]=m,a[s.ActionTypes.APPLICATION_COMMAND_SET_PREFERRED_COMMAND]=T,a[s.ActionTypes.APPLICATION_COMMAND_UPDATE_OPTIONS]=I,a[s.ActionTypes.APPLICATION_COMMAND_UPDATE_CHANNEL_STATE]=function(e){var t=e.channelId,n=e.preferredCommandId,a=e.command,i=e.changedOptionStates,r=m({
type:"APPLICATION_COMMAND_SET_ACTIVE_COMMAND",channelId:t,command:a}),o=T({type:"APPLICATION_COMMAND_SET_PREFERRED_COMMAND",channelId:t,commandId:n}),u=I({type:"APPLICATION_COMMAND_UPDATE_OPTIONS",channelId:t,changedOptionStates:i});return r||o||u},a));t.default=E},65621:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.ApplicationCommandSectionType=t.ApplicationCommandPermissionType=t.ApplicationCommandInputType=void 0;var n,a,i;t.ApplicationCommandSectionType=n;!function(e){e[e.BUILT_IN=0]="BUILT_IN";e[e.GUILD=1]="GUILD";e[e.DM=2]="DM"}(n||(t.ApplicationCommandSectionType=n={}));t.ApplicationCommandInputType=a;!function(e){e[e.BUILT_IN=0]="BUILT_IN";e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT";e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION";e[e.BOT=3]="BOT";e[e.PLACEHOLDER=4]="PLACEHOLDER"}(a||(t.ApplicationCommandInputType=a={}));t.ApplicationCommandPermissionType=i;!function(e){e[e.ROLE=1]="ROLE";e[e.USER=2]="USER";e[e.CHANNEL=3]="CHANNEL"
}(i||(t.ApplicationCommandPermissionType=i={}))},153823:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.allChannelsSentinel=H;t.applicationPermissionsList=function(e){return null==e?void 0:e.reduce((function(e,t){null!=t.applicationCommandPermissions&&e.push({id:t.id,permissions:t.applicationCommandPermissions});return e}),[])};t.buildApplicationCommands=function(e,t){return r.default.flatMap(e,(function(e){(0,i.default)(null!=e.id,"Missing command id");return P(e,e,e.application_id,void 0,t)}))};t.buildCommand=R;t.getApplicationCommandOptionQueryOptions=function(e){var t=e.type===u.ApplicationCommandOptionType.STRING,n=e.type===u.ApplicationCommandOptionType.CHANNEL,a=e.type===u.ApplicationCommandOptionType.USER||e.type===u.ApplicationCommandOptionType.MENTIONABLE,i=e.type===u.ApplicationCommandOptionType.ROLE||e.type===u.ApplicationCommandOptionType.MENTIONABLE;return{canMentionEveryone:t||i,canMentionHere:t,canMentionChannels:t||n,canMentionUsers:t||a,
canMentionRoles:t||i,canMentionAnyGuildUser:a,canMentionNonMentionableRoles:i}};t.getApplicationCommandSectionName=function(e){return null!=e.bot?e.bot.username:e.name};t.getInteractionAuthor=function(e,t){if(null!=e.guild){var n=E.default.getGuildSection(e.guild.id,t);if(null!=n){var a;if(null!=n.bot)return[n.bot,null];var i={id:n.id,username:n.name,discriminator:"0000",avatar:null,bot:!0},r={id:n.id,name:n.name,icon:null!==(a=n.icon)&&void 0!==a?a:void 0};return[i,r]}}var o=_.default.getUser(t);if(null!=o)return[o,null];return[null,null]};t.hasAccess=U;t.isSnowflake=function(e){return M.ID_REGEX.test(e.trim())};t.queryCommands=function(e,t,n,a,i,r,o,u,s){void 0===r&&(r=10);void 0===o&&(o=!0);void 0===u&&(u=!1);void 0===s&&(s=!1);var d=[],c=i?new RegExp("^"+m.default.escape(n)+"\\s*$","i"):new RegExp("^"+m.default.escape(n),"i");u||(d=d.concat(L(t,c,e,r)));var p=(0,T.getBuiltInCommands)(a,o,u);d=d.concat(L(p,c,e,r));s&&(d=d.filter((function(e){return U(e)})))
;l.FrecencyUserSettingsActionCreators.loadIfNecessary();d.sort((function(t,n){var a=I.default.getScoreWithoutLoadingLatest(e,t);return I.default.getScoreWithoutLoadingLatest(e,n)-a}));return d.slice(0,r)};var a=v(n(224736)),i=v(n(441143)),r=v(n(496486)),o=v(n(267258)),u=n(81069),l=n(828593),s=v(n(686305)),d=v(n(644263)),c=v(n(876874)),p=v(n(689389)),f=v(n(211136)),A=v(n(790597)),_=v(n(728429)),m=v(n(827513)),T=n(481414),I=v(n(290760)),E=v(n(473517)),C=n(65621),O=v(n(682404)),y=n(484278),M=n(770348),N=n(478036);function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return S.apply(this,arguments)}function R(e,t,n,a,i){var r,l,s,d,c=null!=e.permissions&&e.permissions.length>0?e.permissions:i;if(null!=c&&c.length>0){d={};c.forEach((function(e){d[e.id]=e}))}var p=(null!=a?a:[]).map((function(e){return e.name})),f=(null!=a?a:[]).map((function(e){return e.displayName}));return{version:e.version,
guildId:e.guild_id,id:[e.id].concat(p).join(y.SUB_COMMAND_KEY_SEPARATOR),name:[e.name].concat(p).join(" "),applicationId:n,type:null!==(r=e.type)&&void 0!==r?r:u.ApplicationCommandType.CHAT,inputType:C.ApplicationCommandInputType.BOT,description:t.description,options:h(t.options),rootCommand:e,subCommandPath:a,defaultMemberPermissions:null==e.default_member_permissions?void 0:o.default.deserialize(e.default_member_permissions),defaultPermission:e.default_permission,dmPermission:e.dm_permission,permissions:d,listed:!1!==e.listed,displayName:[null!==(l=e.name_localized)&&void 0!==l?l:e.name].concat(f).join(" "),displayDescription:null!==(s=t.description_localized)&&void 0!==s?s:t.description}}function h(e){return null==e?void 0:e.map((function(e){var t,n,a,i=S({},e,{choices:(a=e.choices,null==a?void 0:a.map((function(e){var t;return S({},e,{displayName:null!==(t=e.name_localized)&&void 0!==t?t:e.name})}))),options:h(e.options),displayName:null!==(t=e.name_localized)&&void 0!==t?t:e.name,
displayDescription:null!==(n=e.description_localized)&&void 0!==n?n:e.description});return e.type===u.ApplicationCommandOptionType.CHANNEL&&null!=e.channel_types?S({},i,{channelTypes:e.channel_types}):e.type!==u.ApplicationCommandOptionType.NUMBER&&e.type!==u.ApplicationCommandOptionType.INTEGER||null==e.min_value&&null==e.max_value?i:S({},i,{minValue:e.min_value,maxValue:e.max_value})}))}function P(e,t,n,a,i){var r=null==i?void 0:i.find((function(e){return e.id===n}));if(t.hasOwnProperty("id")){if(null==(t=t).options||0===t.options.length)return[R(e,t,n,a,null==r?void 0:r.permissions)]}else if((t=t).type!==u.ApplicationCommandOptionType.SUB_COMMAND&&t.type!==u.ApplicationCommandOptionType.SUB_COMMAND_GROUP&&(null==t.options||0===t.options.length))return[R(e,t,n,a,null==r?void 0:r.permissions)];var o=[];if(null==t.options)return o;for(var l=t.options.filter((function(e){return e.type===u.ApplicationCommandOptionType.SUB_COMMAND_GROUP})),s=0;s<l.length;s++){var d
;o.push.apply(o,P(e,l[s],n,(null!=a?a:[]).concat([{name:l[s].name,type:u.ApplicationCommandOptionType.SUB_COMMAND_GROUP,displayName:null!==(d=l[s].name_localized)&&void 0!==d?d:l[s].name}]),i))}for(var c=t.options.filter((function(e){return e.type===u.ApplicationCommandOptionType.SUB_COMMAND})),p=0;p<c.length;p++){var f;o.push(R(e,c[p],n,(null!=a?a:[]).concat([{name:c[p].name,type:u.ApplicationCommandOptionType.SUB_COMMAND,displayName:null!==(f=c[p].name_localized)&&void 0!==f?f:c[p].name}]),null==r?void 0:r.permissions))}0===l.length&&0===c.length&&o.push(R(e,t,n,a,null==r?void 0:r.permissions));return o}function L(e,t,n,a){var i=[];(0,r.default)(e).forEach((function(e){t.test(e.displayName)&&(null==e.predicate||e.predicate(n))&&i.push(e)}));return i.slice(0,a)}function b(e,t){var n,a=_.default.getCurrentUser();(0,i.default)(null!=a,"hasAccess: user cannot be undefined");var r=c.default.getMember(t,a.id);if(null==r){var u;return null===(u=e.dmPermission)||void 0===u||u}
var l=f.default.getChannelId();(0,i.default)(null!=l,"hasAccess: selectedChannelId cannot be undefined");var A=d.default.getChannel(l);(0,i.default)(null!=A,"hasAccess: selectedChannel cannot be undefined");var m,T,I=s.default.getViewingRoles(t),E=p.default.computePermissions(A,void 0,null==I?void 0:I);if(o.default.has(E,N.Permissions.ADMINISTRATOR))return!0;if(!o.default.has(E,N.Permissions.VIEW_CHANNEL))return!1;if(null!=I)m=Object.values(I).map((function(e){return e.id}));else{m=r.roles;T=r.userId}var O=e.defaultMemberPermissions,y=null!=O?o.default.has(E,O):void 0;return function(e,t,n,a,i,r){var o=e,u=!0,l=n[H(e)];null!=l&&(u=l.permission);var s=n[t];null!=s&&(u=s.permission);if(!u)return u;if(null!=r){var d=[C.ApplicationCommandPermissionType.ROLE,C.ApplicationCommandPermissionType.USER];if(!Object.values(n).some((function(e){return d.includes(e.type)})))return r}var c=n[o];null!=c&&(u=c.permission);for(var p,f=null,A=g(a);!(p=A()).done;){var _=n[p.value]
;if(null!=_&&(f=_.permission))break}f&&(u=f);if(null!=i){var m=n[i];null!=m&&(u=m.permission)}return u}(t,l,null!==(n=e.permissions)&&void 0!==n?n:{},m,T,y)}function U(e){if(null==e.defaultPermission)return!0;var t=A.default.getGuildId();if(null==t){var n;return null!==(n=e.dmPermission)&&void 0!==n?n:e.defaultPermission}return O.default.getCurrentConfig({guildId:t}).enable?b(e,t):function(e,t){if(null!=e){var n=_.default.getCurrentUser();(0,i.default)(null!=n,"hasAccess: currentUser cannot be undefined");var a=e[n.id];if(null!=a)return a.permission;var r=A.default.getGuildId(),o=null!=r?c.default.getMember(r,n.id):null;if(null!=o){var u=null,l=[].concat(o.roles);null!=r&&l.push(r);for(var s,d=g(l);!(s=d()).done;){var p=e[s.value];if(null!=p&&(u=p.permission))break}if(null!==u)return u}}return t}(e.permissions,e.defaultPermission)}function H(e){return(0,a.default)(e).subtract(1).toString()}},682404:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a=(0,
n(373505).createExperiment)({kind:"guild",id:"2021-09_command_permissions_v2",label:"Command Permissions V2",defaultConfig:{enable:!1},treatments:[{id:1,label:"Enables command permissions v2.",config:{enable:!0}}]});t.default=a},258938:(e,t,n)=>{({value:!0});t.Z=void 0;var a=s(n(496486)),i=n(81069),r=n(65621),o=n(484278),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){switch(e){case u.ChannelTextAreaIntegrations.GIPHY.title:case u.ChannelTextAreaIntegrations.TENOR.title:return l.default.Messages.COMMAND_GIPHY_DESCRIPTION;default:return""}}var c=[].concat((0,a.default)(u.ChannelTextAreaIntegrations).values().map((function(e){return{id:e.commandId,name:e.command,displayName:e.command,type:i.ApplicationCommandType.CHAT,inputType:r.ApplicationCommandInputType.BUILT_IN_INTEGRATION,applicationId:o.BuiltInSectionId.BUILT_IN,get description(){return d(e.title)},get displayDescription(){return d(e.title)},
options:e.type===u.ChannelTextAreaIntegrationTypes.GIF?[{name:"query",displayName:"query",type:i.ApplicationCommandOptionType.STRING,get description(){return l.default.Messages.COMMAND_GIPHY_QUERY_DESCRIPTION},get displayDescription(){return l.default.Messages.COMMAND_GIPHY_QUERY_DESCRIPTION},required:!0}]:[],integrationType:e.type,integrationTitle:e.title}})).value());t.Z=c},649563:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,i=(a=n(636602))&&a.__esModule?a:{default:a},r=n(770348);var o={resort:function(e){i.default.dirtyDispatch({type:r.ActionTypes.RESORT_THREADS,channelId:e})}};t.default=o},506309:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.canToggleCommunicationDisableOnUser=d;t.default=function(e,t){return(0,a.useStateFromStores)([o.default,i.default,r.default],(function(){return d(e,t,[o.default,i.default,r.default])}),[e,t])};var a=n(536211),i=s(n(30098)),r=s(n(689389)),o=s(n(728429)),u=s(n(656016)),l=n(770348);function s(e){
return e&&e.__esModule?e:{default:e}}function d(e,t,n){var a=void 0===n?[o.default,i.default,r.default]:n,s=a[0],d=a[1],c=a[2],p=d.getGuild(e),f=s.getUser(t);return null!=p&&null!=f&&(!f.isNonUserBot()&&(!(p.isOwner(f)||u.default.can(l.Permissions.ADMINISTRATOR,f,p))&&c.canManageUser(l.Permissions.MODERATE_MEMBERS,f,p)))}},514756:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=l;t.useCurrentUserCommunicationDisabled=function(e){var t=(0,a.useStateFromStores)([r.default],(function(){return r.default.getCurrentUser()}));return l(null==t?void 0:t.id,e)};var a=n(536211),i=u(n(876874)),r=u(n(728429)),o=n(457676);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n,r=(0,a.useStateFromStores)([i.default],(function(){return null!=t&&null!=e?i.default.getMember(t,e):null}),[t,e]);return[null!==(n=null==r?void 0:r.communicationDisabledUntil)&&void 0!==n?n:null,(0,o.isMemberCommunicationDisabled)(r)]}},741464:(e,t,n)=>{
Object.defineProperty(t,"__esModule",{value:!0});t.addQueued=function(e,t){var n=t.data,a=t.messageId,o=t.onCreate,u=t.onSuccess,l=t.onFailure;i.default.dirtyDispatch({type:r.ActionTypes.INTERACTION_QUEUE,data:n,nonce:e,messageId:a,onCreate:o,onSuccess:u,onFailure:l})};t.fetchMessageInteractionData=function(e,t){return s.apply(this,arguments)};t.queueInteractionComponentState=function(e,t,n,a){i.default.dirtyDispatch({type:r.ActionTypes.QUEUE_INTERACTION_COMPONENT_STATE,messageId:e,nonce:t,state:n,indices:a})};t.setFailed=function(e,t,n){i.default.dirtyDispatch({type:r.ActionTypes.INTERACTION_FAILURE,nonce:e,errorMessage:n,errorCode:t})};var a=o(n(118915)),i=o(n(636602)),r=n(770348);function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a,i,r,o){try{var u=e[r](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(a,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){
u(r,a,i,o,l,"next",e)}function l(e){u(r,a,i,o,l,"throw",e)}o(void 0)}))}}function s(){return(s=l(regeneratorRuntime.mark((function e(t,n){var o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.get({url:r.Endpoints.MESSAGE_INTERACTION_DATA(t,n),oldFormErrors:!0});case 2:if((o=e.sent).ok){u=o.body;i.default.dirtyDispatch({type:r.ActionTypes.LOAD_MESSAGE_INTERACTION_DATA_SUCCESS,channelId:t,messageId:n,interactionData:u})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},814142:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,i=d(n(536211)),r=d(n(636602)),o=n(81069),u=d(n(644263)),l=n(190900),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return p.apply(this,arguments)}var f={},A={},_={};function m(e){delete f[e];var t=_[e];null!=t&&delete A[t];delete _[e]}var T=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getInteraction=function(e){var t=A[e.id];return null!=t?f[t]:null};n.getMessageInteractionStates=function(){for(var e={},t=0,n=Object.entries(f);t<n.length;t++){var a=n[t],i=a[0],r=a[1],o=_[i];null!=o&&(e[o]=r.state)}return e};n.canQueueInteraction=function(e,t){var n=A[e];return!(null!=n&&null!=f[n]&&f[n].state!==l.InteractionState.FAILED||null!=f[t]&&f[t].state!==l.InteractionState.FAILED)};return t}(i.default.Store))(r.default,((a={})[s.ActionTypes.LOGOUT]=function(){f={};A={};_={}},a[s.ActionTypes.INTERACTION_QUEUE]=function(e){
var t=e.nonce,n=e.messageId,a=e.data,i=e.onCreate,r=e.onCancel,o=e.onSuccess,u=e.onFailure;if(null!=n){A[n]=t;_[t]=n}f[t]={state:l.InteractionState.QUEUED,data:a,onCreate:i,onCancel:r,onSuccess:o,onFailure:u}},a[s.ActionTypes.INTERACTION_CREATE]=function(e){var t,n=e.nonce,a=e.interactionId;if(null==n)return!1;var i=f[n];if(null==i||i.state!==l.InteractionState.QUEUED)return!1;i.state=l.InteractionState.CREATED;null===(t=i.onCreate)||void 0===t||t.call(i,a)},a[s.ActionTypes.INTERACTION_SUCCESS]=function(e){var t,n=e.nonce;if(null==n)return!1;var a=f[n];if(null==a)return!1;null===(t=a.onSuccess)||void 0===t||t.call(a);m(n)},a[s.ActionTypes.INTERACTION_FAILURE]=function(e){var t,n=e.nonce,a=e.errorCode,i=e.errorMessage;if(null==n)return!1;var r=f[n];if(null==r)return!1;null===(t=r.onFailure)||void 0===t||t.call(r,a,i);r.data.interactionType===o.InteractionTypes.APPLICATION_COMMAND?m(n):f[n]=p({},r,{state:l.InteractionState.FAILED,errorCode:a,errorMessage:i})},
a[s.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.message;if(null==t.nonce)return!1;var n,a=f[t.nonce];if(null==a)return!1;null===(n=a.onSuccess)||void 0===n||n.call(a);m(t.nonce)},a[s.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId;if(null==u.default.getChannel(t))return!1;for(var n=0,a=Object.entries(f);n<a.length;n++){var i=a[n],r=i[0];i[1].state===l.InteractionState.FAILED&&m(r)}},a));t.default=T},190900:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.InteractionState=void 0;var n;t.InteractionState=n;!function(e){e[e.QUEUED=0]="QUEUED";e[e.CREATED=1]="CREATED";e[e.FAILED=2]="FAILED"}(n||(t.InteractionState=n={}))},632341:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.InteractionStatusViewState=void 0;t.canRetryInteractionData=function(e){var t=e.options;for(;1===(null===(n=t)||void 0===n?void 0:n.length)&&(t[0].type===o.ApplicationCommandOptionType.SUB_COMMAND_GROUP||t[0].type===o.ApplicationCommandOptionType.SUB_COMMAND);){var n;t=t[0].options
}for(var a,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(null!==(r=t)&&void 0!==r?r:[]);!(a=i()).done;){var r;if(a.value.type===o.ApplicationCommandOptionType.ATTACHMENT)return!1}return!0};t.getFirstSkemaErrorMessage=t.executeMessageComponentInteraction=void 0;t.getInteractionInitialResponseDeadlineTimestamp=m
;t.getInteractionStatusViewState=void 0;t.getInteractionTimeoutTimestamp=_;t.handleInteractionResponse=void 0;var a=p(n(795715)),i=p(n(118915)),r=p(n(786345)),o=n(81069),u=p(n(423046)),l=n(741464),s=p(n(814142)),d=n(190900),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return A.apply(this,arguments)}function _(e){return null==e||""===e||Number.isNaN(e)?Date.now():a.default.extractTimestamp(e)+9e5}function m(e){return null==e||""===e||Number.isNaN(e)?Date.now():a.default.extractTimestamp(e)+3e3}t.executeMessageComponentInteraction=function(e){
var t=e.componentType,n=e.messageId,r=e.messageFlags,d=e.customId,p=e.indices,f=e.applicationId,_=e.channelId,m=e.guildId,I=e.localState,E=a.default.fromTimestamp(Date.now());if(s.default.canQueueInteraction(n,E)){(0,l.addQueued)(E,{messageId:n,data:{interactionType:o.InteractionTypes.MESSAGE_COMPONENT,customId:d,indices:p},onFailure:function(e,t){return T(_,e,t)}});null!=I&&(0,l.queueInteractionComponentState)(n,E,I,p);var O={type:o.InteractionTypes.MESSAGE_COMPONENT,nonce:E,guild_id:m,channel_id:_,message_flags:r,message_id:n,application_id:f,session_id:u.default.getSessionId(),data:A({component_type:t,custom_id:d},I)};i.default.post({url:c.Endpoints.INTERACTIONS,body:O,timeout:3e3},(function(e){return C(E,e)}))}};var T=function(e,t,n){null==n&&null!=t&&r.default.sendClydeError(e,t)},I=function e(t){for(var n in t){var a=t[n];if(null!=a){if("_errors"===n&&Array.isArray(a)){var i,r;return null!==(i=null===(r=a[0])||void 0===r?void 0:r.message)&&void 0!==i?i:null}
if("object"==typeof a)return e(a)}}return null};t.getFirstSkemaErrorMessage=I;var E,C=function(e,t){if(!t.ok){if(!t.hasErr){if(t.status>=400&&t.status<500&&t.body){var n,a=null;if(t.body.code===c.AbortCodes.INVALID_FORM_BODY&&t.body.errors){a=I(t.body.errors);(0,l.setFailed)(e,void 0,a);return}(0,l.setFailed)(e,t.status,null===(n=t.body)||void 0===n?void 0:n.message);return}(0,l.setFailed)(e,t.body.code);return}(0,l.setFailed)(e)}};t.handleInteractionResponse=C;t.InteractionStatusViewState=E;!function(e){e[e.SENDING=0]="SENDING";e[e.CREATED=1]="CREATED";e[e.FAILED=2]="FAILED";e[e.TIMED_OUT=3]="TIMED_OUT"}(E||(t.InteractionStatusViewState=E={}));t.getInteractionStatusViewState=function(e,t){var n=null==t?void 0:t.state,a=e.state===c.MessageStates.SENT&&_(e.id)<Date.now(),i=e.state===c.MessageStates.SEND_FAILED&&m(e.id)<Date.now(),r=(null==t?void 0:t.data.interactionType)===o.InteractionTypes.APPLICATION_COMMAND,u=e.isCommandType()
;return r&&n===d.InteractionState.QUEUED||u&&e.state===c.MessageStates.SENDING?E.SENDING:r&&n===d.InteractionState.CREATED||e.hasFlag(c.MessageFlags.LOADING)&&!a?E.CREATED:null!=e.interaction&&e.hasFlag(c.MessageFlags.LOADING)&&a||null!=e.interaction&&!e.hasFlag(c.MessageFlags.LOADING)&&i?E.TIMED_OUT:u&&e.state===c.MessageStates.SEND_FAILED?E.FAILED:void 0}},612548:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ArchivedThreadListTypeAdapters=void 0;var a,i,r=_(n(441143)),o=_(n(496486)),u=_(n(536211)),l=_(n(636602)),s=n(567186),d=_(n(644263)),c=n(71246),p=_(n(730451)),f=n(64072),A=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}
var I=!1,E=!1,C=!1,O=null,y=f.ArchivedThreadListType.ALL_PUBLIC_THREADS,M=[],N=((a={})[f.ArchivedThreadListType.ALL_PUBLIC_THREADS]={matches:function(e){var t;return e.type!==A.ChannelTypes.PRIVATE_THREAD&&!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)},sortKey:function(e){var t;return null===(t=e.threadMetadata)||void 0===t?void 0:t.archiveTimestamp},endpoint:function(e){return A.Endpoints.ALL_ARCHIVED_THREADS(e,"public")}},a[f.ArchivedThreadListType.ALL_PRIVATE_THREADS]={matches:function(e){var t;return e.type===A.ChannelTypes.PRIVATE_THREAD&&!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)},sortKey:function(e){var t;return null===(t=e.threadMetadata)||void 0===t?void 0:t.archiveTimestamp},endpoint:function(e){return A.Endpoints.ALL_ARCHIVED_THREADS(e,"private")}},a[f.ArchivedThreadListType.MY_PRIVATE_THREADS]={matches:function(e){var t
;return e.type===A.ChannelTypes.PRIVATE_THREAD&&!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)&&p.default.hasJoined(e.id)},sortKey:function(e){return e.id},endpoint:function(e){return A.Endpoints.MY_ARCHIVED_THREADS(e)}},a);t.ArchivedThreadListTypeAdapters=N;function v(){I=!1;E=!1;C=!1;O=null;y=f.ArchivedThreadListType.ALL_PUBLIC_THREADS;M=[]}function g(){if(0===M.length)return!1;M=(0,o.default)(M).map((function(e){return d.default.getChannel(e)})).filter(c.isNotNullish).sortBy((function(e){return N[y].sortKey(e)})).map((function(e){return e.id})).reverse().value()}var D=[],S=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(d.default,p.default)};n.isLoading=function(e,t){return O===e&&y===t&&I};n.getThreads=function(e,t){return O===e&&y===t?M:D};!function(e,t,n){t&&m(e.prototype,t);n&&m(e,n)
;Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"canLoadMore",get:function(){return E&&!I&&!C}}]);return t}(u.default.Store))(l.default,((i={})[A.ActionTypes.CONNECTION_OPEN]=v,i[A.ActionTypes.THREAD_DELETE]=function(e){return function(e){if(!(M.indexOf(e)>=0))return!1;M=M.filter((function(t){return t!==e}))}(e.channel.id)},i[A.ActionTypes.CHANNEL_DELETE]=function(e){if(e.channel.id!==O)return!1;v()},i[A.ActionTypes.LOAD_ARCHIVED_THREADS]=function(e){e.channelId===O&&e.listType===y||v();O=e.channelId;y=e.listType;I=!0},i[A.ActionTypes.LOAD_ARCHIVED_THREADS_SUCCESS]=function(e){if(e.channelId!==O||e.listType!==y)return!1;var t=e.threads.filter((function(e){return s.ALL_CHANNEL_TYPES.has(e.type)})).map((function(e){return e.id})),n=M.length>0?d.default.getChannel(M[M.length-1]):null,a=null!=n?N[y].sortKey(n):null;if(null!=e.before&&null!=a){(0,
r.default)(e.before<=a,"handleLoadArchivedThreadsSuccess - It is illegal use a `before` time that is more recent than an existing archived thread");M=M.concat(t)}else M=t;g();E=e.hasMore;I=!1},i[A.ActionTypes.LOAD_ARCHIVED_THREADS_FAIL]=function(e){if(e.channelId!==O||e.listType!==y)return!1;I=!1;C=!0},i[A.ActionTypes.RESORT_THREADS]=function(e){return(null==O||null==e.channelId||O===e.channelId)&&g()},i));t.default=S},887174:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a=R(n(441143)),i=R(n(118915)),r=R(n(636602)),o=R(n(190040)),u=R(n(186705)),l=R(n(786345)),s=n(844784),d=R(n(649563)),c=R(n(614293)),p=n(391869),f=n(894826),A=R(n(567186)),_=R(n(644263)),m=S(n(687549)),T=R(n(211136)),I=n(249875),E=n(956506),C=S(n(612548)),O=R(n(730451)),y=n(192751),M=n(566142),N=n(770348),v=n(173652),g=R(n(247001));function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function S(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e;n&&n.set(e,a);return a}function R(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a,i,r,o){try{var u=e[r](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(a,i)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){h(r,a,i,o,u,"next",e)}function u(e){h(r,a,i,o,u,"throw",e)}o(void 0)}))}}function L(e,t){return i.default.patch({url:N.Endpoints.CHANNEL(e.id),body:t}).then((function(t){r.default.dispatch({type:N.ActionTypes.THREAD_UPDATE,channel:A.default.fromServer(t.body),guildHashes:void 0})
;d.default.resort(e.parent_id);return t}))}var b={archiveThread:function(e,t){var n={archived:!0};t&&(n.locked=!0);return L(e,n)},unarchiveThread:function(e,t){return P(regeneratorRuntime.mark((function n(){var a,i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a={archived:!1};t&&(a.locked=!1);n.prev=2;n.next=5;return L(e,a);case 5:return n.abrupt("return",n.sent);case 8:n.prev=8;n.t0=n.catch(2);(null===(i=n.t0.body)||void 0===i?void 0:i.code)===N.AbortCodes.TOO_MANY_THREADS?o.default.show({title:g.default.Messages.CANNOT_UNARCHIVE_THREAD,body:g.default.Messages.TOO_MANY_THREADS_MESSAGE}):(null===(r=n.t0.body)||void 0===r?void 0:r.code)===N.AbortCodes.TOO_MANY_ANNOUNCEMENT_THREADS?o.default.show({title:g.default.Messages.CANNOT_UNARCHIVE_THREAD,body:g.default.Messages.TOO_MANY_ANNOUNCEMENT_THREADS_MESSAGE}):429===n.t0.status?o.default.show({title:g.default.Messages.CANNOT_UNARCHIVE_THREAD,body:g.default.Messages.RATE_LIMITED}):o.default.show({
title:g.default.Messages.ERROR,body:g.default.Messages.ERROR_OCCURRED_TRY_AGAIN});throw n.t0;case 12:case"end":return n.stop()}}),n,null,[[2,8]])})))()},setInvitable:function(e,t){return L(e,{invitable:t})},createThread:function(e,t,n,a,u,l){return P(regeneratorRuntime.mark((function s(){var d,c,p,f,A,m,T;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:d=null!=t?N.Endpoints.CHANNEL_MESSAGE_THREADS(e.id,t):N.Endpoints.CHANNEL_THREADS(e.id);s.prev=1;s.next=4;return i.default.post({url:d,body:{name:n,type:a,auto_archive_duration:l,location:u}});case 4:c=s.sent;r.default.dispatch({type:N.ActionTypes.SLOWMODE_RESET_COOLDOWN,slowmodeType:I.SlowmodeType.CreateThread,channelId:e.id});r.default.dispatch({type:N.ActionTypes.THREAD_CREATE_LOCAL,channelId:c.body.id});s.next=13;break;case 9:s.prev=9;s.t0=s.catch(1);(null===(p=s.t0.body)||void 0===p?void 0:p.code)===N.AbortCodes.TOO_MANY_THREADS?o.default.show({title:g.default.Messages.CANNOT_CREATE_THREAD,
body:g.default.Messages.TOO_MANY_THREADS_MESSAGE}):(null===(f=s.t0.body)||void 0===f?void 0:f.code)===N.AbortCodes.TOO_MANY_ANNOUNCEMENT_THREADS?o.default.show({title:g.default.Messages.CANNOT_CREATE_THREAD,body:g.default.Messages.TOO_MANY_ANNOUNCEMENT_THREADS_MESSAGE}):(null===(A=s.t0.body)||void 0===A?void 0:A.code)===N.AbortCodes.SLOWMODE_RATE_LIMITED?(T=null!==(m=s.t0.body.retry_after)&&void 0!==m?m:0)>0&&r.default.dispatch({type:N.ActionTypes.SLOWMODE_SET_COOLDOWN,channelId:e.id,slowmodeType:I.SlowmodeType.CreateThread,cooldownMs:1e3*T}):429===s.t0.status?o.default.show({title:g.default.Messages.CANNOT_CREATE_THREAD,body:g.default.Messages.RATE_LIMITED}):o.default.show({title:g.default.Messages.ERROR,body:g.default.Messages.ERROR_OCCURRED_TRY_AGAIN});throw s.t0;case 13:return s.abrupt("return",new Promise((function(e){_.default.addConditionalChangeListener((function(){var t=_.default.getChannel(c.body.id);if(null!=t){r.default.wait((function(){e(t)}));return!1}}))})));case 14:
case"end":return s.stop()}}),s,null,[[1,9]])})))()},createThreadAndMessage:function(e,t,n,a,i){var r=this;return P(regeneratorRuntime.mark((function o(){var u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:o.next=2;return r.createThread(n,null,e,N.ChannelTypes.PUBLIC_THREAD,i,(0,y.getAutoArchiveDuration)(n,a,null));case 2:u=o.sent;l.default.sendMessage(u.id,c.default.parse(u,t));case 4:case"end":return o.stop()}}),o)})))()},joinThread:function(e,t){return P(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return i.default.post({url:N.Endpoints.THREAD_MEMBER(e.id),query:{location:t}});case 3:return n.abrupt("return",n.sent);case 6:n.prev=6;n.t0=n.catch(0);(null===(a=n.t0.body)||void 0===a?void 0:a.code)===N.AbortCodes.TOO_MANY_THREAD_MEMBERS?o.default.show({title:g.default.Messages.CANNOT_JOIN_THREAD,body:g.default.Messages.TOO_MANY_MEMBERS_MESSAGE
}):o.default.show({title:g.default.Messages.ERROR,body:g.default.Messages.ERROR_OCCURRED_TRY_AGAIN});case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},addMember:function(e,t,n){return P(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0;a.next=3;return i.default.post({url:N.Endpoints.THREAD_MEMBER(e.id,t),query:{location:n}});case 3:return a.abrupt("return",a.sent);case 6:a.prev=6;a.t0=a.catch(0);(null===(r=a.t0.body)||void 0===r?void 0:r.code)===N.AbortCodes.TOO_MANY_THREAD_MEMBERS?o.default.show({title:g.default.Messages.CANNOT_ADD_USER_TO_THREAD,body:g.default.Messages.TOO_MANY_MEMBERS_MESSAGE}):o.default.show({title:g.default.Messages.ERROR,body:g.default.Messages.ERROR_OCCURRED_TRY_AGAIN});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()},leaveThread:function(e,t){return i.default.delete({url:N.Endpoints.THREAD_MEMBER(e.id),query:{location:t}})},removeMember:function(e,t,n){
return i.default.delete({url:N.Endpoints.THREAD_MEMBER(e.id,t),query:{location:n}})},setAutoArchiveDuration:function(e,t){return i.default.patch({url:N.Endpoints.CHANNEL(e.id),body:{auto_archive_duration:t}})},pin:function(e){var t=e.flags|v.ChannelFlags.PINNED;return i.default.patch({url:N.Endpoints.CHANNEL(e.id),body:{flags:t}})},unpin:function(e){var t=e.flags&~v.ChannelFlags.PINNED;return i.default.patch({url:N.Endpoints.CHANNEL(e.id),body:{flags:t}})},openThreadSidebarForViewing:function(e){E.ComponentDispatch.dispatch(N.ComponentActions.POPOUT_CLOSE);if(f.UseThreadSidebar.getSetting()&&!__OVERLAY__){(0,a.default)(null!=e.parent_id,"all threads must have parents");var t=T.default.getChannelId();e.parent_id===t||(0,v.isGuildHomeChannel)(t)||(0,p.transitionToChannel)(e.parent_id);r.default.dispatch({type:N.ActionTypes.SIDEBAR_VIEW_THREAD,baseChannelId:(0,v.isGuildHomeChannel)(t)?v.StaticChannelRoute.GUILD_HOME:e.parent_id,channelId:e.id});setTimeout((function(){
E.ComponentDispatch.dispatch(N.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:e.id})}),0)}else{r.default.dispatch({type:N.ActionTypes.SIDEBAR_CLOSE,baseChannelId:e.parent_id});(0,p.transitionToChannel)(e.id)}},openThreadSidebarForCreating:function(e,t,n){(0,a.default)(!e.isForumChannel(),"cannot open thread creation sidebar in forums");(0,a.default)(!__OVERLAY__,"Cannot create threads in the overlay.");(0,s.trackWithMetadata)(N.AnalyticEvents.THREAD_CREATION_STARTED,{location:n,channel_id:e.id,guild_id:e.guild_id});E.ComponentDispatch.dispatch(N.ComponentActions.POPOUT_CLOSE);T.default.getChannelId()!==e.id&&(0,p.transitionToChannel)(e.id);if(""===m.default.getDraft(e.id,m.DraftType.FirstThreadMessage)){var i=m.default.getDraft(e.id,m.DraftType.ChannelMessage);u.default.saveDraft(e.id,"",m.DraftType.ChannelMessage);u.default.saveDraft(e.id,i,m.DraftType.FirstThreadMessage)}setTimeout((function(){r.default.dispatch({type:N.ActionTypes.SIDEBAR_CREATE_THREAD,parentChannelId:e.id,
parentMessageId:null==t?void 0:t.id,location:n})}),0)},openThreadCreationForMobile:function(e,t,n){(0,s.trackWithMetadata)(N.AnalyticEvents.THREAD_CREATION_STARTED,{location:n,channel_id:e.id,guild_id:e.guild_id});u.default.changeThreadSettings(e.id,{parentMessageId:t,isPrivate:!1,location:n})},closeThreadSidebar:function(e){r.default.dispatch({type:N.ActionTypes.SIDEBAR_CLOSE,baseChannelId:e})},closeAndClearThreadSidebar:function(e){r.default.dispatch({type:N.ActionTypes.SIDEBAR_CLOSE,baseChannelId:e});r.default.dispatch({type:N.ActionTypes.DRAFT_CLEAR,channelId:e,draftType:m.DraftType.FirstThreadMessage});r.default.dispatch({type:N.ActionTypes.DRAFT_CLEAR,channelId:e,draftType:m.DraftType.ThreadSettings})},setNotificationSettings:function(e,t){var n=this;return P(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(0,M.trackThreadNotificationSettingsUpdated)(e,t);if(O.default.hasJoined(e.id)){a.next=4;break}a.next=4
;return n.joinThread(e,"Change Notification Settings");case 4:return a.abrupt("return",i.default.patch({url:N.Endpoints.THREAD_MEMBER_SETTINGS(e.id),body:t}));case 5:case"end":return a.stop()}}),a)})))()},loadArchivedThreads:function(e,t,n,a){if(!C.default.isLoading(t,n)){r.default.dirtyDispatch({type:N.ActionTypes.LOAD_ARCHIVED_THREADS,channelId:t,listType:n,before:a});i.default.get({url:C.ArchivedThreadListTypeAdapters[n].endpoint(t),query:{before:a},retries:2}).then((function(i){var o=i.body,u=o.threads,l=o.members,s=o.has_more,d=o.first_messages;r.default.dispatch({type:N.ActionTypes.LOAD_ARCHIVED_THREADS_SUCCESS,guildId:e,channelId:t,listType:n,before:a,threads:u,firstMessages:d,members:(null!=l?l:[]).map((function(e){return(0,M.convertServerThreadMember)(e)})),hasMore:s})}),(function(){r.default.dispatch({type:N.ActionTypes.LOAD_ARCHIVED_THREADS_FAIL,channelId:t,listType:n,before:a})}))}}};t.default=b},192751:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0})
;t.THREE_DAYS=void 0;t.getAutoArchiveDuration=function(e,t,n){var a,i=null==e?void 0:e.isForumChannel(),r=i?d:o.DEFAULT_AUTO_ARCHIVE_DURATION,l=null!==(a=null!=n?n:null==e?void 0:e.defaultAutoArchiveDuration)&&void 0!==a?a:r;if(!(l!==d||null!=t&&t.hasFeature(u.GuildFeatures.THREE_DAY_THREAD_ARCHIVE)||i))return o.DEFAULT_AUTO_ARCHIVE_DURATION;if(l===c&&(null==t||!t.hasFeature(u.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE)))return o.DEFAULT_AUTO_ARCHIVE_DURATION;return l};t.getAutoArchiveDurationRequiresPremiumGuildTier=function(e){var t=p(null,!0).find((function(t){return t.value===e}));return null!=(null==t?void 0:t.guildFeature)&&null!=(0,r.minimumRequiredTierForGuildFeature)(t.guildFeature)};t.getAutoArchiveDurationText=function(e){var t,n=p(null,!0).find((function(t){return t.value===e}));return null!==(t=null==n?void 0:n.label)&&void 0!==t?t:i.default.duration(e,"minutes").humanize()};t.getAutoArchiveOptions=t.getAutoArchiveDurations=void 0;t.getPostAutoArchiveDuration=function(e,t){
var n,a=o.DEFAULT_AUTO_ARCHIVE_DURATION;(null==t?void 0:t.hasFeature(u.GuildFeatures.THREE_DAY_THREAD_ARCHIVE))&&(a=d);var i=null!==(n=null==e?void 0:e.defaultAutoArchiveDuration)&&void 0!==n?n:a;if(i===d&&(null==t||!t.hasFeature(u.GuildFeatures.THREE_DAY_THREAD_ARCHIVE)))return a;if(i===c&&(null==t||!t.hasFeature(u.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE)))return a;return i};t.getThreeDayAutoArchiveDurationOrDefault=function(e,t,n){var a,i=null!==(a=null!=n?n:null==e?void 0:e.defaultAutoArchiveDuration)&&void 0!==a?a:d;if(i===c&&(null==t||!t.hasFeature(u.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE)))return d;return i};var a=s(n(288306)),i=s(n(730381)),r=n(682937),o=n(64072),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}var d=4320;t.THREE_DAYS=d;var c=10080,p=(0,a.default)((function(e,t){var n=[{label:l.default.Messages.AUTO_ARCHIVE_DURATION_1_HOUR,value:60,guildFeature:null,enabled:!0},{label:l.default.Messages.AUTO_ARCHIVE_DURATION_24_HOURS,value:1440,
guildFeature:null,enabled:!0}];return null!=e||t?[].concat(n,[{label:l.default.Messages.AUTO_ARCHIVE_DURATION_3_DAYS,value:d,guildFeature:u.GuildFeatures.THREE_DAY_THREAD_ARCHIVE,enabled:null!=e&&e.hasFeature(u.GuildFeatures.THREE_DAY_THREAD_ARCHIVE)},{label:l.default.Messages.AUTO_ARCHIVE_DURATION_1_WEEK,value:c,guildFeature:u.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE,enabled:null!=e&&e.hasFeature(u.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE)}]):n}));t.getAutoArchiveOptions=p;var f=(0,a.default)((function(e){return p(e).map((function(e){return e.value}))}));t.getAutoArchiveDurations=f}}]);
//# sourceMappingURL=ea8829d74f8391243d51.js.map