/*! For license information please see 6d878dec53fda7b548f1.js.LICENSE.txt */
(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[59859,11315,40856,18777,13557,10928],{478717:(e,t,n)=>{var r={"./2017-11-16.mp4":684795,"./2019-12-17.mp4":662325,"./channel-following.png":15176,"./discovery.jpg":788557,"./discriminator.mp4":22625,"./g250k-cl.mp4":603628,"./header.mp4":879334,"./hypesquad-hack-week/header.png":133650,"./hypesquad-hack-week/paladins-loot.png":631896,"./ko-new-year.jpg":931806,"./league-rp-cl.mp4":425058,"./polish-week.png":428915,"./special-template/desktop-cta.png":561323,"./special-template/desktop-cta.svg":949223,"./special-template/header-left.svg":412466,"./special-template/header-right.svg":226586,"./special-template/mobile-cta.svg":373135,"./special-template/update-badge.svg":361850,"./stickers-launch/2020_PMM_STICKERS_Mrkt_BlogHdr_2500x1000.png":15808,"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Left_180x220.png":227227,"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Right_180x220.png":999455,
"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_Changelog_658X220.png":678811,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_FooterCTA_238x220.png":236340,"./stickers-launch/2020_PMM_STICKERS_Mrkt_MobileHero_375x190.png":359546,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Mobile_FooterCTA_343x78.png":35448,"./store.jpg":404252};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}a.keys=function(){return Object.keys(r)};a.resolve=o;e.exports=a;a.id=478717},259477:(e,t,n)=>{"use strict";n(984752);n(303798);n(373265);n(117883);n(473517);n(572935);n(825724);n(124778);n(86298);n(408643);n(179401);n(962935);n(677520);n(735592);n(84402);n(968078);n(173101);n(943819);n(828339);n(330321);n(507794);n(930409);n(915574);n(864062);n(523946);n(805799);n(359342);n(86031);n(146411);n(897191);n(258079);n(187360);n(217964);n(82572);n(19566);n(782270);n(612548);n(730451);n(698099);n(864061)
;n(979674);n(282619);n(421010);n(960441);n(737931);n(887328);n(748762);n(607209);n(423046);n(27245);n(881454);n(908463);n(493897);n(778548);n(882832);n(484024);n(644263);n(752996);n(917515);n(513266);n(8549);n(544196);n(776115);n(909243);n(687549);n(433385);n(956704);n(126208);n(330445);n(23535);n(202904);n(811672);n(528429);n(250650);n(140868);n(517286);n(311492);n(737483);n(876874);n(680804);n(30098);n(832721);n(178504);n(958698);n(729748);n(226720);n(319111);n(361585);n(635014);n(847819);n(201292);n(144050);n(386716);n(950446);n(689389);n(662183);n(186798);n(788739);n(958281);n(220592);n(893160);n(191391);n(290629);n(205982);n(211136);n(790597);n(690445);n(121441);n(887609);n(397228);n(758602);n(359973);n(859024);n(946447);n(563621);n(257867);n(728429);n(189434);n(387692);n(535711);n(735653);n(905505);n(125150);n(801745);n(417501);n(487372);n(432310);n(693399);n(527501);n(81636)},588136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.setHomeLink=function(e){a.default.dirtyDispatch({type:o.ActionTypes.APP_VIEW_SET_HOME_LINK,link:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},360307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setCertifiedDevices=function(e,t){a.default.dispatch({type:o.ActionTypes.CERTIFIED_DEVICES_SET,applicationId:e,devices:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},241165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={showChangeLog:function(e){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_OPEN,query:e})},hideChangeLog:function(){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_CLOSE})}};t.default=i},55701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.hideEnablePublicGuildUpsellNotice=function(e){a.default.dispatch({type:o.ActionTypes.PUBLIC_UPSELL_NOTICE_DISMISS,guildId:e})}
;t.hideGuildNotificationDefaultsNotice=function(e){a.default.dispatch({type:o.ActionTypes.NOTIFICATION_DEFAULTS_NOTICE_DISMISS,guildId:e})};t.hideMaxMemberCountChannelNotice=function(e,t){a.default.dispatch({type:o.ActionTypes.MAX_MEMBER_COUNT_NOTICE_DISMISS,guildId:e,noticeType:t})};t.hidePremiumGuildGracePeriodNotice=function(e){a.default.dispatch({type:o.ActionTypes.BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS,guildId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},642230:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchConsents=function(){return r.default.get({url:o.Endpoints.SETTINGS_CONSENT,oldFormErrors:!0}).then(s,(function(e){return Promise.reject(new Error(e.body.message))}))};t.setConsents=function(e,t){return r.default.post({url:o.Endpoints.SETTINGS_CONSENT,body:{grant:e,revoke:t},oldFormErrors:!0}).then(s,d)};var r=u(n(118915)),a=u(n(636602)),o=n(770348),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}
function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e){null!=e&&null!=e.body&&a.default.dispatch({type:o.ActionTypes.UPDATE_CONSENTS,consents:l({},e.body)});return e.body}function d(e){var t;t=e.status>=500&&e.status<=599?i.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED:null!=e&&null!=e.body&&null!=e.body.message?e.body.message:i.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED;throw new Error(t)}},319076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dismiss=function(e){a.default.dispatch({type:o.ActionTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS,skuId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},988754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.uninstallBranchPrompt=function(e,t,u){!function(e,t){var i=a.default.getGame(e)
;if(null==i){new r.default("DispatchUninstallActionCreators").log("Application not found for game "+e);return}(0,o.openModalLazy)(d(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(78530).then(n.bind(n,478530));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return a(l({game:i,onConfirmUninstall:t},e))}));case 5:case"end":return e.stop()}}),e)}))))}(e,(function(){return(0,i.uninstallApplication)(e,t,u)}))};var r=u(n(791548)),a=u(n(288356)),o=n(194322),i=n(27555);function u(e){return e&&e.__esModule?e:{default:e}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},785460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sortList=function(e,t){a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_SORT_UPDATE,key:e,direction:t})};t.updateActiveRowKey=function(e,t){void 0===t&&(t=!1);a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE,key:e,isKeyboardEvent:t})};t.updateLibraryFilter=function(e){a.default.dispatch({type:o.ActionTypes.LIBRARY_APPLICATION_FILTER_UPDATE,query:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},229474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildAffinities=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}t.fetchGuildAffinities=function(){return r.default.get({url:o.Endpoints.GUILD_AFFINITIES,
oldFormErrors:!0}).then((function(e){var t=e.body.guild_affinities;a.default.dispatch({type:o.ActionTypes.LOAD_GUILD_AFFINITIES_SUCCESS,guildAffinities:t})}),(function(){a.default.dispatch({type:o.ActionTypes.LOAD_GUILD_AFFINITIES_FAILURE})}))}},72690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={move:function(e,t){a.default.dispatch({type:o.ActionTypes.INCOMING_CALL_MOVE,x:e,y:t})}};t.default=i},668471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addInstallLocation=function(e){a.default.queryDirectory(e,(function(t,n){null==t&&null!=n&&r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_ADD,path:e,metadata:n})}))};t.fetchMetadata=function(e){for(var t,n={},i=0,l=function(){var u=t.value;if(null==u||"string"!=typeof u)return"continue";a.default.queryDirectory(u,(function(t,a){++i;null==t&&null!=a&&(n[u]=a)
;i===e.length&&r.default.dirtyDispatch({type:o.ActionTypes.INSTALLATION_LOCATION_FETCH_METADATA,metadataPayload:n})}))},s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=s()).done;)l()};t.removeInstallLocation=function(e){r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_REMOVE,path:e})}
;t.updateInstallLocation=function(e,t){var n=t.label,a=t.isDefault;r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_UPDATE,path:e,label:n,isDefault:a})};var r=i(n(636602)),a=i(n(643868)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},671694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createTestModeLibraryApplications=function(e){return f.apply(this,arguments)};t.fetchLibrary=function(){return c.apply(this,arguments)};t.setActiveLaunchOptionId=function(e,t,n){a.default.dispatch({type:u.ActionTypes.LIBRARY_APPLICATION_ACTIVE_LAUNCH_OPTION_UPDATE,applicationId:e,branchId:t,launchOptionId:n})};var r=l(n(118915)),a=l(n(636602)),o=l(n(329297)),i=n(204785),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function c(){return(c=d(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return(0,i.httpGetWithCountryCodeQuery)({url:u.Endpoints.LIBRARY,oldFormErrors:!0},!1);case 3:t=e.sent;a.default.dispatch({type:u.ActionTypes.LIBRARY_FETCH_SUCCESS,libraryApplications:t.body});e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);a.default.dispatch({type:u.ActionTypes.LIBRARY_FETCH_FAIL,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(){return(f=d(regeneratorRuntime.mark((function e(t){var n,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.primarySkuId)){e.next=3;break}
return e.abrupt("return");case 3:e.next=5;return r.default.get({url:u.Endpoints.APPLICATION_BRANCH_LIST(t.id),oldFormErrors:!0}).then((function(e){return e.body}));case 5:i=e.sent;l=i.map((function(e){return o.default.createForTestMode({id:t.id,skuId:n,branch:e})}));a.default.dispatch({type:u.ActionTypes.LIBRARY_APPLICATIONS_TEST_MODE_ENABLED,libraryApplications:l});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},297279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchActivityStatistics=function(){return c.apply(this,arguments)};var r=u(n(118915)),a=u(n(636602)),o=u(n(194198)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}
i(void 0)}))}}var d=216e5;function c(){return(c=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=o.default.lastFetched)&&Date.now()-t<d)){e.next=3;break}return e.abrupt("return");case 3:e.prev=3;e.next=6;return r.default.get({url:i.Endpoints.USER_ACTIVITY_STATISTICS,oldFormErrors:!0});case 6:n=e.sent;a.default.dispatch({type:i.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body});e.next=13;break;case 10:e.prev=10;e.t0=e.catch(3);return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}},24794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.connect=l;t.createLobby=function(e,t,n){return r.default.post({url:o.Endpoints.LOBBIES,body:u({application_id:t},n),retries:1,oldFormErrors:!0}).then((function(t){var n=t.body;return l(e,n.id,n.secret)}))};t.deleteLobby=function(e){return r.default.delete({
url:o.Endpoints.LOBBY(e),body:{},retries:1,oldFormErrors:!0}).then(o.NOOP)};t.disconnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_DISCONNECT,lobbyId:e})};t.search=function(e){return r.default.post({url:o.Endpoints.LOBBY_SEARCH,body:e,oldFormErrors:!0}).then((function(e){return e.body}))};t.send=function(e,t){return r.default.post({url:o.Endpoints.LOBBY_SEND(e),body:{data:t},oldFormErrors:!0}).then(o.NOOP)};t.updateLobby=function(e,t){return r.default.patch({url:o.Endpoints.LOBBY(e),body:u({},t),retries:1,oldFormErrors:!0}).then(o.NOOP)};t.updateLobbyMember=function(e,t,n){return r.default.patch({url:o.Endpoints.LOBBY_MEMBER(e,t),body:u({},n),retries:1,oldFormErrors:!0}).then(o.NOOP)};t.voiceConnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_VOICE_CONNECT,lobbyId:e})};t.voiceDisconnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_VOICE_DISCONNECT,lobbyId:e})};var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{
default:e}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}function l(e,t,n){return new Promise((function(r,i){a.default.dispatch({type:o.ActionTypes.LOBBY_CONNECT,socketId:e,lobbyId:t,lobbySecret:n,resolve:r,reject:i})}))}},720409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_CLOSE,id:e})};t.hide=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_HIDE,id:e})};t.moveTo=function(e,t){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_MOVE,id:e,position:t})};t.open=function(e,t,n){void 0===n&&(n={});a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_OPEN,id:e,component:t,props:n})};t.show=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_SHOW,id:e})}
;t.switchPIPFocus=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW,id:e})};t.updateRect=function(e,t){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_UPDATE_RECT,id:e,rect:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},597362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={clearRemoteDisconnectVoiceChannelId:function(){a.default.dispatch({type:o.ActionTypes.CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID})}};t.default=i},221185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetchRegions:function(e){r.default.get({url:o.Endpoints.REGIONS(e),retries:1,oldFormErrors:!0}).then((function(t){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:t.body,guildId:e
})}),(function(){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:[],guildId:e})}))},changeCallRegion:function(e,t){r.default.patch({url:o.Endpoints.CALL(e),body:{region:t},oldFormErrors:!0})}};t.default=u},105988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={setEnabled:function(e){this.update({enabled:e})},update:function(e){for(var t,n=i(Object.keys(e));!(t=n()).done;){var r=t.value;a.default.dispatch({type:o.ActionTypes.STREAMER_MODE_UPDATE,key:r,value:e[r]})}}};t.default=l},446637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.authorizeAndSetTestModeApplication=function(e,t){return _.apply(this,arguments)};t.reset=function(){r.default.dispatch({type:c.ActionTypes.DEVELOPER_TEST_MODE_RESET})};t.resetError=function(){r.default.dispatch({type:c.ActionTypes.DEVELOPER_TEST_MODE_RESET_ERROR})};var r=v(n(636602)),a=v(n(331119)),o=v(n(288356)),i=n(685677),u=v(n(608417)),l=v(n(234161)),s=p(n(671694)),d=p(n(723420)),c=n(770348);function f(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(){return(_=h(regeneratorRuntime.mark((function e(t,n){var f,p
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.default.dispatch({applicationId:t,type:c.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_START});e.prev=1;e.next=4;return d.fetchSKUsForApplication(t,!1);case 4:if(null!=e.sent){e.next=7;break}throw new Error("Did not get a successful response from endpoint.");case 7:if(null!=(f=o.default.getGame(t))){e.next=14;break}e.t0=a.default;e.next=12;return l.default.fetchApplication(t);case 12:e.t1=e.sent;f=e.t0.createFromServer.call(e.t0,e.t1);case 14:if(!(p=(0,i.hasFlag)(f.flags,c.ApplicationFlags.EMBEDDED))||null!=n&&u.default.URL_REGEX.test(n)){e.next=17;break}throw new Error("Invalid Origin URL for embedded application");case 17:p||s.createTestModeLibraryApplications(f);r.default.dispatch({type:c.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS,applicationId:t,originURL:p?n:null});return e.abrupt("return",!0);case 22:e.prev=22;e.t2=e.catch(1);r.default.dispatch({
type:c.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL,applicationId:t,error:e.t2.message});return e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,null,[[1,22]])})))).apply(this,arguments)}},94047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(423046)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={setUserAchievement:function(e,t,n){var i=a.default.getId();return r.default.put({url:o.Endpoints.USER_ACHIEVEMENTS_FOR_USER(i,e,t),body:{percent_complete:n},oldFormErrors:!0})},fetchForApplication:function(e){return r.default.get({url:o.Endpoints.USER_ACHIEVEMENTS(e),retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}};t.default=u},314022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchUserAffinities=function(e){void 0===e&&(e=!0);if(o.default.needsRefresh()){a.default.dirtyDispatch({type:i.ActionTypes.LOAD_USER_AFFINITIES})
;return r.default.get({url:i.Endpoints.USER_AFFINITIES,retries:e?3:0,oldFormErrors:!0}).then((function(e){var t=e.body;a.default.dispatch({type:i.ActionTypes.LOAD_USER_AFFINITIES_SUCCESS,affinities:t})}),(function(){a.default.dispatch({type:i.ActionTypes.LOAD_USER_AFFINITIES_FAILURE})}))}return Promise.resolve()};var r=u(n(118915)),a=u(n(636602)),o=u(n(538983)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},306902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.markView=function(e){a.default.dispatch({type:o.ActionTypes.VIEW_HISTORY_MARK_VIEW,key:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},184608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=g(n(294184)),i=g(n(441143)),u=g(n(237923)),l=g(n(314234)),s=g(n(956117)),d=g(n(279950)),c=n(354479),f=n(688388),p=n(626863),v=n(770348),y=n(697984),h=g(n(247001)),_=g(n(241618)),m=g(n(380203));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}var I={canSend:!1,hint:null,success:null,error:null},b=(0,c.uid)(),C=b+"-decription",T=b+"-error";function P(e,t){switch(t.type){case"RESET":return I;case"SUCCESS":return S({},I,{success:t.text});case"HINT":return S({},I,{canSend:!0,hint:t.text});case"ERROR":return S({},e,{canSend:!0,error:t.text})}}function A(){var e,t=a.createRef(),n=a.createRef(),r=a.useReducer(P,I),c=r[0],g=r[1],E=c.canSend,S=c.hint,A=c.success,M=c.error;a.useEffect((function(){if(A){(0,i.default)(null!=t.current,"Input is submitting when not mounted");t.current.value="";t.current.focus()}}),[A,t]);return O("form",{onSubmit:function(e){e.preventDefault();(0,i.default)(null!=t.current,"Input is submitted when not mounted");var n=t.current.value.trim(),r=(0,
p.validateDiscordTag)(n);null==r?u.default.sendRequest(n,{location:"Add Friend"}).then((function(){return g({type:"SUCCESS",text:h.default.Messages.ADD_FRIEND_SUCCESS.format({discordTag:n})})}),(function(e){return g({type:"ERROR",text:(0,p.humanizeAbortCode)(e.body.code,n)})})):g({type:"ERROR",text:r})},autoComplete:"off"},void 0,O(f.FormText,{id:C,type:f.FormText.Types.DESCRIPTION},void 0,h.default.Messages.ADD_FRIEND_DESCRIPTION),O(l.default,{focusTarget:t,ringTarget:n,ringClassName:_.default.ring},void 0,a.createElement("div",{ref:n,className:(0,o.default)(_.default.addFriendInputWrapper,(e={},e[_.default.success]=A,e[_.default.error]=M,e))},O(d.default,{id:b,inputRef:t,className:_.default.addFriendInput,inputClassName:_.default.input,onKeyPress:function(e){var n=e.currentTarget.value;if(e.key!==y.KeyboardEventKey.Enter&&n.includes("#")){(0,i.default)(null!=t.current,"Input is handling keypress when not mounted")
;var r=n.indexOf("#"),a=t.current.selectionStart,o=e.key===y.KeyboardEventKey.Backspace||e.key===y.KeyboardEventKey.ArrowRight||e.key===y.KeyboardEventKey.ArrowLeft,u=e.which>=48&&e.which<=57;(null!=a&&a>r&&/^(.+?#\d{4})$/.test(n)&&!o||null!=a&&a>r&&!u&&!o)&&e.preventDefault()}},onChange:function(e){if(e.length<=0)g({type:"RESET"});else{var t=e.split("#")[1];g({type:"HINT",text:e+v.PLACEHOLDER_TAG.slice(null!=t?t.length+1:0)})}},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-lpignore":!0,placeholder:h.default.Messages.ADD_FRIEND_PLACEHOLDER,"aria-label":h.default.Messages.ADD_FRIEND_PLACEHOLDER,"aria-invalid":!!M||void 0,"aria-describedby":M?T:C}),S&&O("div",{className:_.default.addFriendHint,"aria-hidden":!0},void 0,S),O(s.default,{size:s.default.Sizes.SMALL,disabled:!E,type:"submit"},void 0,h.default.Messages.ADD_FRIEND_BUTTON))),M&&O(f.FormText,{role:"alert",id:T,type:f.FormText.Types.ERROR,className:m.default.marginTop8},void 0,M),A&&O(f.FormText,{
role:"status",type:f.FormText.Types.SUCCESS,className:m.default.marginTop8},void 0,A))}A.displayName="AddFriendInput"},593878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=v(n(479049)),o=v(n(131795)),i=v(n(536211)),u=v(n(680804)),l=v(n(919935)),s=v(n(290629)),d=v(n(931411)),c=n(864489),f=v(n(922629)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}
function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var _=new Set(["Blink","Gecko","WebKit"]),m=p.NOOP;if(c.isPlatformEmbedded)m=function(e){return f.default.setBadge(e)};else if(_.has(o.default.layout)){var g=new a.default({animation:"none"});m=function(e){try{g.badge(-1===e?"â€¢":e)}catch(e){}}}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).cancelBounce=null;return t}var n=t.prototype;n.componentDidMount=function(){this.componentDidUpdate()};n.componentDidUpdate=function(){var e=this.props,t=e.badge,n=e.hasIncomingCalls;m(t);if(n&&null==this.cancelBounce)this.cancelBounce=f.default.bounceDock("critical");else if(!n&&null!=this.cancelBounce){this.cancelBounce();this.cancelBounce=null}};n.componentWillUnmount=function(){m(0);if(null!=this.cancelBounce){
this.cancelBounce();this.cancelBounce=null}};n.render=function(){return null};return t}(r.PureComponent);E.displayName="AppBadge";var O=function(){return null};m!==p.NOOP&&(O=i.default.connectStores([u.default,d.default,s.default,l.default],(function(){var e=u.default.getTotalMentionCount(),t=s.default.getPendingCount(),n=u.default.hasAnyUnread(),r=l.default.getDisableUnreadBadge(),a=e+t;0===a&&n&&!r&&(a=-1);return{badge:a,hasIncomingCalls:d.default.hasIncomingCalls()}}))(E));var S=O;t.default=S},969940:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=_(n(213192)),o=_(n(536211)),i=_(n(740207)),u=_(n(226800)),l=_(n(680804)),s=_(n(635014)),d=_(n(919935)),c=_(n(893160)),f=_(n(290629)),p=_(n(397228)),v=n(864489),y=_(n(922629)),h=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=(0,a.default)({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),O=(0,v.isOSX)()?null:E.DEFAULT,S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).getIcon=function(){
var e=t.props,n=e.deafened,r=e.muted,a=e.speaking,o=e.connected,i=e.unread,u=O;if((0,v.isOSX)()&&!o)return u;if((0,v.isLinux)()||!o){i&&(u=E.UNREAD);return u}return u=n?E.DEAFENED:r?E.MUTED:a?E.SPEAKING:E.CONNECTED};return t}var n=t.prototype;n.componentDidMount=function(){y.default.setSystemTrayIcon(this.getIcon())};n.componentDidUpdate=function(){y.default.setSystemTrayIcon(this.getIcon())};n.componentWillUnmount=function(){y.default.setSystemTrayIcon(O)};n.render=function(){return null};return t}(r.PureComponent);S.displayName="AppTray";var I=function(){return null};if(v.isPlatformEmbedded){y.default.on("SYSTEM_TRAY_TOGGLE_MUTE",(function(){return i.default.toggleSelfMute()}));y.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",(function(){return i.default.toggleSelfDeaf()}));y.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",(function(){u.default.open(h.UserSettingsSections.VOICE)}));I=o.default.connectStores([c.default,s.default,p.default,l.default,f.default,d.default],(function(){
var e=l.default.getTotalMentionCount(),t=l.default.hasAnyUnread(),n=f.default.getPendingCount(),r=!d.default.getDisableUnreadBadge()&&!!(t||e+n>0);return{connected:c.default.isConnected(),speaking:p.default.isCurrentUserSpeaking(),muted:s.default.isSelfMute()||s.default.isSelfMutedTemporarily(),deafened:s.default.isSelfDeaf(),unread:r}}))(S)}var b=I;t.default=b},421651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Me;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=J(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=Q(n(294184)),i=n(505977),u=n(473727),l=n(47354),s=n(536211),d=Q(n(235879)),c=Q(n(400225)),f=Q(n(825724)),p=Q(n(252566)),v=Q(n(928205)),y=Q(n(545130)),h=Q(n(710483)),_=Q(n(594807)),m=Q(n(14638)),g=Q(n(212635)),E=Q(n(529295)),O=Q(n(547403)),S=Q(n(136798)),I=Q(n(329697)),b=Q(n(423046)),C=Q(n(644263)),T=Q(n(211136)),P=Q(n(296005)),A=Q(n(275621)),M=n(71246),N=n(518802),R=Q(n(721536)),w=Q(n(701391)),D=Q(n(41234)),L=Q(n(25202)),k=Q(n(272356)),j=Q(n(284382)),U=Q(n(115370)),G=Q(n(63818)),F=Q(n(629195)),x=Q(n(869333)),W=Q(n(605807)),V=n(490818),H=n(537204),B=Q(n(57663)),Y=Q(n(916205)),z=Q(n(52505)),K=Q(n(883901)),$=n(770348),q=n(173652),Z=Q(n(247001)),X=Q(n(734733));function Q(e){return e&&e.__esModule?e:{default:e}}function J(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(J=function(e){return e?n:t})(e)}function ee(){ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ee.apply(this,arguments)}function te(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ne=te(R.default,{}),re=function(e){var t=e.match,n=(0,s.useStateFromStores)([C.default,T.default],(function(){var e=T.default.getChannelId();return C.default.getChannel(e)})),r=t.params,a=r.guildId,o=r.channelId;if(null!=a&&null!=o&&(0,q.isStaticChannelRoute)(o))switch(o){case q.StaticChannelRoute.ROLE_SUBSCRIPTIONS:return te(_.default,{guildId:a});case q.StaticChannelRoute.MEMBER_APPLICATIONS:return te(h.default,{guildId:a})
;case q.StaticChannelRoute.GUILD_HOME:return te(v.default,{guildId:a});default:(0,M.assertNever)(o)}if((null==n?void 0:n.type)===$.ChannelTypes.GUILD_STORE){var i=t.params.messageId;return te(w.default,{channel:n,inputSkuId:i},n.id)}return ne};re.displayName="ChannelRenderer";var ae=te(x.default,{}),oe=te(k.default,{}),ie=a.memo((function(){var e=(0,S.default)(),t=e.guildId,n=e.channelId;return window.location.pathname.startsWith($.Routes.GUILD_DISCOVERY)?ae:null!=t?te(m.default,{selectedChannelId:n,guildId:t},t):oe}));function ue(e){var t=(0,S.default)((function(e){return e.guildId}));return a.createElement(Y.default,ee({},e,{guildId:t}))}ue.displayName="ConnectedActivityPanelGameCard";var le=function(e){return a.createElement(re,e)};le.displayName="renderChannel";var se=function(e){var t=null!=e&&e.length>0&&e.startsWith("?")?e.split("?")[1]:null;return te(F.default,{searchRoute:t})};se.displayName="renderGuildDiscovery";var de=function(e){var t=e.match
;return null!=t.params.guildId?te(y.default,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},ce=function(e){var t=e.match;return null!=t.params.guildId?te(E.default,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},fe=te(U.default,{}),pe=function(){return fe};pe.displayName="renderApplicationLibrary";var ve=te(G.default,{}),ye=function(){return ve};ye.displayName="renderLazyApplicationStore";var he=te(O.default,{}),_e=function(){return he};_e.displayName="renderPeople";var me=function(e){switch(e.match.params.feature){case"addFriends":return te(O.default,{initialSection:$.FriendsSections.ADD_FRIEND});case"pendingFriends":return te(O.default,{initialSection:$.FriendsSections.PENDING});default:return te(u.Redirect,{to:$.Routes.ME})}};function ge(){return window.location.pathname.startsWith($.Routes.APPLICATION_STORE)}var Ee=te(ie,{}),Oe=te(z.default,{}),Se=te(K.default,{}),Ie=te(B.default,{}),be=te(D.default,{});function Ce(e){
var t,n=e.isGuest,r=e.hasNotice,a=e.sidebarTheme,i=e.hideSidebar,u=(0,s.useStateFromStores)([f.default],(function(){return f.default.isFullscreenInContext()}));if(i)return null;var l=ge()?X.default.hiddenOnMobileStore:null;return te("div",{className:(0,o.default)(X.default.sidebar,l,(0,N.getThemeClass)(a),(t={},t[X.default.hasNotice]=r,t[X.default.hidden]=u,t))},void 0,Ee,te("section",{className:X.default.panels,"aria-label":Z.default.Messages.ACCOUNT_A11Y_LABEL},void 0,Oe,te(j.default,{section:$.AnalyticsSections.ACTIVITY_PANEL},void 0,te(ue,{className:X.default.activityPanel})),te(j.default,{section:$.AnalyticsSections.RTC_CONNECTION_PANEL},void 0,Se),te(j.default,{section:$.AnalyticsSections.ACCOUNT_PANEL},void 0,n?null:Ie)),be)}Ce.displayName="ChannelSidebar";var Te=te(A.default,{onLogin:function(){(0,V.openLoginModal)(void 0,H.openRegisterModal)},onRegister:function(){(0,H.openRegisterModal)(void 0,V.openLoginModal)}});var Pe=te(L.default,{}),Ae=te(W.default,{});function Me(){
var e=(0,s.useStateFromStores)([b.default],(function(){return b.default.isGuest()})),t=(0,s.useStateFromStores)([P.default],(function(){return P.default.hasNotice()})),n=(0,s.useStateFromStores)([d.default],(function(){return d.default.darkSidebar?$.ThemeTypes.DARK:void 0})),r=function(){var e=a.useState((function(){return window.location.pathname.startsWith($.Routes.GUILD_MEMBER_VERIFICATION(""))})),t=e[0],n=e[1];a.useEffect((function(){return I.default.addRouteChangeListener((function(e){n(e.pathname.startsWith($.Routes.GUILD_MEMBER_VERIFICATION("")))}))}),[]);return t}(),f=function(){var e=a.useState((function(){return window.location.pathname.startsWith($.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(""))})),t=e[0],n=e[1];a.useEffect((function(){return I.default.addRouteChangeListener((function(e){n(e.pathname.startsWith($.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}))}),[]);return t}(),v=function(){var e,t=(0,u.useLocation)();return!0===(null===(e=(0,
i.matchPath)(t.pathname,$.Routes.GUILD_BOOSTING_MARKETING(":guildId")))||void 0===e?void 0:e.isExact)}(),y=r||f||v,h=(0,u.useRouteMatch)([$.Routes.CHANNEL($.ME,":channelId"),$.Routes.CHANNEL(":guildId",":channelId?",":messageId?")]);return te("div",{className:X.default.container},void 0,te(g.default,{className:(0,o.default)(X.default.guilds,ge()?X.default.hiddenOnMobileStore:void 0),themeOverride:n}),te(p.default.Provider,{value:(null==h?void 0:h.params.guildId)===$.ME||null==h?void 0:h.params.guildId},void 0,te("div",{className:X.default.base},void 0,Pe,te("div",{className:X.default.content},void 0,a.createElement(Ce,{isGuest:e,hasNotice:t,sidebarTheme:n,hideSidebar:y}),te(u.Switch,{},void 0,te(c.default,{path:$.Routes.ACTIVITY,disableTrack:!0},void 0,te(u.Redirect,{to:$.Routes.ME})),te(c.default,{path:$.Routes.APPLICATION_LIBRARY,render:pe,impressionName:l.ImpressionNames.APPLICATION_LIBRARY,disableTrack:!0}),te(c.default,{path:$.Routes.APPLICATION_STORE,render:ye,
impressionName:l.ImpressionNames.APPLICATION_STORE,disableTrack:!0}),te(c.default,{path:$.Routes.ME,exact:!0,render:_e,impressionName:l.ImpressionNames.FRIENDS,disableTrack:!0}),te(c.default,{path:[$.Routes.CHANNEL($.ME,":channelId"),$.Routes.CHANNEL(":guildId",":channelId?",":messageId?")],render:le,impressionName:l.ImpressionNames.GUILD_CHANNEL,disableTrack:!0}),te(c.default,{path:$.Routes.GUILD_DISCOVERY,render:function(e){var t=e.location;return se(t.search)},impressionName:l.ImpressionNames.GUILD_DISCOVERY,disableTrack:!0}),te(c.default,{path:$.Routes.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),render:de,impressionName:l.ImpressionNames.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),te(c.default,{path:$.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),render:ce,impressionName:l.ImpressionNames.HUB_EMAIL_SIGNUP,impressionProperties:function(e){return{has_invite:void 0!==e.computedMatch.params.inviteCode}}}),te(c.default,{path:$.Routes.FEATURE(":feature"),
exact:!0,render:me,disableTrack:!0})),function(e){return e?Te:null}(e)))),Ae)}Me.displayName="AppView"},818685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=G;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=n(536211),o=D(n(234161)),i=D(n(200738)),u=n(844784),l=D(n(504010)),s=n(939027),d=D(n(825724)),c=D(n(791548)),f=D(n(967523)),p=D(n(330321)),v=D(n(217964)),y=n(894826),h=D(n(644263)),_=D(n(288356)),m=D(n(23535)),g=D(n(876874)),E=D(n(30098)),O=D(n(635014)),S=D(n(893160)),I=D(n(834162)),b=D(n(211136)),C=D(n(790597)),T=D(n(690445)),P=D(n(728429)),A=D(n(311256)),M=D(n(801745)),N=D(n(308920)),R=n(71246),w=n(770348);function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return k.apply(this,arguments)}function j(e,t){j=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return j(e,t)}var U=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;j(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.connected,r=e.isNSFWChannel,a=e.channelParentId;n&&null!=t&&(0,u.trackWithMetadata)(w.AnalyticEvents.CHANNEL_OPENED,{channel_is_nsfw:r,parent_id:a})};n.componentDidUpdate=function(e){var t=this.props,n=t.voiceChannelId,r=t.voiceChannelIdJoined,a=t.voiceChannelGuildId,i=t.voiceChannelType,f=t.voiceChannelBitrate,m=t.videoEnabled,g=t.isScreenSharing,O=t.runningGame,b=t.runningGamePid,T=t.selectedChannelId,P=t.selectedGuildId,A=t.channelParentId,M=t.connected,D=t.homeLink,L=t.friendsTabSection,j=t.isNSFWChannel,U=t.isMemberPending,G=t.hasPreviewEnabled,F=t.rtcConnectionId,x=t.postableChannelCount;if(e.voiceChannelId!==n&&null!=e.voiceChannelId){var W=I.default.getCurrentGame(),V=null!=W?W.name:"",H=v.default.getStageInstanceByChannel(e.voiceChannelId),B=p.default.getActiveEventByChannel(e.voiceChannelId)
;N.default.track(w.AnalyticEvents.LEAVE_VOICE_CHANNEL,k({channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:e.rtcConnectionId,game_name:V,duration:S.default.getDuration(),game_platform:this.props.gamePlatform,game_id:this.props.gameId,media_session_id:e.mediaSessionId,stage_instance_id:null==H?void 0:H.id,guild_scheduled_event_id:null==B?void 0:B.id},(0,u.getVoiceStateMetadata)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),{},S.default.getVoiceStateStats(),{},d.default.getSelectedParticipantStats(e.voiceChannelId)))}if(e.voiceChannelIdJoined!==r&&null!=r){var Y=I.default.getCurrentGame(),z=null!=Y?Y.name:"";if(null!=r&&null!=n){var K=v.default.getStageInstanceByChannel(n),$=p.default.getActiveEventByChannel(n);N.default.track(w.AnalyticEvents.JOIN_VOICE_CHANNEL,k({channel_id:n,channel_type:i,channel_bitrate:f,guild_id:a,rtc_connection_id:F,game_name:z,
game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==K?void 0:K.id,guild_scheduled_event_id:null==$?void 0:$.id},(0,u.getCustomStatusMetadata)(a,n),{},(0,u.getVoiceStateMetadata)(a,n,m)))}}if(e.runningGame!==O&&null!=O&&!O.isLauncher){var q=_.default.getGameByName(O.name);N.default.track(w.AnalyticEvents.LAUNCH_GAME,{game:O.name,game_id:null==q?null:q.id,verified:null!=q,elevated:O.elevated,game_platform:w.ActivityGamePlatforms.DESKTOP,distributor:O.distributor});if(null!=O.name&&null!=b&&_.default.shouldReport(O.name)){var Z=O.name,X=b;o.default.identifyGame(X,Z).then((function(e){return o.default.reportUnverifiedGame(e)})).catch((function(e){return new c.default("AutoAnalytics").error("Cannot identify game",e)}))}}if((e.videoEnabled!==m||e.isScreenSharing!==g)&&null!=n){var Q="none",J=[g?"screen":null,m?"camera":null].filter(R.isNotNullish),ee=null;if(g){Q="screen";ee=(0,s.getDesktopSourceMetadata)()}else m&&(Q="camera")
;N.default.track(w.AnalyticEvents.VIDEO_INPUT_TOGGLED,k({video_input_type:Q,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:J,preview_enabled:y.AlwaysPreviewVideo.getSetting()},ee,{},this.getGameMetadata(),{},(0,u.collectVoiceAnalyticsMetadata)(n)))}if(M&&null!=P&&(P!==e.selectedGuildId||!e.connected||U&&!e.isMemberPending)){var te,ne,re=k({},U?{is_pending:U,preview_enabled:G}:{},{postable_channels:x,premium_progress_bar_enabled:null!==(te=null===(ne=E.default.getGuild(C.default.getGuildId()))||void 0===ne?void 0:ne.premiumProgressBarEnabled)&&void 0!==te&&te});(0,u.trackWithMetadata)(w.AnalyticEvents.GUILD_VIEWED,re)}else!M||null!=P||D!==w.Routes.FRIENDS||e.connected&&L===e.friendsTabSection&&D===e.homeLink||N.default.track(w.AnalyticEvents.FRIENDS_LIST_VIEWED,k({tab_opened:L},(0,l.default)()));if(M&&null!=T&&(!e.connected||T!==e.selectedChannelId||P!==e.selectedGuildId)){var ae=(0,u.collectThreadMetadata)(h.default.getChannel(T),!0);(0,
u.trackWithMetadata)(w.AnalyticEvents.CHANNEL_OPENED,k({channel_is_nsfw:j,parent_id:A},ae))}};n.getGameMetadata=function(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}};n.render=function(){return null};return t}(r.PureComponent);U.displayName="AutoAnalytics";function G(){var e,t=(0,a.useStateFromStoresArray)([b.default],(function(){return[b.default.getVoiceChannelId(),b.default.getChannelId()]}),[]),n=t[0],o=t[1],u=(0,a.useStateFromStores)([h.default],(function(){return h.default.getChannel(o)}),[o]),l=null==u?void 0:u.nsfw,s=null!==(e=null==u?void 0:u.parent_id)&&void 0!==e?e:void 0,d=(0,a.useStateFromStores)([h.default],(function(){return h.default.getChannel(n)}),[n]),c=(0,a.useStateFromStores)([C.default],(function(){return C.default.getGuildId()}),[]),p=(0,a.useStateFromStores)([E.default],(function(){return E.default.getGuild(c)}),[c]),v=(0,a.useStateFromStores)([P.default],(function(){
return P.default.getCurrentUser()}),[]),y=(0,a.useStateFromStores)([g.default],(function(){var e,t;return null!=v&&null!=c&&(null!==(e=null===(t=g.default.getMember(c,v.id))||void 0===t?void 0:t.isPending)&&void 0!==e&&e)}),[v,c]),_=(0,a.useStateFromStores)([M.default],(function(){return M.default.getState().section}),[]),N=(0,a.useStateFromStores)([A.default],(function(){return A.default.getHomeLink()}),[]),R=(0,a.useStateFromStores)([m.default],(function(){return m.default.isConnected()}),[]),D=(0,a.useStateFromStoresArray)([O.default],(function(){return[O.default.isVideoEnabled(),O.default.isScreenSharing()]}),[]),L=D[0],k=D[1],j=(0,a.useStateFromStores)([S.default],(function(){return S.default.getChannelId()}),[]),G=(0,a.useStateFromStores)([T.default],(function(){return T.default.getPrimaryActivity()}),[]),F=(0,a.useStateFromStores)([I.default],(function(){return I.default.getCurrentGame()}),[]),x=(0,a.useStateFromStores)([S.default],(function(){
return S.default.getMediaSessionId()}),[]),W=(0,a.useStateFromStores)([S.default],(function(){return S.default.getRTCConnectionId()}),[]),V=(0,f.default)(c),H={selectedChannelId:o,channelParentId:s,isNSFWChannel:l,selectedGuildId:c,friendsTabSection:_,homeLink:N,connected:R,videoEnabled:L,isScreenSharing:k,voiceChannelId:null==d?void 0:d.id,voiceChannelIdJoined:j,voiceChannelGuildId:null==d?void 0:d.getGuildId(),voiceChannelType:null==d?void 0:d.type,voiceChannelBitrate:null==d?void 0:d.bitrate,runningGame:F,runningGamePid:null!=F?F.pid:null,gamePlatform:(0,i.default)(G),gameName:null!=G?G.name:null,gameId:null!=G?G.application_id:null,gameExeName:null!=F?F.exeName:null,hasPreviewEnabled:null==p?void 0:p.features.has(w.GuildFeatures.PREVIEW_ENABLED),isMemberPending:y,mediaSessionId:x,rtcConnectionId:W,postableChannelCount:V};return r.createElement(U,H)}G.displayName="ConnectedAutoAnalytics"},721536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Ne(n(667294)),o=Ae(n(294184)),i=Ae(n(441143)),u=n(370405),l=n(473727),s=n(536211),d=n(378158),c=Ae(n(864345)),f=Ae(n(825724)),p=Ae(n(803121)),v=Ae(n(678928)),y=n(856746),h=Ae(n(63608)),_=n(596271),m=Ae(n(646422)),g=Ae(n(324935)),E=Ae(n(57697)),O=Ae(n(689626)),S=Ae(n(141776)),I=Ae(n(540330)),b=Ae(n(542322)),C=Ae(n(818378)),T=Ae(n(764423)),P=Ae(n(463024)),A=n(451115),M=Ae(n(92332)),N=Ae(n(992634)),R=Ae(n(241813)),w=n(57449),D=Ae(n(930409)),L=n(139982),k=n(391869),j=Ae(n(225379)),U=n(637356),G=Ae(n(551619)),F=Ae(n(861370)),x=Ae(n(556250)),W=Ae(n(73942)),V=Ae(n(627900)),H=Ae(n(252283)),B=n(887299),Y=n(910992),z=n(508079),K=Ae(n(131629)),$=n(567186),q=Ae(n(423046)),Z=Ne(n(502546)),X=Ae(n(644263)),Q=n(687549),J=Ae(n(250650)),ee=Ae(n(137438)),te=Ae(n(30098)),ne=Ae(n(788739)),re=Ae(n(205982)),ae=Ae(n(211136)),oe=Ae(n(728429)),ie=Ae(n(387692)),ue=Ae(n(956117)),le=n(194322),se=Ae(n(528175)),de=n(319986),ce=n(71246),fe=n(518802),pe=Ae(n(914789)),ve=Ne(n(174851)),ye=Ae(n(416274)),he=Ae(n(448702)),_e=Ae(n(43233)),me=Ae(n(200574)),ge=Ae(n(424670)),Ee=Ae(n(805918)),Oe=Ae(n(300399)),Se=n(770348),Ie=n(859089),be=n(460703),Ce=n(808961),Te=Ae(n(247001)),Pe=Ae(n(149563))
;function Ae(e){return e&&e.__esModule?e:{default:e}}function Me(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Me=function(e){return e?n:t})(e)}function Ne(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Me(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Re(){Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Re.apply(this,arguments)}function we(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function De(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){we(o,r,a,i,u,"next",e)}function u(e){we(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Le(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ke(e,t){ke=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ke(e,t)}var je=Le(he.default,{}),Ue=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ke(e,t)}(t,e);function t(){for(var t,r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];(t=e.call.apply(e,[this].concat(u))||this).state={topicExpanded:!1,
threadSidebarWidth:void 0,isThreadSidebarFloating:!1};t.handleTitleParentClick=function(){var e=t.props.parentChannel;null!=e&&(0,k.transitionToChannel)(e.id)};t._handleContextMenu=function(e,n){switch(n.type){case Se.ChannelTypes.GUILD_VOICE:case Se.ChannelTypes.GUILD_ANNOUNCEMENT:case Se.ChannelTypes.GUILD_TEXT:case Se.ChannelTypes.GUILD_FORUM:t.openChannelContextMenu(e,n);break;case Se.ChannelTypes.ANNOUNCEMENT_THREAD:case Se.ChannelTypes.PUBLIC_THREAD:case Se.ChannelTypes.PRIVATE_THREAD:t.openThreadContextMenu(e,n);break;case Se.ChannelTypes.DM:t.openDMContextMenu(e,n)}};t.handleContextMenu=function(e){(0,i.default)(null!=t.props.channel,"Missing channel in Channel.handleContextMenu");t._handleContextMenu(e,t.props.channel)};t.handleParentContextMenu=function(e){(0,i.default)(null!=t.props.parentChannel,"Missing parentChannel in Channel.handleParentContextMenu");t._handleContextMenu(e,t.props.parentChannel)};t.handleThreadSidebarResize=function(e,n){t.setState({
threadSidebarWidth:e,isThreadSidebarFloating:n})};t.openUserProfile=function(){var e=t.props.channel;(0,i.default)(null!=e,"Missing channel in Channel.openUserProfile");(0,Y.openUserProfileModal)({userId:e.getRecipientId(),guildId:e.guild_id,analyticsLocation:{section:Se.AnalyticsSections.CHANNEL_HEADER}})};t.renderStreamQualityLiveIndicatorToolbarItem=function(){var e=t.props.selectedParticipant;return(null==e?void 0:e.type)!==Ie.ParticipantTypes.STREAM?null:Le(E.default,{size:se.default.Sizes.LARGE,participant:e,showQuality:!0},"live-indicator")};t.renderHeaderToolbar=function(){var e=t.props,n=e.channel,r=e.parentChannel,a=e.isLurking;(0,i.default)(null!=n,"Missing channel in Channel.renderHeaderToolbar");var o=[];if(n.isSystemDM())return o;switch(n.type){case Se.ChannelTypes.GUILD_STAGE_VOICE:case Se.ChannelTypes.GUILD_VOICE:return o;case Se.ChannelTypes.DM:o.push(t.renderStreamQualityLiveIndicatorToolbarItem());o.push(Le(M.default,{channel:n},"calls"));o.push(Le(T.default,{
channel:n},"pins"));o.push(Le(N.default,{channel:n,tooltip:Te.default.Messages.GROUP_DM_ADD_FRIENDS},"invite"));break;case Se.ChannelTypes.GROUP_DM:o.push(t.renderStreamQualityLiveIndicatorToolbarItem());o.push(Le(M.default,{channel:n},"calls"));o.push(Le(T.default,{channel:n},"pins"));if(!n.isManaged()){var u=Te.default.Messages.GROUP_DM_ADD_FRIENDS;o.push(Le(N.default,{channel:n,tooltip:u},"invite"))}o.push(Le(b.default,{channelId:n.id},"members"));break;case Se.ChannelTypes.ANNOUNCEMENT_THREAD:case Se.ChannelTypes.PRIVATE_THREAD:case Se.ChannelTypes.PUBLIC_THREAD:null==r||r.isForumChannel()||o.push(Le(x.default,{channel:r},"browser"));n.isArchivedThread()||o.push(Le(W.default,{channel:n},"notifications"));o.push(Le(T.default,{channel:n},"pins"));n.isArchivedThread()||o.push(Le(b.default,{channelId:n.id},"members"));o.push(Le(V.default,{channel:n},"threads-overflow"));break;case Se.ChannelTypes.GUILD_ANNOUNCEMENT:case Se.ChannelTypes.GUILD_TEXT:o.push(Le(x.default,{channel:n
},"browser"));a||o.push(Le(C.default,{channel:n},"notifications"));o.push(Le(T.default,{channel:n},"pins"));o.push(Le(b.default,{channelId:n.id},"members"));break;case Se.ChannelTypes.GUILD_FORUM:a||o.push(Le(C.default,{channel:n},"notifications"));o.push(Le(b.default,{channelId:n.id},"members"));break;case Se.ChannelTypes.GUILD_DIRECTORY:o.push(Le(b.default,{channelId:n.id},"members"))}return o};t.renderFollowButton=function(){var e=t.props,r=e.showFollowButton,o=e.channel;return r?Le(ue.default,{size:ue.default.Sizes.MIN,color:ue.default.Colors.PRIMARY,className:Pe.default.followButton,onClick:function(){return(0,le.openModalLazy)(De(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(35753)]).then(n.bind(n,735753));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,Re({channel:o},e))}));case 5:case"end":return e.stop()}}),e)
}))))}},void 0,Te.default.Messages.FOLLOW):null};t.renderHeaderBar=function(){var e=t.props,n=e.channel,r=e.channelName,a=e.parentChannel,u=e.guild,l=e.guildId,s=e.isGuest,d=e.showCall,c=e.hasVideo,f=e.isMobile;(0,i.default)(null!=n,"Missing channel in Channel.renderHeaderBar");(0,i.default)(null!=r,"Should not be null if channel is not null.");var p=n.isDM()?t.openUserProfile:void 0,v=null!=(null==a?void 0:a.guild_id)&&null!=(null==a?void 0:a.id)?t.handleTitleParentClick:void 0;return Le(P.default,{guildId:l,channelId:n.id,hideSearch:n.isDirectory(),toolbar:t.renderHeaderToolbar(),className:(0,o.default)(Pe.default.title,c&&d?(0,fe.getThemeClass)(Se.ThemeTypes.DARK):null),isGuest:s,transparent:d,"aria-label":Te.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},"header-"+n.id,(0,A.renderTitle)({channel:n,channelName:r,parentChannel:a,guild:u,hasVideo:c,isMobile:f,handleContextMenu:t.handleContextMenu,handleParentContextMenu:t.handleParentContextMenu,handleClick:p,handleParentClick:v,
renderFollowButton:t.renderFollowButton}),Le(A.HeaderGuildBreadcrumb,{channel:n,guild:u}),(0,A.renderTopic)(n,u))};return t}var r=t.prototype;r.componentDidMount=function(){(0,B.trackAppUIViewed)("guild_channel")};r.componentDidUpdate=function(e){null!=this.props.channel&&null!=e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1})};r.openChannelContextMenu=function(e,t){var r=this.props.guild;(0,i.default)(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,i.default)(null!=r,"Missing guild in Channel.openChannelContextMenu");(0,d.openContextMenuLazy)(e,De(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(32318)]).then(n.bind(n,532318));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,Re({},e,{channel:t,guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))}
;r.openThreadContextMenu=function(e,t){(0,i.default)(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,d.openContextMenuLazy)(e,De(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,Re({},e,{channel:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.openDMContextMenu=function(e,t){(0,i.default)(null!=t,"Missing channel in Channel.openDMContextMenu");var r=oe.default.getUser(t.getRecipientId());(0,i.default)(null!=r,"Missing user in Channel.openDMContextMenu");(0,d.openContextMenuLazy)(e,De(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(81085)]).then(n.bind(n,81085));case 2:o=e.sent;i=o.default
;return e.abrupt("return",(function(e){return a.createElement(i,Re({},e,{user:r,channelSelected:!0,channel:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.renderCall=function(){var e=this.props,t=e.channel,n=e.showCall,r=e.nsfwAllowed,a=e.nsfwAgree;(0,i.default)(null!=t,"Missing channel in Channel.renderCall");if((null==t?void 0:t.isNSFW())&&(!r||!a))return null;if(!n)return null;switch(t.type){case Se.ChannelTypes.GUILD_STAGE_VOICE:return Le(G.default,{channel:t},t.id);case Se.ChannelTypes.GUILD_VOICE:case Se.ChannelTypes.DM:case Se.ChannelTypes.GROUP_DM:var o=this.props.height-200;return Le(p.default,{channel:t,renderExternalHeader:this.renderHeaderBar,appContext:Se.AppContext.APP,maxHeight:o},"call-"+t.id);default:return null}};r.renderChat=function(){var e=this.props,t=e.channel,n=e.nsfwAgree,r=e.guild,a=e.nsfwAllowed,o=e.needSubscriptionToAccess;(0,i.default)(null!=t,"Missing channel in Channel.renderChat");if(o){(0,
i.default)(null!=r,"premium channels must exist within a guild");return Le(I.default,{channelId:t.id,guildId:r.id})}if(t.isNSFW()&&(!a||!n))return Le(Oe.default,{guild:r});if(t.isVocal())return null;if(t.isDirectory()){(0,i.default)(null!=r,"directory channels must exist within a guild");return Le(h.default,{channel:t,guild:r})}if(t.type===Se.ChannelTypes.GUILD_FORUM){(0,i.default)(null!=r,"forum channels must exist within a guild");return Le(m.default,{channel:t,guild:r},t.id)}return Le(pe.default,{channel:t,guild:r,renderThreadNotice:t.isThread(),chatInputType:y.ChatInputTypes.NORMAL},null!=r?r.id:"home")};r.renderSidebar=function(){var e=this.props,t=e.searchId,n=e.channel,r=e.parentChannel,a=e.guild,o=e.needSubscriptionToAccess,u=e.section;(0,i.default)(null!=n,"Missing channel in Channel.renderSidebar");if(o)return null;if(u===Se.ChannelSections.MEMBERS)switch(n.type){case Se.ChannelTypes.GROUP_DM:return Le(me.default,{channel:n},"private-channel-recipients-"+n.id)
;case Se.ChannelTypes.GUILD_DIRECTORY:case Se.ChannelTypes.GUILD_FORUM:case Se.ChannelTypes.GUILD_ANNOUNCEMENT:case Se.ChannelTypes.GUILD_TEXT:return Le(ye.default,{channel:n},"channel-members-"+n.id);case Se.ChannelTypes.ANNOUNCEMENT_THREAD:if(null!=r)return Le(ye.default,{channel:r},"channel-members-"+r.id);break;case Se.ChannelTypes.PUBLIC_THREAD:case Se.ChannelTypes.PRIVATE_THREAD:if(!n.isArchivedThread()&&null!=a)return Le(ge.default,{channel:n,guild:a},"channel-members-"+n.id)}else if(u===Se.ChannelSections.SEARCH&&null!=t)return Le(j.default,{searchId:t});return null};r.renderChannelModal=function(){var e=this.props,t=e.guildId,r=e.showWelcomeModal,o=e.isLurking,i=e.showRealNameModal;if(null==t)return null;i&&(0,le.openModalLazy)(De(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74302)]).then(n.bind(n,474302));case 2:r=e.sent;o=r.default
;return e.abrupt("return",(function(e){return a.createElement(o,Re({},e,{guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return O.default.viewPrompt(be.GuildPrompts.REAL_NAME_PROMPT,t)},modalKey:"Guild Hub Real Name Modal"});r&&(0,le.openModalLazy)(De(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(58095).then(n.bind(n,365760));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,Re({},e,{guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return(0,z.welcomeScreenViewed)(t,o)},modalKey:"Guild Welcome Screen Modal"});return null};r.renderThreadSidebar=function(){var e,t=this.props,n=t.channel,r=t.section,a=t.threadSidebarState,o=t.nsfwAgree,i=t.nsfwAllowed,u=t.width;if(r!==Se.ChannelSections.SIDEBAR_CHAT||null==a)return null;if((null==n?void 0:n.isNSFW())&&(!i||!o))return null
;switch(a.type){case Z.SidebarType.CREATE:if(null==n?void 0:n.isForumChannel())return null;e=Le(F.default,{parentChannelId:a.parentChannelId,parentMessageId:a.parentMessageId,location:a.location});break;case Z.SidebarType.VIEW_THREAD:e=Le((null==n?void 0:n.isForumChannel())?g.default:H.default,{channelId:a.channelId});break;case Z.SidebarType.VIEW_CHANNEL:return null;default:(0,ce.assertNever)(a)}var l=u-Se.CHANNEL_SIDEBAR_WIDTH-450;return Le(ve.default,{sidebarType:(null==n?void 0:n.type)===Se.ChannelTypes.GUILD_FORUM?ve.ChatSidebarType.PostSidebar:ve.ChatSidebarType.ThreadSidebar,maxWidth:l,onWidthChange:this.handleThreadSidebarResize},void 0,e)};r.render=function(){var e,t,n=this.props,r=n.channel,s=n.channelName,d=n.guild,c=n.showCall,f=n.inCall,p=n.voiceChannel,v=n.isUnavailable,y=n.hasModalOpen,h=n.layout,m=n.section,g=n.needSubscriptionToAccess,E=this.state,O=E.threadSidebarWidth,S=E.isThreadSidebarFloating;if(v)return je;if(null==r)return Le(_e.default,{
channelId:this.props.channelId});var I=null==d?void 0:d.hasFeature(Se.GuildFeatures.TEXT_IN_VOICE_ENABLED);if(!g&&!I&&(null==r?void 0:r.isVocal())&&!f){var b=r.getGuildId(),C=null==p?void 0:p.getGuildId();(0,i.default)(null!=b,"Guild voice channel without guild id.");if(!(null==p?void 0:p.isVocal())||C!==b||r.id===(null==p?void 0:p.id)){var T=(0,_.getGuildIdForGenericRedirect)(r);return Le(l.Redirect,{to:(0,de.previousTextChannelRouteForGuild)(null!=T?T:b)})}var P=(0,_.getGuildIdForGenericRedirect)(p);return Le(l.Redirect,{to:Se.Routes.CHANNEL(P,p.id)})}var A=m===Se.ChannelSections.SIDEBAR_CHAT;return a.createElement(a.Fragment,null,Le(u.Helmet,{title:s}),Le("div",{className:(0,o.default)(Pe.default.chat,(e={},e[Pe.default.threadSidebarOpen]=A,e[Pe.default.threadSidebarFloating]=A&&S,e))},void 0,r.isForumChannel()?null:Le(Ee.default,{style:{right:A?O:void 0},className:Pe.default.uploadArea,channel:r,draftType:Q.DraftType.ChannelMessage
}),c?null:this.renderHeaderBar(),this.renderCall(),Le("div",{className:(0,o.default)(Pe.default.content,(t={},t[Pe.default.noChat]=h===Se.ChannelLayouts.NO_CHAT,t))},void 0,this.renderChat(),this.renderSidebar()),y?null:this.renderChannelModal()),this.renderThreadSidebar())};return t}(a.PureComponent);Ue.displayName="Channel";var Ge=(0,c.default)(Ue),Fe=a.memo((function(){var e,t=a.useState(null),n=t[0],r=t[1],o=(0,s.useStateFromStores)([ae.default],(function(){return ae.default.getChannelId()})),i=(0,s.useStateFromStores)([ae.default],(function(){return ae.default.getVoiceChannelId()})),u=(0,s.useStateFromStores)([f.default],(function(){return null!=o&&f.default.getParticipants(o).length>0}),[o]),d=(0,s.useStateFromStores)([X.default],(function(){return X.default.getChannel(o)}),[o]),c=(0,s.useStateFromStores)([X.default],(function(){return X.default.getChannel(i)}),[i]),p=null==d?void 0:d.parent_id,y=(0,s.useStateFromStores)([X.default],(function(){return X.default.getChannel(p)
}),[p]),h=(0,s.useStateFromStores)([te.default],(function(){return te.default.getGuild(null==d?void 0:d.guild_id)}),[d]),_=(0,S.default)(null!==(e=null==d?void 0:d.id)&&void 0!==e?e:void 0).needSubscriptionToAccess,m=(null==h?void 0:h.hasFeature(Se.GuildFeatures.TEXT_IN_VOICE_ENABLED))&&(null==d?void 0:d.isVocal())||u,g=(0,l.useLocation)().welcomeModalChannelId,E=(0,s.useStateFromStores)([D.default],(function(){return null!=d&&D.default.isLurking(d.guild_id)}),[d]),O=(0,s.useStateFromStores)([K.default],(function(){return K.default.hasSeen(null==d?void 0:d.guild_id,E)}),[d,E]),I=(0,s.useStateFromStores)([f.default],(function(){return null!=o?f.default.getLayout(o):Se.ChannelLayouts.NORMAL}),[o]),b=(0,s.useStateFromStores)([f.default],(function(){return null!=d?f.default.getSelectedParticipant(d.id):null})),C=(0,s.useStateFromStores)([oe.default],(function(){return oe.default.getCurrentUser()})),T=(0,R.default)(h),P=g===o&&null!=d&&d.getGuildId()===(null==h?void 0:h.id)&&(0,
$.isGuildTextChannelType)(d.type)&&(null==h?void 0:h.hasFeature(Se.GuildFeatures.WELCOME_SCREEN_ENABLED))&&(null==h?void 0:h.hasFeature(Se.GuildFeatures.COMMUNITY)),A=(0,s.useStateFromStoresObject)([Z.default],(function(){return{section:Z.default.getSection(o),threadSidebarState:Z.default.getSidebarState(o)}})),M=A.section,N=A.threadSidebarState,k=(0,v.default)(d),j=null!=d&&i===d.id,G=null!=d&&d.isGuildStageVoice();a.useEffect((function(){var e,t=(0,L.getHistory)();if((null==t||null===(e=t.location)||void 0===e?void 0:e.state)===Ce.STAGE_INVITE_STATE_KEY){var n,a,o=(null!==(n=(0,w.tryParseChannelPath)(null==t||null===(a=t.location)||void 0===a?void 0:a.pathname))&&void 0!==n?n:{}).channelId;null!=o&&r(o)}}),[]);a.useEffect((function(){if(n&&null!=d&&G&&d.id===n&&!j){(0,U.connectAndOpen)(d);r(null)}}),[n,G]);return a.createElement(Ge,Re({guildId:null==d?void 0:d.guild_id,channelId:o,channel:d,channelName:k,parentChannel:y,voiceChannel:c,layout:I,needSubscriptionToAccess:_,isLurking:E,
hasModalOpen:(0,le.hasAnyModalOpen)(),section:M,threadSidebarState:N,guild:h,searchId:(0,s.useStateFromStores)([re.default],(function(){return re.default.getCurrentSearchId()})),showCall:!_&&m,nsfwAgree:(0,s.useStateFromStores)([ee.default],(function(){return ee.default.didAgree(null==d?void 0:d.guild_id)})),isMobile:(0,s.useStateFromStores)([ne.default],(function(){return(null==d?void 0:d.type)===Se.ChannelTypes.DM&&ne.default.isMobileOnline(d.getRecipientId())}),[d]),isGuest:(0,s.useStateFromStores)([q.default],(function(){return q.default.isGuest()})),isUnavailable:(0,s.useStateFromStores)([J.default],(function(){return null!=(null==d?void 0:d.guild_id)&&J.default.isUnavailable(d.guild_id)}),[d]),showRealNameModal:T,showWelcomeModal:!O&&P,showFollowButton:(null==d?void 0:d.type)===Se.ChannelTypes.GUILD_ANNOUNCEMENT&&(null==h?void 0:h.hasFeature(Se.GuildFeatures.NEWS))||!1},(0,s.useStateFromStoresObject)([ie.default],(function(){return{hasVideo:null!=d&&ie.default.hasVideo(d.id)}
}),[d]),{inCall:j,selectedParticipant:b,nsfwAllowed:!0===(null==C?void 0:C.nsfwAllowed)}))}));t.default=Fe},914789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=_e(n(667294)),o=ye(n(441143)),i=ye(n(95298)),u=n(536211),l=ye(n(186705)),s=ye(n(786345)),d=ye(n(55189)),c=ye(n(413546)),f=ye(n(274710)),p=n(81069),v=n(354575),y=ye(n(235879)),h=ye(n(844784)),_=ye(n(400704)),m=n(65621),g=ye(n(462936)),E=ye(n(906682)),O=ye(n(440214)),S=ye(n(271180)),I=n(856746),b=n(207052),C=n(192071),T=n(838574),P=n(105149),A=n(250916),M=n(457676),N=n(514756),R=n(62017),w=ye(n(614293)),D=ye(n(803069)),L=n(808484),k=n(886090),j=ye(n(359342)),U=n(770755),G=ye(n(734239)),F=ye(n(527820)),x=ye(n(502546)),W=_e(n(687549)),V=ye(n(409205)),H=ye(n(201292)),B=ye(n(689389)),Y=ye(n(211136)),z=ye(n(680873)),K=n(644105),$=ye(n(160629)),q=n(221656),Z=n(194322),X=ye(n(308920)),Q=n(993442),J=n(956506),ee=n(871382),te=n(245838),ne=n(247726),re=n(738326),ae=ye(n(695519)),oe=ye(n(576967)),ie=ye(n(756873)),ue=ye(n(786630)),le=ye(n(284382)),se=ye(n(626341)),de=n(770348),ce=n(963804),fe=ye(n(247001)),pe=ye(n(149563)),ve=["isSidebar"];function ye(e){return e&&e.__esModule?e:{default:e}
}function he(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(he=function(e){return e?n:t})(e)}function _e(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=he(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function me(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function ge(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ge(o,r,a,i,u,"next",e)}function u(e){ge(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Oe(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Se(e,t)}function Se(e,t){Se=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Se(e,t)}function Ie(){Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ie.apply(this,arguments)}function be(e){e.preventDefault()}var Ce=/^\+(?!\w+):?(?!:)(\w+)?:?$/;function Te(e){var t=e.isSidebar,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,ve)
;return t?a.createElement("section",Ie({},n,{"aria-label":fe.default.Messages.THREAD,role:"complementary"})):a.createElement("main",n)}var Pe=function(e){Oe(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isFirstChange=!0;t.state={textValue:W.default.getDraft(t.props.channel.id,W.DraftType.ChannelMessage),richValue:i.default.deserialize(W.default.getDraft(t.props.channel.id,W.DraftType.ChannelMessage)),contentWarningProps:null};t.draftDidChange=function(e){void 0===e&&(e=t.props);var n=t.state.textValue,r=W.default.getDraft(e.channel.id,W.DraftType.ChannelMessage);n===r||""!==r&&""!==n||t.setState({textValue:r,richValue:i.default.deserialize(r)},(function(){if(n!==r){var e=t.props.onFocus;null==e||e()}}))};t.handleKeyDown=function(e){var n=t.props,r=n.keyboardModeEnabled,a=n.onKeyDown,o=n.channel,i=e.shiftKey||e.altKey||e.ctrlKey||e.metaKey,u=0!==t.state.textValue.length;switch(e.which){
case de.KeyboardKeys.ARROW_UP:if(i)return;if(u)return;e.preventDefault();if(r)z.default.getUploadCount(o.id,W.DraftType.ChannelMessage)>0?J.ComponentDispatch.dispatchToLastSubscribed(de.ComponentActions.FOCUS_ATTACHMENT_AREA):J.ComponentDispatch.dispatchToLastSubscribed(de.ComponentActions.FOCUS_MESSAGES,{atEnd:!0});else{var l=t.props.channel,d=H.default.getLastEditableMessage(l.id);if(null!=d){s.default.startEditMessage(l.id,d.id,d.content);h.default.trackWithMetadata(de.AnalyticEvents.MESSAGE_EDIT_UP_ARROW)}}return;case de.KeyboardKeys.ESCAPE:if(i)return;if(e.target!==e.currentTarget)return;e.preventDefault();if(r){(0,v.disableKeyboardMode)();return}if(z.default.getUploadCount(o.id,W.DraftType.ChannelMessage)>0){c.default.clearAll(o.id,W.DraftType.ChannelMessage);return}}null==a||a(e,u)};t.handleTextareaChange=function(e,n,r){var a=t.props,o=a.keyboardModeEnabled,i=a.channel.id;l.default.changeDraft(i,n,W.DraftType.ChannelMessage)
;var u=""!==n&&r.document!==t.state.richValue.document,s=u&&!Ce.test(n)&&!n.startsWith("/")&&(!t.isFirstChange||n!==t.state.textValue);t.isFirstChange=!1;s?d.default.startTyping(i):""===n&&d.default.stopTyping(i);u&&o&&(0,v.disableKeyboardMode)();t.setState({textValue:n,richValue:r})};t.handleSendMessage=function(){var e=Ee(regeneratorRuntime.mark((function e(n,r,a,o,u,l){var d,v,y,h,E,O,S,I,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=n;if(0!==(n=n.trim()).length||null!=a&&0!==a.length||null!=r&&0!==r.length){e.next=4;break}return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 4:v=t.props,y=v.guild,h=v.channel,E=v.pendingReply,O=v.chatInputType;S=!1;if(null==o){e.next=18;break}if(o.inputType!==m.ApplicationCommandInputType.BUILT_IN_INTEGRATION){e.next=10;break}J.ComponentDispatch.dispatch(de.ComponentActions.SHAKE_APP,{duration:200,intensity:2});return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0
}));case 10:e.next=12;return(0,g.default)(o,null!=u?u:{},{guild:y,channel:h});case 12:I=e.sent;if(o.inputType!==m.ApplicationCommandInputType.BUILT_IN_TEXT){e.next=17;break}if(null!=I){n=null!=I.content&&""!==I.content?I.content:n;S=!0===I.tts}e.next=18;break;case 17:return e.abrupt("return",Promise.resolve({shouldClear:!0,shouldRefocus:!0}));case 18:if(null!==o||null==y||!d.startsWith(ce.COMMAND_SENTINEL)){e.next=23;break}if((b=d.substring(1))!==b.trimStart()||_.default.hasResults(b,p.ApplicationCommandType.CHAT)){e.next=23;break}J.ComponentDispatch.dispatch(de.ComponentActions.SHAKE_APP,{duration:200,intensity:2});return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 23:return e.abrupt("return",(0,ee.applyChatRestrictions)({openWarningPopout:function(e){return t.setState({contentWarningProps:e})},type:t.props.chatInputType,content:n,stickers:a,uploads:r,channel:h}).then((function(e){var o=e.valid,u=e.failureReason;if(!o){
if(u===de.MessageRestrictionTypes.SLOWMODE_COOLDOWN){J.ComponentDispatch.dispatch(de.ComponentActions.SHAKE_APP,{duration:200,intensity:2});J.ComponentDispatch.dispatch(de.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN);return{shouldClear:!1,shouldRefocus:!0}}return{shouldClear:!1,shouldRefocus:!1}}var d=s.default.getSendMessageOptionsForReply(E),p=w.default.parse(h,n);p.tts=p.tts||S;if(l){s.default.sendMessage(h.id,p,void 0,d);(0,k.deletePendingReply)(h.id);return{shouldClear:!1,shouldRefocus:!0}}if(null!=r&&r.length>0){var v=(0,re.getWebUploadFiles)(r);if((0,re.filesExceedUploadLimits)(v,null==y?void 0:y.id)){(0,ne.showUploadFileSizeExceededError)(h,v);return{shouldClear:!1,shouldRefocus:!1}}f.default.uploadFiles(h.id,r,W.DraftType.ChannelMessage,p,Ie({},d,{stickerIds:a}));c.default.clearAll(h.id,W.DraftType.ChannelMessage)}else null!=a&&a.length>0?""!==n?s.default.sendMessage(h.id,p,void 0,Ie({},d,{stickerIds:a
})):s.default.sendStickers(h.id,a,n,d,p.tts):s.default.sendMessage(h.id,p,void 0,d);t.setState({textValue:"",richValue:i.default.deserialize("")});(0,k.deletePendingReply)(h.id);(0,U.clearStickerPreview)(h.id,O.drafts.type);return{shouldClear:!0,shouldRefocus:!0}})));case 24:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}();t.renderAttachButton=function(e){return me(O.default,{className:e,channel:t.props.channel,draftType:W.DraftType.ChannelMessage,editorTextContent:t.state.textValue})};return t}var n=t.prototype;n.componentDidMount=function(){W.default.addChangeListener(this.draftDidChange)};n.componentWillUnmount=function(){W.default.removeChangeListener(this.draftDidChange)};n.componentDidUpdate=function(e,t){var n=this.props.channel,r=this.state.textValue;if(e.channel.id===n.id){if(e.hasModalOpen&&!this.props.hasModalOpen){var a=W.default.getDraft(n.id,W.DraftType.ChannelMessage);a!==r&&this.setState({textValue:a,
richValue:i.default.deserialize(a)})}t.textValue.length<de.MAX_MESSAGE_LENGTH&&r.length>=de.MAX_MESSAGE_LENGTH&&X.default.track(de.AnalyticEvents.MESSAGE_LENGTH_LIMIT_REACHED,{})}else this.draftDidChange(this.props)};n.render=function(){var e=this,t=this.props,n=t.channel,r=t.focused,i=t.onResize,u=t.onBlur,l=t.onFocus,s=t.highlighted,d=t.pendingReply,c=t.chatInputType,f=t.placeholder,p=this.state.contentWarningProps;return me($.default,{position:$.default.Positions.TOP,onRequestClose:function(){var t;null==p||null===(t=p.onCancel)||void 0===t||t.call(p);e.setState({contentWarningProps:null})},shouldShow:null!=p,renderPopout:function(e){var t=e.closePopout;(0,o.default)(null!=p,"ChannelTextAreaForm > Popout > renderPopout: contentWarningProps cannot be null");return a.createElement(se.default,Ie({onClose:t},p))}},void 0,(function(){return me(S.default,{textValue:e.state.textValue,richValue:e.state.richValue,focused:r,className:pe.default.channelTextArea,channel:n,placeholder:f,
pendingReply:d,type:c,onChange:e.handleTextareaChange,onSubmit:e.handleSendMessage,onResize:i,onFocus:l,onBlur:u,onKeyDown:e.handleKeyDown,renderAttachButton:e.renderAttachButton,promptToUpload:ne.promptToUpload,highlighted:s})}))};return t}(a.PureComponent);Pe.displayName="ChannelTextAreaForm";var Ae=me(q.ChatLayerContainer,{}),Me=function(e){Oe(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).inputFormRef=a.createRef();t.state={textAreaFocused:!1,textAreaHighlighted:!1,currentChannelId:t.props.channel.id};t.dispatchGroupRef=a.createRef();t.handleRequestFocus=function(e){e.channelId===t.props.channel.id&&t.setState({textAreaFocused:!0})};t.getAnalyticsPage=function(){var e=t.props.channel;if(null==e)return null;switch(e.type){case de.ChannelTypes.GUILD_ANNOUNCEMENT:case de.ChannelTypes.GUILD_TEXT:case de.ChannelTypes.GUILD_FORUM:return le.default.Pages.GUILD_CHANNEL;case de.ChannelTypes.GROUP_DM:
case de.ChannelTypes.DM:return le.default.Pages.DM_CHANNEL;default:return null}};t.handleInputFocus=function(e){var n;null===(n=t.dispatchGroupRef.current)||void 0===n||n.bumpDispatchPriority();(0,te.isFullScreen)()||(null!=(null==e?void 0:e.highlight)?t.setState({textAreaFocused:!0,textAreaHighlighted:null==e?void 0:e.highlight}):t.setState({textAreaFocused:!0}))};t.handleInputBlur=function(){(document.hasFocus()||t.props.hasModalOpen)&&t.setState({textAreaFocused:!1,textAreaHighlighted:!1})};t.handleInputKeyDown=function(e,n){t.state.textAreaHighlighted&&t.setState({textAreaHighlighted:!1});n||t._handleMoveToPane(e)};t.handleKeyDown=function(e){var n;(null===(n=t.inputFormRef.current)||void 0===n?void 0:n.contains(e.target))||t._handleMoveToPane(e)};t._handleMoveToPane=function(e){var n=t.props,r=n.keyboardModeEnabled,a=n.chatInputType,o=n.channel;if(r)switch(e.which){case de.KeyboardKeys.ARROW_LEFT:
a===I.ChatInputTypes.SIDEBAR&&J.ComponentDispatch.dispatch(de.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:Y.default.getChannelId()});return;case de.KeyboardKeys.ARROW_RIGHT:a===I.ChatInputTypes.NORMAL&&J.ComponentDispatch.dispatch(de.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:x.default.getCurrentSidebarChannelId(o.id)})}};t.handleOpenExpressionPicker=function(e){var n=e.activeView;(0,A.openExpressionPicker)(n,t.props.chatInputType)};t.handleChatInteract=function(){var e;null===(e=t.dispatchGroupRef.current)||void 0===e||e.bumpDispatchPriority()};t.renderMessageBanner=function(e,t,n,r,a){if(e.type===de.ChannelTypes.DM){if(t)return me(P.SenderSpammerBanner,{channel:e});if(n)return me(T.FirstDMReportSpamBanner,{channel:e})}return null!=a&&(0,M.isCommunicationDisabled)(a)&&null!=r?me(R.CommunicationDisabledBanner,{guild:r,disabledUntil:a}):null};return t}t.getDerivedStateFromProps=function(e,t){var n=e.channel,r=t.currentChannelId;return n.id!==r?{
textAreaFocused:null!=n&&B.default.can(de.Permissions.SEND_MESSAGES,n),currentChannelId:n.id}:null};var n=t.prototype;n.componentDidMount=function(){J.ComponentDispatch.subscribe(de.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};n.componentDidUpdate=function(e){this.props.isEditing===e.isEditing&&this.props.hasModalOpen===e.hasModalOpen||(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus())};n.componentWillUnmount=function(){J.ComponentDispatch.unsubscribe(de.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};n.render=function(){var e,t=this.props,n=t.channel,r=t.guild,o=t.keyboardModeEnabled,i=t.hasModalOpen,u=t.pendingReply,l=t.chatInputType,s=t.renderThreadNotice,d=t.placeholder,c=t.showNonFriendDMAcceptBanner,f=t.filterAfterTimestamp,p=t.showSpamBanner,v=t.communicationDisabledUntil,y=this.state,h=y.textAreaFocused,_=y.textAreaHighlighted,m=n.isPrivate()?oe.default:ie.default;return me(le.default,{
page:this.getAnalyticsPage()},"messages-"+n.id,me(q.ChatLayerProvider,{},void 0,a.createElement(Q.ComponentDispatchGroupProvider,{ref:this.dispatchGroupRef},me(Q.ComponentAction,{event:de.ComponentActions.TEXTAREA_FOCUS,handler:this.handleInputFocus}),me(Q.ComponentAction,{event:de.ComponentActions.TEXTAREA_BLUR,handler:this.handleInputBlur}),me(Q.ComponentAction,{event:de.ComponentActions.OPEN_EXPRESSION_PICKER,handler:this.handleOpenExpressionPicker}),me(Te,{isSidebar:l===I.ChatInputTypes.SIDEBAR,className:pe.default.chatContent,"aria-label":fe.default.Messages.CHANNEL_A11Y_LABEL.format({channelName:n.name}),onMouseDown:this.handleChatInteract,onKeyDown:this.handleKeyDown,onFocus:this.handleChatInteract},void 0,s?me(G.default,{channel:n}):null,(0,L.isReadStateStaffExperimentEnabled)()?me(ae.default,{guild:r,channel:n}):null,me(D.default,{channel:n,showingFirstMessageBanner:c,filterAfterTimestamp:f,showingSpamBanner:p
}),null!==(e=this.renderMessageBanner(n,p,c,r,v))&&void 0!==e?e:a.createElement("form",{ref:this.inputFormRef,onSubmit:be,className:pe.default.form},me(m,{channel:n},void 0,me(F.default,{tutorialId:"writing-messages",position:K.PopoutPositions.LEFT,offsetX:75},void 0,me(Pe,{focused:h,highlighted:_,channel:n,guild:r,keyboardModeEnabled:o,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,hasModalOpen:i,pendingReply:u,chatInputType:l,placeholder:d}))),me(ue.default,{channel:n})),Ae))))};return t}(a.PureComponent);Me.displayName="ChannelChat";var Ne=a.memo((function(e){var t=e.channel,n=e.guild,r=e.chatInputType,a=e.renderThreadNotice,o=e.filterAfterTimestamp,i=(0,E.default)(t),l=(0,C.useAndTrackNonFriendDMAccept)(t).showBanner,s=(0,b.useAndTrackDMSpamAccept)(t).showSpamBanner,d=(0,N.useCurrentUserCommunicationDisabled)(null==n?void 0:n.id)[0];return me(Me,{channel:t,isEditing:null!=(0,u.useStateFromStores)([V.default],(function(){
return V.default.getEditingMessageId(t.id)})),hasModalOpen:(0,Z.useModalsStore)(Z.hasAnyModalOpenSelector),guild:n,keyboardModeEnabled:(0,u.useStateFromStores)([y.default],(function(){return y.default.keyboardModeEnabled})),pendingReply:(0,u.useStateFromStores)([j.default],(function(){return j.default.getPendingReply(t.id)})),chatInputType:r,renderThreadNotice:a,placeholder:i,showNonFriendDMAcceptBanner:l,filterAfterTimestamp:o,showSpamBanner:s,communicationDisabledUntil:d})}));t.default=Ne},695519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=h(n(770549)),i=h(n(678928)),u=n(567186),l=h(n(644263)),s=h(n(563621)),d=h(n(956117)),c=h(n(811198)),f=h(n(776360)),p=n(770348),v=h(n(247001)),y=h(n(36656));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.guild,n=e.channel,r=(0,a.useStateFromStoresObject)([l.default,s.default],(function(){return{
category:null!=n.parent_id?l.default.getChannel(n.parent_id):null,isGuildMuted:s.default.isMuted(n.getGuildId()),isCategoryMuted:null!=n.parent_id&&s.default.isChannelMuted(n.getGuildId(),n.parent_id),isChannelMuted:s.default.isChannelMuted(n.getGuildId(),n.id),messageNotifications:s.default.resolvedMessageNotifications(n)}})),h=r.category,_=r.isGuildMuted,g=r.isCategoryMuted,E=r.isChannelMuted,O=r.messageNotifications,S=(0,i.default)(n,!0);if(!(0,u.isTextChannel)(n.type)||n.isThread())return null;var I,b,C,T=_||g||E;if(T){var P;if(_){var A;P=null!==(A=null==t?void 0:t.name)&&void 0!==A?A:"???";C=function(){return o.default.updateGuildNotificationSettings(n.getGuildId(),{muted:!1})}}else if(g){var M;P=null!==(M=null==h?void 0:h.name)&&void 0!==M?M:"???";C=function(){return o.default.updateChannelOverrideSettings(n.getGuildId(),n.parent_id,{muted:!1})}}else{P=S;C=function(){return o.default.updateChannelOverrideSettings(n.getGuildId(),n.id,{muted:!1})}}
I=v.default.Messages.CHANNEL_CHAT_NOTIFICATION_SETTINGS_NOTICE_MUTED.format({name:P});b=v.default.Messages.UNMUTE}else{if(O===p.UserNotificationSettings.ALL_MESSAGES)return null;I=v.default.Messages.CHANNEL_CHAT_NOTIFICATION_SETTINGS_NOTICE_ONLY_MENTIONS.format({name:S});b=v.default.Messages.ENABLE_NOTIFICATIONS_TITLECASE;C=function(){return o.default.updateChannelOverrideSettings(n.getGuildId(),n.id,{message_notifications:p.UserNotificationSettings.ALL_MESSAGES})}}return m("div",{className:y.default.chatHeaderBar},void 0,m(c.default,{className:y.default.chatHeaderBarIcon,foreground:T?y.default.chatHeaderBarIconStrikethrough:void 0}),m(f.default,{className:y.default.chatHeaderBarText,size:f.default.Sizes.SIZE_14,color:f.default.Colors.HEADER_SECONDARY},void 0,I),m(d.default,{size:d.default.Sizes.TINY,color:d.default.Colors.GREY,className:y.default.chatHeaderBarButton,onClick:C},void 0,b))}g.displayName="ChannelChatNotificationSettingsNotice"},174851:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.MIN_CHAT_SIDEBAR_WIDTH=t.ChatSidebarType=void 0;t.default=function(e){var t,n=e.sidebarType,r=e.maxWidth,l=e.onWidthChange,c=e.children,f=a.useRef(null),p=function(e){switch(e){case y.PostSidebar:return"postSidebarWidth";case y.ThreadSidebar:return"threadSidebarWidth";case y.CallChatSidebar:return"callChatSidebarWidth"}}(n),m=a.useState(s.default[p]),g=m[0],E=m[1],O=a.useCallback((function(e){var t;u.default.updatedUnsyncedSettings(((t={})[p]=e,t))}),[p]),S=r<=h,I=(0,i.clamp)(g,h,r);a.useEffect((function(){null==l||l(I,S)}),[I,l,S]);return a.createElement(a.Fragment,null,!S&&v(_,{maxWidth:r,resizableNode:f,onResize:E,onResizeEnd:O}),a.createElement("div",{ref:f,className:(0,o.default)(d.default.container,(t={},t[d.default.floating]=S,t)),style:{width:I}},c))};var r,a=p(n(667294)),o=c(n(294184)),i=n(496486),u=c(n(929031)),l=p(n(33273)),s=c(n(174508)),d=c(n(542709));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y,h=400
;t.MIN_CHAT_SIDEBAR_WIDTH=h;t.ChatSidebarType=y;!function(e){e[e.PostSidebar=0]="PostSidebar";e[e.ThreadSidebar=1]="ThreadSidebar";e[e.CallChatSidebar=2]="CallChatSidebar"}(y||(t.ChatSidebarType=y={}));function _(e){var t=e.resizableNode,n=e.onResize,r=e.onResizeEnd,a=e.maxWidth;return v("div",{onMouseDown:(0,l.default)({minDimension:h,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:l.ResizeOrientation.HORIZONTAL}),className:d.default.resizeHandle})}_.displayName="ResizeHandle"},416274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te
;var r,a=x(n(667294)),o=G(n(294184)),i=G(n(496486)),u=x(n(798628)),l=n(536211),s=G(n(389726)),d=n(378158),c=n(911574),f=G(n(55189)),p=G(n(235879)),v=G(n(843314)),y=G(n(844784)),h=n(632123),_=n(75639),m=n(252404),g=G(n(527820)),E=G(n(711195)),O=G(n(414068)),S=x(n(778548)),I=G(n(663303)),b=G(n(946447)),C=G(n(160629)),T=G(n(325908)),P=G(n(827436)),A=G(n(521358)),M=n(956506),N=n(71246),R=G(n(922629)),w=G(n(810332)),D=n(770348),L=G(n(247001)),k=G(n(645320)),j=["colorString","isOwner","nick","user","activities","applicationStream","status","channel","guildId","isTyping","isMobileOnline","premiumSince"],U=["ref","role"];function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function H(){H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return H.apply(this,arguments)}function B(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){B(o,r,a,i,u,"next",e)}function u(e){B(o,r,a,i,u,"throw",e)}i(void 0)}))}}function z(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;K(e,t)}function K(e,t){K=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return K(e,t)}var $=R.default.getEnableHardwareAcceleration(),q={origin:{x:38,y:11},targetWidth:232,targetHeight:40,offset:{x:0,y:0}},Z=function(e){z(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).renderUserContextMenu=function(e){(0,d.openContextMenuLazy)(e,Y(regeneratorRuntime.mark((function e(){var r,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(41501),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,H({},e,{user:t.props.user,guildId:t.props.guildId,channelId:t.props.channel.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleShiftClick=function(){var e=t.props,n=e.user,r=n.username,a=n.tag,o=e.channel.id,i="@"+(I.default.hidePersonalInformation?r:a);M.ComponentDispatch.dispatchToLastSubscribed(D.ComponentActions.INSERT_TEXT,{content:i});f.default.startTyping(o)};t.openGuildSubscriptionModal=function(e){var n=t.props.guildId;if(null!=n){e.stopPropagation();(0,_.openGuildBoostingMarketingModal)({guildId:n,locationSection:D.AnalyticsSections.MEMBER_LIST})}};t.renderUserPopout=function(e){return a.createElement(O.default,H({},e,{userId:t.props.user.id,
guildId:t.props.guildId,channelId:t.props.channel.id}))};return t}var r=t.prototype;r.shouldComponentUpdate=function(e){return!(0,s.default)(this.props,e,["channelId"])};r.render=function(){var e=this,t=this.props,n=t.colorString,r=t.isOwner,o=t.nick,i=t.user,u=t.activities,l=t.applicationStream,s=t.status,d=t.channel,c=t.guildId,f=t.isTyping,p=t.isMobileOnline,v=t.premiumSince,y=V(t,j),h=null!=v?new Date(v):null;return W(C.default,{preload:function(){return(0,E.default)(i.id,i.getAvatarURL(c,80),{guildId:c})},renderPopout:this.renderUserPopout,position:C.default.Positions.LEFT,spacing:16,onShiftClick:this.handleShiftClick},void 0,(function(t,v){var _=v.isShown;return a.createElement(w.default,H({onContextMenu:e.renderUserContextMenu,shouldAnimateStatus:$,user:i,nick:o,status:s,activities:u,applicationStream:l,isOwner:r,premiumSince:h,colorString:n,isTyping:f,channel:d,guildId:c,isMobile:p,onClickPremiumGuildIcon:e.openGuildSubscriptionModal,selected:_,itemProps:y},t))}))};return t
}(a.Component);Z.displayName="ChannelMember";var X=a.memo((function(e){var t=e.channel,n=e.user,r=e.index,o=(0,u.useListItem)(""+r),i=(0,l.useStateFromStores)([b.default],(function(){return b.default.isTyping(t.id,n.id)}));return a.createElement(Z,H({},e,o,{isTyping:i}))})),Q=a.memo((function(e){var t=e.id,n=e.title,r=e.count,o=e.guildId,i=(0,m.useRoleIcon)({roleId:t,guildId:o,size:16});return t===D.StatusTypes.UNKNOWN?W("div",{className:k.default.membersGroup},void 0,W("div",{className:k.default.memberGroupsPlaceholder})):W(T.default,{className:k.default.membersGroup},void 0,W(v.default,{},void 0,L.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:r})),W("span",{"aria-hidden":!0},void 0,null!=i?a.createElement(P.default,H({className:k.default.roleIcon},i)):null,n," â€” ",r))}));function J(e){var t=e.index,n=(0,u.useListItem)(""+t);return W(w.default,{itemProps:n})}J.displayName="ChannelMemberPlaceholder";var ee=function(e){z(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._list=null;t.setList=function(e){t._list=e;t.props.listRef.current=e};t.renderSection=function(e){var n=e.section,r=t.props,o=r.groups,i=r.channel,u=o[n];return 0===n?W(g.default,{tutorialId:"whos-online",position:C.default.Positions.LEFT,inlineSpecs:q},"section-"+n,a.createElement(Q,H({},u,{guildId:i.guild_id}))):a.createElement(Q,H({},u,{key:"section-"+n,guildId:i.guild_id}))};t.getRowProps=function(e){var n=t.props,r=n.groups,a=n.rows,o=r[e.section];if(null==o)return null;var i=o.index;return null==i||"row"!==e.type?null:a[i+1+e.row]};t.renderRow=function(e){var n=e.section,r=e.row,a=e.rowIndex,o=t.props.channel,i=t.getRowProps(e);if(null!=i&&i.type===S.MemberListRowTypes.MEMBER&&"user"in i){var u=i.colorString,l=i.user,s=i.status,d=i.isOwner,c=i.isMobileOnline,f=i.nick,p=i.activities,v=i.applicationStream,y=i.premiumSince;return W(X,{colorString:u,user:l,status:s,
isOwner:d,nick:f,activities:p,applicationStream:v,channel:o,guildId:o.guild_id,premiumSince:y,isMobileOnline:c,index:a},"member-"+i.user.id)}return W(J,{index:a},"placeholder-"+n+":"+r)};t.handleScroll=function(){t.updateSubscription()};t.updateSubscription=i.default.debounce((function(){if(null!=t._list){var e=t.props.channel,n=t.getDimensions(),r=n.rowHeight,a=n.y,o=n.height;(0,c.subscribeChannelDimensions)(e.guild_id,e.id,a,o,r)}}),50);t.trackMemberListViewed=function(){var e;if(t.lastReportedAnalyticsChannel!==t.props.channel.id){var n=null===(e=t._list)||void 0===e?void 0:e.getItems(),r=t.getDimensions().rowsVisible;if(void 0!==r&&0!==r&&null!=n){var a=n.map((function(e){return t.getRowProps(e)})).slice(0,r+1).filter(N.isNotNullish);if(0!==a.length){var o=a.reduce((function(e,t){if(t.type!==S.MemberListRowTypes.MEMBER)return e;e.num_users_visible++;t.isMobileOnline&&e.num_users_visible_with_mobile_indicator++;if(null!=t.activities&&t.activities.length>0){
e.num_users_visible_with_activity++;t.activities.some((function(e){return e.type===D.ActivityTypes.PLAYING}))&&e.num_users_visible_with_game_activity++}return e}),{num_users_visible:0,num_users_visible_with_mobile_indicator:0,num_users_visible_with_game_activity:0,num_users_visible_with_activity:0});t.lastReportedAnalyticsChannel=t.props.channel.id;y.default.trackWithMetadata(D.AnalyticEvents.MEMBER_LIST_VIEWED,H({},o))}}}};return t}var n=t.prototype;n.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version||e.groups.length!==this.props.groups.length};n.componentDidMount=function(){this.updateSubscription();this.trackMemberListViewed()};n.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription();this.trackMemberListViewed()};n.getDimensions=function(){var e=this._list;if(null==e)return{y:0,height:0,rowHeight:0};var t=e.getScrollerState(),n=t.offsetHeight,r=t.scrollTop;return{height:n,
rowHeight:44,rowsVisible:Math.floor(n/44),y:r}};n.render=function(){var e=this,t=this.props,n=t.groups,r=t.listId,i=t.channel;return W(h.FocusJumpSection,{},void 0,(function(t){return W("aside",{className:(0,o.default)(k.default.membersWrap,k.default.hiddenMembers),"aria-label":L.default.Messages.MEMBERS_LIST_LANDMARK_LABEL.format({channel:i.name})},void 0,W(u.ListNavigatorContainer,{},void 0,(function(o){var i=o.ref,u=o.role,l=V(o,U);return a.createElement(A.default,H({key:r,innerRole:u,innerAriaLabel:L.default.Messages.MEMBERS,ref:function(t){var n;e._list=t;e.props.listRef.current=t;i.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},className:k.default.members,paddingTop:0,sectionHeight:40,rowHeight:44,renderSection:e.renderSection,renderRow:e.renderRow,sections:n.map((function(e){return e.count})),onScroll:e.handleScroll,fade:!0},l,t))})))}))};return t}(a.Component);ee.displayName="ChannelMembers";function te(e){var t=e.channel,n=e.className,r=(0,
l.useStateFromStores)([p.default],(function(){return p.default.keyboardModeEnabled})),i=(0,l.useStateFromStoresObject)([S.default],(function(){return S.default.getProps(t.guild_id,t.id)})),s=i.rows,d=i.groups,c=a.useRef(null),f=a.useCallback((function(e,t){var n=c.current;if(null!=n){var r=parseInt(t,10),a=n.getSectionRowFromIndex(r),o=a[0],i=a[1],u=0===o&&0===i?44:0;n.scrollToIndex({section:o,row:i,padding:u,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[]),v=a.useCallback((function(){return new Promise((function(e){var t=c.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),y=a.useCallback((function(){return new Promise((function(e){var t=c.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]),h=(0,
u.default)({id:"members-"+t.id,setFocus:f,isEnabled:r,scrollToStart:v,scrollToEnd:y});return W("div",{className:(0,o.default)(k.default.container,n)},void 0,W(u.ListNavigatorProvider,{navigator:h},void 0,a.createElement(ee,H({},e,i,{groups:d,rows:s,listRef:c}))))}te.displayName="ConnectedChannelMembers"},83887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=_(n(667294)),o=n(536211),i=y(n(56911)),u=y(n(882832)),l=y(n(191391)),s=y(n(728429)),d=y(n(265851)),c=_(n(80212)),f=y(n(836943)),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=[];function E(e){var t=e.channel,r=e.onJump,y=(0,o.useStateFromStoresObject)([u.default],(function(){var e=u.default.getPinnedMessages(t.id),n=null!=e?e.messages:g;return{messages:n,loading:null==n||null!=e&&e.loading}})),h=y.messages,_=y.loading,E=(0,o.useStateFromStores)([l.default],(function(){return l.default.hasUnreadPins(t.id)})),O=(0,
o.useStateFromStores)([s.default],(function(){var e=s.default.getUser(t.getRecipientId());return null!=e?e.username:null}));a.useEffect((function(){E&&i.default.ackPins(t.id)}),[E,t.id]);return m(d.default,{"aria-label":v.default.Messages.PINNED_MESSAGES},void 0,m(c.default,{onFetch:function(){i.default.ackPins(t.id);i.default.fetchPins(t.id)},channel:t,messages:h,loading:_,analyticsName:"Channel Pins",onCloseMessage:function(e,n){null!=e&&(n.shiftKey?i.default.unpinMessage(t,e.id):f.default.confirmUnpin(t,e))},onJump:r,getProTip:function(){return t.isPrivate()?t.type===p.ChannelTypes.DM?v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:O}):v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM:v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL},renderHeader:function(){return m(c.Header,{title:v.default.Messages.PINNED_MESSAGES})},renderEmptyState:function(e){var r=v.default.Messages.NO_PINS_IN_CHANNEL;t.isPrivate()&&(r=v.default.Messages.NO_PINS_IN_DM)
;var a=e===p.ThemeTypes.LIGHT?n(937849):n(772144);return m(c.EmptyStateCenter,{msg:r,image:a},"emptystate")},listName:"pins"}))}E.displayName="ChannelPins"},701391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(473727),i=h(n(536211)),u=h(n(709403)),l=h(n(864345)),s=n(887299),d=h(n(484024)),c=h(n(284382)),f=n(858267),p=h(n(390491)),v=n(770348),y=h(n(492036));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).fetchStoreListing=function(e){var n=t.props,r=n.channel,a=n.inputSkuId
;return null!=e?u.default.fetchChannelStoreListing(r.id,e):null!=a?u.default.fetchChannelStoreListing(r.id,a):u.default.fetchChannelStoreListing(r.id)};t.renderApplicationListing=function(e){var n=e.location,r=t.props,a=r.channel,o=r.skuId,i=r.width;return m(p.default,{channel:a,inputSkuId:o,fetchStoreListing:t.fetchStoreListing,location:n,pageSize:(0,f.getPageSize)(i)})};return t}var n=t.prototype;n.componentDidMount=function(){this.fetchStoreListing();(0,s.trackAppUIViewed)("channel_store_listing")};n.render=function(){return null!=this.props.skuId?m(c.default,{page:v.AnalyticsPages.CHANNEL_STORE_LISTING,root:!0},void 0,m("div",{className:y.default.applicationStore},void 0,m(o.Route,{path:"*",render:this.renderApplicationListing}))):null};return t}(a.Component);E.displayName="ChannelStoreListing";var O=(0,l.default)(i.default.connectStores([d.default],(function(e){var t=e.channel,n=e.inputSkuId;return{skuId:null!=n?n:d.default.getSkuIdForChannel(t.id)}}))(E));t.default=O},
448702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=h(n(213847)),u=h(n(844784)),l=h(n(463024)),s=h(n(562796)),d=h(n(776360)),c=n(770348),f=h(n(247001)),p=h(n(361751)),v=h(n(192941)),y=h(n(232353));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=((r={})[c.ThemeTypes.DARK]=v.default,r[c.ThemeTypes.LIGHT]=y.default,r),E=m(o.Fragment,{}),O=m(l.default.Icon,{icon:s.default,"aria-hidden":!0}),S=function(){var e=(0,i.default)();o.useEffect((function(){u.default.trackWithMetadata(c.AnalyticEvents.GUILD_OUTAGE_VIEWED,{})}),[]);return m("div",{className:p.default.container},void 0,m(l.default,{toolbar:E},void 0,O,m(l.default.Title,{},void 0,f.default.Messages.GUILD_UNAVAILABLE_HEADER)),m("div",{className:p.default.content},void 0,m("img",{alt:"",className:p.default.splashImage,src:g[e]}),m(d.default,{className:p.default.splashHeader,size:d.default.Sizes.SIZE_24
},void 0,f.default.Messages.GUILD_UNAVAILABLE_TITLE),m(d.default,{className:p.default.splashText,size:d.default.Sizes.SIZE_16},void 0,f.default.Messages.GUILD_UNAVAILABLE_BODY)))};S.displayName="ChannelUnavailable";var I=S;t.default=I},825469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=I(n(441143)),i=I(n(294398)),u=I(n(726485)),l=I(n(14096)),s=I(n(235879)),d=I(n(916239)),c=I(n(364172)),f=n(956506),p=I(n(593878)),v=I(n(969940)),y=I(n(421651)),h=I(n(818685)),_=I(n(323019)),m=I(n(396201)),g=I(n(229108)),E=I(n(742234)),O=n(770348),S=I(n(542729));function I(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var T=C(y.default,{}),P=C(p.default,{}),A=C(v.default,{}),M=C(i.default,{}),N=C(h.default,{}),R=C(g.default,{}),w=C(c.default,{}),D=C(d.default,{}),L=C(_.default,{});function k(){var e=a.useRef(null),t=a.useCallback((function(t){var n=t.duration,r=t.intensity;if(!s.default.useReducedMotion){var a=e.current;(0,o.default)(null!=a,"Shakeable is shaken when not mounted");a.shake(n,r)}}),[]);a.useEffect((function(){l.default.setLayout(u.default);l.default.enable();return function(){return l.default.disable()}}),[]);a.useEffect((function(){f.ComponentDispatch.subscribe(O.ComponentActions.SHAKE_APP,t);return function(){f.ComponentDispatch.unsubscribe(O.ComponentActions.SHAKE_APP,t)}}),[t]);return a.createElement(E.default,{ref:e,className:S.default.app},C(m.default,{className:S.default.layers},void 0,T),P,A,M,N,R,w,D,L)}k.displayName="Chat";var j=a.memo(k);t.default=j},678306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=P(n(294184)),i=P(n(496486)),u=P(n(74854)),l=P(n(536211)),s=P(n(972247)),d=P(n(761537)),c=P(n(235879)),f=P(n(749666)),p=P(n(805764)),v=P(n(796608)),y=P(n(23535)),h=P(n(758602)),_=P(n(151097)),m=P(n(934297)),g=P(n(637853)),E=P(n(962314)),O=n(864489),S=n(179379),I=P(n(922629)),b=n(770348),C=P(n(247001)),T=P(n(678114));function P(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function M(e,t){M=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return M(e,t)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(t){var n,r;(n=e.call(this,t)||this).videoRef=null;n._noProblemsTimeout=null;n._problemsTimeout=null;n._connectedSound=n.createSound()
;n._loadingText=(r=[C.default.Messages.LOADING_LINE_1,C.default.Messages.LOADING_LINE_2,C.default.Messages.LOADING_LINE_3,C.default.Messages.LOADING_LINE_4,C.default.Messages.LOADING_LINE_5,C.default.Messages.LOADING_LINE_6,C.default.Messages.LOADING_LINE_7,C.default.Messages.LOADING_LINE_8,C.default.Messages.LOADING_LINE_10,C.default.Messages.LOADING_LINE_11,C.default.Messages.LOADING_LINE_12,C.default.Messages.LOADING_LINE_13,C.default.Messages.LOADING_LINE_14,C.default.Messages.LOADING_LINE_15,C.default.Messages.LOADING_TIP_1,C.default.Messages.LOADING_TIP_2,C.default.Messages.LOADING_TIP_3,C.default.Messages.LOADING_TIP_4,C.default.Messages.LOADING_TIP_5,C.default.Messages.LOADING_TIP_6,C.default.Messages.LOADING_TIP_7,C.default.Messages.LOADING_TIP_8,C.default.Messages.LOADING_TIP_9,C.default.Messages.LOADING_TIP_10,C.default.Messages.LOADING_TIP_11,C.default.Messages.LOADING_TIP_12,C.default.Messages.LOADING_TIP_13,C.default.Messages.LOADING_TIP_14,C.default.Messages.LOADING_TIP_15,C.default.Messages.LOADING_TIP_16,C.default.Messages.LOADING_TIP_17,C.default.Messages.LOADING_TIP_18,C.default.Messages.LOADING_TIP_19,C.default.Messages.LOADING_TIP_20,C.default.Messages.LOADING_TIP_21,C.default.Messages.LOADING_TIP_22,C.default.Messages.LOADING_TIP_23,C.default.Messages.LOADING_TIP_24,C.default.Messages.LOADING_TIP_25,C.default.Messages.LOADING_TIP_26,C.default.Messages.LOADING_TIP_27.format({
asterisks:"**"}),C.default.Messages.LOADING_KEYBIND_TIP_1.format({quickSwitcherHook:function(e,t){return N(f.default,{shortcut:"mod+k",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_2.format({markUnreadHook:function(e,t){return N(f.default,{shortcut:"alt+click",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_3.format({markServerUnreadHook:function(e,t){return N(f.default,{shortcut:"shift+esc",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_4.format({navigateUnreadHook:function(e,t){return N(f.default,{shortcut:"shift+alt+up",className:T.default.keybind},t)},downHook:function(e,t){return N(f.default,{shortcut:"down",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_5.format({keyboardShortcutsHook:function(e,t){return N(f.default,{shortcut:"mod+/",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_6.format({messageNewlineHook:function(e,t){return N(f.default,{
shortcut:"shift+return",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_7.format({shiftHook:function(e,t){return N(f.default,{shortcut:"shift",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_8.format({upHook:function(e,t){return N(f.default,{shortcut:"up",className:T.default.keybind},t)}})])[i.default.random(r.length-1)];n.handleReady=function(){n.setState({ready:!0});if((0,O.isDesktop)()){I.default.send("UPDATED_QUOTES",["Hold Tight â€” Loading Discord"]);I.default.send("UPDATE_OPEN_ON_STARTUP")}};n.setVideoRef=function(e){n.videoRef=e};n.setProblemsTimeout=function(){null==n._problemsTimeout&&(n._problemsTimeout=setTimeout((function(){return n.setState({problems:!0})}),1e4))};n.clearProblemsTimeout=function(){clearTimeout(n._problemsTimeout);n._problemsTimeout=null};var a=t.connected;n.state={ready:a,hide:a,problems:!1,shouldRender:!a,opacity:new u.default.Value(a?0:1)};n._connectedSound.volume=1;return n}var n=t.prototype
;n.createSound=function(){var e=this.props.soundpack,t=(0,S.createSoundForPack)("discodo",e);t.volume=1;return t};n.componentDidMount=function(){this.setProblemsTimeout()};n.componentDidUpdate=function(e,t){var n=this,r=this.state,a=r.ready,o=r.hide,i=r.problems,l=r.opacity,c=this.props,f=c.connected,p=c.soundpack,v=c.reducedMotion,y=f&&a&&!o&&!i;e.soundpack!==p&&(this._connectedSound=this.createSound());if(e.connected!==f||y)if(f&&null!=this.videoRef){var h=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);clearTimeout(this._noProblemsTimeout);s.default.get(b.DISCODO_STORAGE_KEY)&&this._connectedSound.play();v?this.setState({problems:!1,hide:f}):this._noProblemsTimeout=setTimeout((function(){n.setState({problems:!1,hide:f})}),h)}else this.setState({problems:!1,hide:f});else if(t.hide!==o){o?this.clearProblemsTimeout():this.setProblemsTimeout();this.setState({shouldRender:!0});u.default.timing(l,{toValue:o?0:1,duration:200}).start((function(){
return n.setState({shouldRender:!o})}))}else t.problems!==i&&i&&d.default.checkIncidents()};n.componentWillUnmount=function(){this.clearProblemsTimeout();clearTimeout(this._noProblemsTimeout)};n.render=function(){if(this.state.shouldRender){var e,t=this._loadingText,n=null;if(null!=this.props.incident){t=this.props.incident.name;n=this.props.incident.incident_updates[0].body}return N(u.default.div,{className:T.default.container,style:{opacity:this.state.opacity}},void 0,N("div",{className:T.default.content},void 0,N(E.default,{autoPlay:!0,loop:!this.props.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?T.default.ready:""}),N("div",{className:T.default.text},void 0,null!=this.props.incident?null:N("div",{className:T.default.tipTitle},void 0,C.default.Messages.LOADING_DID_YOU_KNOW),N("div",{className:null!=this.props.incident?T.default.title:T.default.tip},void 0,t),N("div",{className:T.default.body},void 0,n))),N("div",{className:(0,
o.default)(T.default.problems,(e={},e[T.default.slideIn]=this.state.problems,e))},void 0,N("div",{className:T.default.problemsText},void 0,C.default.Messages.CONNECTING_PROBLEMS_CTA),N("div",{},void 0,N(_.default,{className:T.default.twitterLink,href:(0,p.default)(b.LocalizedLinks.TWITTER),target:"_blank"},void 0,N(g.default,{className:T.default.icon}),C.default.Messages.TWEET_US),N(_.default,{className:T.default.statusLink,href:b.Links.STATUS,target:"_blank"},void 0,N(m.default,{className:T.default.icon}),C.default.Messages.SERVER_STATUS))))}return null};return t}(a.PureComponent);R.displayName="ConnectingModal";var w=l.default.connectStores([y.default,h.default,v.default,c.default],(function(){return{isTryingToConnect:y.default.isTryingToConnect(),connected:y.default.isConnected(),incident:h.default.getIncident(),soundpack:v.default.getSoundpack(),reducedMotion:c.default.useReducedMotion}}))((function(e){
var t=e.isTryingToConnect,n=e.connected,r=e.incident,a=e.soundpack,o=e.reducedMotion;return t?N(R,{reducedMotion:o,soundpack:a,connected:n,incident:r}):null}));t.default=w},41234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(972247)),u=f(n(16941)),l=f(n(259530)),s=f(n(934297)),d=f(n(247001)),c=f(n(9007));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){
return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y="isHideDevBanner",h=function(){var e,t=(0,a.useState)("true"===(null===(e=i.default.get(y,"false"))||void 0===e?void 0:e.toString())),n=t[0],r=t[1];if(n)return null;var f=function(){i.default.set(y,!0);r(!0)},p=function(){return v(u.default,{onClick:f,className:c.default.closeButton,"aria-label":d.default.Messages.DISMISS},void 0,v(l.default,{className:c.default.closeIcon}))};0;if("staging"===window.GLOBAL_ENV.RELEASE_CHANNEL){return v("div",{className:(0,o.default)(c.default.devBanner,c.default.staging)},void 0,v(s.default,{
className:c.default.icon}),d.default.Messages.DEV_NOTICE_STAGING.format({buildNumber:"115633"}),v(p,{}))}return null};t.default=h},43233:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=h(n(667294)),o=n(536211),i=v(n(772145)),u=v(n(790597)),l=v(n(871778)),s=h(n(737705)),d=v(n(80828)),c=n(770348),f=v(n(247001)),p=v(n(591701));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.channelId;a.useEffect((function(){i.default.loadThread(t)}));var r,v=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuildId()}))===c.FAVORITES,y=(0,o.useStateFromStores)([l.default],(function(){return l.default.theme}));r=v?_(s.EmptyStateText,{note:f.default.Messages.FAVORITES_EMPTY_BODY},void 0,f.default.Messages.FAVORITES_EMPTY_TITLE):null!=t?_(d.default,{type:d.default.Type.SPINNING_CIRCLE}):_(s.EmptyStateText,{note:f.default.Messages.CHANNELS_UNAVAILABLE_BODY},void 0,f.default.Messages.CHANNELS_UNAVAILABLE_TITLE)
;return _("div",{className:p.default.noChannel},void 0,_(s.default,{theme:y},void 0,_(s.EmptyStateImage,{darkSrc:n(v?128112:16697),lightSrc:n(v?876406:105045),width:272,height:222}),r))}m.displayName="EmptyChannel"},323019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=y(n(496486)),o=n(143544),i=n(248088),u=n(536211),l=y(n(297452)),s=y(n(796608)),d=y(n(919935)),c=y(n(663303)),f=y(n(931411)),p=n(179379),v=n(340038);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var m={transform:"scale(0.7)",opacity:0},g={transform:"scale(1)",opacity:1},E=function(){var e=(0,u.useStateFromStoresArray)([f.default],(function(){return f.default.getIncomingCalls()})),t=(0,u.useStateFromStores)([f.default],(function(){return f.default.hasIncomingCalls()})),n=(0,u.useStateFromStores)([d.default],(function(){return d.default.isSoundDisabled("call_ringing")})),y=(0,u.useStateFromStores)([c.default],(function(){return c.default.disableSounds})),h=(0,u.useStateFromStores)([s.default],(function(){return s.default.getSoundpack()})),E=r.useRef(!1),O=(0,o.useStableMemo)((function(){return h===v.Soundpacks.CLASSIC?(0,
p.createSound)(500===a.default.random(1,1e3)?"call_ringing_beat":"call_ringing"):(0,p.createSoundForPack)("call_ringing",h)}),[h]);r.useEffect((function(){return function(){O.stop()}}),[O]);r.useEffect((function(){if(y||n){if(E.current){O.stop();E.current=!1}}else if(t&&!E.current){O.loop();E.current=!0}else if(!t&&E.current){O.stop();E.current=!1}}),[n,y,t,O]);return(0,i.useTransition)(e,{keys:function(e){var t;return null===(t=e.channel)||void 0===t?void 0:t.id},enter:{from:m,to:g},leave:m,config:{mass:1,tension:500,friction:18,clamp:!0}})((function(e,t){return r.createElement(l.default,_({},t,{animatedStyle:e}))}))};t.default=E},396201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=K
;var r,a,o=P(n(667294)),i=C(n(294184)),u=C(n(74854)),l=P(n(536211)),s=C(n(550024)),d=n(264720),c=n(246049),f=C(n(14096)),p=n(836233),v=C(n(235879)),y=n(329117),h=C(n(68625)),_=C(n(122913)),m=C(n(728526)),g=n(378444),E=n(956506),O=n(518802),S=n(770348),I=C(n(785535)),b=["mode","children","baseLayer"];function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(23622),n.e(1429),n.e(93198),n.e(92782),n.e(54313)]).then(n.bind(n,64721))},webpackId:64721,name:"UserSettings"}),D=(0,
y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(97621)]).then(n.bind(n,437897))},webpackId:437897,name:"ChannelSettings"}),L=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(76885)]).then(n.bind(n,261236))},webpackId:261236,name:"RTCDebug"}),k=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(92782),n.e(86955)]).then(n.bind(n,799017))},webpackId:799017,name:"GuildIdentitySettingsPage"}),j=A(w,{}),U=A(D,{}),G=A(h.default,{}),F=A(L,{}),x=A(k,{}),W=((r={})[S.Layers.USER_SETTINGS]=function(){return j},r[S.Layers.CHANNEL_SETTINGS]=function(){return U},r[S.Layers.GUILD_SETTINGS]=function(){return G},r[S.Layers.RTC_DEBUG]=function(){return F},r[S.Layers.GUILD_IDENTITY_SETTINGS]=function(){return x},r),V="SHOWN",H="HIDDEN",B={friction:10,tension:100},Y=function(e){N(t,e);t.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null};function t(t){var n
;(n=e.call(this,t)||this).containerRef=o.createRef();var r=1,a=1;if(t.mode===H){r=.93;a=0}n.state={animating:!1,scale:new u.default.Value(r),opacity:new u.default.Value(a),mode:t.mode};return n}var n=t.prototype;n.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return t===V&&n===H?this.animateIn():t===H&&n===V?this.animateUnder():void 0};n.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity;n.scale.setValue(1.1);r.setValue(0);e();this.setState({animating:!0},(function(){return t.animateIn()}))};n.componentWillLeave=function(e){var t=this;this.setState({animating:!0},(function(){return t.animateOut(e)}))};n.animateIn=function(e){var t=this;l.default.Store.pauseEmittingChanges(500);var n=this.state,r=n.opacity,a=n.scale;u.default.parallel([u.default.spring(r,M({toValue:1},B)),u.default.spring(a,M({toValue:1},B))]).start((function(){return t.animateComplete(e)}))};n.animateOut=function(e){l.default.Store.pauseEmittingChanges(500)
;var t=this.state,n=t.opacity,r=t.scale;E.ComponentDispatch.dispatch(S.ComponentActions.LAYER_POP_START);u.default.parallel([u.default.spring(n,M({toValue:0},B)),u.default.spring(r,M({toValue:1.1},B))]).start((function(){e();E.ComponentDispatch.dispatch(S.ComponentActions.LAYER_POP_COMPLETE)}))};n.animateUnder=function(){var e=this;l.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;u.default.parallel([u.default.spring(n,M({toValue:0},B)),u.default.spring(r,M({toValue:.93},B))]).start((function(){return e.animateComplete()}))};n.animateComplete=function(e){this.setState({animating:!1},e)};n.render=function(){var e,t=this,n=this.state.animating,r=this.props,a=r.mode,l=r.children,s=r.baseLayer,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(r,b),c=n||a===H?this.getAnimatedStyle():null,f=o.createElement(u.default.div,M({ref:function(e){
return t.containerRef.current=null!=e?e.refs.node:void 0},"aria-hidden":a===H,className:(0,i.default)(I.default.layer,(e={},e[I.default.baseLayer]=s,e[I.default.animating]=n,e["stop-animations"]=a===H,e)),style:c},d),l);return s?f:A(m.default,{containerRef:this.containerRef},void 0,f)};n.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return{opacity:t,transform:this.context.reducedMotion.enabled?void 0:[{scale:n},{translateZ:0}]}};return t}(o.PureComponent);Y.displayName="Layer";Y.defaultProps={baseLayer:!1};Y.contextType=p.AccessibilityPreferencesContext;var z=function(e){N(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){var e=this.props.layers;if(e[e.length-1]===S.Layers.USER_SETTINGS){f.default.enable();f.default.enableTemp(c.SETTINGS_LAYERS_LAYOUT)}E.ComponentDispatch.subscribe(S.ComponentActions.LAYER_POP_ESCAPE_KEY,d.popLayer)};n.componentDidUpdate=function(e){
var t=this.props,n=t.layers,r=t.hasFullScreenLayer,a=e.layers.length>0||e.hasFullScreenLayer,o=n.length>0||r;!a&&o||o&&n===e.layers&&n[0]===S.Layers.USER_SETTINGS?f.default.enableTemp(c.SETTINGS_LAYERS_LAYOUT):a&&!o&&f.default.disableTemp()};n.componentWillUnmount=function(){E.ComponentDispatch.unsubscribe(S.ComponentActions.LAYER_POP_ESCAPE_KEY,d.popLayer)};n.renderLayers=function(){var e=this,t=this.props,n=t.children,r=t.layers,a=t.hasFullScreenLayer,o=r.length,i=[];i.push(A(Y,{mode:0!==o||a?H:V,baseLayer:!0},"layer-base",n));r.forEach((function(t,n){return i.push(e.renderComponent(t,n,o))}));return i};n.renderComponent=function(e,t,n){var r,a=t===n-1,o="layer";if("string"==typeof e){o=e;r=W[e]()}else r=A(e,{});return A(Y,{"aria-label":o,mode:a?V:H},"layer-"+t,r)};n.renderArtisanalHack=function(){return A("div",{className:(0,i.default)(I.default.bg,(0,O.getThemeClass)(this.props.sidebarTheme))})};n.render=function(){
return o.createElement(o.Fragment,null,this.renderArtisanalHack(),A(s.default,{component:"div",className:(0,i.default)(I.default.layers,this.props.className)},void 0,this.renderLayers()))};return t}(o.PureComponent);z.displayName="Layers";function K(e){var t=(0,l.useStateFromStores)([v.default],(function(){return v.default.darkSidebar}))?S.ThemeTypes.DARK:void 0,n=(0,l.useStateFromStores)([_.default],(function(){return _.default.getLayers()})),r=(0,g.useFullScreenLayerStore)((function(e){return e.fullScreenLayers.length>0}));return o.createElement(z,M({},e,{sidebarTheme:t,layers:n,hasFullScreenLayer:r}))}K.displayName="ConnectedLayers"},712283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"NotchBackground",{enumerable:!0,get:function(){return f.NotchBackground}});t.default=void 0
;var r,a=I(n(667294)),o=O(n(496486)),i=O(n(536211)),u=n(91817),l=O(n(740207)),s=O(n(635014)),d=O(n(893160)),c=O(n(956117)),f=I(n(358255)),p=O(n(730977)),v=O(n(37241)),y=I(n(662197)),h=O(n(308920)),_=n(770348),m=n(376293),g=O(n(247001)),E=O(n(502258));function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var T=-100,P=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._initTimeout=new u.Timeout;t._silenceTimeout=new u.Timeout;t._messageTimeout=new u.Timeout;t.state={volume:T,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1};t.setupVoiceActivity=function(){s.default.getMediaEngine().on("voiceactivity",t.handleVoiceActivity)};t.handleVoiceActivity=function(e){if(t.state.isMicTesting&&e<=T){
t._silenceTimeout.isStarted()||t._silenceTimeout.start(2e3,(function(){t.setState({isDetectingInput:!1})}));t.setState({volume:T})}else{t._silenceTimeout.stop();t.setState({volume:e,isDetectingInput:!0})}};t.handleToggleMicTest=function(){t.state.isMicTesting?t._micTestStop():t._micTestStart()};return t}var n=t.prototype;n.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)};n.componentWillUnmount=function(){this._initTimeout.stop();this._silenceTimeout.stop();this._micTestStop();s.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity)};n._micTestStart=function(){var e=this.props,t=e.isVoiceConnected,n=e.inputDeviceName,r=e.inputVolume,a=e.outputDeviceName,o=e.outputVolume,i=e.inputMode,u=e.vadAutoThreshold,s=e.vadThreshold,d=e.location,c=e.isDeafened,f=!1;if(t&&!c){l.default.toggleSelfDeaf(m.MediaEngineContextTypes.DEFAULT);f=!0}l.default.setLoopback(!0);this._micTestStartTime=Date.now();this.setState({isMicTesting:!0,
isDetectingInput:!0,didDeafenUser:f});h.default.track(_.AnalyticEvents.MIC_TESTING_STARTED,{input_device_name:n,input_device_volume:r,output_device_name:a,output_device_volume:o,input_mode:i,input_sensitivity_is_automatic:u,input_sensitivity_threshold:Math.round(s),location:d})};n._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,r=this.props,a=r.isVoiceConnected,o=r.isDeafened;if(n){a&&o&&t&&l.default.toggleSelfDeaf(m.MediaEngineContextTypes.DEFAULT);l.default.setLoopback(!1);this.setState({isMicTesting:!1,didDeafenUser:!1});null!=this._micTestStartTime&&h.default.track(_.AnalyticEvents.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)})}};n.renderCaption=function(){var e=this.props,t=e.captionVoice,n=e.captionNoVoice,r=this.state,a=r.isMicTesting,o=r.isDetectingInput;return b(v.default,{className:E.default.micTestCaption,type:v.default.Types.DESCRIPTION},void 0,a?o?t:n:null)};n.render=function(){
var e=this,t=this.props,n=t.isVoiceConnected,r=t.title,a=t.description,o=t.notchBackground,i=t.buttonTest,u=t.buttonStop,l=t.buttonClassName,s=t.buttonColor,d=t.isDeafened,h=this.state,_=h.isMicTesting,m=h.volume,O=n&&!_?g.default.Messages.MIC_TEST_VOICE_CHANNEL_WARNING:null;_&&n&&!d&&this._micTestStop();return b("div",{className:E.default.container},void 0,b(y.default,{tag:y.Tags.H5,className:E.default.title},void 0,r),a&&b(v.default,{type:v.default.Types.DESCRIPTION,className:E.default.description},void 0,a),b("div",{className:E.default.micTest},void 0,b(p.default,{text:O},void 0,(function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return b(c.default,{grow:!1,onClick:e.handleToggleMicTest,onMouseEnter:n,onMouseLeave:r,size:c.default.Sizes.SMALL,className:l,color:s},void 0,_?u:i)})),b(f.default,{progress:_?m+100:0,notchBackground:o}),this.renderCaption()))};return t}(a.PureComponent);P.displayName="MicTester";var A=i.default.connectStores([d.default,s.default],(function(){
var e=s.default.getInputDeviceId(),t=s.default.getInputDevices(),n=o.default.find(t,(function(t){return t.id===e})),r=s.default.getOutputDeviceId(),a=s.default.getOutputDevices(),i=o.default.find(a,(function(e){return e.id===r})),u=s.default.getModeOptions();return{isVoiceConnected:d.default.isConnected(),inputVolume:s.default.getInputVolume(),outputVolume:s.default.getOutputVolume(),inputMode:s.default.getMode(),vadThreshold:u.threshold,isDeafened:s.default.isSelfDeaf(),vadAutoThreshold:u.autoThreshold,inputDeviceName:null!=n?n.name:"",outputDeviceName:null!=i?i.name:""}}))(P);t.default=A},25202:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=de(n(667294)),o=le(n(730381)),i=n(473727),u=n(536211),l=le(n(190040)),s=le(n(740207)),d=le(n(939949)),c=de(n(319076)),f=n(264720),p=le(n(445377)),v=le(n(597362)),y=le(n(136873)),h=le(n(761537)),_=de(n(376543)),m=le(n(105988)),g=n(622349),E=de(n(446637)),O=le(n(226800)),S=le(n(155502)),I=de(n(583490)),b=n(802922),C=n(283894),T=le(n(796015)),P=le(n(678875)),A=le(n(778885)),M=le(n(799706)),N=le(n(745108)),R=le(n(437367)),w=le(n(542402)),D=le(n(119152)),L=le(n(423046)),k=le(n(644263)),j=le(n(288356)),U=le(n(876874)),G=le(n(30098)),F=le(n(635014)),x=le(n(893160)),W=le(n(790597)),V=le(n(728429)),H=le(n(399561)),B=le(n(424099)),Y=de(n(296005)),z=le(n(151097)),K=le(n(530250)),$=le(n(80828)),q=le(n(41024)),Z=n(194322),X=de(n(177101)),Q=le(n(308920)),J=le(n(550270)),ee=n(42031),te=n(168558),ne=de(n(215850)),re=n(259880),ae=n(770348),oe=n(376293),ie=le(n(247001)),ue=le(n(202192));function le(e){return e&&e.__esModule?e:{default:e}}function se(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(se=function(e){return e?n:t})(e)}function de(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=se(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function ce(){ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ce.apply(this,arguments)}function fe(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){fe(o,r,a,i,u,"next",e)}
function u(e){fe(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ve(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ye=function(){return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ve(X.NoticeCloseButton,{onClick:function(){_e();(0,re.open)()}}),ie.default.Messages.NOTICE_NO_INPUT_DETECTED,ve(X.NoticeButtonAnchor,{href:J.default.getArticleURL(ae.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,ie.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))};ye.displayName="AudioIssueNoticeHelpdesk";var he=function(){return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ve(X.NoticeCloseButton,{onClick:function(){_e();(0,
re.open)()}}),ie.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,ve(X.NoticeButton,{onClick:function(){(0,f.pushLayer)(ae.Layers.USER_SETTINGS);O.default.setSection(ae.UserSettingsSections.VOICE)}},void 0,ie.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT))};he.displayName="AudioIssueNoticeMicTester";function _e(e){p.default.dismiss(null!=e?{untilAtLeast:(0,o.default)(e)}:void 0)}var me=ve(A.default,{}),ge=ve(T.default,{}),Ee=ve(w.default,{}),Oe=ve(ye,{}),Se=ve(he,{}),Ie=ve(D.default,{}),be=a.memo((function(){var e,t,r,o,p,T=(0,u.useStateFromStores)([V.default],(function(){return V.default.getCurrentUser()})),A=(0,u.useStateFromStores)([W.default],(function(){return W.default.getGuildId()})),w=(0,u.useStateFromStores)([G.default],(function(){return G.default.getGuild(A)})),D=(0,u.useStateFromStores)([Y.default],(function(){return Y.default.getNotice()})),re=(0,u.useStateFromStores)([L.default],(function(){return L.default.isGuest()})),le=(0,
u.useStateFromStores)([U.default],(function(){var e,t;return null!=A&&null!=T&&(null!==(e=null===(t=U.default.getMember(A,T.id))||void 0===t?void 0:t.isPending)&&void 0!==e&&e)})),se=null==D?void 0:D.type,de=le&&(null==w?void 0:w.hasVerificationGate()),fe=M.default.useExperiment({}).useStandaloneSubscriptionsTab?ae.UserSettingsSections.SUBSCRIPTIONS:ae.UserSettingsSections.PREMIUM;a.useEffect((function(){null!=se&&function(e){Q.default.track(ae.AnalyticEvents.APP_NOTICE_VIEWED,{notice_type:e})}(se)}),[se]);a.useEffect((function(){if(null!=D&&D.type===ae.NoticeTypes.SURVEY&&null!=D.metadata){var e=D.metadata,t=C.ExperimentStore.getUserExperimentDescriptor(e.id);null!=t&&(0,C.trackExposureToExperiment)(e.id,t)}}),[D]);if(null==D)return null;if(re)return null;if(ee.ProcessArgs.isDisallowPopupsSet())return null;var ye=Y.typeToDismissibleContent[D.type];if(null!=ye)return ve(b.DismissibleContentNotices,{dismissibleContent:ye,noticeType:D.type});switch(D.type){
case ae.NoticeTypes.LURKING_GUILD:return me;case ae.NoticeTypes.PENDING_MEMBER:return ge;case ae.NoticeTypes.INVITED_TO_SPEAK:return Ee;case ae.NoticeTypes.GENERIC:return ve(X.default,{},void 0,ve(X.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.GENERIC}),D.message,null!=D.buttonText?ve(X.PrimaryCTANoticeButton,{onClick:D.callback,noticeType:ae.NoticeTypes.GENERIC},void 0,D.buttonText):null);case ae.NoticeTypes.VOICE_DISABLED:return ve(X.default,{},void 0,ve(X.NoticeCloseButton,{onClick:function(){v.default.clearRemoteDisconnectVoiceChannelId();_e()},noticeType:ae.NoticeTypes.VOICE_DISABLED}),ie.default.Messages.NOTICE_CONNECTION_CONFLICT,ve(X.PrimaryCTANoticeButton,{onClick:function(){var e=x.default.getRemoteDisconnectVoiceChannelId();if(null!=e){null!=k.default.getChannel(e)&&y.default.selectVoiceChannel(e)}},noticeType:ae.NoticeTypes.VOICE_DISABLED},void 0,ie.default.Messages.RECONNECT));case ae.NoticeTypes.SPOTIFY_AUTO_PAUSED:
var he=S.default.get(ae.PlatformTypes.SPOTIFY);return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ve(X.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.SPOTIFY_AUTO_PAUSED}),ve("img",{alt:"",className:ue.default.platformIcon,src:he.icon.whiteSVG}),ie.default.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,ve(X.PrimaryCTANoticeButton,{onClick:function(){return O.default.open(ae.UserSettingsSections.VOICE)},noticeType:ae.NoticeTypes.SPOTIFY_AUTO_PAUSED},void 0,ie.default.Messages.VOICE_SETTINGS),ve(z.default,{className:ue.default.textLinkSmall,href:J.default.getArticleURL(ae.HelpdeskArticles.SPOTIFY_AUTO_PAUSED),target:"_blank"},void 0,ie.default.Messages.NOTICE_WHATS_THIS));case ae.NoticeTypes.UNCLAIMED_ACCOUNT:return ve(X.default,{},void 0,ie.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.UNCLAIMED_ACCOUNT,onClick:function(){return de&&null!=A?(0,P.default)(A):I.openClaimAccountModal()}
},void 0,ie.default.Messages.CLAIM_ACCOUNT));case ae.NoticeTypes.UNVERIFIED_ACCOUNT:return ve(X.default,{},void 0,ie.default.Messages.NOTICE_UNVERIFIED_ACCOUNT,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.UNVERIFIED_ACCOUNT,onClick:function(){d.default.verifyResend();l.default.show({title:ie.default.Messages.VERIFICATION_EMAIL_TITLE,body:ie.default.Messages.VERIFICATION_EMAIL_BODY.format({email:null==T?void 0:T.email}),minorText:ie.default.Messages.CHANGE_EMAIL,onConfirmSecondary:I.openClaimAccountModal})}},void 0,ie.default.Messages.RESEND));case ae.NoticeTypes.SCHEDULED_MAINTENANCE:return null==D.metadata?null:ve(X.default,{color:X.NoticeColors.NOTIFICATION},void 0,ve(X.NoticeCloseButton,{onClick:function(){return h.default.ackScheduledMaintenance()},noticeType:ae.NoticeTypes.SCHEDULED_MAINTENANCE}),ie.default.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(D.metadata),ve(X.NoticeButtonAnchor,{href:ae.Links.STATUS+"/incidents/"+D.metadata.id
},void 0,ie.default.Messages.LEARN_MORE));case ae.NoticeTypes.NO_INPUT_DETECTED:return F.default.supports(oe.Features.LOOPBACK)?Se:Oe;case ae.NoticeTypes.HARDWARE_MUTE:if(null==D.metadata)return null;var be=D.metadata,Ce=be.vendor,Te=be.model;return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ie.default.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:Ce.name,modelName:Te.name}),ve(X.NoticeButtonAnchor,{href:Te.url,target:"_blank",rel:"noreferrer noopener"},void 0,ie.default.Messages.SUPPORT));case ae.NoticeTypes.STREAMER_MODE:return ve(X.default,{color:X.NoticeColors.STREAMER_MODE},void 0,ve(X.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.STREAMER_MODE}),ie.default.Messages.NOTICE_STREAMER_MODE_TEXT,ve(X.PrimaryCTANoticeButton,{onClick:function(){return m.default.setEnabled(!1)},noticeType:ae.NoticeTypes.STREAMER_MODE},void 0,ie.default.Messages.DISABLE));case ae.NoticeTypes.H264_DISABLED:return ve(X.default,{color:X.NoticeColors.DANGER
},void 0,ve(X.NoticeCloseButton,{onClick:function(){_e()}}),ie.default.Messages.NOTICE_H264_DISABLED_SETTINGS,ve(X.NoticeButton,{onClick:function(){(0,f.pushLayer)(ae.Layers.USER_SETTINGS);O.default.setSection(ae.UserSettingsSections.VOICE)}},void 0,ie.default.Messages.NOTICE_H264_DISABLED_SETTINGS_LINK_TEXT));case ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==D.metadata)return null;var Pe=D.metadata,Ae=Pe.skuId,Me=Pe.applicationId,Ne=H.default.get(Ae),Re=j.default.getGame(Me);if(null==Ne||null==Re)return null;var we={page:ae.AnalyticsPages.IN_APP};return ve(X.default,{color:X.NoticeColors.PREMIUM_TIER_1},void 0,ve(X.NoticeCloseButton,{onClick:function(){return c.dismiss(Ne.id)},noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK}),ve(q.default,{className:ue.default.premiumIcon}),ie.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:Re.name,skuName:Ne.name}),ve(X.PrimaryCTANoticeButton,{
noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK,onClick:function(){return(0,te.openIAPPurchaseModal)(Re.id,Ne.id,(function(){(0,R.default)({planId:ae.SubscriptionPlans.PREMIUM_MONTH_TIER_2,analyticsLocation:we})}),we,__OVERLAY__?ae.AppContext.OVERLAY:ae.AppContext.APP).then((function(){return c.dismiss(Ne.id)}))}},void 0,ie.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON));case ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:if(null==D.metadata)return null;var De=D.metadata,Le=De.skuId,ke=De.applicationId,je=H.default.get(Le),Ue=j.default.getGame(ke);return null==je||null==Ue?null:ve(X.default,{color:X.NoticeColors.PREMIUM_TIER_1},void 0,ve(X.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL}),ve(q.default,{className:ue.default.premiumIcon}),ie.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({applicationName:Ue.name,skuName:je.name
}),ve(X.NoticeButton,{},void 0,ve(i.Link,{onClick:function(){return _e()},to:{pathname:ae.Routes.APPLICATION_STORE_LISTING_SKU(je.id),state:{scrollRestoration:!1}}},void 0,ie.default.Messages.LEARN_MORE)));case ae.NoticeTypes.SURVEY:var Ge=D.metadata;if(null==Ge)return null;var Fe=Ge.key,xe=Ge.prompt,We=Ge.cta,Ve=Ge.url;return ve(X.default,{color:X.NoticeColors.CUSTOM},void 0,ve(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.SURVEY,onClick:function(){(0,g.surveyHide)(Fe,!0)}}),xe,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.SURVEY,onClick:function(){window.open(Ve,"_blank");(0,g.surveyHide)(Fe,!1)}},void 0,We));case ae.NoticeTypes.CORRUPT_INSTALLATION:return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ie.default.Messages.NOTICE_CORRUPT_INSTALLATION,ve(X.NoticeButtonAnchor,{href:J.default.getArticleURL(ae.HelpdeskArticles.CORRUPT_INSTALLATION),target:"_blank"},void 0,ie.default.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT))
;case ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER:return ve(X.default,{},void 0,ve(X.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER}),ie.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,onClick:function(){(0,Z.openModalLazy)(pe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,ce({source:"Video unsupported browser"},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,ie.default.Messages.DOWNLOAD));case ae.NoticeTypes.DISPATCH_ERROR:if(null==D.metadata)return null;var He=D.metadata.error;return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ve(X.NoticeCloseButton,{onClick:function(){return _e()},
noticeType:ae.NoticeTypes.DISPATCH_ERROR}),null==He?void 0:He.displayMessage,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.DISPATCH_ERROR,onClick:function(){return(0,Z.openModalLazy)(pe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(91965)]).then(n.bind(n,191965));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,ie.default.Messages.LEARN_MORE));case ae.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==D.metadata)return null;var Be=D.metadata,Ye=Be.progress,ze=Be.total,Ke=Be.name;return ve(X.default,{color:X.NoticeColors.NOTIFICATION},void 0,ve(X.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS}),ve(K.default,{justify:K.default.Justify.CENTER
},void 0,null!=Ke?ie.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:""+Ke,progress:""+Ye,total:""+ze}):ie.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:""+Ye,total:""+ze}),ve($.default,{type:$.default.Type.PULSING_ELLIPSIS,className:ue.default.ellipsis})));case ae.NoticeTypes.APPLICATION_TEST_MODE:return null==D.metadata?null:null!=B.default.testModeEmbeddedApplicationId?ve(X.default,{},void 0,ve(K.default,{justify:K.default.Justify.CENTER,align:K.default.Align.CENTER},void 0,ve("div",{},void 0,ie.default.Messages.NOTICE_EMBEDDED_APPLICATION_TEST_MODE.format({applicationName:D.metadata.applicationName})),ve(X.NoticeCloseButton,{onClick:E.reset,noticeType:ae.NoticeTypes.APPLICATION_TEST_MODE}))):ve(X.default,{},void 0,ve(K.default,{justify:K.default.Justify.CENTER,align:K.default.Align.CENTER},void 0,ve("div",{},void 0,ie.default.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:D.metadata.applicationName
})),ve(ne.default,{dropdownSize:ne.TestModeSKUButtonEnums.DropdownSizes.SMALL,className:ue.default.testModeSKUSelector,color:ne.TestModeSKUButtonEnums.Colors.WHITE,look:ne.TestModeSKUButtonEnums.Looks.OUTLINED,size:ne.TestModeSKUButtonEnums.Sizes.MIN,onSKUSelect:function(e){return _.goToSKUStoreListing(e.id,{analyticsSource:{page:null,section:ae.AnalyticsSections.NOTIFICATION_BAR,object:ae.AnalyticsObjects.NAVIGATION_LINK}})},applicationId:D.metadata.applicationId},void 0,ie.default.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING),ve(X.NoticeCloseButton,{onClick:E.reset,noticeType:ae.NoticeTypes.APPLICATION_TEST_MODE})));case ae.NoticeTypes.OUTBOUND_PROMOTION:return ve(X.default,{color:X.NoticeColors.PREMIUM_TIER_2},void 0,ve(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.OUTBOUND_PROMOTION,onClick:function(){N.default.dismissOutboundPromotionNotice()}}),ve(q.default,{className:ue.default.premiumIcon}),ie.default.Messages.OUTBOUND_PROMOTION_NOTICE,ve(X.PrimaryCTANoticeButton,{
noticeType:ae.NoticeTypes.OUTBOUND_PROMOTION,onClick:function(){Q.default.track(ae.AnalyticEvents.OUTBOUND_PROMOTION_NOTICE_CLICKED);O.default.open(ae.UserSettingsSections.INVENTORY);N.default.dismissOutboundPromotionNotice()}},void 0,ie.default.Messages.TAKE_ME_THERE));case ae.NoticeTypes.VIEWING_ROLES:return Ie;case ae.NoticeTypes.NOISE_DETECTED:return ve(X.default,{color:X.NoticeColors.INFO},void 0,ve(X.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.NOISE_DETECTED}),ie.default.Messages.NOTICE_NOISE_DETECTED,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.NOISE_DETECTED,onClick:function(){_e();s.default.setNoiseCancellation(!0,{section:ae.AnalyticsSections.NOTIFICATION_BAR})}},void 0,ie.default.Messages.ENABLE_NOISE_CANCELLATION));case ae.NoticeTypes.PREMIUM_UNCANCEL:return ve(X.default,{color:(null===(e=D.metadata)||void 0===e?void 0:e.premiumType)===ae.PremiumTypes.TIER_1?X.NoticeColors.PREMIUM_TIER_1:X.NoticeColors.PREMIUM_TIER_2
},void 0,ve(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_UNCANCEL,onClick:function(){var e,t;_e(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ve(q.default,{className:ue.default.premiumIcon}),(null===(t=D.metadata)||void 0===t?void 0:t.premiumType)===ae.PremiumTypes.TIER_1?ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_TEXT.format({daysLeft:D.metadata.daysLeft}):ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_TEXT.format({daysLeft:D.metadata.daysLeft}),ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_UNCANCEL,onClick:function(){var e,t;_e(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);(0,Z.openModalLazy)(pe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(36923),n.e(64970),n.e(82287)]).then(n.bind(n,782287));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){var t;return a.createElement(r,ce({},e,{daysLeft:D.metadata.daysLeft,premiumType:null===(t=D.metadata)||void 0===t?void 0:t.premiumType,analyticsSource:"Nag Bar",premiumSubscription:D.metadata.premiumSubscription}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,(null===(r=D.metadata)||void 0===r?void 0:r.premiumType)===ae.PremiumTypes.TIER_1?ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_BUTTON_TEXT:ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT:return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ve(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;_e(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}
}),ie.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_TEXT,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;_e(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);O.default.open(fe)}},void 0,ie.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT:return ve(X.default,{color:X.NoticeColors.WARNING},void 0,ve(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;_e(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ie.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_TEXT,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t
;_e(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);O.default.open(fe)}},void 0,ie.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_MISSING_PAYMENT:return ve(X.default,{color:X.NoticeColors.WARNING},void 0,ve(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t;_e(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),(null===(o=D.metadata)||void 0===o?void 0:o.premiumType)===ae.PremiumTypes.TIER_1?ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_TEXT.format({daysLeft:D.metadata.daysLeft}):ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_TEXT.format({daysLeft:D.metadata.daysLeft}),ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t
;_e(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);O.default.open(fe)}},void 0,(null===(p=D.metadata)||void 0===p?void 0:p.premiumType)===ae.PremiumTypes.TIER_1?ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_BUTTON_TEXT:ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_BUTTON_TEXT));default:return null}}));t.default=be},229108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=m(n(667294)),i=h(n(536211)),u=m(n(720409)),l=h(n(321405)),s=h(n(902305)),d=h(n(603218)),c=h(n(218843)),f=h(n(871778)),p=h(n(949898)),v=h(n(365561)),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var O=((r={})[y.PictureInPictureComponents.VIDEO]=d.default,r[y.PictureInPictureComponents.EMBED_IFRAME]=l.default,r),S=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleWindowMove=function(e,t){u.moveTo(e,t)};return t}t.prototype.render=function(){var e=this.props,t=e.selectedPIPWindow,n=e.pipWindows,r=e.maxX,a=e.maxY,o=e.theme,i=e.dockedRect,u=e.appContext;return g(v.default,{pictureInPictureComponents:O,selectedPIPWindow:t,pipWindows:n,maxX:r,maxY:a,dockedRect:i,theme:o,onWindowMove:this.handleWindowMove,appContext:u})};return t}(o.PureComponent);S.displayName="PictureInPictureContainer";var I=i.default.connectStores([c.default,s.default,p.default,f.default],(function(e){var t=e.showInPopoutWindow,n=void 0!==t&&t,r=s.default.getWindowOpen(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT),a=p.default.windowSize();if(r){var o=s.default.getWindow(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT);a=null==o?a:{width:o.innerWidth,height:o.innerHeight}}
var i=c.default.pipWindows,u=r&&!n?null:c.default.pipWindow;return{selectedPIPWindow:u,pipWindows:i,maxX:a.width,maxY:a.height,theme:f.default.theme,dockedRect:null!=u?c.default.getDockedRect(u.id):null,appContext:n?y.AppContext.POPOUT:void 0}}))(S);t.default=I},200574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(378158),u=S(n(711195)),l=S(n(414068)),s=S(n(788739)),d=S(n(290629)),c=S(n(946447)),f=S(n(728429)),p=S(n(870461)),v=S(n(160629)),y=S(n(325908)),h=S(n(582945)),_=n(951530),m=S(n(922629)),g=S(n(810332)),E=S(n(247001)),O=S(n(645320));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,
value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){A(o,r,a,i,u,"throw",e)}i(void 0)}))}}var N=m.default.getEnableHardwareAcceleration();function R(e){var t=e.user,r=e.channel,p=(0,o.useStateFromStoresObject)([d.default,f.default,s.default],(function(){return d.default.isFriend(t.id)||t===f.default.getCurrentUser()?{status:s.default.getStatus(t.id),activities:s.default.getActivities(t.id)}:{}})),y=p.status,h=p.activities,_=(0,o.useStateFromStores)([c.default],(function(){return null!=c.default.getTypingUsers(r.id)[t.id]})),m=(0,o.useStateFromStores)([s.default],(function(){return s.default.isMobileOnline(t.id)})),O=(0,o.useStateFromStores)([d.default],(function(){return d.default.getNickname(t.id)})),S=function(e){(0,i.openContextMenuLazy)(e,M(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(66822)]).then(n.bind(n,566822));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,P({},e,{user:t,channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))};return T(v.default,{preload:function(){return(0,u.default)(t.id,t.getAvatarURL(void 0,80))},renderPopout:function(e){return a.createElement(l.default,P({},e,{userId:t.id,channelId:r.id}))},position:v.default.Positions.LEFT},void 0,(function(e){return a.createElement(g.default,P({key:t.id,user:t,isOwner:t.id===r.ownerId,ownerTooltipText:E.default.Messages.GROUP_OWNER,shouldAnimateStatus:N,isTyping:_,status:y,activities:h,channel:r,onContextMenu:S,isMobile:m,nick:O},e))}))}R.displayName="PrivateChannelRecipient";function w(e){var t=e.channel,n=f.default.getCurrentUser(),r=null==n?void 0:n.isStaff(),i=(0,o.useStateFromStoresArray)([f.default],(function(){return(0,
_.getRecipients)(t.recipients,f.default)}),[t.recipients]);a.useEffect((function(){if(r)for(var e,t=b(i);!(e=t()).done;){var n=e.value;(0,u.default)(n.id,n.getAvatarURL(void 0,80),{dispatchWait:!0})}}),[r,i]);var l=r&&i.every((function(e){return e.isStaff()}));return T("div",{className:O.default.membersWrap},void 0,T(h.default,{className:O.default.members,fade:!0},void 0,T(y.default,{className:O.default.membersGroup},void 0,E.default.Messages.MEMBERS+"â€”"+i.length+" ",l?T(p.default,{className:O.default.decorator,type:p.default.Types.STAFF_ONLY_DM}):null),i.map((function(e){return T(R,{user:e,channel:t},e.id)}))))}w.displayName="PrivateChannelRecipients"},272356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=V(n(294184)),i=V(n(193747)),u=n(798628),l=n(536211),s=n(283894),d=V(n(862896)),c=V(n(660065)),f=V(n(725745)),p=n(835282),v=V(n(136798)),y=V(n(527820)),h=n(894826),_=V(n(191839)),m=V(n(290629)),g=V(n(871778)),E=V(n(728429)),O=V(n(146771)),S=V(n(314355)),I=V(n(840771)),b=V(n(399561)),C=V(n(311256)),T=n(644105),P=V(n(262134)),A=V(n(41024)),M=V(n(652047)),N=n(598671),R=n(838583),w=n(820134),D=n(517880),L=V(n(51079)),k=V(n(983551)),j=n(770348),U=V(n(247001)),G=V(n(177790)),F=["selected"],x=["selected","hideGameUpdateProgressIndicator"],W=["selected","route","locationState"];function V(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function B(){
B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}var K=function(e){var t=e.selected,n=z(e,F),r=(0,u.useListItem)("friends"),o=(0,l.useStateFromStores)([m.default],(function(){return m.default.getPendingCount()}));return a.createElement(D.LinkButton,B({selected:t,route:j.Routes.FRIENDS,
icon:M.default,text:U.default.Messages.FRIENDS},n,r),o>0?Y(N.NumberBadge,{count:o}):null)};K.displayName="FriendsButton";var $=function(e){var t,n=e.selected,r=e.hideGameUpdateProgressIndicator,i=z(e,x),l=(0,u.useListItem)("library");return a.createElement(D.LinkButton,B({selected:n,route:j.Routes.APPLICATION_LIBRARY,icon:P.default,text:U.default.Messages.LIBRARY},i,l),Y(k.default,{className:(0,o.default)(G.default.downloadProgressCircle,(t={},t[G.default.hideGameUpdateProgressIndicator]=r,t))}))};$.displayName="LibraryButton";var q=Y(d.default,{transform:"translate(0 8)"}),Z=function(e){var t=e.selected,n=e.route,r=e.locationState,o=z(e,W),i=(0,u.useListItem)("nitro"),s=f.default.useExperiment({}).trialIds;a.useEffect((function(){f.default.trackExposure({})}),[]);var d=(0,l.useStateFromStores)([S.default],(function(){return S.default.getUnacknowledgedOffers(s).length})),p="AU"===c.default.useExperiment({}).developerCountryView;return a.createElement(D.LinkButton,B({selected:t,route:n,
icon:A.default,text:U.default.Messages.PREMIUM,locationState:r},o,i,{className:G.default.linkButton}),d>0?Y(N.NumberBadge,{count:d}):null,p&&q)};Z.displayName="NitroButton";var X=function(){return(0,p.show)("DM_SEARCH")};function Q(e){switch(e){case j.Routes.APPLICATION_LIBRARY:return j.AnalyticsPages.LIBRARY;case j.Routes.FRIENDS:return j.AnalyticsPages.FRIENDS_LIST}return e.startsWith(j.Routes.APPLICATION_STORE)?e===j.Routes.APPLICATION_STORE?j.AnalyticsPages.STORE_DIRECTORY_HOME:e.startsWith(j.Routes.APPLICATION_STORE)?j.AnalyticsPages.STORE_DIRECTORY_BROWSE:j.AnalyticsPages.STORE_LISTING:j.AnalyticsPages.DM_CHANNEL}var J=function(e){var t=e.showLibrary,n=e.hasLibraryApplication,r=e.homeLink,o=e.storeLink,u=e.premiumTabSelected,l=e.showNitroTab,s=(0,v.default)((function(e){return[e.channelId,e.path]}),i.default),d=s[0],c=s[1];return Y("nav",{className:G.default.privateChannels,"aria-label":U.default.Messages.PRIVATE_CHANNELS_A11Y_LABEL},void 0,Y(y.default,{
tutorialId:"direct-messages",position:T.PopoutPositions.RIGHT,offsetX:-52},void 0,Y("div",{className:G.default.searchBar},void 0,Y("button",{type:"button",className:G.default.searchBarComponent,onClick:X},void 0,U.default.Messages.DM_SEARCH_PLACEHOLDER))),a.createElement(L.default,B({},e,{version:c,selectedChannelId:d,showDMHeader:!0}),Y(K,{selected:null!=c?c===j.Routes.FRIENDS:r===j.Routes.FRIENDS},"friends"),n&&t?Y($,{selected:null==c?null!=r&&r.startsWith(j.Routes.APPLICATION_LIBRARY):c.startsWith(j.Routes.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:r===j.Routes.APPLICATION_LIBRARY},"library"):null,l?Y(Z,{selected:null==c?u:c.startsWith(j.Routes.APPLICATION_STORE),route:null==o||location.pathname.startsWith(j.Routes.APPLICATION_STORE)?j.Routes.APPLICATION_STORE:o,locationState:{analyticsSource:{page:Q(r),section:j.AnalyticsSections.NAVIGATION,object:j.AnalyticsObjects.NAVIGATION_LINK}}},"premium"):null))};J.displayName="PrivateChannels";var ee=(0,s.registerUserExperiment)({
id:s.Experiments.HIDE_NITRO_TAB,title:"Hide Nitro Tab",description:["Hide Nitro tab from new users","Control: Show Nitro tab to all users","Treatment 1: Hide Nitro tab from users that are registered less than a 3 months ago"],buckets:[s.ExperimentBuckets.CONTROL,s.ExperimentBuckets.TREATMENT_1]});function te(){var e=(0,l.useStateFromStores)([C.default],(function(){return C.default.getHomeLink()})),t=(0,l.useStateFromStores)([b.default],(function(){if(e===j.Routes.APPLICATION_STORE)return!0;var t=(0,w.getSKUIdFromURL)(e);if(null!=t){var n,r;return null!==(n=null===(r=b.default.get(t))||void 0===r?void 0:r.premium)&&void 0!==n&&n}return!1}),[e]),n=(0,l.useStateFromStores)([E.default],(function(){return E.default.getCurrentUser()})),r=(0,l.useStateFromStores)([O.default],(function(){return O.default.getPremiumTypeSubscription()})),o=f.default.useExperiment({}).trialIds;a.useEffect((function(){f.default.trackExposure({})}),[]);var i=(0,l.useStateFromStores)([S.default],(function(){
return S.default.getUnacknowledgedOffers(o).length>0})),u=!h.DisableGamesTab.useSetting(),d=(0,l.useStateFromStoresObject)([g.default],(function(){return{theme:g.default.theme}})).theme,c=(0,s.useAndTrackExposureToUserExperiment)(ee)===s.ExperimentBuckets.CONTROL||i||null!=n&&Date.now()-n.createdAt.getTime()>7776e6||(0,R.hasPremiumSubscriptionToDisplay)(n,r),p=(0,l.useStateFromStores)([_.default],(function(){return _.default.hasLibraryApplication()})),v=(0,l.useStateFromStores)([I.default],(function(){return I.default.getCurrentPath()}));return Y(J,{theme:d,showLibrary:u,showNitroTab:c,hasLibraryApplication:p,storeLink:v,homeLink:e,premiumTabSelected:t})}te.displayName="PrivateChannelsConnected"},989418:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=v(n(536211)),u=v(n(221185)),l=v(n(534930)),s=v(n(530250)),d=n(160629),c=v(n(358696)),f=v(n(247001)),p=v(n(949391));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g={position:d.Positions.BOTTOM,autoInvert:!1},E=function(e){var t=e.region,n=e.className;return m("div",{className:void 0===n?p.default.regionSelectName:n},void 0,t.name.replace(/ \(VIP\)$/,""))};E.displayName="RegionName";var O=function(e){h(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return m(s.default,{align:s.default.Align.CENTER,className:(0,o.default)({selected:n})},void 0,m(E,{region:t,className:p.default.regionSelectName}),n?m("i",{className:p.default.check}):null)};return t}(a.PureComponent);O.displayName="RegionItem";var S=function(e){h(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).renderOption=function(e,t){return m(O,{region:e.value,selected:t},e.value.id)};t.getSelectedRegion=function(){var e,n=t.props,r=n.regions,a=n.call;return a.regionUpdated&&null!=r&&null!=a.region?null!==(e=r.find((function(e){return e.id===a.region})))&&void 0!==e?e:{name:a.region,id:a.region}:{id:"automatic",name:f.default.Messages.AUTOMATIC_REGION,vip:!1,deprecated:!1,hidden:!1}};t.handleChangeVoiceRegion=function(e){var n=e.value,r=t.props.call.channelId;u.default.changeCallRegion(r,n.id)};return t}var n=t.prototype;n.componentDidMount=function(){null==this.props.regions&&u.default.fetchRegions(null)};n.render=function(){var e=this.props.regions;if(null==e)return null;var t=this.getSelectedRegion(),n={label:t.name,value:t},r=e.filter((function(e){return!e.deprecated&&!e.hidden})).map((function(e){return{label:e.name,value:e,key:e.id}}));return m(c.default,{label:f.default.Messages.REGION,options:r,value:n,
onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:g,popoutClassName:p.default.regionSelectPopout})};return t}(a.PureComponent);S.displayName="QuickRegionSelect";var I=i.default.connectStores([l.default],(function(){return{regions:l.default.getRegions(null)}}))(S);t.default=I},686923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=R(n(667294)),o=M(n(294184)),i=n(536211),u=M(n(929031)),l=M(n(257175)),s=M(n(133464)),d=R(n(145122)),c=M(n(812371)),f=M(n(915574)),p=M(n(241505)),v=n(678620),y=M(n(423086)),h=M(n(871778)),_=M(n(956117)),m=M(n(730977)),g=M(n(930600)),E=M(n(12713)),O=n(194322),S=n(598671),I=n(660590),b=M(n(308920)),C=n(873838),T=n(770348),P=M(n(247001)),A=M(n(830332));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function k(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){var t=e.status,n=e.description,r=e.focused;return k("div",{className:A.default.statusItem},void 0,k(I.Status,{status:t,className:A.default.icon,size:10,color:r?"currentColor":void 0}),k("div",{className:A.default.status},void 0,(0,C.humanizeStatus)(t)),null!=n&&k("div",{className:A.default.description},void 0,n))}j.displayName="StatusMenuItem";function U(e){var t=e.customStatus,n=function(e){e.stopPropagation();u.default.updateRemoteSettings({customStatus:null})};return null!=t?k("div",{"aria-label":P.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER
},void 0,k(s.default,{className:null!=t.emoji?A.default.customStatusWithEmoji:A.default.customStatusItem,activity:t,emojiClassName:A.default.customEmoji,textClassName:A.default.customText,placeholderText:P.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER},void 0,k(m.default,{text:P.default.Messages.CUSTOM_STATUS_CLEAR_CUSTOM_STATUS},void 0,(function(e){return a.createElement(_.default,L({},e,{className:A.default.clearStatusButton,onClick:n,look:_.default.Looks.BLANK,size:_.default.Sizes.NONE,tabIndex:-1,"aria-hidden":!0}),k(g.default,{className:A.default.clearStatusIcon}))})))):k("div",{className:(0,o.default)(A.default.statusItem,A.default.customStatusContentIcon),"aria-label":P.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS},void 0,k("div",{className:A.default.customEmojiPlaceholder}),k("div",{className:A.default.status},void 0,P.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS))}function G(e){var t=e.focused;return k("div",{className:(0,
o.default)(A.default.statusItem,A.default.statusItemNoPadding,A.default.customStatusContentIcon,A.default.switchAccountsItem),"aria-label":P.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE},void 0,k(E.default,{width:18,height:18,className:A.default.switchAccountsIcon,color:t?T.Colors.WHITE:"currentColor"}),k("div",{className:A.default.status},void 0,P.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE," ",k(S.TextBadge,{text:"BETA",className:A.default.betaTag,color:T.Colors.BRAND_NEW_500})))}G.displayName="SwitchAccountsMenuItem";var F=k(d.MenuSeparator,{}),x=k(d.MenuSeparator,{}),W=k(d.MenuSeparator,{}),V=function(e){var t=e.customStatus,r=e.onClose,o=e.analyticsContext,l=e.onSelect,s=c.default.useExperiment({}),y=(0,i.useStateFromStores)([f.default],(function(){return f.default.getIsMultiAccountPreviouslyEnabled()})),h=(0,v.useMultiAccountMenuItems)();a.useEffect((function(){c.default.trackExposure({})}),[]);a.useEffect((function(){b.default.track(T.AnalyticEvents.OPEN_POPOUT,{
type:"User Status Menu",has_custom_status:null!=t,location:o.location})}),[]);var _=function(e){u.default.updateRemoteSettings({status:e})},m=k(U,{customStatus:t});return k(d.default,{navId:"status-picker",style:d.MenuStyle.FIXED,"aria-label":P.default.Messages.SET_STATUS,onClose:r,onSelect:l,className:A.default.menu},void 0,k(d.MenuItem,{id:"online",keepItemStyles:!0,render:function(e){var t=e.isFocused;return k(j,{status:I.StatusTypes.ONLINE,focused:t})},action:function(){return _(I.StatusTypes.ONLINE)}}),F,k(d.MenuItem,{id:"idle",keepItemStyles:!0,render:function(e){var t=e.isFocused;return k(j,{status:I.StatusTypes.IDLE,focused:t})},action:function(){return _(I.StatusTypes.IDLE)}}),k(d.MenuItem,{id:"dnd",keepItemStyles:!0,render:function(e){var t=e.isFocused;return k(j,{status:I.StatusTypes.DND,description:P.default.Messages.STATUS_DND_HELP,focused:t})},action:function(){return _(I.StatusTypes.DND)}}),k(d.MenuItem,{id:"invisible",keepItemStyles:!0,render:function(e){
var t=e.isFocused;return k(j,{status:I.StatusTypes.INVISIBLE,description:P.default.Messages.STATUS_INVISIBLE_HELPER,focused:t})},action:function(){return _(I.StatusTypes.INVISIBLE)}}),x,k(d.MenuItem,{id:"custom-status",keepItemStyles:!0,render:function(){return m},action:function(){(0,O.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74213)]).then(n.bind(n,793954));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,L({},e,{sourceAnalyticsContext:o}))}));case 5:case"end":return e.stop()}}),e)}))))}}),y&&!s.disableMultiAccount&&a.createElement(a.Fragment,null,W,k(d.MenuItem,{id:"switch-account",action:p.default,label:function(e){return k(G,{focused:e.isFocused})}},"switch-account",h)))};V.displayName="StatusPickerPopout";var H=(0,l.default)((function(e){var t=(0,i.useStateFromStores)([y.default],(function(){
return y.default.getCustomStatusActivity()})),n=(0,i.useStateFromStores)([h.default],(function(){return h.default.status}));return a.createElement(V,L({},e,{customStatus:t,status:n}))}));t.default=H},424670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ne;var r,a=Y(n(667294)),o=H(n(294184)),i=H(n(496486)),u=Y(n(798628)),l=n(536211),s=n(378158),d=H(n(55189)),c=H(n(235879)),f=n(632123),p=n(973523),v=n(75639),y=n(252404),h=n(84902),_=H(n(698099)),m=H(n(711195)),g=H(n(414068)),E=H(n(607209)),O=H(n(876874)),S=H(n(788739)),I=H(n(690445)),b=H(n(663303)),C=H(n(946447)),T=H(n(728429)),P=H(n(160629)),A=H(n(571830)),M=H(n(999720)),N=H(n(547282)),R=H(n(971639)),w=H(n(325908)),D=H(n(827436)),L=H(n(776360)),k=H(n(521358)),j=n(956506),U=H(n(922629)),G=H(n(810332)),F=n(770348),x=H(n(247001)),W=H(n(645320)),V=H(n(160957));function H(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(B=function(e){return e?n:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function K(){K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return K.apply(this,arguments)}function $(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$(o,r,a,i,u,"next",e)}function u(e){$(o,r,a,i,u,"throw",e)}i(void 0)}))}}var Z=U.default.getEnableHardwareAcceleration();function X(e){var t=e.channel,r=e.sectionId,o=e.userId,i=(0,l.useStateFromStores)([C.default],(function(){return C.default.isTyping(t.id,o)})),c=(0,l.useStateFromStores)([O.default],(function(){return O.default.getMember(t.guild_id,o)})),f=(0,l.useStateFromStores)([T.default],(function(){return T.default.getUser(o)})),p=(0,l.useStateFromStores)([T.default],(function(){return T.default.getCurrentUser()})),y=(null==f?void 0:f.id)===(null==p?void 0:p.id),h=(0,
l.useStateFromStores)([S.default,I.default],(function(){return y?I.default.getStatus():S.default.getStatus(o,t.guild_id)})),A=(0,l.useStateFromStores)([S.default],(function(){return S.default.isMobileOnline(o)})),M=(0,l.useStateFromStores)([S.default,I.default],(function(){return y?I.default.getActivities():S.default.getActivities(o,t.guild_id)})),N=(0,l.useStateFromStores)([E.default],(function(){return E.default.getStreamForUser(o)})),R=(0,u.useListItem)(o),w=(0,l.useStateFromStores)([_.default],(function(){return _.default.canUserViewChannel(t.id,r,o)})),D=a.useCallback((function(e){null!=f&&(0,s.openContextMenuLazy)(e,q(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(41501),n.e(63893)]).then(n.bind(n,863893));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,K({},e,{user:f,guildId:t.guild_id,
channelId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))))}),[f,t]),L=a.useCallback((function(){if(null!=f){var e="@"+(b.default.hidePersonalInformation?f.username:f.tag);j.ComponentDispatch.dispatchToLastSubscribed(F.ComponentActions.INSERT_TEXT,{content:e});d.default.startTyping(t.id)}}),[f,t]),k=a.useCallback((function(e){e.stopPropagation();(0,v.openGuildBoostingMarketingModal)({guildId:t.guild_id,locationSection:F.AnalyticsSections.MEMBER_LIST})}),[t.guild_id]);if(null==f)return null;var U=null==c?void 0:c.premiumSince;return z(P.default,{preload:function(){return(0,m.default)(f.id,f.getAvatarURL(t.guild_id,80),{guildId:t.guild_id})},renderPopout:function(e){return a.createElement(g.default,K({},e,{userId:f.id,guildId:t.guild_id,channelId:t.id}))},position:P.default.Positions.LEFT,spacing:16,onShiftClick:L},void 0,(function(e,n){var r=n.isShown;return a.createElement(G.default,K({onContextMenu:D,shouldAnimateStatus:Z,user:f,nick:null==c?void 0:c.nick,status:h,activities:M,
colorString:null==c?void 0:c.colorString,isTyping:i,channel:t,guildId:t.guild_id,isMobile:A,selected:r,applicationStream:N,premiumSince:null==U?null:new Date(U),onClickPremiumGuildIcon:k,itemProps:R,lostPermissionTooltipText:w?void 0:x.default.Messages.THREAD_MEMBER_WITHOUT_ACCESS},e))}))}X.displayName="ThreadMember";var Q=z(M.default,{width:12,height:12});var J=a.memo(X),ee=a.memo((function(e){var t=e.id,n=e.label,r=e.count,o=e.guildId,i=(0,y.useRoleIcon)({roleId:t,guildId:o,size:16});return t===F.StatusTypes.UNKNOWN?z("div",{className:W.default.membersGroup},void 0,z("div",{className:W.default.memberGroupsPlaceholder})):z(w.default,{className:W.default.membersGroup,"aria-label":x.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:r})},void 0,null!=i?a.createElement(D.default,K({className:W.default.roleIcon},i)):null,z("span",{"aria-hidden":!0},void 0,n," â€” ",r))})),te=a.memo((function(e){
return e.channel.type===F.ChannelTypes.PRIVATE_THREAD?a.createElement(a.Fragment,null,z("div",{className:V.default.divider}),z(L.default,{size:L.default.Sizes.SIZE_12,color:L.default.Colors.HEADER_SECONDARY,className:V.default.private},void 0,Q,"Â ",x.default.Messages.THREAD_BROWSER_PRIVATE),z(L.default,{size:L.default.Sizes.SIZE_14,color:L.default.Colors.HEADER_SECONDARY,className:V.default.instructions},void 0,x.default.Messages.MEMBER_LIST_PRIVATE_THREAD_INSTRUCTIONS)):null}));function ne(e){var t=e.channel,n=e.guild,r="members-"+t.id,s=(0,h.useThreadMemberListSections)(t.id,n),d=s.filter((function(e){return e.userIds.length>0})).reverse()[0],p=function(e){var t=(0,l.useStateFromStores)([c.default],(function(){return c.default.keyboardModeEnabled})),n=a.useRef(null),r=a.useCallback((function(e,t){var r=n.current;if(null!=r){var a=parseInt(t,10),o=r.getSectionRowFromIndex(a),i=o[0],u=o[1],l=0===i&&0===u?44:0;r.scrollToIndex({section:i,row:u,padding:l,callback:function(){
requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[]),o=a.useCallback((function(){return new Promise((function(e){var t=n.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),i=a.useCallback((function(){return new Promise((function(e){var t=n.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]);return{navigator:(0,u.default)({id:e,setFocus:r,isEnabled:t,scrollToStart:o,scrollToEnd:i}),listRef:n}}(r),v=p.navigator,y=p.listRef;if(0===s.length||s.every((function(e){return 0===e.userIds.length})))return z(ae,{channel:t});var _=i.default.omit(v.containerProps,["ref"]),m=z(te,{channel:t},"footer");return z(u.ListNavigatorProvider,{navigator:v},void 0,z(f.FocusJumpSection,{},void 0,(function(e){return z("div",{className:(0,
o.default)(W.default.membersWrap,W.default.hiddenMembers)},void 0,a.createElement(k.default,K({key:r,ref:y,className:W.default.members,paddingTop:0,sectionHeight:40,renderSection:function(e){var t=e.section,r=s[t];return z(ee,{id:r.id,label:r.label,count:r.userIds.length,guildId:n.id},r.id)},rowHeight:44,renderRow:function(e){var n=e.section,r=e.row,a=s[n],o=a.userIds,i=a.id;return z(J,{channel:t,sectionId:i,userId:o[r]},o[r])},footerHeight:function(e){return s[e]===d&&t.type===F.ChannelTypes.PRIVATE_THREAD?80:0},renderFooter:function(e){return s[e.section]===d?m:null},"aria-label":x.default.Messages.MEMBERS,sections:s.map((function(e){return e.userIds.length})),fade:!0},_,e)))})))}ne.displayName="ThreadMembers";var re=z(N.default,{width:32,height:32});function ae(e){var t=e.channel,n=(0,p.useIsForumPost)(t);return z("div",{className:(0,o.default)(W.default.membersWrap,W.default.hiddenMembers,W.default.members,V.default.emptyState)},void 0,z(L.default,{
className:V.default.emptyStateHeader,size:L.default.Sizes.SIZE_12,color:L.default.Colors.INTERACTIVE_NORMAL},void 0,x.default.Messages.MEMBERS),z("div",{className:V.default.emptyStateIconContainer},void 0,z("div",{className:V.default.emptyStateIcon},void 0,re),z(A.default,{className:V.default.emptyStateStars})),z(R.default,{size:R.default.Sizes.SIZE_16},void 0,n?x.default.Messages.FORUM_POST_MEMBER_LIST_EMPTY_STATE_HEADER:x.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_HEADER),z(L.default,{className:V.default.emptyStateSubtext,size:L.default.Sizes.SIZE_14,color:L.default.Colors.HEADER_SECONDARY},void 0,x.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_SUBTEXT))}ae.displayName="EmptyState"},998872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Je(n(667294)),o=n(517563),i=n(505977),u=n(473727),l=Xe(n(536211)),s=Xe(n(939949)),d=Xe(n(241165)),c=n(988754),f=Xe(n(415275)),p=Xe(n(737863)),v=Xe(n(136873)),y=Je(n(446637)),h=Xe(n(226800)),_=Xe(n(235879)),m=Xe(n(178235)),g=Xe(n(206566)),E=Xe(n(967160)),O=Xe(n(600198)),S=Xe(n(765304)),I=Xe(n(676817)),b=n(621287),C=Xe(n(694450)),T=Xe(n(316309)),P=Xe(n(235398)),A=Xe(n(121791)),M=Xe(n(200092)),N=n(177634),R=Xe(n(730034)),w=Xe(n(480519)),D=Xe(n(697786)),L=Xe(n(344368)),k=Xe(n(735592)),j=Xe(n(829392)),U=Xe(n(519386)),G=Xe(n(782950)),F=Xe(n(100223)),x=Xe(n(873113)),W=Xe(n(701593)),V=n(452453),H=Xe(n(789620)),B=Xe(n(218813)),Y=Xe(n(936747)),z=Xe(n(419523)),K=Xe(n(476115)),$=Xe(n(316200)),q=Xe(n(171627)),Z=Xe(n(486030)),X=n(520310),Q=Xe(n(900996)),J=Xe(n(885159)),ee=Xe(n(554147)),te=Xe(n(496357)),ne=Xe(n(110210)),re=Xe(n(231765)),ae=Xe(n(216920)),oe=Xe(n(764517)),ie=Xe(n(348612)),ue=Xe(n(329697)),le=n(923604),se=n(139982),de=Xe(n(804135)),ce=Xe(n(478910)),fe=Xe(n(394444)),pe=Xe(n(342716)),ve=Xe(n(965484)),ye=Xe(n(340877)),he=n(910992),_e=Xe(n(418968)),me=Xe(n(77670)),ge=Xe(n(409501)),Ee=Xe(n(594506)),Oe=Xe(n(859566)),Se=Xe(n(474628)),Ie=Xe(n(555325)),be=Xe(n(350539)),Ce=Xe(n(423046)),Te=Xe(n(908463)),Pe=Xe(n(644263)),Ae=Xe(n(544196)),Me=Xe(n(23535)),Ne=Xe(n(30098)),Re=Xe(n(122913)),we=Xe(n(191839)),De=Xe(n(211136)),Le=Xe(n(790597)),ke=Xe(n(474261)),je=Xe(n(424099)),Ue=Xe(n(797512)),Ge=Xe(n(96978)),Fe=Xe(n(944537)),xe=Xe(n(432310)),We=Xe(n(853068)),Ve=n(194322),He=n(864489),Be=Xe(n(922629)),Ye=Je(n(409873)),ze=Xe(n(825469)),Ke=Xe(n(678306)),$e=n(770348),qe=n(173652),Ze=n(754949)
;n(259477);n(203855);n(730655);n(101820);n(913955);n(438312);n(455286);n(433512);n(937035);n(399561);n(625424);n(359973);n(587840);n(516818);n(816624);n(350957);n(243336);n(491462);n(42398);n(847583);function Xe(e){return e&&e.__esModule?e:{default:e}}function Qe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Qe=function(e){return e?n:t})(e)}function Je(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Qe(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function et(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function tt(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){et(o,r,a,i,u,"next",e)}function u(e){et(o,r,a,i,u,"throw",e)}i(void 0)}))}}function nt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function at(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ot(e,t)}function ot(e,t){ot=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ot(e,t)}function it(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();de.default.loadServer();if(He.isPlatformEmbedded){Be.default.on("USER_SETTINGS_OPEN",(function(){Re.default.getLayers().includes($e.Layers.USER_SETTINGS)||h.default.open($e.UserSettingsSections.ACCOUNT)}));Be.default.on("LAUNCH_APPLICATION",(function(e,t){var n=we.default.getActiveLibraryApplication(t);Ye.playApplication(t,n,{analyticsParams:{
location:{page:$e.AnalyticsPages.DIRECT,object:$e.AnalyticsObjects.WEB_URL}}})}))}function ut(e){var t=e.match,n=e.location,r=(0,o.parse)(n.search).friend_token,a=t.params.id;p.default.call((function(){return(0,he.openUserProfileModal)({userId:a,guildId:$e.ME,friendToken:r,analyticsLocation:{section:$e.AnalyticsSections.DIRECT_ROUTE_ACCESS}})}));return it(u.Redirect,{to:Ae.default.defaultRoute})}ut.displayName="renderUserProfileRedirector";function lt(e){var t=e.match.params,n=t.guildId,r=t.guildEventId;p.default.call((function(){(0,V.openGuildEventDetails)(r)}));return it(u.Redirect,{to:$e.Routes.CHANNEL(n)})}lt.displayName="renderGuildEventRedirector";function st(e){var t,n,r=e.match,a=/-/g,o=null===(t=r.params.section)||void 0===t?void 0:t.toUpperCase().replace(a,"_"),i=null===(n=r.params.subsection)||void 0===n?void 0:n.toUpperCase().replace(a,"_");!$e.UserSettingsSections.hasOwnProperty(o)||i&&!$e.UserSettingsSections.hasOwnProperty(i)||p.default.call((function(){
return h.default.open($e.UserSettingsSections[o],i)}));return it(u.Redirect,{to:Ae.default.defaultRoute})}st.displayName="renderUserSettingsRedirector";function dt(){p.default.call((function(){return h.default.open($e.UserSettingsSections.INVENTORY)}));return it(u.Redirect,{to:Ae.default.defaultRoute})}dt.displayName="renderGiftInventoryRedirector";function ct(e){var t=e.match.params.date,n=Te.default.changeLog,r=(0,o.parse)(location.search);if(null!=t&&null!=n){if(new Date(t)>new Date(n.date)){var a=r.utm_campaign_current,i=r.utm_content_current,l=r.utm_medium_current,s=r.utm_source_current,c=r.utm_term_current,f=(0,o.stringify)({utm_campaign_current:a,utm_content_current:i,utm_medium_current:l,utm_source_current:s,utm_term_current:c});window.location=$e.Routes.CHANGELOGS()+"?"+f}}p.default.call((function(){return d.default.showChangeLog(r)}));return it(u.Redirect,{to:Ae.default.defaultRoute})}ct.displayName="renderChangeLogRedirector";function ft(){p.default.call((function(){
return M.default.openCreateGuildModal({location:"External link"})}));return it(u.Redirect,{to:Ae.default.defaultRoute})}ft.displayName="createGuildModalRedirector";function pt(e){var t=e.match.params,n=t.guildId,r=t.channelId;(0,X.setNewUser)(Ze.NewUserTypes.MARKETING_UNCLAIMED);var a=$e.Routes.CHANNEL(n||"",r);return it(u.Redirect,{to:a})}pt.displayName="renderWelcomeRedirector";var vt=l.default.connectStores([Me.default,Ae.default,Ce.default],(function(){return{isConnected:Me.default.isConnected(),defaultRoute:Ae.default.defaultRoute,defaultRouteFallback:Ae.default.fallbackRoute,token:Ce.default.getToken()}}))(function(e){at(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute,r=e.token,a=e.defaultRouteFallback;if(null==r)return it(u.Redirect,{to:$e.Routes.DEFAULT_LOGGED_OUT});if(t){var o=Ct(n)
;return null==o||(o.params.guildId===$e.ME||null!=Ne.default.getGuild(o.params.guildId))&&null!=Pe.default.getChannel(o.params.channelId)?it(u.Redirect,{to:n}):it(N.DiscoveryLandingExperimentRedirect,{defaultRouteFallback:a})}return null};return t}(a.Component));function yt(e){var t=e.match.params,n=t.gameId,r=t.action;xe.default.whenInitialized((function(){we.default.whenInitialized((function(){switch(r){case"launch":var e=we.default.getActiveLibraryApplication(n);if(null==e)return;Ye.playApplication(e.id,e,{analyticsParams:{location:{page:$e.AnalyticsPages.DIRECT,object:$e.AnalyticsObjects.WEB_URL}}});break;case"test-mode":je.default.whenInitialized((function(){return y.authorizeAndSetTestModeApplication(n)}));break;case"uninstall":var t=we.default.getActiveLibraryApplication(n);if(null==t)return;(0,c.uninstallBranchPrompt)(t.id,t.branchId,$e.AnalyticsLocations.URI_SCHEME)}}))}));return it(u.Redirect,{to:$e.Routes.APPLICATION_LIBRARY})}yt.displayName="gameLibraryActionRedirector"
;var ht=(0,b.makeAuthenticated)(ze.default,null,{passProps:!1}),_t=[$e.Routes.GUILD_BOOSTING_MARKETING(":guildId")].concat(qe.StaticChannelRoutes.map((function(e){return $e.Routes.CHANNEL(":guildId",e)})));var mt=it(vt,{}),gt=[{path:[$e.Routes.APP,$e.Routes.CHANNEL("@me",":channelId?")],render:function(){return mt},isSessionRequired:!0},{path:[$e.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),$e.Routes.GUILD_DISCOVERY],render:ht,isSessionRequired:!0,isChatRoute:!0}],Et=it(vt,{}),Ot=[{path:[$e.Routes.APP],render:function(){return Et},isSessionRequired:!0},{path:[$e.Routes.USERS(":id")],render:ut},{path:[$e.Routes.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:yt},{path:[$e.Routes.GUILD_CREATE],render:ft},{path:[$e.Routes.CHANGELOGS(":date?")],render:ct,isSessionRequired:!0},{path:[$e.Routes.SETTINGS(":section",":subsection?")],render:st,isSessionRequired:!0},{path:[$e.Routes.APPLICATION_LIBRARY_INVENTORY],render:dt,isSessionRequired:!0},{
path:[$e.Routes.WELCOME(":guildId?",":channelId?")],render:pt,isSessionRequired:!0},{path:[$e.Routes.GUILD_EVENT_DETAILS(":guildId?",":guildEventId")],render:lt,isSessionRequired:!0},{path:[$e.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),$e.Routes.ACTIVITY,$e.Routes.APPLICATION_LIBRARY,$e.Routes.APPLICATION_STORE,$e.Routes.GUILD_DISCOVERY,$e.Routes.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),$e.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),$e.Routes.GUILD_BOOSTING_MARKETING(":guildId"),$e.Routes.FEATURE(":feature")],render:ht,isSessionRequired:!0,isChatRoute:!0}];function St(e){if(!Me.default.isConnected()&&!Me.default.isTryingToConnect()){var t=Ce.default.getToken();if(null!=t){var n=function(e){for(var t,n=nt(bt());!(t=n()).done;){var r=t.value,a=r.path;if(r.isSessionRequired){var o=(0,i.matchPath)(e,{path:a});if(null!=o)return o}}return null}(e);null!=n&&s.default.startSession(t)}}}function It(e){var t=Ct(e);if(null!=t){var n=function(e){
var t=e.params,n=t.guildId,r=t.channelId,a=void 0===r?null:r,o=t.messageId,i=void 0===o?null:o;return{guildId:n||$e.ME,channelId:a,messageId:i}}(t),r=n.guildId,a=n.channelId,o=n.messageId,u=(0,le.isValidGuildId)(r),l=(0,le.isValidChannelId)(a),s=Le.default.getGuildId(),d=s!==r;u&&d&&f.default.selectGuild(r);if(u&&l){var c=De.default.getChannelId(s);(d||c!==a||null!=o)&&v.default.selectChannel(r,a,o)}else(function(e){return _t.some((function(t){var n;return!0===(null===(n=(0,i.matchPath)(e,t))||void 0===n?void 0:n.isExact)}))})(e)||(0,se.replaceWith)(Ae.default.fallbackRoute)}}function bt(){return Ce.default.isGuest()?gt:Ot}function Ct(e){for(var t,n=nt(bt());!(t=n()).done;){var r=t.value,a=r.path;if(r.isChatRoute){var o=(0,i.matchPath)(e,{path:a});if(null!=o)return o}}return null}var Tt=it(u.Redirect,{exact:!0,from:"/channels",to:"/"}),Pt=it(u.Redirect,{to:"/"}),At=it(Ke.default,{}),Mt=function(e){at(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).historyUnlisten=function(){};return t}var r=t.prototype;r.componentDidMount=function(){Be.default.setZoomFactor(_.default.zoom);de.default.init();C.default.initialize();T.default.initialize();A.default.initialize();P.default.initialize();D.default.initialize();ee.default.initialize();k.default.initialize();L.default.initialize();be.default.initialize();j.default.initialize();re.default.initialize();z.default.initialize();Z.default.initialize();m.default.init();ie.default.init();ce.default.init();G.default.init();ke.default.init();U.default.init();q.default.init();Q.default.initialize();I.default.initialize();fe.default.initialize();ae.default.initialize();Ie.default.initialize();S.default.initialize();Se.default.initialize();J.default.initialize();O.default.initialize();F.default.init();H.default.init();Fe.default.init();We.default.init();$.default.initialize()
;E.default.initialize();ve.default.init();ye.default.init();Ge.default.init();Ue.default.init();me.default.init();Ee.default.init();W.default.initialize();pe.default.initialize();x.default.initialize();_e.default.initialize();ne.default.initialize();te.default.initialize();Oe.default.init();w.default.initialize();ge.default.init();Y.default.init();g.default.initialize();B.default.init({hasModalOpen:Ve.hasAnyModalOpen,openModal:function(){return(0,Ve.openModalLazy)(tt(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}});R.default.init();K.default.initialize();oe.default.initialize();this.handleHistoryChange(n.g.location);this.historyUnlisten=ue.default.addRouteChangeListener(this.handleHistoryChange)}
;r.componentWillUnmount=function(){k.default.terminate();be.default.terminate();re.default.terminate();ee.default.terminate();Z.default.terminate();C.default.terminate();T.default.terminate();A.default.terminate();P.default.terminate();D.default.terminate();$.default.terminate();S.default.terminate();Se.default.terminate();O.default.terminate();fe.default.terminate();ae.default.terminate();J.default.terminate();_e.default.terminate();E.default.terminate();W.default.terminate();ne.default.terminate();te.default.terminate();w.default.terminate();Y.default.terminate();K.default.terminate();g.default.terminate();oe.default.terminate()};r.handleHistoryChange=function(e){var t=e.pathname;St(t);It(t)};r.render=function(){var e=this.props.isGuest;return it(a.Fragment,{},void 0,it(u.Switch,{},void 0,Tt,e?gt.map((function(e){var t=e.path,n=e.render;return it(u.Route,{path:t,render:n},t[0])})):Ot.map((function(e){var t=e.path,n=e.render;return it(u.Route,{path:t,render:n},t[0])})),Pt),At)}
;return t}(a.PureComponent);Mt.displayName="ViewsWithMainInterface";var Nt=l.default.connectStores([Ce.default],(function(){return{isGuest:Ce.default.isGuest()}}))(Mt);t.default=Nt},61689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(770348);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u,l,s=Math.pow(3,2)
;!function(e){e[e.DISABLED=0]="DISABLED";e[e.DEFAULT=1]="DEFAULT";e[e.OFFSET=2]="OFFSET"}(u||(u={}));!function(e){e.TOP="TOP";e.BOTTOM="BOTTOM";e.RIGHT="RIGHT";e.LEFT="LEFT"}(l||(l={}));function d(e,t,n,r,a){var o=e.top,i=e.bottom,u=e.left,l=e.right;if(null==o&&null==i){o=0;i=n-a}else null==o&&null!=i?o=n-(i+a):null!=o&&(i=n-(o+a));if(null==u&&null==l){u=0;l=t-r}else null==u&&null!=l?u=t-(l+r):null==l&&null!=u&&(l=t-(u+r));if(null==o||null==i||null==u||null==l)throw new Error("Logically this can never happen based on our if/else statements");return{top:o,left:u,bottom:i,right:l}}function c(e){return[null==e.bottom?l.TOP:l.BOTTOM,null==e.right?l.LEFT:l.RIGHT]}function f(e){var t=e,n=t.top,r=t.left,a=t.bottom,o=t.right;0===n||n<=a?a=null:n=null;0===r||r<=o?o=null:r=null;return{top:n,left:r,bottom:a,right:o}}function p(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;if(r<0){t+=r;r=0}if(t<0){r+=t;t=0}if(a<0){n+=a;a=0}if(n<0){a+=n;n=0}return{top:t,left:n,bottom:r,right:a}}function v(e){
return null!=e?e+"px":"auto"}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).draggableRef=r.createRef();n._dragStart={x:0,y:0};n.handleMouseDown=function(e){var t=n.position,r=t.top,o=t.left,i=t.bottom,u=t.right,l=n.props,s=l.dragAnywhere,c=l.selector,f=l.maxX,p=l.maxY,v=e.target,y=n.draggableRef.current;if(null!=y&&e.button===a.MouseButtons.PRIMARY&&(s||null!=v&&null!=c&&""!==c&&null!=v.closest(c))){var h=function(e){var t=e.top;return{x:e.left,y:t}}(d({top:r,left:o,bottom:i,right:u},f,p,y.clientWidth,y.clientHeight)),_=h.x,m=h.y;n._dragStart={x:e.clientX,y:e.clientY};n._offsetX=e.clientX-_;n._offsetY=e.clientY-m;window.addEventListener("mousemove",n.handleMouseMove);window.addEventListener("mouseup",n.handleMouseUp)}};n.handleMouseMove=function(e){e.preventDefault()
;var t=e.clientX,r=e.clientY,a=n.draggableRef.current,o=n.props,i=o.maxX,l=o.maxY,v=o.flipVertical,y=o.flipHorizontal,h=o.onDragStart,_=o.onDrag,m=o.onFlip,g=o.snapOrientation,E=n.state,O=E.dragging,S=E.dragging,I=E.verticalOrientation,b=E.horizontalOrientation,C=!1;if(!(null==a||!O&&(T=n._dragStart,P={x:t,y:r},A=T.x,M=T.y,N=P.x,R=P.y,Math.pow(A-N,2)+Math.pow(M-R,2))<s)){var T,P,A,M,N,R;O=!0;var w=a.clientWidth,D=a.clientHeight,L=p(d({top:r-n._offsetY,left:t-n._offsetX},i,l,w,D));if(g){var k=c(L=f(L));I=k[0];b=k[1]}else L={top:L.top,left:L.left};if(y===u.OFFSET&&b!==n.state.horizontalOrientation){n._offsetX=w-n._offsetX;C=!0}if(v===u.OFFSET&&I!==n.state.verticalOrientation){n._offsetY=D-n._offsetY;C=!0}n.setDOMPositions(L);S||null==h||h(L,a);null==_||_(L,a);C&&(null==m||m([I,b]));n.setState({dragging:O,verticalOrientation:I,horizontalOrientation:b,atTopEdge:0===L.top})}};n.handleMouseUp=function(){window.removeEventListener("mousemove",n.handleMouseMove)
;window.removeEventListener("mouseup",n.handleMouseUp);n.state.dragging&&n.setState({dragging:!1},(function(){var e=n.props.onDragEnd,t=n.draggableRef.current;null!=t&&null!=e&&e(n.position,t)}))};n._checkBoundsRAF=null;n.checkBounds=function(){null!=n._checkBoundsRAF&&cancelAnimationFrame(n._checkBoundsRAF);n._checkBoundsRAF=requestAnimationFrame(n._performCheckBounds)};n._performCheckBounds=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.position,r=e.state,a=e.draggableRef.current,o=e.props,i=o.maxX,u=o.maxY,l=o.onRelocated,s=o.snapOrientation,v=n.state,y=v.verticalOrientation,h=v.horizontalOrientation;if(null!=a){var _,m=a.clientHeight,g=d(t,i,u,a.clientWidth,m);g=p(g);if(s){var E=c(_=f(g));y=E[0];h=E[1]}else _={top:g.top,left:g.left,right:null,bottom:null};if(t.left!==_.left||t.right!==_.right||t.top!==_.top||t.bottom!==_.bottom){null==l||l(_,a);n.setDOMPositions(_);var O=0===_.top
;y===r.verticalOrientation&&h===r.horizontalOrientation&&O===r.atTopEdge||n.setState({verticalOrientation:y,horizontalOrientation:h,atTopEdge:O})}}};var o=c(t.initialPosition),i=o[0],l=o[1];n.position=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;null==n&&null==a&&(n=0);null!=n&&null!=a&&(a=null);null==t&&null==r&&(t=0);null!=t&&null!=r&&(r=null);return{top:t,left:n,bottom:r,right:a}}(t.initialPosition);n.state={dragging:!1,verticalOrientation:i,horizontalOrientation:l,atTopEdge:0===n.position.top};return n}var n=t.prototype;n.componentDidMount=function(){this.checkBounds();this.setDOMPositions(this.position)};n.componentDidUpdate=function(e,t){var n=this.state,r=n.verticalOrientation,a=n.horizontalOrientation,o=n.atTopEdge,i=this.props,u=i.maxX,l=i.maxY,s=i.onRelocated,d=i.snapOrientation;(e.maxX!==u||e.maxY!==l||e.onRelocated!==s||e.snapOrientation!==d||t.verticalOrientation!==r||t.horizontalOrientation!==a||t.atTopEdge!==o)&&this.checkBounds()}
;n.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove);window.removeEventListener("mouseup",this.handleMouseUp)};n.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right,o=this.draggableRef.current;this.position={top:t,left:n,bottom:r,right:a};if(null!=o){o.style.top=v(t);o.style.bottom=v(r);o.style.left=v(n);o.style.right=v(a)}};n.render=function(){var e=this.props,t=e.children,n=e.className,a=this.state,o=a.dragging,i=a.verticalOrientation,u=a.horizontalOrientation,s=a.atTopEdge,d=this.position,c=d.top,f=d.left,p=d.right,v={pointerEvents:o?"none":"auto",position:"absolute",top:c,left:f,bottom:d.bottom,right:p};return r.createElement("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:v},r.cloneElement(r.Children.only(t),{flipped:u===l.RIGHT,verticalFlipped:i===l.BOTTOM,checkBounds:this.checkBounds,atTopEdge:s}))};return t}(r.PureComponent);t.default=y;y.displayName="Draggable";y.FlipTypes=u
;y.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:u.DISABLED,flipHorizontal:u.DISABLED,dragAnywhere:!1}},358696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(667294)),o=l(n(16941)),i=l(n(160629)),u=d(n(519390));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderPopout=function(e){
var n=e.closePopout,r=t.props,a=r.options,o=r.value,i=r.renderOption,l=r.popoutClassName,s=r.scroller;return f(u.QuickSelectPopout,{scroller:Boolean(s),className:l,options:a,value:o,renderOption:i,onChange:function(e){t.handleChange(e);n()}})};t.handleChange=function(e){var n=t.props.onChange;null==n||n(e)};return t}t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,l=e.className,s=e.popoutProps,d=f(u.default,{label:t,value:n,renderValue:r});return a.createElement(i.default,c({},s,{renderPopout:this.renderPopout}),(function(e,t){var n=t.isShown;return a.createElement(o.default,c({},e,{className:l,"aria-haspopup":"listbox","aria-expanded":n}),d)}))};return t}(a.PureComponent);v.displayName="QuickSelectWrapper";var y=v;t.default=y},887140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T
;var r,a=O(n(667294)),o=g(n(294184)),i=n(536211),u=g(n(636602)),l=O(n(785460)),s=g(n(122913)),d=g(n(191013)),c=g(n(37679)),f=g(n(665759)),p=n(194322),v=n(310170),y=O(n(409873)),h=n(770348),_=g(n(247001)),m=g(n(517628));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).searchBarRef=null;t.state={focused:!1};t.setRef=function(e){t.searchBarRef=e};t.handleKeyDown=function(e){var n,r=t.props,a=r.activeRowKey,o=r.hasModalOpen,i=r.applicationViewItems,u=I(t).searchBarRef;if(!(o||e.ctrlKey||e.altKey||e.metaKey||null==u)){
var l=null===(n=(0,v.eventOwnerDocument)(e))||void 0===n?void 0:n.activeElement;if(l===u.inputRef.current||!(0,v.isInputLikeElement)(l))switch(e.which){case h.KeyboardKeys.ESCAPE:e.target!==u.inputRef.current?t.reset():null!=u.inputRef.current&&u.blur();break;case h.KeyboardKeys.ENTER:if(null!=a){e.preventDefault();var s=i.find((function(e){return e.key===a}));if(null==s)return;var d=s.libraryApplication;y.performDefaultLibraryApplicationAction(d,{analyticsParams:{source:h.AnalyticsLocations.APPLICATION_LIBRARY,location:{page:h.AnalyticsPages.LIBRARY,section:h.AnalyticsSections.LIBRARY_APPLICATION_LIST,object:h.AnalyticsObjects.BUTTON_CTA}}})}break;case h.KeyboardKeys.ARROW_DOWN:case h.KeyboardKeys.ARROW_UP:e.preventDefault();e.stopPropagation();t.updateActiveRow(e.which===h.KeyboardKeys.ARROW_DOWN?1:-1);break;default:null!=u.inputRef.current&&e.target!==u.inputRef.current&&u.focus()}}};return t}var n=t.prototype;n.componentDidMount=function(){
document.addEventListener("keydown",this.handleKeyDown)};n.componentWillUnmount=function(){u.default.wait((function(){return l.updateActiveRowKey(null)}));document.removeEventListener("keydown",this.handleKeyDown)};n.reset=function(){l.updateActiveRowKey(null);l.updateLibraryFilter("")};n.focusInput=function(){var e=this.searchBarRef;null!=e&&e.focus()};n.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,r=t.activeRowKey,a=n.findIndex((function(e){return e.key===r})),o=0;a>=0&&(o=(a+e)%n.length)<0&&(o=n.length-1);var i=n[o];l.updateActiveRowKey(null!=i?i.key:null,!0)};n.render=function(){var e,t=this,n=this.props.filterQuery,r=this.state.focused;return S("div",{className:(0,o.default)((e={},e[m.default.libraryFilter]=!0,e[m.default.focused]=r,e))},void 0,a.createElement(f.default,{className:m.default.searchBar,ref:this.setRef,onChange:l.updateLibraryFilter,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},
name:"filter",onClear:function(){t.reset();t.focusInput()},maxLength:100,query:n,placeholder:_.default.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER}))};return t}(a.Component);C.displayName="ApplicationLibraryFilter";function T(){var e=(0,i.useStateFromStores)([s.default],(function(){return s.default.hasLayers()})),t=(0,p.useModalsStore)(p.hasAnyModalOpenSelector);return S(C,{activeRowKey:(0,i.useStateFromStores)([c.default],(function(){return c.default.activeRowKey})),hasModalOpen:t||e,filterQuery:(0,i.useStateFromStores)([d.default],(function(){return d.default.applicationFilterQuery})),applicationViewItems:(0,i.useStateFromStores)([d.default],(function(){return d.default.sortedFilteredLibraryApplicationViewItems}))})}T.displayName="ApplicationLibraryFilterConnected"},870380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(463024)),i=n(139982),u=v(n(186465)),l=v(n(262134)),s=n(308920),d=n(539331),c=n(770348),f=v(n(247001)),p=v(n(541302));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var m=(0,d.isSupportedPlatform)()||!1,g=h(o.default.Icon,{icon:l.default,"aria-hidden":!0}),E=h(o.default.Divider,{});function O(e){var t=e.currentRoute,n=e.renderToolbar,r=a.useContext(s.AnalyticsContext);var l=m||t===c.Routes.APPLICATION_LIBRARY_SETTINGS;return h(o.default,{className:p.default.libraryHeader,toolbar:null==n?void 0:n()},void 0,g,h(o.default.Title,{},void 0,f.default.Messages.LIBRARY),E,h(u.default,{type:u.default.Types.TOP_PILL,selectedItem:t,onItemSelect:function(e){e!==t&&(0,i.transitionTo)(e,{state:{analyticsSource:_({},r.location,{section:c.AnalyticsSections.TABS,object:c.AnalyticsObjects.NAVIGATION_LINK})}})}},void 0,h(u.default.Item,{id:c.Routes.APPLICATION_LIBRARY
},void 0,f.default.Messages.APPLICATION_LIBRARY_MY_GAMES),l?h(u.default.Item,{id:c.Routes.APPLICATION_LIBRARY_SETTINGS},void 0,f.default.Messages.SETTINGS):null))}O.displayName="ApplicationLibraryHeader";var S=a.memo(O);t.default=S},115370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(370405),i=n(473727),u=v(n(284382)),l=v(n(400225)),s=n(887299),d=v(n(539903)),c=v(n(364527)),f=n(770348),p=v(n(854686));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=h(c.default,{}),m=h(d.default,{});function g(){return h(i.Switch,{},void 0,h(l.default,{path:f.Routes.APPLICATION_LIBRARY_SETTINGS,exact:!0},void 0,h(u.default,{page:f.AnalyticsPages.LIBRARY_SETTINGS,root:!0},void 0,_)),h(l.default,{path:f.Routes.APPLICATION_LIBRARY},void 0,h(u.default,{page:f.AnalyticsPages.LIBRARY,root:!0},void 0,m)))}g.displayName="ApplicationLibrarySwitch";var E=h(o.Helmet,{title:"Discord"}),O=h(g,{});function S(){
a.useEffect((function(){(0,s.trackAppUIViewed)("application_library")}),[]);return h("div",{className:p.default.container},void 0,E,O)}S.displayName="ApplicationLibraryPage";var I=a.memo(S);t.default=I},949294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=h(n(536211)),u=n(91817),l=h(n(223367)),s=h(n(730977)),d=h(n(955310)),c=h(n(989983)),f=h(n(635114)),p=h(n(809898)),v=n(770348),y=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var O=new Set([v.CloudSyncStateTypes.PUSHING,v.CloudSyncStateTypes.PULLING]),S=Object.freeze(((r={})[v.CloudSyncStateTypes.DONE]=d.default,
r[v.CloudSyncStateTypes.PLANNING]=d.default,r[v.CloudSyncStateTypes.PREPARING]=d.default,r[v.CloudSyncStateTypes.PUSHING]=p.default,r[v.CloudSyncStateTypes.PULLING]=f.default,r[v.CloudSyncStateTypes.CONFLICT]=d.default,r[v.CloudSyncStateTypes.ERROR]=d.default,r)),I=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._doneTimer=new u.Timeout;return t}var n=t.prototype;n.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()};n.componentDidUpdate=function(e){null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==v.CloudSyncStateTypes.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())};n.componentWillUnmount=function(){this._doneTimer.stop()}
;n.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,(function(){return e.forceUpdate()}))};n.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===v.CloudSyncStateTypes.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1};n.getStop=function(e,t){if(t)return 1;if(e.type===v.CloudSyncStateTypes.PUSHING||e.type===v.CloudSyncStateTypes.PULLING){return e.progress/e.total}return 0};n.getTooltip=function(e,t){switch(e.type){case v.CloudSyncStateTypes.DONE:return t?y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case v.CloudSyncStateTypes.CONFLICT:case v.CloudSyncStateTypes.ERROR:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case v.CloudSyncStateTypes.PLANNING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case v.CloudSyncStateTypes.PREPARING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case v.CloudSyncStateTypes.PUSHING:
return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case v.CloudSyncStateTypes.PULLING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING;default:return null}};n.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,r=e.className,a=null==t?{type:v.CloudSyncStateTypes.DONE}:t,i=this.getIsRecentlySynced(),u={};(O.has(a.type)||i)&&(u.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(a,i)});var l=i?c.default:S[a.type];return m(s.default,{text:this.getTooltip(a,i)},void 0,(function(e){return o.createElement(l,g({className:r},u,e))}))};return t}(o.PureComponent);I.displayName="CloudSyncIcon";var b=i.default.connectStores([l.default],(function(e){var t=e.libraryApplication;return{cloudSyncState:l.default.getState(t.id,t.branchId)}}))(I);t.default=b},328715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=T(n(536211)),i=n(668471),u=T(n(979285)),l=T(n(956117)),s=T(n(558402)),d=T(n(789446)),c=T(n(895108)),f=T(n(530250)),p=T(n(618993)),v=T(n(279950)),y=n(688388),h=T(n(502197)),_=n(194322),m=T(n(971639)),g=T(n(776360)),E=n(771855),O=n(864489),S=T(n(922629)),I=T(n(247001)),b=T(n(591523)),C=T(n(380203));function T(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=function(e){N(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={label:void 0,isDefault:null};t.handleStartEditing=function(){
var e=t.props,n=e.path,r=e.label,a=e.isDefault;(0,e.onToggleEditing)(n);t.setState({label:r,isDefault:a})};t.handleStopEditing=function(){(0,t.props.onToggleEditing)(null);t.setState({label:void 0,isDefault:null})};t.handleRemoveLocation=function(){(0,_.openModal)((function(e){return a.createElement(h.default,A({},e,{header:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:I.default.Messages.CANCEL,onConfirm:function(){t.handleStopEditing();(0,i.removeInstallLocation)(t.props.path)}}),M(g.default,{size:g.default.Sizes.SIZE_16},void 0,I.default.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY))}))};t.handleSaveChanges=function(){(0,i.updateInstallLocation)(t.props.path,{label:null!=t.state.label?t.state.label:t.props.label,isDefault:null!=t.state.isDefault?t.state.isDefault:t.props.isDefault});t.handleStopEditing()};t.handleLabelChange=function(e){t.setState({label:e})}
;t.handleToggleDefault=function(){t.setState({isDefault:!t.state.isDefault})};return t}var n=t.prototype;n.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?M(c.default,{total:e.totalKB,used:e.totalKB-e.availableKB}):null};n.renderViewing=function(){var e,t,n=this.props,r=n.path,a=n.label,o=n.editingPath,i=n.isDefault,s=n.metadata;if(null!=s){e=null!=s.availableKB?(0,E.formatSize)(s.availableKB,{useKibibytes:!0}):null;t=null!=s.totalKB?(0,E.formatSize)(s.totalKB,{useKibibytes:!0}):null}return M(f.default,{className:b.default.installationPath,align:f.default.Align.CENTER},void 0,this.renderDiskUsageCircle(),M(f.default,{direction:f.default.Direction.VERTICAL,className:b.default.descriptionWrapper},void 0,M(f.default,{align:f.default.Align.CENTER},void 0,M(m.default,{className:b.default.rowTitle,size:m.default.Sizes.SIZE_16},void 0,null!=a?a:u.default.getLabelFromPath(r)),i?M("span",{className:b.default.defaultIndicator
},void 0,I.default.Messages.DEFAULT):null),null!=s&&null!=e&&null!=t?M(p.default,{className:b.default.rowBody,hoverText:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:e,total:t})},void 0,r):M(g.default,{className:b.default.rowBody,size:g.default.Sizes.SIZE_12},void 0,r)),M(l.default,{size:l.default.Sizes.SMALL,disabled:null!=o,color:l.default.Colors.PRIMARY,onClick:this.handleStartEditing},void 0,I.default.Messages.EDIT))};n.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,r=this.state,a=r.label,o=r.isDefault;return M(s.default,{editable:!0,className:b.default.installationPathEditing},void 0,M(f.default,{},void 0,this.renderDiskUsageCircle(),M(f.default.Child,{},void 0,M(y.FormItem,{title:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME},void 0,M(v.default,{value:a,placeholder:u.default.getLabelFromPath(t),onChange:this.handleLabelChange})),M(y.FormItem,{
title:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:C.default.marginTop20},void 0,M(v.default,{disabled:!0,value:t})),M(d.default,{type:d.default.Types.INVERTED,value:null!=o?o:this.props.isDefault,disabled:this.props.isDefault,className:b.default.defaultLocationCheckbox,onChange:this.handleToggleDefault},void 0,I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT),M(y.FormDivider,{className:b.default.separator}),M(f.default,{},void 0,M(l.default,{disabled:n||this.props.isDefault,size:l.default.Sizes.SMALL,color:l.default.Colors.RED,look:l.default.Looks.OUTLINED,onClick:this.handleRemoveLocation},void 0,I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE),M(f.default,{justify:f.default.Justify.END},void 0,M(l.default,{size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:this.handleStopEditing},void 0,I.default.Messages.CANCEL),M(l.default,{
disabled:t===this.props.path&&a===this.props.label&&o===this.props.isDefault,size:l.default.Sizes.SMALL,color:l.default.Colors.GREEN,onClick:this.handleSaveChanges},void 0,I.default.Messages.SAVE))))))};n.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()};return t}(a.PureComponent);w.displayName="PathItem";var D=function(e){N(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={editingPath:null};t.handleAddInstallationLocation=function(){S.default.showOpenDialog(["openDirectory"]).then((function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,i.addInstallLocation)(e[0])}))};t.handleToggleEditing=function(e){t.setState({editingPath:e})};return t}var n=t.prototype;n.componentDidMount=function(){(0,i.fetchMetadata)(this.props.installationPaths.map((function(e){return e.path})))};n.render=function(){
var e=this,t=this.props,n=t.installationPaths,r=t.installationPathsMetadata,a=t.defaultInstallationPath,o=this.state.editingPath;return M(y.FormSection,{className:b.default.wrapper,title:I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS},void 0,n.map((function(t){var n=t.path,i=t.label;return M(w,{path:n,label:i,metadata:r[n],isDefault:a===n,editingPath:o,hasGamesInstalledInPath:u.default.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)})),M("div",{className:b.default.buttonRowWrapper},void 0,M(l.default,{disabled:!O.isPlatformEmbedded,onClick:this.handleAddInstallationLocation,size:l.default.Sizes.SMALL},void 0,I.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD)))};return t}(a.PureComponent);D.displayName="GameInstallLocations";var L=o.default.connectStores([u.default],(function(){return{installationPaths:u.default.installationPaths,installationPathsMetadata:u.default.installationPathsMetadata,
defaultInstallationPath:u.default.defaultInstallationPath}}))(D);t.default=L},539903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=O(n(667294)),o=g(n(294184)),i=g(n(636602)),u=O(n(588136)),l=n(881100),s=n(297279),d=g(n(284382)),c=n(235742),f=n(656710),p=g(n(887140)),v=g(n(870380)),y=g(n(845905)),h=g(n(351345)),_=n(770348),m=g(n(993846));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var b=S(p.default,{}),C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._scrollerRef=a.createRef();t._scrollToPadding=0;t.state={includeUpdatesInScroller:!1};t.handleHeightTallerThanHalfViewportChange=function(e){t.setState({includeUpdatesInScroller:e})}
;t.scrollToRow=function(e,n){var r=t._scrollerRef.current;if(null!=r){e.focus();r.scrollIntoViewRect({start:n,end:n});t._scrollToOnMount=null}else{t._scrollToOnMount=e;t._scrollToPadding=n}};return t}var n=t.prototype;n.componentDidMount=function(){u.setHomeLink(_.Routes.APPLICATION_LIBRARY);(0,f.deepLinkRouteIfLanded)(_.RPCDeepLinks.LIBRARY);i.default.wait((function(){return(0,l.fetchBranches)()}));(0,s.fetchActivityStatistics)();null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)};n.renderToolbar=function(){return b};n.render=function(){var e,t=this.state.includeUpdatesInScroller,n=S("div",{},void 0,S(d.default,{section:_.AnalyticsSections.LIBRARY_INSTALL_MODULE},void 0,S(h.default,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})));return S(a.Fragment,{},void 0,S(v.default,{currentRoute:_.Routes.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar
}),t?null:n,a.createElement(c.AdvancedScrollerAuto,{className:(0,o.default)(m.default.container,m.default.scroller,(e={},e[m.default.stickyScroller]=!t,e)),ref:this._scrollerRef},t?n:null,S(d.default,{section:_.AnalyticsSections.LIBRARY_APPLICATION_LIST},void 0,S(y.default,{stickyHeader:!t,scrollToRow:this.scrollToRow}))))};return t}(a.PureComponent);t.default=C;C.displayName="GameLibrary"},364527:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=C(n(667294)),o=n(536211),i=C(n(252247)),u=n(894826),l=I(n(191013)),s=I(n(16941)),d=I(n(530250)),c=I(n(567668)),f=n(688388),p=I(n(259530)),v=n(582945),y=I(n(308920)),h=C(n(685677)),_=n(539331),m=I(n(870380)),g=I(n(328715)),E=n(770348),O=I(n(247001)),S=I(n(218522));function I(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function P(e,t){P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var r=t.map((function(e){var t=e.libraryApplication.getDistributor();return A("div",{className:S.default.hiddenLibraryApplication},e.key,A(d.default,{direction:d.default.Direction.VERTICAL,className:S.default.hiddenLibraryApplicationContent},void 0,A("div",{className:S.default.applicationName},void 0,e.libraryApplication.getBranchedName(e.application)),null!=t?A("div",{className:S.default.applicationSubText},void 0,E.DistributorNames[t]):null),A(s.default,{className:S.default.restoreButton,onClick:function(){return n(e.libraryApplication)}},void 0,A(p.default,{className:S.default.restoreIcon})))}));return A(f.FormSection,{className:S.default.hiddenLibraryApplications},void 0,A(f.FormTitle,{className:S.default.hiddenLibraryApplicationsTitle
},void 0,O.default.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL),r)}M.displayName="HiddenLibraryApplications";var N=A(g.default,{}),R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleRestoreHiddenLibraryApplication=function(e){var n=h.toggleFlag(e.getFlags(),E.LibraryApplicationFlags.HIDDEN);i.updateFlags(e.id,e.branchId,n);t.trackRestoreApplication(e,h.hasFlag(n,E.LibraryApplicationFlags.HIDDEN))};return t}var n=t.prototype;n.handleToggleShortcutDesktop=function(e){u.InstallShortcutDesktop.updateSetting(e)};n.handleToggleShortcutStartMenu=function(e){u.InstallShortcutStartMenu.updateSetting(e)};n.trackRestoreApplication=function(e,t){y.default.track(E.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,T({hidden_enabled:t},e.getAnalyticsData()))};n.renderBody=function(){
var e=this.props,t=e.hiddenLibraryApplicationViewItems,n=e.installShortcutDesktop,r=e.installShortcutStartMenu;return A("div",{className:S.default.body},void 0,(0,_.isSupportedPlatform)()?A(a.Fragment,{},void 0,A(c.default,{value:n,onChange:this.handleToggleShortcutDesktop,note:O.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE},void 0,O.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP),A(c.default,{value:r,onChange:this.handleToggleShortcutStartMenu,note:O.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE},void 0,O.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU),N):null,A(M,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:t}))};n.render=function(){return a.createElement(a.Fragment,null,A(m.default,{currentRoute:E.Routes.APPLICATION_LIBRARY_SETTINGS}),A(v.ScrollerAuto,{className:S.default.scroller},void 0,this.renderBody()))};return t}(a.PureComponent);R.displayName="GameLibrarySettings";function w(){var e={
installShortcutDesktop:u.InstallShortcutDesktop.useSetting(),installShortcutStartMenu:u.InstallShortcutStartMenu.useSetting(),hiddenLibraryApplicationViewItems:(0,o.useStateFromStores)([l.default],(function(){return l.default.hiddenLibraryApplicationViewItems}))};return a.createElement(R,e)}w.displayName="ConnectedGameLibrarySettings"},845905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=X;var r,a,o=j(n(667294)),i=L(n(294184)),u=n(473727),l=n(536211),s=n(91817),d=L(n(636602)),c=n(378158),f=j(n(785460)),p=L(n(25952)),v=L(n(758269)),y=L(n(191013)),h=L(n(37679)),_=L(n(956117)),m=L(n(530250)),g=L(n(562475)),E=L(n(73393)),O=L(n(425991)),S=L(n(730977)),I=L(n(420303)),b=L(n(41024)),C=L(n(330998)),T=j(n(308920)),P=n(811076),A=n(8916),M=L(n(949294)),N=n(770348),R=L(n(247001)),w=L(n(312935)),D=["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"];function L(e){return e&&e.__esModule?e:{default:e}}
function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,u,"next",e)}function u(e){F(o,r,a,i,u,"throw",e)}i(void 0)}))}}function W(e,t){W=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return W(e,t)}function V(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(){H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return H.apply(this,arguments)}var B=(0,A.cssValueToNumber)(w.default.rowMinHeight),Y=(0,A.cssValueToNumber)(w.default.linkedToGlowDuration),z=Object.freeze(((r={})[N.GameTableListKeys.PLATFORM]="Platform",r[N.GameTableListKeys.LAST_PLAYED]="Last Played",r[N.GameTableListKeys.NAME]="Name",r));var K=function(e){var t=e.flag,n=e.icon,r=e.item,a=e.tooltip,u=r.libraryApplication.hasFlag(t);return V(S.default,{text:a},void 0,(function(e){var t;return o.createElement(n,H({className:(0,
i.default)(w.default.settingIcon,(t={},t[w.default.hidden]=!u,t))},e))}))};K.displayName="FlagIcon";var $=[{key:N.GameTableListKeys.NAME,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:w.default.nameCell,bodyCellClassName:w.default.nameBodyCell,render:function(e){return V(m.default,{align:m.default.Align.CENTER},void 0,V(g.default,{game:e.application,size:g.default.Sizes.SMALL,className:w.default.gameIcon}),V("div",{className:w.default.nameCellInfo},void 0,V("div",{className:w.default.nameCellText},void 0,e.libraryApplication.getBranchedName(e.application)),e.libraryApplication.hasFlag(N.LibraryApplicationFlags.PREMIUM)?V(S.default,{text:R.default.Messages.PREMIUM_GAME},void 0,(function(e){return o.createElement(b.default,H({className:w.default.nitroIcon},e))})):null))}},{key:N.GameTableListKeys.PLATFORM,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,
cellClassName:w.default.platformCell,bodyCellClassName:w.default.textCell,render:function(e){var t=e.libraryApplication.getDistributor();return V(m.default,{align:m.default.Align.CENTER},void 0,null!=t?N.DistributorNames[t]:R.default.Messages.GAME_LIBRARY_NOT_APPLICABLE)}},{key:N.GameTableListKeys.LAST_PLAYED,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:w.default.lastPlayedCell,bodyCellClassName:w.default.textCell,render:function(e){var t,n;n=e.isRunning?R.default.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?R.default.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?V(E.default,{end:e.lastPlayed,location:E.default.Locations.GAME_LIBRARY_LAST_PLAYED}):R.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE;return V(m.default,{align:m.default.Align.CENTER,className:(0,i.default)((t={},t[w.default.lastPlayedCellNew]=e.isNew,t))},void 0,n)}},{key:N.GameTableListKeys.ACTIONS,renderHeader:function(){return null},
cellClassName:w.default.actionsCell,render:function(e,t,n){var r;if(null==t)throw new Error("No cell props defined.");var a,u,l=e.key===t.activeRowKey;return V(o.Fragment,{},void 0,V("div",{className:w.default.settingIcons},void 0,V(K,{flag:N.LibraryApplicationFlags.PRIVATE,item:e,icon:I.default,tooltip:R.default.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),V(K,{flag:N.LibraryApplicationFlags.OVERLAY_DISABLED,item:e,icon:C.default,tooltip:R.default.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),V(M.default,{className:(0,i.default)(w.default.settingIcon,(r={},r[w.default.hidden]=!e.supportsCloudSync,r)),libraryApplication:e.libraryApplication})),(0,P.isUserEntitledToLibraryApplication)(e.libraryApplication)?V(v.default,{analyticsListSort:(a=t.sortKey,u=t.sortDirection,z[a]+" "+(u===N.TableSortDirections.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:N.AnalyticsLocations.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,
color:l?_.default.Colors.GREEN:_.default.Colors.PRIMARY,isPlayShiny:l&&e.defaultAction===N.LibraryApplicationActions.PLAY,size:w.default.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}):V(p.default,{skuId:e.libraryApplication.sku.id,applicationId:e.application.id,color:l?_.default.Colors.GREEN:_.default.Colors.PRIMARY,customDisabledColor:_.default.Colors.PRIMARY,size:w.default.actionButtonSize}))}}],q=function(e){var t,n=e.item,r=e.activeRowKey,a=e.highlightedApplicationKey,u=e.onMouseEnter,l=e.onMouseLeave,s=e.onContextMenu,d=e.setRef,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,D),f=n.key===r,p=n.key===a;return o.createElement("div",{className:(0,i.default)((t={},t[w.default.rowWrapperActive]=f&&!p,t[w.default.rowWrapperGlow]=p,t[w.default.rowWrapper]=!f&&!p,
t[w.default.rowWrapperDim]=!f&&!n.isLaunchable,t)),ref:function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}((function(e){return d(e,n.key)})),onMouseEnter:function(){return u(n)},onMouseLeave:l,onContextMenu:function(e){return s(e,n)}},o.createElement("div",c))};q.displayName="Row";var Z=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;W(e,t)}(t,e);function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];(t=e.call.apply(e,[this].concat(a))||this)._didUnmount=!1;t._rowRefs={};t.state={overflowMenuRowKey:null,highlightedApplicationKey:null!=t.props.location.state?t.props.location.state.applicationId:null};t.setActiveRowKey=function(e){t.setState({overflowMenuRowKey:e.key})};t.clearActiveRowKey=function(){t._didUnmount||t.setState({overflowMenuRowKey:null})};t.handleRowMouseEnter=function(e){t.props.isNavigatingByKeyboard||f.updateActiveRowKey(e.key)}
;t.handleRowMouseLeave=function(){t.props.isNavigatingByKeyboard||f.updateActiveRowKey(null)};t.setRowRef=function(e,n){t._rowRefs[n]=e};t.handleApplicationContextMenu=function(e,r){t.setActiveRowKey(r);var a=t.props.analyticsContext;(0,c.openContextMenuLazy)(e,x(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(66196).then(n.bind(n,266196));case 2:t=e.sent;i=t.default;return e.abrupt("return",(function(e){return o.createElement(i,H({},e,{applicationId:r.libraryApplication.id,branchId:r.libraryApplication.branchId,analyticsContext:a}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:t.clearActiveRowKey})};return t}var r=t.prototype;r.componentDidMount=function(){if(this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}};r.componentWillUnmount=function(){this._didUnmount=!0};r.componentDidUpdate=function(e){if(!e.fetched&&this.props.fetched){
this.handleHighlightedApplicationKey();this.trackViewed()}var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];if(null!=n){d.default.wait(c.closeContextMenu);this.props.scrollToRow(n,B)}}};r.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;if(null!=t&&null!=this._rowRefs[t]){this.props.scrollToRow(this._rowRefs[t],B);(new s.Timeout).start(Y,(function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))}};r.trackViewed=function(){for(var e,t={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},n=this.props,r=n.analyticsContext,a=U(n.applicationViewItems);!(e=a()).done;){switch(e.value.libraryApplication.getDistributor()){case N.Distributors.DISCORD:t.num_applications_discord++;break
;case N.Distributors.STEAM:t.num_applications_steam++;break;case N.Distributors.BATTLENET:t.num_applications_battlenet++;break;case N.Distributors.TWITCH:t.num_applications_twitch++;break;case N.Distributors.UPLAY:t.num_applications_uplay++;break;case N.Distributors.ORIGIN:t.num_applications_origin++;break;case N.Distributors.GOG:t.num_applications_gog++;break;case N.Distributors.EPIC:t.num_applications_epic++}t.num_applications_total++}T.default.track(N.AnalyticEvents.LIBRARY_VIEWED,H({},t,{load_id:r.loadId}))};r.handleSort=function(e,t){f.sortList(e,t)};r.renderImportHelp=function(){var e,t=this.props,n=t.applicationViewItems,r=t.filterQuery,a=n.length>0;if(a)return null;e=""!==r?R.default.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:r}):R.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT;return V("div",{className:a?w.default.emptyStateSmall:w.default.emptyStateLarge},void 0,V("div",{className:w.default.emptyWumpus}),V(m.default,{grow:0,
shrink:a?1:0,direction:m.default.Direction.VERTICAL},void 0,V("div",{className:w.default.emptyStateText},void 0,V("h5",{className:w.default.emptyStateHeader},void 0,R.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER),V("div",{className:w.default.emptyStateDescription},void 0,e))))};r.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,r=e.applicationViewItems,a=e.activeRowKey,i=e.stickyHeader,u=this.state,l=u.overflowMenuRowKey,s=u.highlightedApplicationKey;return V(o.Fragment,{},void 0,r.length>0?V(O.default,{columns:$,data:r,sortData:!1,rowComponent:q,className:w.default.table,headerClassName:i?w.default.stickyHeader:w.default.header,headerCellClassName:w.default.headerCell,sortedHeaderCellClassName:w.default.headerCellSorted,bodyCellClassName:w.default.bodyCell,rowClassName:w.default.row,sortKey:t,sortDirection:n,stickyHeader:i,rowProps:{activeRowKey:l||a,highlightedApplicationKey:s,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,
onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:l||a,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp())};return t}(o.PureComponent);Z.displayName="GameList";Z.defaultProps={stickyHeader:!1};function X(e){var t=o.useContext(T.AnalyticsContext),n=(0,u.useLocation)(),r=(0,l.useStateFromStoresObject)([y.default],(function(){return{applicationViewItems:y.default.sortedFilteredLibraryApplicationViewItems,filterQuery:y.default.applicationFilterQuery,fetched:y.default.hasFetchedApplications}})),a=r.applicationViewItems,i=r.filterQuery,s=r.fetched,d=(0,l.useStateFromStoresObject)([h.default],(function(){return{sortKey:h.default.sortKey,sortDirection:h.default.sortDirection,activeRowKey:h.default.activeRowKey,isNavigatingByKeyboard:h.default.isNavigatingByKeyboard}
})),c=d.sortKey,f=d.sortDirection,p=d.activeRowKey,v=d.isNavigatingByKeyboard;return o.createElement(Z,H({},e,{analyticsContext:t,location:n,applicationViewItems:a,filterQuery:i,fetched:s,sortKey:c,sortDirection:f,activeRowKey:p,isNavigatingByKeyboard:v}))}X.displayName="ConnectedGameList"},46059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(530250)),u=c(n(409236)),l=c(n(872705)),s=c(n(247001)),d=c(n(997050));function c(e){return e&&e.__esModule?e:{default:e}}
function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(e){return e>1e3?s.default.Messages.FILE_RATE_MB.format({size:Math.round(e/1e3)}):s.default.Messages.FILE_RATE_KB.format({size:Math.round(e)})}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).renderBody=function(e,n,r){var a=t.props,l=a.title,s=a.className,c=a.color,f=a.animate,v=a.gradientStopColor;return p("div",{className:(0,o.default)(d.default.monitor,s)},void 0,p(i.default,{align:i.default.Align.CENTER},void 0,p(i.default,{className:d.default.text,direction:i.default.Direction.VERTICAL},void 0,p("div",{className:d.default.title},void 0,l),p("div",{className:d.default.rate},void 0,y(e[e.length-1]/n*1e3))),p("div",{className:d.default.overflowContainer},void 0,p(u.default,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:d.default.sparkChart,updateInterval:n,color:c,gradientStopColor:v,numUpdatesToShow:r,animate:f,pixelWidth:600,pixelHeight:48,lineWidth:4}))))};return t}t.prototype.render=function(){return p(l.default,{getHistoricalTotalBytes:this.props.getHistoricalTotalBytes},void 0,this.renderBody)};return t}(a.PureComponent);h.displayName="GameUpdateActivityMonitor";var _=h;t.default=_},351345:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l=Y(n(667294)),s=H(n(294184)),d=H(n(496486)),c=H(n(536211)),f=H(n(636602)),p=Y(n(378158)),v=Y(n(27555)),y=H(n(758269)),h=H(n(257175)),_=H(n(864345)),m=H(n(288356)),g=H(n(191839)),E=H(n(871778)),O=H(n(432310)),S=H(n(693399)),I=H(n(949898)),b=H(n(956117)),C=H(n(530250)),T=H(n(562475)),P=n(73393),A=H(n(791931)),M=H(n(961664)),N=H(n(425991)),R=H(n(730977)),w=H(n(495526)),D=H(n(259530)),L=H(n(339759)),k=H(n(118138)),j=n(771855),U=Y(n(811076)),G=H(n(872705)),F=H(n(46059)),x=n(770348),W=H(n(247001)),V=H(n(118343));function H(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function K(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;$(e,t)}function $(e,t){$=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $(e,t)}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return q.apply(this,arguments)}function Z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function X(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,u,"next",e)}function u(e){Z(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Q(e,t,n,r){u||(u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:u,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var J=function(e){var t=e.className,n=e.children,r=e.onContextMenu,a=e.item;return Q("div",{className:t,onContextMenu:function(e){return r(e,a)}},void 0,n)};J.displayName="Row";var ee=[x.Colors.LINK,"var(--interactive-normal)"],te=function(e){var t=e.tooltip,n=e.onClick,r=e.icon;return Q(R.default,{text:t},void 0,(function(e){var a=e.onMouseEnter,o=e.onMouseLeave;return Q(b.default,{"aria-label":t,
className:V.default.actionButton,innerClassName:V.default.actionButtonContents,color:b.default.Colors.GREY,size:b.default.Sizes.ICON,onClick:n,onMouseEnter:a,onMouseLeave:o},void 0,Q(r,{className:V.default.actionIcon}))}))};te.displayName="ActionButton";function ne(e,t){switch(t){case x.DispatchApplicationStages.POST_INSTALL_SCRIPTS:case x.DispatchApplicationStages.PLANNING:case x.DispatchApplicationStages.FINALIZING:case x.DispatchApplicationStages.ALLOCATING_DISK:return""+e;default:return(0,j.formatSize)(e,{useKibibytes:!0})}}var re=((i={})[x.LocalDispatchApplicationStates.INSTALLING]=((r={})[P.TimeUnits.NONE]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},r[P.TimeUnits.SECONDS]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},r[P.TimeUnits.MINUTES]=function(e,t,n,r){
return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},r[P.TimeUnits.HOURS]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},r),i[x.LocalDispatchApplicationStates.UPDATING]=((a={})[P.TimeUnits.NONE]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})},a[P.TimeUnits.SECONDS]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},a[P.TimeUnits.MINUTES]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},a[P.TimeUnits.HOURS]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},a),
i[x.LocalDispatchApplicationStates.REPAIRING]=((o={})[P.TimeUnits.NONE]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},o[P.TimeUnits.SECONDS]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},o[P.TimeUnits.MINUTES]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},o[P.TimeUnits.HOURS]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},o),i);function ae(e,t,n,r,a){var o=null!=e?e/60:null,i=re[t],u=null!=i?Object.keys(i):[],l=(0,P.getTimeAndUnit)(o,u),s=l.unit,d=l.time;if(null!=i&&null!=s){var c=i[s];return null!=c?c(n,r,a,d):null}return null}function oe(e,t,n,r,a,o){var i=ne(a,t),u=ne(r,t);switch(t){case x.DispatchApplicationStages.QUEUED:
return 0===r?W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:n,progress:u,total:i});case x.DispatchApplicationStages.PLANNING:return W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:n});case x.DispatchApplicationStages.ALLOCATING_DISK:return W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:n});case x.DispatchApplicationStages.PATCHING:return ae(o,e,n,u,i);case x.DispatchApplicationStages.FINALIZING:return W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:n});case x.DispatchApplicationStages.PAUSING:return W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:n,progress:u,total:i});case x.DispatchApplicationStages.VERIFYING:return W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:n,progress:u,total:i})
;case x.DispatchApplicationStages.POST_INSTALL_SCRIPTS:return W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:n,progress:u,total:i});case x.DispatchApplicationStages.REPAIRING:return e===x.LocalDispatchApplicationStates.REPAIRING?ae(o,e,n,u,i):W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:n,progress:u,total:i})}throw new Error("Invalid Dispatch stage")}var ie="name",ue="progress",le="actions",se=function(e){K(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderProgressPatchingBody=function(e,n){var r=t.props.item.state;if(null==r)return null;var a=r.stage,o=r.progress,i=r.total,u=r.type,l=r.readerProgress;if(null==o||null==i||null==a)return null;var s=U.calculateProgressPercentage(o,i),d=U.calculateProgressPercentage(null!=l?l:0,i),c=e[e.length-1]/n*1e3,f=i-o,p=0!==c?Math.max(1,f/c):null,v=oe(u,a,Math.floor(s),o,i,p)
;return t.renderStackedProgress({percents:[s,d],message:v})};return t}var n=t.prototype;n.renderBody=function(e){var t=e.percent,n=e.foregroundColor,r=e.foregroundGradientColor,a=e.message;return Q(C.default,{direction:C.default.Direction.VERTICAL},void 0,Q(A.default,{percent:t,size:A.default.Sizes.SMALL,foregroundColor:n,foregroundGradientColor:r,animate:this.isFocused}),Q("div",{className:V.default.progressCellText},void 0,null!=a?a:""))};n.renderStackedProgress=function(e){var t=e.percents,n=e.message;return Q(C.default,{direction:C.default.Direction.VERTICAL},void 0,Q(M.default,{percents:t,size:A.default.Sizes.SMALL,foregroundColors:ee,animate:this.isFocused}),Q("div",{className:V.default.progressCellText},void 0,null!=n?n:""))};n.renderFinished=function(){var e=this.props.item;return this.renderBody({message:W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return v.removeFinished(e.applicationId,e.branchId)}}),
foregroundColor:e.theme===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,percent:100})};n.renderQueued=function(){var e,t,n=this.props.item,r=n.state,a=n.theme;if(null!=r){var o=r.progress,i=r.total,u=r.stage;if(null!=o&&null!=i){var l=ne(i,u),s=ne(o,u);t=U.calculateProgressPercentage(o,i);var d=Math.floor(t);e=u===x.DispatchApplicationStages.PAUSING?W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:d,progress:s,total:l}):W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:d,progress:s,total:l})}}if(null==t||null==e){t=0;e=W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION}return this.renderBody({percent:t,foregroundColor:a===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,message:e})};n.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.progress,a=t.total;if(null==r||null==a)return null
;var o=U.calculateProgressPercentage(r,a),i=Math.floor(o),u=0===r&&1===a?W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:i,progress:(0,j.formatSize)(r),total:(0,j.formatSize)(a)});return this.renderBody({message:u,foregroundColor:n===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,percent:o})};n.renderProgressPatching=function(){return Q(G.default,{getHistoricalTotalBytes:O.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressPatchingBody)};n.renderProgressDefault=function(){var e=this.props.item.state;if(null==e)return null;var t=e.total,n=e.progress,r=e.stage,a=e.type;if(null==t||null==n||null==r)return null;var o=U.calculateProgressPercentage(n,t),i=Math.floor(o);return this.renderBody({percent:o,message:oe(a,r,i,n,t),foregroundColor:x.Colors.LINK})};n.renderProgress=function(){var e=this.props.item.state;switch(null!=e?e.stage:null){
case x.DispatchApplicationStages.PATCHING:case x.DispatchApplicationStages.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}};n.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==x.LocalDispatchApplicationStates.UPDATING&&t.state.type!==x.LocalDispatchApplicationStates.REPAIRING&&t.state.type!==x.LocalDispatchApplicationStates.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()};!function(e,t,n){t&&z(e.prototype,t);n&&z(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]);return t}(l.PureComponent);se.displayName="ProgressCell";var de=function(){return Q(te,{icon:k.default,tooltip:W.default.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){return v.resume()}})};de.displayName="ResumeButton"
;var ce=function(){return Q(te,{icon:L.default,tooltip:W.default.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return v.pause()}})};ce.displayName="PauseButton";var fe=function(e){var t=e.item;return Q(te,{icon:w.default,tooltip:W.default.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return v.moveUp(t.applicationId,t.branchId)}})};fe.displayName="MoveUpButton";var pe=function(e){var t=e.item;return Q(te,{icon:D.default,tooltip:W.default.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return v.cancel(t.applicationId,t.branchId)}})};pe.displayName="CancelButton";var ve=Q(de,{}),ye=[{key:ie,cellClassName:V.default.nameCell,render:function(e){return Q(C.default,{align:C.default.Align.CENTER},void 0,Q(T.default,{game:e.application,className:V.default.gameIcon,size:T.default.Sizes.SMALL}),Q("div",{className:V.default.nameCellText},void 0,e.application.name))}},{key:ue,cellClassName:V.default.progressCell,
headerCellClassName:V.default.progressCellHeader,bodyCellClassName:V.default.progressCellBody,render:function(e,t){return Q(se,{item:e,cellProps:t})}},{key:le,cellClassName:V.default.actionsCell,render:function(e,t){var n,r;if(e.finished)n=null!=e.libraryApplication?Q(y.default,{libraryApplication:e.libraryApplication,size:b.default.Sizes.SMALL,className:V.default.gameActionButton,source:x.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}):null;else if(null!=e.state){if(e.state.type!==x.LocalDispatchApplicationStates.UP_TO_DATE){n=e.index>0?Q(fe,{item:e}):null!=t&&t.paused?ve:Q(ce,{item:e});r=Q(pe,{item:e})}}else r=Q(pe,{item:e});return Q(C.default,{justify:C.default.Justify.END},void 0,n,r)}}],he=function(e){K(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isUnmounted=!1;t.isTallerThanHalfViewport=!1;t.throttledUpdateHeight=d.default.throttle((function(){if(!t.isUnmounted){
var e=t.props,n=e.height,r=e.onHeightTallerThanHalfViewportChange,a=n>window.innerHeight/2;if(t.isTallerThanHalfViewport!==a){t.isTallerThanHalfViewport=a;r(a)}}}),1e3);return t}var r=t.prototype;r.componentDidMount=function(){window.addEventListener("resize",this.throttledUpdateHeight)};r.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()};r.componentWillUnmount=function(){this.props.applications.forEach((function(e){e.finished&&f.default.wait((function(){v.removeFinished(e.applicationId,e.branchId)}))}));window.removeEventListener("resize",this.throttledUpdateHeight);this.isUnmounted=!0};r.render=function(){var e=this.props,t=e.applications,r=e.paused,a=e.isFocused,o=e.theme,i=e.analyticsContext;return 0===t.length?null:Q("div",{className:V.default.gameUpdates},void 0,Q("div",{className:V.default.headerRow},void 0,Q(F.default,{className:(0,s.default)(V.default.headerCell,V.default.networkProgress),
title:W.default.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:O.default.getHistoricalTotalBytesDownloaded,color:x.Colors.STATUS_GREEN_600,animate:a}),Q(F.default,{className:(0,s.default)(V.default.headerCell,V.default.diskProgress),title:W.default.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:O.default.getHistoricalTotalBytesWritten,color:x.Colors.LINK,animate:a})),Q(N.default,{hasHeader:!1,columns:ye,data:t,className:V.default.table,rowClassName:V.default.row,rowComponent:J,cellProps:{paused:r,isFocused:a,theme:o},rowProps:{onContextMenu:function(e,t){return function(e,t,r){p.openContextMenuLazy(e,X(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(66196).then(n.bind(n,266196));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return l.createElement(o,q({},e,{applicationId:t.applicationId,branchId:t.branchId,analyticsContext:r}))}))
;case 5:case"end":return e.stop()}}),e)}))))}(e,t,i)}},bodyCellClassName:V.default.cell}))};return t}(l.PureComponent);he.displayName="GameUpdates";function _e(e,t,n,r){return e.reduce((function(e,a,o){var i=a.applicationId,u=a.branchId,l=n.getGame(i),s=r.getState(i,u);null!=l&&e.push({key:i+":"+u,applicationId:i,branchId:u,state:s,application:l,libraryApplication:g.default.getLibraryApplication(i,u),finished:t,index:o});return e}),[])}var me=(0,_.default)(c.default.connectStores([S.default,E.default,I.default,m.default,O.default],(function(){var e=_e(S.default.activeItems,!1,m.default,O.default),t=_e(S.default.finishedItems,!0,m.default,O.default);return{applications:[].concat(e,t),paused:S.default.paused,isFocused:I.default.isFocused(),theme:E.default.theme}}))((0,h.default)(he)));t.default=me},215850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.TestModeSKUButtonEnums=void 0
;var r,a=h(n(667294)),o=v(n(536211)),i=h(n(378158)),u=v(n(713257)),l=h(n(145122)),s=v(n(288356)),d=v(n(399561)),c=n(204785),f=v(n(247001)),p=["skus","children","applicationId","primarySKU","onSKUSelect"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return _.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E={DropdownSizes:u.default.DropdownSizes,Sizes:u.default.Sizes,Colors:u.default.Colors,Looks:u.default.Looks};t.TestModeSKUButtonEnums=E;var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderContextMenu=function(){
var e=t.props,n=e.skus,r=e.onSKUSelect,a=e.onMenuSelect;return m(l.default,{onSelect:a,navId:"test-skus","aria-label":f.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:i.closeContextMenu},void 0,n.map((function(e){return m(l.MenuItem,{id:""+e.id,label:e.name,action:function(){null==r||r(e)}})})))};t.handleContextMenu=function(e){e.stopPropagation();i.openContextMenu(e,t.renderContextMenu)};t.handleClick=function(){var e=t.props,n=e.onSKUSelect,r=e.primarySKU;null!=r&&(null==n||n(r))};return t}t.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,r=(e.applicationId,e.primarySKU,e.onSKUSelect,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p));return a.createElement(u.default,_({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:void 0},r),n)};return t}(a.PureComponent);O.displayName="TestModeSKUButton"
;var S=o.default.connectStores([d.default,s.default],(function(e){var t,n=e.applicationId,r=(0,c.getPrimarySKUForApplication)(n,s.default,d.default);return{skus:(null!==(t=d.default.getForApplication(n))&&void 0!==t?t:[]).sort((function(e,t){return null!=r&&e.id===r.id?-1:null!=r&&t.id===r.id?1:e.name>=t.name?-1:1})),primarySKU:r}}))(O);t.default=S},629195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=oe
;var r,a=q(n(667294)),o=K(n(294184)),i=K(n(496486)),u=K(n(817673)),l=n(370405),s=K(n(74854)),d=q(n(536211)),c=K(n(636602)),f=n(598319),p=n(297279),v=n(306902),y=n(328092),h=n(364060),_=n(298756),m=K(n(545721)),g=K(n(734696)),E=q(n(473124)),O=n(473250),S=K(n(768535)),I=n(376153),b=K(n(39365)),C=n(139982),T=n(887299),P=K(n(8549)),A=q(n(199846)),M=K(n(30098)),N=K(n(871778)),R=K(n(728429)),w=K(n(194198)),D=K(n(956117)),L=K(n(80828)),k=K(n(971639)),j=K(n(776360)),U=n(235742),G=q(n(465537)),F=K(n(651386)),x=n(263996),W=n(770348),V=n(227445),H=K(n(247001)),B=K(n(599884)),Y=K(n(80210)),z=K(n(333993));function K(e){return e&&e.__esModule?e:{default:e}}function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return($=function(e){return e?n:t})(e)}function q(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=$(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function X(){X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return X.apply(this,arguments)}function Q(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,u,"next",e)}function u(e){Q(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ee(e,t){ee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ee(e,t)}var te=Z(L.default,{}),ne=Z(l.Helmet,{title:"Discord"}),re=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ee(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._scroller=a.createRef();t._guildIdsSeen=new Set;t.loadId=(0,h.makeAnalyticsID)();t.state={animatedValue:new s.default.Value(0),loadingGuildId:null};t.scrollToTop=function(){null!=t._scroller.current&&t._scroller.current.scrollTo({to:0})};t.handleScroll=function(){
var e,n,r=t.state.animatedValue,a=null!==(e=null===(n=t._scroller.current)||void 0===n?void 0:n.getScrollerState().scrollTop)&&void 0!==e?e:0;r.setValue(Math.min(1,a/200))};t.handleViewGuild=function(){var e=J(regeneratorRuntime.mark((function e(n,r,a,o){var i,u,l,s,d,c,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t.props.currentCategoryId;s=t.state.loadingGuildId;if(n!==s){e.next=4;break}return e.abrupt("return");case 4:d=null!==(i=null===(u=t._scroller.current)||void 0===u?void 0:u.getScrollerState().scrollTop)&&void 0!==i?i:0;c=(0,C.getHistory)(),f=c.location;(0,C.replaceWith)(X({},f,{state:d}));t.setState({loadingGuildId:n});p=l!==V.DISCOVERY_ALL_CATEGORIES_ID?l:null;e.prev=9;e.next=12;return G.viewGuild(null!=o?o:t.loadId,n,r,a,p);case 12:e.next=17;break;case 14:e.prev=14;e.t0=e.catch(9);t.setState({loadingGuildId:null});case 17:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()
;t.handleGuildCardSeen=function(e){t._guildIdsSeen.add(e)};t.handleTagSearch=function(e,n,r){var a=t.props,o=a.currentCategoryId,i=a.defaultLanguage;if(null!=o){(0,f.getSearchResultsCount)(e);(0,f.doAlgoliaSearch)(e,{categoryId:o,preferredLocale:i.code,offset:0,length:E.MAX_GUILDS_PER_PAGE,filters:{approximate_member_count:G.MINIMUM_MEMBER_COUNT},tag:!0});G.trackTagSearchStarted(t.loadId,o,r,n);t.scrollToTop()}};return t}var n=t.prototype;n.componentDidMount=function(){var e,t,n=this.props,r=n.isFetching,a=n.guilds,o=a.gamesYouPlay,i=a.featured,l=n.searchRoute,s=n.currentCategoryId,d=n.currentHomepageCategoryId,y=n.mostRecentQuery,h=n.usingGameRecommendations,m=n.fetchingRecommendations;(0,p.fetchActivityStatistics)();(0,_.maybeFetchGuildDiscoveryCategories)();null==A.default.getSearchIndex()&&(0,f.createAlgoliaIndex)();c.default.wait((function(){(0,v.markView)(W.ViewHistoryKeys.SERVER_DISCOVERY_BADGE)}));var g=s===V.DISCOVERY_ALL_CATEGORIES_ID;g&&!m&&(0,O.fetchGuildRecommendations)({
personalization_disabled:!h});r||0!==y.length||g||G.trackDiscoveryViewed(this.loadId,o.guilds,i.guilds,d);if(null!=l){var E=u.default.parse(l),S=E.query,I=E.offset,b=E.limit,P=E.preferredLocale,M=E.categoryId;(0,f.doAlgoliaSearch)(S,{categoryId:parseInt(M,10),preferredLocale:P,offset:parseInt(I,10),filters:{approximate_member_count:G.MINIMUM_MEMBER_COUNT},length:parseInt(b,10)})}else null!=d&&d!==V.DISCOVERY_ALL_CATEGORIES_ID&&c.default.wait((function(){return(0,f.selectCategory)(d)}));var N=null!==(e=null===(t=(0,C.getHistory)().location.state)||void 0===t?void 0:t.scrollTop)&&void 0!==e?e:0;if(N>0){var R;null===(R=this._scroller.current)||void 0===R||R.scrollTo({to:N})}(0,T.trackAppUIViewed)("guild_discovery")};n.componentDidUpdate=function(e){
var t=this.props,n=t.guilds,r=n.gamesYouPlay,a=n.featured,o=t.isFetching,i=t.mostRecentQuery,u=t.currentHomepageCategoryId,l=t.currentCategoryId,s=t.usingGameRecommendations,d=t.fetchingRecommendations,c=t.recommendationsGuilds,p=t.recommendationsLoadId;e.currentCategoryId===l||l!==V.DISCOVERY_ALL_CATEGORIES_ID||d||(0,O.fetchGuildRecommendations)({personalization_disabled:!s});var v=l===V.DISCOVERY_ALL_CATEGORIES_ID;!e.isFetching||o||v||G.trackDiscoveryViewed(this.loadId,r.guilds,a.guilds,u);if(e.currentCategoryId!==l){var y;null===(y=this._scroller.current)||void 0===y||y.scrollTo({to:0})}if(null!=p&&null!=c){e.fetchingRecommendations&&!d&&l===V.DISCOVERY_ALL_CATEGORIES_ID&&G.trackDiscoveryViewed(p,c,[],V.DISCOVERY_ALL_CATEGORIES_ID,V.RecommendationSources.SERVER_RECOMMENDATIONS)
;e.currentCategoryId!==l&&(l===V.DISCOVERY_ALL_CATEGORIES_ID?G.trackDiscoveryViewed(p,c,[],V.DISCOVERY_ALL_CATEGORIES_ID,V.RecommendationSources.SERVER_RECOMMENDATIONS):G.trackDiscoveryExited(p,this.getOrderedGuildIdsSeen(c.map((function(e){return e.id}))),V.RecommendationSources.SERVER_RECOMMENDATIONS))}e.mostRecentQuery.length>0&&i.length<1&&u!==l&&(0,f.selectCategory)(u)};n.componentWillUnmount=function(){var e=this.props,t=e.currentCategoryId,n=e.recommendationsLoadId,r=e.recommendationsGuilds;t===V.DISCOVERY_ALL_CATEGORIES_ID?null!=r&&null!=n&&G.trackDiscoveryExited(n,this.getOrderedGuildIdsSeen(r.map((function(e){return e.id}))),"Game Recommendations"):G.trackDiscoveryExited(this.loadId,Array.from(this._guildIdsSeen))};n.getOrderedGuildIdsSeen=function(e){var t=this;return e.filter((function(e){return t._guildIdsSeen.has(e)}))};n.renderGamesYouPlay=function(){
var e=this.props,t=e.guilds,n=e.mightHaveGamesYouPlay,r=e.theme,a=e.userGuilds,o=Object.keys(a),i=t[W.GuildDiscoverySections.GAMES_YOU_PLAY];i.guilds=i.guilds.filter((function(e){return!o.includes(e.id)}));var u=this.state.loadingGuildId;return n?Z(g.default,{loadId:this.loadId,title:H.default.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guildsData:i,loadingGuildId:u,analyticsContext:G.AnalyticsContexts.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:f.fetchGamesYouPlayGuilds,theme:r}):null};n.renderSearchBar=function(){var e,t,n=this.props,r=n.mostRecentQuery,a=n.guilds.search,o=n.defaultLanguage,i=n.isFetchingSearch,u=n.currentCategoryId,l=n.categories,s=n.currentCategoryName;y.DiscoveryTagsExperiment.trackExposure({})
;var d=y.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayRecommendedSearchTags?u===V.DISCOVERY_ALL_CATEGORIES_ID?H.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER_TAGS:H.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER_TAGS.format({categoryName:s}):u===V.DISCOVERY_ALL_CATEGORIES_ID?H.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:H.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:s}),c=null!==(e=null===(t=a[r])||void 0===t?void 0:t[u])&&void 0!==e?e:A.EMPTY_DISCOVERABLE_GUILDS_SECTION;return Z(F.default,{loadId:this.loadId,searchResults:c,mostRecentQuery:r,isFetchingSearch:i,defaultLanguage:o,placeholder:d,currentCategoryId:u,categories:l})};n.renderSearchResults=function(){
var e,t,n=this,r=this.props,a=r.mostRecentQuery,o=r.guilds.search,i=r.availableLanguages,u=r.defaultLanguage,l=r.isFetchingSearch,s=r.theme,d=r.currentCategoryId,c=r.currentCategoryName,f=this.state.loadingGuildId,p=d===V.DISCOVERY_ALL_CATEGORIES_ID?H.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:H.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:c}),v=null!==(e=null===(t=o[a])||void 0===t?void 0:t[d])&&void 0!==e?e:A.EMPTY_DISCOVERABLE_GUILDS_SECTION;return Z(E.default,{loadId:this.loadId,availableLanguages:i,defaultLanguage:u,placeholder:p,isFetchingSearch:l,searchResults:v,mostRecentQuery:a,loadingGuildId:f,currentCategoryId:d,currentCategoryName:c,scroller:this._scroller.current,theme:s,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,onTagClick:function(e,t){return n.handleTagSearch(e,t,G.AnalyticsContexts.SEARCH)}})};n.renderRecommendedGuildsSection=function(){
var e,t,n=this,r=this.props,a=r.theme,o=r.usingGameRecommendations,i=r.recommendationsGuilds,u=r.recommendationsLoadId;if(null==u||null==i)return te;var l={guilds:i,total:i.length,offset:0,limit:i.length,loading:!1,isFirstLoad:!1},s=null!==(e=null===(t=R.default.getCurrentUser())||void 0===t?void 0:t.username)&&void 0!==e?e:H.default.Messages.FRIENDS_COLUMN_NAME;return Z(g.default,{loadId:u,title:o?H.default.Messages.GUILD_DISCOVERY_RECOMMENDATIONS_TITLE.format({username:s}):H.default.Messages.GUILD_DISCOVERY_FEATURED_HEADER,guildsData:l,analyticsContext:G.AnalyticsContexts.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){},loadingGuildId:null,theme:a,onTagClick:function(e,t){return n.handleTagSearch(e,t,G.AnalyticsContexts.RECOMMENDED)},showMoreCards:!0})};n.renderPopularGuildsSection=function(){var e=this,t=this.props,n=t.guilds,r=t.theme,a=t.currentCategoryId,o=this.state.loadingGuildId;return Z(g.default,{
loadId:this.loadId,title:H.default.Messages.GUILD_DISCOVERY_POPULAR_HEADER,guildsData:n[a],loadingGuildId:o,analyticsContext:G.AnalyticsContexts.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,f.fetchPopularGuildsForCategory)(a)},currentCategoryId:a,theme:r,onTagClick:function(t,n){return e.handleTagSearch(t,n,G.AnalyticsContexts.POPULAR)}})};n.render=function(){var e,t,n,r,u=this,l=this.props,s=l.currentCategoryName,d=l.mostRecentQuery,c=l.currentCategoryId,f=l.guilds,p=d.length>0;y.DiscoveryTagsExperiment.trackExposure({});var v=y.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayRecommendedSearchTags,h=c===V.DISCOVERY_ALL_CATEGORIES_ID?null===(e=f[W.GuildDiscoverySections.FEATURED])||void 0===e?void 0:e.guilds:null===(t=f[c])||void 0===t?void 0:t.guilds;return c===V.DISCORD_HUB_ID?Z(b.default,{loadId:this.loadId}):Z("div",{className:B.default.pageWrapper},void 0,ne,Z("div",{className:(0,
o.default)(B.default.dragRegion,B.default.pageHeaderDrag,(n={},n[B.default.searchPageDrag]=p,n))}),a.createElement(U.AdvancedScrollerAuto,{className:B.default.scroller,ref:this._scroller,onScroll:this.handleScroll},Z("div",{className:(0,o.default)(B.default.viewWrapper,(r={},r[B.default.searchPage]=p,r))},void 0,p?this.renderSearchResults():a.createElement(a.Fragment,null,Z("div",{className:B.default.searchHeader},void 0,Z("img",{alt:"",className:B.default.headerImage,src:z.default}),Z("div",{className:B.default.headerContentWrapper},void 0,Z("div",{className:B.default.headerContent},void 0,Z(k.default,{size:k.default.Sizes.SIZE_24,className:B.default.searchTitle},void 0,c===V.DISCOVERY_ALL_CATEGORIES_ID?H.default.Messages.GUILD_DISCOVERY_HOME_TITLE:H.default.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:s})),Z(j.default,{size:j.default.Sizes.SIZE_16,className:B.default.searchSubtitle
},void 0,c===V.DISCOVERY_ALL_CATEGORIES_ID&&H.default.Messages.GUILD_DISCOVERY_HOME_SUBTITLE),this.renderSearchBar(),v&&Z(x.DiscoveryTags,{hideOverflow:!0,section:G.AnalyticsContexts.HEADER,className:B.default.headerTagContainer,discoveryTagStyle:x.DiscoveryTagStyle.LIGHT,onTagClick:function(e){return u.handleTagSearch(e,void 0,G.AnalyticsContexts.HEADER)},tags:i.default.chain(h).flatMap((function(e){return e.keywords})).compact().uniq().sampleSize(10).value()})))),Z("div",{className:B.default.featuredBody},void 0,c===V.DISCOVERY_ALL_CATEGORIES_ID?this.renderRecommendedGuildsSection():this.renderPopularGuildsSection()),Z("div",{className:B.default.footer},void 0,Z("img",{alt:"",src:Y.default,className:B.default.footerImage}),Z(k.default,{size:k.default.Sizes.SIZE_16},void 0,H.default.Messages.GUILD_DISCOVERY_CATEGORY_FOOTER_TITLE),Z(D.default,{look:D.default.Looks.LINK,color:D.default.Colors.LINK,size:D.default.Sizes.MIN,onClick:this.scrollToTop
},void 0,H.default.Messages.GUILD_DISCOVERY_FOOTER_BODY))))))};return t}(a.PureComponent);re.displayName="GuildDiscovery";var ae=d.default.connectStores([N.default,w.default,P.default,A.default,m.default,M.default],(function(){var e,t=V.LANGUAGE_OPTIONS,n=N.default.locale,r=null!==(e=i.default.find(t,{code:n}))&&void 0!==e?e:t[0],a=w.default.applicationStatistics,o=Object.keys(a),u=P.default.hasConsented(W.Consents.PERSONALIZATION)&&o.length>0,l=A.default.getCurrentCategoryId(),s=A.default.getCurrentHomepageCategoryId();return{isFetching:A.default.isFetching(),isFetchingSearch:A.default.isFetchingSearch(),guilds:A.default.getDiscoverableGuilds(),mostRecentQuery:A.default.getMostRecentQuery(),currentCategoryId:l,currentHomepageCategoryId:s,currentCategoryName:m.default.getCategoryName(l),categories:m.default.getDiscoveryCategories(),userGuilds:M.default.getGuilds(),theme:N.default.theme,mightHaveGamesYouPlay:u,availableLanguages:t,defaultLanguage:r}}))(re);function oe(e){var t=(0,
I.useEligibleForGameRecommendations)(),n=(0,d.useStateFromStoresObject)([S.default],(function(){return{recommendedGuilds:S.default.getRecommendedGuilds(),loadId:S.default.getLoadId(),fetching:S.default.isFetching()}})),r=n.fetching,o=n.loadId,i=n.recommendedGuilds;return a.createElement(ae,X({},e,{fetchingRecommendations:r,usingGameRecommendations:t,recommendationsGuilds:i,recommendationsLoadId:o}))}oe.displayName="GuildDiscoveryComponent"},869333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=n(598319),i=v(n(545721)),u=v(n(332743)),l=n(841354),s=v(n(666895)),d=v(n(199846)),c=v(n(582945)),f=n(227445),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var m=function(e){switch(e){case 1:
return f.CategoryIcons.Activity;case 2:return f.CategoryIcons.Music;case 3:return f.CategoryIcons.Television;case 5:return f.CategoryIcons.Science;case 6:return f.CategoryIcons.Education;default:return f.CategoryIcons.Discover}},g=function(){var e=(0,a.useStateFromStoresObject)([d.default],(function(){return{currentCategoryId:d.default.getCurrentCategoryId(),isViewingSearchResults:d.default.getMostRecentQuery().length>0}})),t=e.currentCategoryId,n=e.isViewingSearchResults,r=(0,a.useStateFromStores)([i.default],(function(){return i.default.getDiscoveryCategories()})),f=null==r?void 0:r.map((function(e){return _({},e,{icon:m(e.categoryId)})})),v=function(e){(0,o.selectCategory)(e,!0);n&&(0,o.clearSearch)()};return h(c.default,{},void 0,h(l.DiscoverySidebarHeader,{text:p.default.Messages.DISCOVER}),h(u.default,{categories:f,handleCategorySelect:v,currentCategoryId:t,shouldDisplaySelectedCategory:!n}),h(s.default,{handleCategorySelect:v,currentCategoryId:t,shouldDisplaySelectedCategory:!n
}))};g.displayName="GuildDiscoveryCategorySidebar";var E=g;t.default=E},815428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(817673)),i=n(139982),u=l(n(668281));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handlePageChange=function(e){var t=n.props.onPageChange;n.setState({currentPage:e});null!=t&&t(e)};var r=(0,i.getHistory)().location.search,a=(null!=r&&r.length>0&&r.startsWith("?")?o.default.parse(r):{}).offset,u=null!=a?Math.floor(parseInt(a,10)/t.pageSize)+1:1;n.state={currentPage:u};return n}var n=t.prototype;n.componentDidUpdate=function(e){var t=this.props.resetCurrentPage;!e.resetCurrentPage&&t&&this.setState({currentPage:1})};n.render=function(){
var e=this.props,t=e.totalCount,n=e.pageSize,r=e.maxVisiblePages,a=e.children,o=this.state.currentPage;return a({controller:d(u.default,{totalCount:t,pageSize:n,currentPage:o,maxVisiblePages:r,onPageChange:this.handlePageChange})})};return t}(a.PureComponent);f.displayName="GuildDiscoveryPaginator";var p=f;t.default=p},651386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=C(n(667294)),o=I(n(294184)),i=I(n(496486)),u=n(536211),l=C(n(598319)),s=n(364060),d=I(n(545721)),c=I(n(199846)),f=I(n(16941)),p=I(n(535813)),v=n(967965),y=I(n(776360)),h=n(308920),_=n(956506),m=C(n(465537)),g=n(770348),E=n(227445),O=I(n(247001)),S=I(n(478483));function I(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function P(e,t){P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=i.default.throttle(m.trackSearchResultsViewed,1e3,{leading:!1,trailing:!0}),N=function(e){var t,n=e.isSelected,r=e.onCategoryChange,a=e.categoryId,i=e.name,u=e.count;return A(f.default,{onClick:function(){return r(a)},className:(0,o.default)(S.default.categoryPill,(t={},t[S.default.selected]=n,t))},void 0,A(y.default,{className:S.default.categoryLabel},void 0,null!=u?i+" ("+u+")":i))};N.displayName="Category";var R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._searchRef=a.createRef();n.canSearch=function(e){return e.trim().length>=2};n.doSearch=function(e,t,r,a){var o=n.props,i=o.defaultLanguage,u=o.currentCategoryId,d=n.state,c=d.query,f=d.selectedLanguage;a&&l.getSearchResultsCount(c);n.setState({searchId:(0,s.makeAnalyticsID)(),queryHasChanged:!1,isSearching:!0});l.doAlgoliaSearch(c,{categoryId:null==r?u:r,
preferredLocale:(null==f?void 0:f.code)||i.code,offset:e,length:t,filters:{approximate_member_count:m.MINIMUM_MEMBER_COUNT}})};n.handleSearchBlurred=function(e){var t=n.props.onSearchBlur;n.setState({inputFocused:!1});null==t||t()};n.handleSearchKeyPress=function(e){var t=n.state,r=t.query,a=t.queryHasChanged,o=n.props,i=o.loadId,u=o.currentCategoryId,l=u!==E.DISCOVERY_ALL_CATEGORIES_ID?u:null;if(n.canSearch(r)&&a&&e.charCode===g.KeyboardKeys.ENTER){m.trackSearchStarted(i,l);n.doSearch(0,12,void 0,!0)}else 0===r.length&&e.charCode===g.KeyboardKeys.ENTER&&n.setState({isSearching:!1})};n.handleQueryChanged=function(e){n.setState({query:e,queryHasChanged:!0})};n.handleQueryCleared=function(){n.setState({query:"",queryHasChanged:!0,isSearching:!1})};n.handleLanguageChange=function(e){var t=n.props,r=t.mostRecentQuery,a=t.availableLanguages,o=null==a?void 0:a.find((function(t){return t.name===e}));n.setState({selectedLanguage:o},(function(){n.canSearch(r)&&n.doSearch(0,12)}))}
;n.handleCategoryChange=function(e){var t=n.props.mostRecentQuery;l.selectCategory(e);n.canSearch(t)&&n.doSearch(0,12,e)};n.handleFocus=function(){var e=n.props.onSearchFocus;n.setState({inputFocused:!0});null==e||e()};n.focusInput=function(){var e;null===(e=n._searchRef.current)||void 0===e||e.focus()};n.state={searchId:(0,s.makeAnalyticsID)(),query:t.isSearchPage?t.mostRecentQuery:"",queryHasChanged:!1,isSearching:!1,selectedLanguage:t.defaultLanguage,inputFocused:!1,isHandlingTagSearch:t.isTagSearch||!1};return n}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.loadId,n=e.searchResults,r=e.currentCategoryId,a=this.state,o=a.searchId,i=a.query,u=a.isHandlingTagSearch,s=this.context;null==c.default.getSearchIndex()&&l.createAlgoliaIndex();_.ComponentDispatch.subscribe(g.ComponentActions.GLOBAL_CLIPBOARD_PASTE,this.focusInput);_.ComponentDispatch.subscribe(g.ComponentActions.TEXTAREA_FOCUS,this.focusInput);if(i.length>0){
var d=r!==E.DISCOVERY_ALL_CATEGORIES_ID?r:null;M(t,o,i,n.guilds,s,d,u)}};n.componentDidUpdate=function(e,t){var n=this.props,r=n.loadId,a=n.isFetchingSearch,o=n.searchResults,i=n.currentCategoryId,u=n.mostRecentQuery,l=this.state,d=l.isSearching,c=l.searchId,f=l.query,p=l.isHandlingTagSearch,v=this.context,y=e.isFetchingSearch&&!a,h=i!==E.DISCOVERY_ALL_CATEGORIES_ID?i:null;if((d||p)&&y){M(r,c,f,o.guilds,v,h,p);this.setState({isHandlingTagSearch:!1})}!t.isSearching&&d&&m.trackSearchStarted(r,h,v);e.mostRecentQuery!==u&&this.setState({query:u,searchId:(0,s.makeAnalyticsID)(),isHandlingTagSearch:!0})};n.componentWillUnmount=function(){_.ComponentDispatch.unsubscribe(g.ComponentActions.GLOBAL_CLIPBOARD_PASTE,this.focusInput);_.ComponentDispatch.unsubscribe(g.ComponentActions.TEXTAREA_FOCUS,this.focusInput)};n.renderSearchOptions=function(){var e,t=this.props.availableLanguages,n=this.state.selectedLanguage;if(null==t)return null;var r=t.map((function(e){var t=e.name;return{label:t,value:t}
}));return A(v.SingleSelect,{className:S.default.languageSelector,options:r,value:null!==(e=null==n?void 0:n.name)&&void 0!==e?e:"",onChange:this.handleLanguageChange,maxVisibleItems:6})};n.renderCategories=function(){var e=this,t=this.props,n=t.currentCategoryId,r=t.countsByCategory;return A("div",{className:S.default.categories},void 0,null==r?void 0:r.map((function(t){var r=t[0],a=t[1];return A(N,{categoryId:r,name:r===E.DISCOVERY_ALL_CATEGORIES_ID?O.default.Messages.GUILD_DISCOVERY_ALL_CATEGORY_FILTER:d.default.getCategoryName(r),onCategoryChange:e.handleCategoryChange,isSelected:n===r,count:a},r)})))};n.render=function(){var e,t=this.state,n=t.query,r=t.inputFocused,i=this.props,u=i.placeholder,l=i.isSearchPage;return a.createElement(a.Fragment,null,A("div",{className:(0,o.default)(S.default.container,(e={},e[S.default.searchPage]=l,e))},void 0,A("div",{className:S.default.search},void 0,a.createElement(p.default,{ref:this._searchRef,searchTerm:n,
className:l?void 0:S.default.searchBox,inputClassName:l?void 0:S.default.searchBoxInput,closeIconClassName:l?void 0:S.default.closeIcon,searchIconClassName:l?void 0:S.default.searchIcon,label:O.default.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:u,onChange:this.handleQueryChanged,onClear:this.handleQueryCleared,onFocus:this.handleFocus,onBlur:this.handleSearchBlurred,onKeyPress:this.handleSearchKeyPress,autoFocus:!l,cta:r&&null!=n&&n.length>1?O.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})),l?this.renderSearchOptions():null),l?this.renderCategories():null)};return t}(a.PureComponent);R.displayName="GuildDiscoverySearchBarComponent";R.contextType=h.AnalyticsContext;function w(e){var t=(0,u.useStateFromStores)([d.default],(function(){return d.default.getDiscoveryCategories()})),n=(0,u.useStateFromStores)([c.default],(function(){return c.default.getTopCategoryCounts(e.mostRecentQuery)}));return a.createElement(R,T({},e,{categories:t,countsByCategory:n}))}
w.displayName="GuildDiscoverySearchBar"},263996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryTags=t.DiscoveryTagStyle=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(673997)),u=p(n(16941)),l=p(n(265851)),s=p(n(160629)),d=p(n(308920)),c=n(770348),f=p(n(983294));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=["egirl","egirls","waifu","dating","nsfw","sex","playboy","stupid","harem","playgirl","shitcoin","shitpost","porno","nudes","sexy","horny","fart","tits","balls","cum"],m=function(e){var t,n=e.text,r=e.onClick,a=e.className,i=e.hide;return h("li",{className:(0,o.default)(f.default.tag,a,(t={},t[f.default.hide]=i,t))},void 0,h(u.default,{className:f.default.tagText,onClick:function(e){e.stopPropagation();e.preventDefault();r(e)}
},void 0,n))};m.displayName="DiscoveryTag";var g=function(e){var t=e.tags,n=e.onTagClick,r=e.guildId,o=e.section;a.useEffect((function(){d.default.track(c.AnalyticEvents.OPEN_POPOUT,{type:"Discovery Tags Overflow",guild_id:r,location:{page:c.AnalyticsPages.GUILD_DISCOVERY,section:o}})}),[r,o]);return h(l.default,{className:f.default.overflowTagsPopout},void 0,h("ul",{},void 0,t.map((function(e){return h(m,{onClick:function(){return n(e)},className:f.default.tagAlt,text:e},e)}))))};g.displayName="DiscoveryTagsPopout";var E=function(e){var t=e.className,n=e.count;return h(s.default,{renderPopout:function(){return a.createElement(g,e)},position:s.default.Positions.RIGHT,align:s.default.Align.TOP,closeOnScroll:!0},void 0,(function(e){return a.createElement(m,y({className:t},e,{text:"+"+n}))}))};E.displayName="DiscoveryTagsOverflowButton";var O={DEFAULT:f.default.tagDefault,LIGHT:f.default.tagLight,ALT:f.default.tagAlt};t.DiscoveryTagStyle=O;var S=function(e){
var t,n=e.tags,r=e.onTagClick,u=e.className,l=e.discoveryTagStyle,s=void 0===l?O.DEFAULT:l,d=e.hideOverflow,c=void 0!==d&&d,p=e.guildId,v=e.section,y=(0,i.default)(),g=y.ref,S=y.width,I=a.useState(null),b=I[0],C=I[1],T=n.filter((function(e){return!_.includes(e.toLowerCase())}));a.useLayoutEffect((function(){if(null!=g.current&&null!=S&&0!==S){for(var e=0,t=0,n=S-40-4,r=0;r<T.length;r++){t+=g.current.children[r].clientWidth+4;if(r===T.length-1?t>n+40:t>n)break;e++}C((function(t){return e<=T.length?e:t}))}}),[S,g,T]);return a.createElement("ul",{ref:g,className:(0,o.default)(f.default.tagContainer,u,(t={},t[f.default.invisible]=null==b,t))},T.map((function(e,t){return h(m,{className:s,onClick:function(){return r(e)},hide:null!=b&&t>=b,text:e},e)})),!c&&null!=b&&b<T.length&&h(E,{className:s,onTagClick:r,tags:T.slice(b),count:T.length-b,guildId:p,section:v}))};t.DiscoveryTags=S;S.displayName="DiscoveryTags"},55027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a,o=d(n(667294)),i=n(248088),u=d(n(648831)),l=(r=n(599884))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleViewGuild=function(){var e=p(regeneratorRuntime.mark((function e(n){var r,a,o,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.props,a=r.guilds,
o=r.analyticsContext,i=r.onViewGuild;u=a.findIndex((function(e){return e.id===n}));e.next=4;return i(n,u,o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.renderGuild=function(e,n){var r=t.props,a=r.theme,o=r.onTagClick;return c(u.default,{guild:e,theme:a,onView:t.handleViewGuild,onTagClick:o},n)};return t}var n=t.prototype;n.renderPlaceholders=function(){for(var e=this.props.loadingPlaceholderCount,t=[],n=0;n<e;n++)t.push(c(u.DiscoverSearchResultPlaceholder,{},n));return t};n.render=function(){var e=this,t=this.props,n=t.guilds,r=t.loading;return c(i.Spring,{from:{opacity:r?0:1},to:{opacity:1},delay:100},void 0,(function(t){return c(i.animated.div,{className:l.default.guildList,style:t},void 0,r||null==n?e.renderPlaceholders():n.map(e.renderGuild))}))};return t}(o.PureComponent);y.displayName="GuildList";y.defaultProps={loadingPlaceholderCount:12};var h=y;t.default=h},605807:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=n(536211),i=p(n(241165)),u=y(n(908463)),l=p(n(308920)),s=p(n(571028)),d=p(n(221597)),c=p(n(913093)),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).maxScrolledPercentage=0;t.mountedAt=0;t.handleScroll=function(e){var n=e.getScrollerState(),r=n.offsetHeight,a=n.scrollHeight,o=n.scrollTop/(a-r)
;t.maxScrolledPercentage=Math.min(Math.max(t.maxScrolledPercentage,o),1)};t.track=function(e,n,r){void 0===n&&(n={});void 0===r&&(r=!1);var a=t.props.changeLog,o=a.id,i=a.date,u=_({change_log_id:(o||i)+":"+a.revision},n);r||(u=_({seconds_open:Math.round((Date.now()-t.mountedAt)/1e3),max_scrolled_percentage:100*parseInt(t.maxScrolledPercentage.toPrecision(4),10)},u));l.default.track(e,u)};return t}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.changeLog,n=e.changeLogSource;if(null==t)return this.close();this.mountedAt=Date.now();this.maxScrolledPercentage=0;this.joinEligibleExperiment();this.track(f.AnalyticEvents.CHANGE_LOG_OPENED,_({},n),!0)};n.joinEligibleExperiment=function(){var e=this.props.changeLog;null!=e.experiment_names&&s.default.trackExposureToFirstEligibleUserExperiment(e.experiment_names)};n.close=function(){i.default.hideChangeLog()};n.componentWillUnmount=function(){this.track(f.AnalyticEvents.CHANGE_LOG_CLOSED)};n.render=function(){
return this.props.changeLog.template===u.ChangeLogTemplate.SPECIAL?a.createElement(d.default,_({},this.props,{onScroll:this.handleScroll,track:this.track})):a.createElement(c.default,_({},this.props,{onScroll:this.handleScroll,track:this.track}))};return t}(a.PureComponent);g.displayName="ChangeLog";var E=function(){var e=(0,o.useStateFromStoresObject)([u.default],(function(){return{changeLog:u.default.changeLog,changeLogSource:u.default.changeLogSource,isOpen:u.default.isOpen()}})),t=e.changeLog,n=e.changeLogSource,r=e.isOpen;return null!=t&&r?h(g,{changeLog:t,changeLogSource:n}):null};E.displayName="ConnectedChangeLog";var O=a.memo(E);t.default=O},221597:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=P(n(667294)),o=C(n(294184)),i=C(n(730381)),u=n(91817),l=C(n(241165)),s=C(n(268389)),d=n(844867),c=C(n(908463)),f=C(n(151097)),p=P(n(956117)),v=n(374693),y=n(354479),h=C(n(776360)),_=C(n(865725)),m=C(n(308920)),g=C(n(899984)),E=C(n(550270)),O=C(n(178710)),S=n(770348),I=C(n(247001)),b=C(n(866881));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}var N=s.default.reactParserFor(g.default.getSpecialRules(b.default)),R={},w=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,y.uid)();t.state={bodyWidth:451,copied:!1};t._unsetCopiedState=new u.DelayedCall(1e3,(function(){return t.setState({copied:!1})}));t.trackLinkClick=function(e){
t.props.track(S.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)};t.scrollerRef=a.createRef();t.handleResize=function(){var e,n,r=null!==(e=null===(n=t._bodyNode)||void 0===n?void 0:n.offsetWidth)&&void 0!==e?e:t.state.bodyWidth;"number"!=typeof r||Number.isNaN(r)||t.setState({bodyWidth:r})};t.setSpecialBodyRef=function(e){t._bodyNode=e;t.handleResize()};t.handleScroll=function(){var e=t.scrollerRef.current;if(null!=e){var n;null===(n=t.props)||void 0===n||n.onScroll(e)}};return t}var r=t.prototype;r.componentDidMount=function(){window.addEventListener("resize",this.handleResize,!0)};r.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize,!0);this._unsetCopiedState.cancel()};r.close=function(){l.default.hideChangeLog()};r.track=function(e,t,n){this.props.track(e,t,n)};r.renderVideo=function(){var e=this,t=this.props.changeLog,r=this.state.bodyWidth,a=r*(9/16),i=t.youtube_video_id,u=t.video,l=t.image;if(i)return A(v.EmbedVideo,{
className:(0,o.default)(b.default.video),allowFullScreen:!1,href:"https://youtu.be/"+i,thumbnail:{url:"https://i.ytimg.com/vi/"+i+"/maxresdefault.jpg",width:r,height:a},video:{url:"https://www.youtube.com/embed/"+i+"?vq=large&rel=0&controls=0&showinfo=0",width:r,height:a},maxWidth:r,maxHeight:a,renderVideoComponent:d.renderVideoComponent,renderImageComponent:d.renderImageComponent,renderLinkComponent:d.renderMaskedLinkComponent,onPlay:function(){e.track(S.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(u){var s=u.startsWith("https://")?u:n(478717)("./"+u);return A(_.default,{src:s,poster:l,width:r,height:a,loop:!0,muted:!0,autoPlay:!0,className:b.default.video,onPlay:function(){e.track(S.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(l){var c=l.startsWith("https://")?l:n(478717)("./"+l);return A("img",{className:b.default.image,alt:"",src:c,width:r,height:a})}return null};r.render=function(){var e=this.props.changeLog;return A(O.default,{className:(0,
o.default)(b.default.container),modalLabeledById:this.headerId,onClose:this.close,onScroll:this.handleScroll,scrollerRef:this.scrollerRef},void 0,A("div",{className:b.default.header,id:this.headerId,tabIndex:0},void 0,A("div",{className:b.default.headerContent},void 0,A(h.default,{size:h.default.Sizes.SIZE_32,className:b.default.headerText},void 0,I.default.Messages.CHANGELOG_STICKERS_HEADER),A(h.default,{size:h.default.Sizes.SIZE_16,className:b.default.dateText},void 0,I.default.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?(0,i.default)(e.date).toDate():new Date}))),A("div",{className:b.default.headerGraphic})),a.createElement("div",{className:b.default.body,ref:this.setSpecialBodyRef},this.renderVideo(),N(e.body,!1,{changeLog:this,interpolations:R,onLinkClick:this.trackLinkClick})),A("div",{className:b.default.footer},void 0,A(h.default,{size:h.default.Sizes.SIZE_20,className:b.default.inviteCTAHeader
},void 0,I.default.Messages.CHANGELOG_STICKERS_CTA_TITLE),A(h.default,{size:h.default.Sizes.SIZE_16,className:b.default.inviteCTABody},void 0,I.default.Messages.CHANGELOG_STICKERS_CTA_BODY.format()),A(f.default,{className:(0,o.default)((0,p.getButtonStyle)({size:p.default.Sizes.SMALL,color:p.default.Colors.GREEN}),b.default.ctaAnchor),href:E.default.getArticleURL(S.HelpdeskArticles.STICKERS),onClick:function(){var e,t;m.default.track(S.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{change_log_id:(null===(e=c.default.changeLog)||void 0===e?void 0:e.date)+":"+(null===(t=c.default.changeLog)||void 0===t?void 0:t.revision),cta_type:"stickers_cta"})}},void 0,I.default.Messages.CHANGELOG_STICKERS_CTA)))};return t}(a.PureComponent);t.default=w;w.displayName="ChangelogSpecialTemplate"},913093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=T(n(294184)),i=T(n(730381)),u=T(n(241165)),l=T(n(805764)),s=T(n(268389)),d=n(844867),c=T(n(151097)),f=n(374693),p=T(n(530250)),v=n(354479),y=T(n(877622)),h=T(n(170331)),_=T(n(637853)),m=T(n(971639)),g=T(n(776360)),E=T(n(865725)),O=T(n(899984)),S=T(n(138158)),I=n(770348),b=T(n(247001)),C=T(n(634427));function T(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}var N=s.default.reactParserFor(O.default.getDefaultRules(C.default)),R={},w=A(_.default,{}),D=A(y.default,{}),L=A(h.default,{}),k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,v.uid)();t.handleScroll=function(e){var n;null===(n=t.props)||void 0===n||n.onScroll(e)};t.trackLinkClick=function(e){t.props.track(I.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)};t.renderHeader=function(){var e=t.props.changeLog
;return A(p.default.Child,{grow:1,shrink:1},void 0,A(m.default,{tag:m.default.Tags.H2,size:m.default.Sizes.SIZE_20},void 0,b.default.Messages.WHATS_NEW),A(g.default,{size:g.default.Sizes.SIZE_12,className:C.default.date},void 0,b.default.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?(0,i.default)(e.date).toDate():new Date})))};return t}var r=t.prototype;r.close=function(){u.default.hideChangeLog()};r.track=function(e,t,n){this.props.track(e,t,n)};r.renderFooter=function(){return A("div",{className:C.default.footer},void 0,A(c.default,{"aria-label":b.default.Messages.TWITTER,className:C.default.socialLink,href:(0,l.default)(I.LocalizedLinks.TWITTER),target:"blank"},void 0,w),A(c.default,{"aria-label":b.default.Messages.FACEBOOK,className:C.default.socialLink,href:I.SOCIAL_LINKS.FACEBOOK_URL,target:"blank"},void 0,D),A(c.default,{"aria-label":b.default.Messages.INSTAGRAM,className:C.default.socialLink,href:I.SOCIAL_LINKS.INSTAGRAM_URL,target:"blank"
},void 0,L),A(g.default,{size:g.default.Sizes.SIZE_12},void 0,b.default.Messages.FOLLOW_US_FOR_MORE_UPDATES))};r.renderVideo=function(){var e=this,t=this.props.changeLog,r=451,a=254,i=t.youtube_video_id,u=t.video,l=t.image;if(i)return A(f.EmbedVideo,{className:(0,o.default)(C.default.video),allowFullScreen:!1,href:"https://youtu.be/"+i,thumbnail:{url:"https://i.ytimg.com/vi/"+i+"/maxresdefault.jpg",width:r,height:a},video:{url:"https://www.youtube.com/embed/"+i+"?vq=large&rel=0&controls=0&showinfo=0",width:r,height:a},maxWidth:r,maxHeight:a,renderVideoComponent:d.renderVideoComponent,renderImageComponent:d.renderImageComponent,renderLinkComponent:d.renderMaskedLinkComponent,onPlay:function(){e.track(I.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(u){var s=u.startsWith("https://")?u:n(478717)("./"+u);return A(E.default,{src:s,poster:l,width:r,height:a,loop:!0,muted:!0,autoPlay:!0,className:C.default.video,onPlay:function(){
e.track(I.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(l){var c=l.startsWith("https://")?l:n(478717)("./"+l);return A("img",{className:C.default.image,alt:"",src:c,width:r,height:a})}return null};r.render=function(){var e=this.props.changeLog;return A(S.default,{className:C.default.container,onClose:this.close,renderHeader:this.renderHeader,renderFooter:this.renderFooter,onScroll:this.handleScroll},void 0,A("div",{tabIndex:0,role:"region","aria-label":b.default.Messages.CHANGELOG_CONTENT_LABEL},void 0,this.renderVideo(),N(e.body,!1,{changeLog:this,interpolations:R,onLinkClick:this.trackLinkClick})))};return t}(a.PureComponent);k.displayName="ChangelogStandardTemplate";var j=k;t.default=j},410671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(956117)),i=y(n(558402)),u=y(n(279950)),l=n(354479),s=y(n(510596)),d=n(3400),c=y(n(971639)),f=y(n(776360)),p=y(n(247001)),v=y(n(949095));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,l.uid)();t.state={code:""};t.setRef=function(e){t._input=e};t.handleSubmit=function(e){e.preventDefault();(0,t.props.handleSubmit)(t.state.code)};t.handleCancel=function(){var e=t.props,n=e.onClose,r=e.handleEarlyClose;n();null==r||r()};t.handleCodeChange=function(e){t.setState({code:e})};return t}t.prototype.render=function(){var e=this.props,t=e.title,n=e.actionText,r=e.children,l=e.error,y=e.isLoading,h=e.disallowBackupCodes,m=e.transitionState,g=this.state.code,E=a.Children.count(r)>0?_(i.default,{type:i.default.Types.WARNING,className:v.default.card},void 0,_(f.default,{
size:f.default.Sizes.SIZE_16},void 0,r)):null;return _(d.ModalRoot,{transitionState:m,"aria-labelledby":this.headerId},void 0,_("form",{onSubmit:this.handleSubmit},void 0,_(d.ModalHeader,{separator:!1,id:this.headerId},void 0,_(c.default,{tag:c.default.Tags.H2,size:c.default.Sizes.SIZE_20},void 0,t)),_(d.ModalContent,{},void 0,E,_(s.default,{title:h?p.default.Messages.TWO_FA_ENTER_TOKEN_NO_BACKUP_LABEL:p.default.Messages.TWO_FA_ENTER_TOKEN_LABEL,className:v.default.spacing},void 0,_(u.default,{inputRef:this.setRef,onChange:this.handleCodeChange,placeholder:h?p.default.Messages.TWO_FA_AUTH_CODE_NO_BACKUP:p.default.Messages.TWO_FA_AUTH_CODE,maxLength:10,value:g,autoComplete:"one-time-code",autoFocus:!0}),null!=l&&""!==l?_(f.default,{color:f.default.Colors.STATUS_RED,size:f.default.Sizes.SIZE_12,className:v.default.error},void 0,l):null)),_(d.ModalFooter,{},void 0,_(o.default,{type:"submit",disabled:y},void 0,null!=n?n:p.default.Messages.CONFIRM),_(o.default,{onClick:this.handleCancel,
disabled:y,look:o.default.Looks.LINK,color:o.default.Colors.PRIMARY},void 0,p.default.Messages.CANCEL))))};return t}(a.PureComponent);g.displayName="MFAConfirm";g.defaultProps={btnClass:"",isLoading:!1,disallowBackupCodes:!1,error:null};var E=g;t.default=E},178710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=p(n(294184)),i=p(n(16941)),u=p(n(259530)),l=y(n(3400)),s=p(n(776360)),d=p(n(247001)),c=p(n(853930)),f=["onClose"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var g=_(u.default,{width:24,height:24}),E=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.selectable,n=e.className,r=e.modalLabeledById,u=e.onClose,p=e.children,v=e.onScroll,y=e.scrollerRef;return _(l.default,{onCloseRequest:u,renderModal:function(e){var m,E=e.onClose,O=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f);return a.createElement(l.ModalRoot,h({className:c.default.modal},O,{"aria-labelledby":r}),_(l.ModalContent,{className:(0,o.default)(n,c.default.content,{selectable:t}),scrollerRef:y,onScroll:v},void 0,p),_(i.default,{className:c.default.closeButton,onClick:function(){null!=u&&u();E()}},void 0,g),_("div",{className:c.default.updateBadge},void 0,_(s.default,{size:(m=d.default.Messages.UPDATE_BADGE_HEADER,m.length>12?s.default.Sizes.SIZE_10:m.length>10?s.default.Sizes.SIZE_12:m.length>8?s.default.Sizes.SIZE_14:s.default.Sizes.SIZE_16),
className:c.default.updateBadgeText},void 0,d.default.Messages.UPDATE_BADGE_HEADER)))}})};return t}(a.PureComponent);E.displayName="SpecialMarkdownModal";E.defaultProps={selectable:!1};var O=E;t.default=O},57663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=be
;var r,a=ye(n(667294)),o=pe(n(294184)),i=n(536211),u=n(923387),l=pe(n(972247)),s=n(91817),d=n(378158),c=pe(n(226800)),f=pe(n(686923)),p=pe(n(284382)),v=pe(n(6887)),y=pe(n(77146)),h=n(224179),_=pe(n(915502)),m=pe(n(945926)),g=pe(n(330493)),E=pe(n(590087)),O=pe(n(56200)),S=pe(n(133464)),I=pe(n(305081)),b=pe(n(812371)),C=pe(n(719637)),T=pe(n(105847)),P=pe(n(423405)),A=pe(n(644263)),M=pe(n(513266)),N=pe(n(122913)),R=pe(n(635014)),w=pe(n(893160)),D=pe(n(690445)),L=pe(n(397228)),k=pe(n(663303)),j=pe(n(871778)),U=pe(n(728429)),G=pe(n(146771)),F=pe(n(16941)),x=pe(n(530250)),W=pe(n(618993)),V=pe(n(160629)),H=pe(n(413542)),B=ye(n(730977)),Y=pe(n(634230)),z=pe(n(878338)),K=pe(n(324582)),$=pe(n(347114)),q=pe(n(855480)),Z=pe(n(287317)),X=n(194322),Q=pe(n(139574)),J=pe(n(902060)),ee=pe(n(683898)),te=ye(n(628551)),ne=pe(n(776360)),re=pe(n(308920)),ae=n(42031),oe=n(179495),ie=pe(n(922629)),ue=pe(n(1483)),le=n(770348),se=n(198622),de=pe(n(247001)),ce=pe(n(129609)),fe=["onClick","onMouseEnter"]
;function pe(e){return e&&e.__esModule?e:{default:e}}function ve(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ve=function(e){return e?n:t})(e)}function ye(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ve(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function he(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _e(){_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _e.apply(this,arguments)}function me(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){me(o,r,a,i,u,"next",e)}function u(e){me(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Oe(e,t){Oe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Oe(e,t)}var Se=ie.default.getEnableHardwareAcceleration()?te.AnimatedAvatar:te.default;var Ie=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Oe(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).copiedTimeout=new s.Timeout;t.copiedDecayTimeout=new s.Timeout;t.speakingWhileMutedTooltipTimeout=new s.Timeout;t.state={hovered:!1,copiedStreak:0,shouldShowNametagTooltip:!1,shouldShowCopiedFeedback:!1,shouldShowSpeakingWhileMutedTooltip:!1,hoveringOnMute:!1};t.handleToggleSelfMute=function(){var e=t.props,n=e.serverMute,r=e.suppress;(0,E.default)(n,r)};t.handleToggleSelfDeaf=function(){var e=t.props.serverDeaf;(0,g.default)(e)};t.handleOpenSettings=function(){c.default.open(le.UserSettingsSections.ACCOUNT)};t.handleOpenSettingsContextMenu=function(e){var r=t.props.currentUser;null!=r&&(0,d.openContextMenuLazy)(e,ge(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(23622),n.e(1429),n.e(93198),n.e(92782),n.e(54313),n.e(64084)]).then(n.bind(n,964084));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,_e({},e,{user:r,premiumSubscription:t.props.premiumSubscription,webBuildOverride:t.props.webBuildOverride}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleInputAudioContextMenu=function(e){(0,d.openContextMenuLazy)(e,ge(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,190320));case 2:t=e.sent;r=t.default;a=he(r,{onClose:d.closeContextMenu,renderInputDevices:!0,renderInputModes:!0,renderInputVolume:!0});return e.abrupt("return",(function(){return a}));case 6:case"end":return e.stop()}}),e)}))))};t.handleOutputAudioContextMenu=function(e){(0,d.openContextMenuLazy)(e,ge(regeneratorRuntime.mark((function e(){var t,r,a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,190320));case 2:t=e.sent;r=t.default;a=he(r,{onClose:d.closeContextMenu,renderOutputDevices:!0,renderOutputVolume:!0});return e.abrupt("return",(function(){return a}));case 6:case"end":return e.stop()}}),e)}))))};t.handleMouseEnter=function(){t.setState({hovered:!0})};t.handleMouseLeave=function(){t.setState({hovered:!1})};t.handleMouseEnterMute=function(){t.setState({hoveringOnMute:!0,shouldShowSpeakingWhileMutedTooltip:!1});t.speakingWhileMutedTooltipTimeout.stop()};t.handleMouseLeaveMute=function(){t.setState({hoveringOnMute:!1})};t.handleCopyTag=function(){var e=t.props.currentUser,n=t.state,r=n.shouldShowNametagTooltip,a=n.copiedStreak;if(null!=e){(0,oe.copy)(e.tag);re.default.track(le.AnalyticEvents.TEXT_COPIED,{type:"User Tag"});var o={shouldShowCopiedFeedback:!0,shouldShowNametagTooltip:!0};r||(o.copiedStreak=a+1);t.setState(o,(function(){
t.copiedTimeout.start(1e3,(function(){return t.setState({shouldShowNametagTooltip:!1})}));t.copiedDecayTimeout.start(2e3,(function(){return t.setState({copiedStreak:0})}))}))}};t.handleOccludedChanged=function(){t.props.occluded&&t.setState({shouldShowNametagTooltip:!1,shouldShowSpeakingWhileMutedTooltip:!1})};t.handleSpeakingWhileMutedChanged=function(){var e=t.props,n=e.selfMute,r=e.serverMute,a=e.suppress,o=e.speakingWhileMuted,i=e.occluded,u=t.state.hoveringOnMute;if(o)u||!n||r||a||i||t.setState({shouldShowSpeakingWhileMutedTooltip:!0},(function(){t.speakingWhileMutedTooltipTimeout.start(2e3,(function(){return t.setState({shouldShowSpeakingWhileMutedTooltip:!1})}))}));else{t.setState({shouldShowSpeakingWhileMutedTooltip:!1});t.speakingWhileMutedTooltipTimeout.stop()}};t.renderStatusPickerPopout=function(e){var n=e.closePopout;return he(f.default,{onClose:function(){t.handleMouseLeave();null==n||n()}})};return t}var r=t.prototype;r.componentDidUpdate=function(e){
var t=e.speakingWhileMuted,n=e.occluded,r=this.props,a=r.speakingWhileMuted;r.occluded!==n&&this.handleOccludedChanged();a!==t&&this.handleSpeakingWhileMutedChanged()};r.componentWillUnmount=function(){this.copiedTimeout.stop();this.copiedDecayTimeout.stop();this.speakingWhileMutedTooltipTimeout.stop()};r.renderCopiedSuccess=function(){var e=this.state.copiedStreak,t=[de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_1,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_2,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_3,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_4,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_5,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_6,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_7,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_8,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_9,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_10,de.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_11],n=Math.min(Math.max(0,e-1),t.length-1)
;return he(H.default,{isShaking:this.isCopiedStreakGodlike},void 0,t[n])};r.renderNameTag=function(){var e=this,t=this.props,n=t.customStatusActivity,r=t.hidePrivateData,i=t.currentUser,u=this.state,l=u.hovered,s=u.shouldShowNametagTooltip,d=u.shouldShowCopiedFeedback;if(null==i)return null;var c=r?null:"#"+i.discriminator,f=null!=n?he(W.default,{hoverText:c,forceHover:l},void 0,he(S.default,{activity:n,emojiClassName:ce.default.emoji,className:ce.default.customStatus})):c,p=null,v=B.TooltipColors.PRIMARY;if(oe.SUPPORTS_COPY){p=de.default.Messages.ACCOUNT_CLICK_TO_COPY;if(d){p=this.renderCopiedSuccess();v=this.isCopiedStreakGodlike?B.TooltipColors.RED:B.TooltipColors.GREEN}}return he(B.default,{text:p,forceOpen:s,"aria-label":!!oe.SUPPORTS_COPY&&de.default.Messages.ACCOUNT_CLICK_TO_COPY,color:v,delay:500,onAnimationRest:function(t,n){d&&!s&&n.phase===le.SpringTransitionPhases.LEAVE&&e.setState({shouldShowCopiedFeedback:!1})}},void 0,(function(t){
var n,r=t.onClick,u=t.onMouseEnter,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,fe);return a.createElement(F.default,_e({},l,{onMouseEnter:function(){if(d){e.copiedTimeout.stop();e.setState({shouldShowNametagTooltip:!1},u)}else null==u||u()},onClick:function(){null==r||r();e.handleCopyTag()},className:(0,o.default)(ce.default.nameTag,(n={},n[ce.default.canCopy]=oe.SUPPORTS_COPY,n))}),he(ne.default,{className:ce.default.usernameContainer},void 0,he(ee.default,{},void 0,i.username)),null!=f?he(J.default,{className:ce.default.discriminator},void 0,f):null)}))};r.renderAvatarWithPopout=function(){var e=this.props,t=e.speaking,n=e.streaming,r=e.currentUser,o=e.status;return null==r?null:he(p.default,{object:le.AnalyticsObjects.AVATAR},void 0,he(V.default,{renderPopout:this.renderStatusPickerPopout,position:V.default.Positions.BOTTOM,align:V.default.Align.LEFT,animation:V.default.Animation.FADE,
spacing:14,fixed:!0},void 0,(function(e){return a.createElement(F.default,_e({},e,{"aria-label":de.default.Messages.SET_STATUS,className:ce.default.avatarWrapper}),he(Se,{size:te.Sizes.SIZE_32,src:r.getAvatarURL(void 0,32,!1),"aria-label":r.username,status:n?le.StatusTypes.STREAMING:o,isSpeaking:t,className:ce.default.avatar}))})))};r.renderSettingsGear=function(){var e=this.props.webBuildOverride;return he(Q.default,{tooltipText:null!=e?de.default.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:e.id}):de.default.Messages.USER_SETTINGS,onClick:this.handleOpenSettings,onContextMenu:this.handleOpenSettingsContextMenu,innerClassName:null!=e?ce.default.buildOverrideButton:null,icon:Y.default},void 0,null!=e?he($.default,{width:9,height:9,className:ce.default.hasBuildOverride,"aria-hidden":!0}):null)};r.render=function(){
var e,t,n=this,r=this.props,a=r.currentUser,i=r.selfDeaf,l=r.selfMute,s=r.serverMute,d=r.serverDeaf,c=r.suppress,f=r.dismissibleContents,p=this.state.shouldShowSpeakingWhileMutedTooltip;if(null==a)return null;var v=l||c||s,y=i||d;return he("div",{className:ce.default.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,he(I.default,{contentTypes:f.avatar},void 0,(function(e){var t=e.content,r=e.markAsDismissed,a=he(C.default,{markAsDismissed:r});return t===u.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP?he(V.default,{position:V.default.Positions.TOP,shouldShow:!0,renderPopout:function(){return a}},void 0,(function(){return n.renderAvatarWithPopout()})):n.renderAvatarWithPopout()})),this.renderNameTag(),he(x.default,{grow:0},void 0,he(Q.default,{tooltipText:p?de.default.Messages.ACCOUNT_SPEAKING_WHILE_MUTED:(0,m.default)(l,s,c),tooltipColor:p?B.TooltipColors.GREEN:void 0,tooltipForceOpen:p||void 0,onMouseEnter:this.handleMouseEnterMute,
onMouseLeave:this.handleMouseLeaveMute,icon:v?Z.default:q.default,iconForeground:v?ce.default.strikethrough:null,onClick:this.handleToggleSelfMute,innerClassName:(0,o.default)((e={},e[ce.default.redIcon]=s||c,e)),onContextMenu:this.handleInputAudioContextMenu,role:"switch","aria-label":de.default.Messages.MUTE,"aria-checked":v}),he(Q.default,{tooltipText:(0,_.default)(i,d),icon:i?K.default:z.default,onClick:this.handleToggleSelfDeaf,onContextMenu:this.handleOutputAudioContextMenu,innerClassName:(0,o.default)((t={},t[ce.default.redIcon]=d,t)),iconForeground:y?ce.default.strikethrough:null,role:"switch","aria-label":de.default.Messages.DEAFEN,"aria-checked":y}),he(I.default,{contentTypes:f.settings},void 0,(function(e){var t=e.content,r=e.markAsDismissed,a=he(ue.default,{markAsDismissed:r});return t===u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION?he(V.default,{position:V.default.Positions.TOP,shouldShow:!0,renderPopout:function(){return a}},void 0,(function(){
return n.renderSettingsGear()})):n.renderSettingsGear()}))))};!function(e,t,n){t&&Ee(e.prototype,t);n&&Ee(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isCopiedStreakGodlike",get:function(){return this.state.copiedStreak>=10}}]);return t}(a.PureComponent);Ie.displayName="Account";function be(){var e=(0,i.useStateFromStores)([U.default],(function(){return U.default.getCurrentUser()})),t=null==e?void 0:e.id,n=(0,i.useStateFromStores)([j.default],(function(){return j.default.customStatus})),r=a.useMemo((function(){return null!=n?(0,O.default)(n):null}),[n]),o=(0,i.useStateFromStoresObject)([D.default],(function(){return{streaming:null!=D.default.findActivity((function(e){return e.type===le.ActivityTypes.STREAMING})),status:D.default.getStatus()}})),s=o.streaming,d=o.status,c=(0,i.useStateFromStores)([L.default],(function(){return null!=t&&L.default.isSpeaking(t)}),[t]),f=(0,i.useStateFromStores)([k.default],(function(){return k.default.hidePersonalInformation})),p=(0,
i.useStateFromStores)([w.default,A.default],(function(){var e=w.default.getChannelId();return null!=e?A.default.getChannel(e):null})),_=(0,P.default)(p),m=_.mute,g=_.selfMute,E=_.suppress,S=(0,T.default)(p),I=S.selfDeaf,C=S.deaf,F=(0,i.useStateFromStores)([y.default],(function(){var e;return(0,h.probablyHasBuildOverride)()?null===(e=y.default.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null})),x=(0,i.useStateFromStores)([G.default],(function(){return G.default.getPremiumTypeSubscription()})),W=(0,i.useStateFromStores)([R.default],(function(){return R.default.getEverSpeakingWhileMuted()})),V=(0,i.useStateFromStores)([M.default],(function(){return null!=M.default.getAccount(null,le.PlatformTypes.PLAYSTATION)})),H=(0,i.useStateFromStores)([N.default],(function(){return N.default.hasLayers()})),B=(0,X.useModalsStore)(X.hasAnyModalOpenSelector)||H||ae.ProcessArgs.isDisallowPopupsSet();a.useEffect((function(){b.default.trackExposure({})}))
;var Y=b.default.useExperiment({}),z=Y.isMultiAccountEnabled,K=Y.disableMultiAccount,$=v.default.useExperiment({}).coachMarkEnabled,q={avatar:[],settings:[]};B||null!=l.default.get(se.MULTIACCOUNT_TOOLTIP_SEEN_KEY)||!z||K||q.avatar.push(u.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP);B||!$||V||q.settings.push(u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION);return he(Ie,{hidePrivateData:f,currentUser:e,selfMute:g,serverMute:m,suppress:E,serverDeaf:C,selfDeaf:I,status:d,speaking:c,streaming:s,customStatusActivity:r,webBuildOverride:F,premiumSubscription:x,speakingWhileMuted:W,occluded:B,dismissibleContents:q})}be.displayName="AccountConnected"},1483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(155502)),i=p(n(754416)),u=p(n(956117)),l=p(n(776360)),s=p(n(308920)),d=n(770348),c=p(n(247001)),f=p(n(573438));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){e()
;s.default.track(d.AnalyticEvents.UPSELL_CLICKED,{type:"account_connect_playstation_tooltip",action:"dismiss"})}function _(e){var t=e.markAsDismissed;a.useEffect((function(){s.default.track(d.AnalyticEvents.UPSELL_VIEWED,{type:"account_connect_playstation_tooltip"})}),[]);a.useEffect((function(){function e(e){e.keyCode===d.KeyboardKeys.ESCAPE&&h(t)}window.addEventListener("keydown",e);return function(){window.removeEventListener("keydown",e)}}),[t]);var n=a.useCallback((function(){(0,i.default)(d.PlatformTypes.PLAYSTATION,"Playstation Upsell");h(t)}),[t]);return y("div",{className:f.default.container},void 0,y("div",{className:f.default.image}),y(l.default,{className:f.default.title},void 0,c.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:o.default.get(d.PlatformTypes.PLAYSTATION).name})),y(l.default,{size:l.default.Sizes.SIZE_14,className:f.default.subTitle},void 0,c.default.Messages.PLAYSTATION_CONNECT_DESCRIPTION),y(u.default,{look:u.default.Looks.INVERTED,
fullWidth:!0,onClick:n},void 0,c.default.Messages.CONNECT),y(u.default,{color:u.default.Colors.WHITE,look:u.default.Looks.LINK,fullWidth:!0,onClick:function(){return h(t)}},void 0,c.default.Messages.NO_THANKS),y("div",{className:f.default.pointer}))}_.displayName="AccountConnectPlayStationTooltip"},52505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=m(n(496486)),i=m(n(536211)),u=n(378158),l=m(n(913914)),s=m(n(922340)),d=m(n(146411)),c=m(n(414068)),f=m(n(330445)),p=m(n(290629)),v=m(n(728429)),y=m(n(251689)),h=n(71246),_=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return O.apply(this,arguments)}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).handleUserContextMenu=function(e,t){(0,u.openContextMenuLazy)(e,I(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default
;return e.abrupt("return",(function(e){return a.createElement(o,O({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))))};t.renderOverflowPopout=function(){var e=t.props.party;return E(l.default,{party:e,header:_.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})})};return t}var r=t.prototype;r.hasParty=function(e){return e.length>1};r.handleStopListening=function(){(0,s.default)()};r.renderUserPopout=function(e,t){return a.createElement(c.default,O({},e,{userId:t.id}))};r.render=function(){var e=this.props,t=e.currentUser,n=e.host,r=e.party;return this.hasParty(r)&&null!=t?E(y.default,{currentUser:t,host:n,party:r,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null};return t}(a.PureComponent);C.displayName="ListeningAlong";var T=i.default.connectStores([d.default,v.default,p.default,f.default],(function(){
var e,t,n=d.default.getSyncingWith(),r=d.default.getActivity(),a=v.default.getCurrentUser(),i=[];if(null!=n){e=v.default.getUser(n.userId);t=n.partyId}else if(null!=r&&null!=r.party&&null!=r.party.id){e=a;t=r.party.id}if(null!=t){var u;i=(0,o.default)(Array.from(null!==(u=f.default.getParty(t))&&void 0!==u?u:[])).map((function(e){return v.default.getUser(e)})).filter(h.isNotNullish).orderBy([function(t){return null==e||e.id===t.id},function(e){return p.default.isFriend(e.id)}],["desc","desc"]).value()}return{currentUser:a,host:e,party:i}}))(C);t.default=T},883901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=xe(n(667294)),o=Ge(n(294184)),i=Ge(n(441143)),u=n(473727),l=n(536211),s=n(923387),d=Ge(n(740207)),c=n(378158),f=Ge(n(505437)),p=xe(n(712283)),v=Ge(n(367734)),y=Ge(n(257175)),h=n(556470),_=n(678164),m=n(746920),g=xe(n(303798)),E=n(186096),O=Ge(n(198016)),S=Ge(n(62954)),I=n(245546),b=Ge(n(818994)),C=Ge(n(932018)),T=n(678928),P=Ge(n(305081)),A=Ge(n(314234)),M=Ge(n(379310)),N=Ge(n(908921)),R=Ge(n(118978)),w=Ge(n(68094)),D=xe(n(278352)),L=Ge(n(652566)),k=n(139982),j=Ge(n(897191)),U=n(921867),G=n(894826),F=Ge(n(373115)),x=Ge(n(431388)),W=Ge(n(770404)),V=xe(n(336940)),H=Ge(n(493051)),B=Ge(n(602824)),Y=Ge(n(310261)),z=Ge(n(30269)),K=n(645675),$=Ge(n(686305)),q=Ge(n(607209)),Z=Ge(n(644263)),X=Ge(n(30098)),Q=Ge(n(122913)),J=Ge(n(635014)),ee=Ge(n(689389)),te=Ge(n(893160)),ne=Ge(n(290629)),re=Ge(n(728429)),ae=Ge(n(387692)),oe=Ge(n(487372)),ie=Ge(n(151097)),ue=Ge(n(956117)),le=Ge(n(530250)),se=n(728526),de=Ge(n(160629)),ce=Ge(n(567668)),fe=Ge(n(730977)),pe=xe(n(662197)),ve=Ge(n(79027)),ye=Ge(n(26285)),he=Ge(n(400217)),_e=Ge(n(250003)),me=Ge(n(952117)),ge=Ge(n(139574)),Ee=Ge(n(902060)),Oe=Ge(n(971639)),Se=Ge(n(776360)),Ie=Ge(n(308920)),be=Ge(n(550270)),Ce=n(873838),Te=Ge(n(547636)),Pe=Ge(n(529025)),Ae=n(770348),Me=n(439142),Ne=Ge(n(247001)),Re=Ge(n(444013)),we=Ge(n(380203)),De=["unavailable","active","label","iconComponent"],Le=["onClick"],ke=["onClick"],je=["onClick"],Ue=["guildId","channelId"]
;function Ge(e){return e&&e.__esModule?e:{default:e}}function Fe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Fe=function(e){return e?n:t})(e)}function xe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Fe(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function We(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){We(o,r,a,i,u,"next",e)}function u(e){We(o,r,a,i,u,"throw",e)}i(void 0)}))}}function He(e,t){
He=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return He(e,t)}function Be(){Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Be.apply(this,arguments)}function Ye(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function ze(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ke(e){var t=e.currentTarget;Ie.default.track(Ae.AnalyticEvents.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{
section:Ae.AnalyticsSections.NOISE_CANCELLATION_POPOUT}})}function $e(){var e=a.useRef(null);(0,se.useFocusLock)(e);a.useEffect((function(){return Ie.default.track(Ae.AnalyticEvents.OPEN_POPOUT,{type:Ae.AnalyticsSections.NOISE_CANCELLATION_POPOUT})}),[]);var t=(0,l.useStateFromStores)([J.default],(function(){return J.default.getNoiseCancellation()}));return a.createElement("div",{ref:e,className:Re.default.noiseCancellationPopout},ze(ce.default,{hideBorder:!0,className:we.default.marginBottom4,value:t,onChange:function(){return d.default.setNoiseCancellation(!t,{section:Ae.AnalyticsSections.NOISE_CANCELLATION_POPOUT})},note:Ne.default.Messages.NOISE_CANCELLATION_POPOUT_DESCRIPTION},void 0,Ne.default.Messages.NOISE_CANCELLATION_POPOUT_HEADER),ze(p.default,{title:Ne.default.Messages.NOISE_CANCELLATION_POPOUT_MIC_TEST_TITLE,notchBackground:p.NotchBackground.BLACK,buttonTest:Ne.default.Messages.NOISE_CANCELLATION_POPOUT_TEST,buttonStop:Ne.default.Messages.NOISE_CANCELLATION_POPOUT_STOP,
buttonClassName:Re.default.micTestButton,buttonColor:ue.default.Colors.GREY,location:{section:Ae.AnalyticsSections.NOISE_CANCELLATION_POPOUT}}),ze(pe.default,{tag:pe.Tags.H5,className:(0,o.default)(we.default.marginBottom8,we.default.marginTop20)},void 0,Ne.default.Messages.NOISE_CANCELLATION_POPOUT_FOOTER),ze(le.default,{justify:le.default.Justify.BETWEEN,className:Re.default.footer},void 0,ze(ie.default,{href:Ae.MarketingURLs.KRISP,onClick:function(e){return Ke(e)}},void 0,ze("div",{className:Re.default.krispLogo})),ze(ie.default,{href:be.default.getArticleURL(Ae.HelpdeskArticles.NOISE_SUPPRESSION),className:Re.default.krispLink,onClick:function(e){return Ke(e)}},void 0,Ne.default.Messages.LEARN_MORE)))}$e.displayName="NoiseCancellationPopout";function qe(e){var t,n=e.channel,r=(0,F.default)(),i=(0,W.default)(n),u=n.getGuildId(),s=(0,O.default)(u),c=(0,l.useStateFromStoresObject)([g.default],(function(){return null!=g.default.getSelfEmbeddedActivityForChannel(n.id)})),f=(0,
x.default)(n),p=f.reachedLimit,v=f.limit,y=a.useCallback((function(){(0,H.default)()}),[]),h=a.useContext(b.default),_=a.useCallback((function(e){if(J.default.isVideoEnabled()!==e){var t=function(){var t;d.default.setVideoEnabled(e);e&&(0,k.transitionTo)(Ae.Routes.CHANNEL(null!==(t=n.getGuildId())&&void 0!==t?t:Ae.ME,n.id))};e?(0,z.default)(t,h):t()}}),[n,h]),m=c||s,E=ze(ve.default,{className:(0,o.default)(Re.default.buttonIcon,(t={},t[Re.default.withText]=!m,t))});return a.createElement(K.VideoButtonWrapper,Be({onChange:_,onCameraUnavailable:y,hasPermission:i,channelLimit:v,channelLimitReached:p},r),(function(e){var t=e.unavailable,n=e.active,r=e.label,i=(e.iconComponent,Ye(e,De));return ze(de.default,{renderPopout:function(e){var t=e.closePopout;return ze(C.default,{onClose:t})},position:de.default.Positions.TOP,align:de.default.Align.CENTER,animation:de.default.Animation.FADE},void 0,(function(e,u){var l=u.isShown,s=e.onClick,d=Ye(e,Le);return ze(fe.default,{text:r
},void 0,(function(e){var r;return a.createElement(ue.default,Be({},i,e,d,{onClick:function(t){var n;i.onClick(t);null===(n=e.onClick)||void 0===n||n.call(e);l&&s(t)},onContextMenu:function(t){var n;s(t);null===(n=e.onContextMenu)||void 0===n||n.call(e)},size:ue.default.Sizes.SMALL,className:(0,o.default)(Re.default.button,Re.default.buttonColor,(r={},r[Re.default.buttonActive]=n,r[Re.default.fauxDisabled]=t,r[Re.default.disabled]=i.disabled,r)),wrapperClassName:Re.default.button}),m?E:ze(le.default,{align:le.default.Align.CENTER},void 0,E,Ne.default.Messages.VIDEO))}))}))}))}qe.displayName="ConnectedVideoButton";var Ze=ze(I.FreeActivityIndicatorDot,{top:-1,right:-1});function Xe(e){var t=e.channel,n=t.getGuildId(),r=(0,O.default)(n);(0,_.useActivitiesRolloutExperiments)(n);var i=(0,l.useStateFromStores)([g.default],(function(){return null!=t.id&&""!==t.id?g.default.getEmbeddedActivitiesForChannel(t.id):g.NO_ACTIVITIES}))[0],u=(0,l.useStateFromStoresObject)([g.default],(function(){
return{userInActivity:null!=g.default.getSelfEmbeddedActivityForChannel(t.id)}})).userInActivity,s=(0,h.useAnalyticsContext)();a.useEffect((function(){n&&(0,m.fetchEmbeddedActivities)(n)}),[n]);var d=(0,E.useFreeActivityIndicator)({guildId:n});return r||u?ze(de.default,{renderPopout:function(e){var n=e.closePopout;return ze(S.default,{channel:t,onClose:n,locationObject:s.location})},position:de.default.Positions.TOP,align:de.default.Align.CENTER,animation:de.default.Animation.FADE},void 0,(function(e){var t=e.onClick,n=Ye(e,ke);return ze(fe.default,{text:Ne.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY},void 0,(function(e){var r;return a.createElement(ue.default,Be({},e,n,{fullWidth:!0,size:ue.default.Sizes.SMALL,onClick:function(n){var r;t(n);null===(r=e.onClick)||void 0===r||r.call(e)},className:(0,o.default)(Re.default.button,Re.default.buttonColor,(r={},r[Re.default.buttonActive]=u||null!=i,r)),wrapperClassName:Re.default.button}),d?Ze:null,ze(_e.default,{
className:Re.default.buttonIcon}))}))})):null}Xe.displayName="ConnectedActivityButton";function Qe(e){var t,n,r=e.channel,i=e.canGoLive,u=(0,l.useStateFromStores)([re.default],(function(){return re.default.getCurrentUser()})),s=(0,l.useStateFromStoresArray)([q.default],(function(){return q.default.getAllActiveStreams()})),d=(0,W.default)(r),c=r.getGuildId(),f=(0,O.default)(c),p=(0,l.useStateFromStoresObject)([g.default],(function(){return null!=g.default.getSelfEmbeddedActivityForChannel(r.id)})),v=a.useCallback((function(){(0,Y.default)(c,r.id,Ae.AnalyticsSections.ACTIVITY_PANEL)}),[c,r.id]),y=s.find((function(e){return e.ownerId===(null==u?void 0:u.id)})),h=(0,V.useOtherStreams)(r,u,s);n=null==y?i?v:B.default:function(){return(0,N.default)(y)};var _=null!=y||h.length>0,m=d?Ne.default.Messages.SHARE_YOUR_SCREEN:Ne.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE,E=!d,S=p||f,I=ze(me.default,{className:(0,o.default)(Re.default.buttonIcon,(t={},
t[Re.default.withText]=!S,t))});return ze(de.default,{renderPopout:function(e){var t=e.closePopout;return ze(V.default,{channel:r,currentUser:u,activeStreams:s,onClose:t,handleGoLive:i?v:B.default})},position:de.default.Positions.TOP,align:de.default.Align.CENTER,animation:de.default.Animation.FADE},void 0,(function(e){var t=e.onClick,r=Ye(e,je);return ze(fe.default,{text:m},void 0,(function(e){var i;return a.createElement(ue.default,Be({},e,{size:ue.default.Sizes.SMALL,onClick:function(r){var a;_?t(r):n();null===(a=e.onClick)||void 0===a||a.call(e)},disabled:E,className:(0,o.default)(Re.default.button,Re.default.buttonColor,(i={},i[Re.default.buttonActive]=null!=y,i[Re.default.disabled]=E,i))},_?r:null,{wrapperClassName:Re.default.button}),S?I:ze(le.default,{align:le.default.Align.CENTER},void 0,I,Ne.default.Messages.GO_LIVE_SHARE_SCREEN))}))}))}Qe.displayName="ConnectedStreamButton";var Je=ze($e,{}),et=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;He(e,t)}(t,e);function t(){for(var t,r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];(t=e.call.apply(e,[this].concat(u))||this).canScreenshare=function(){var e=t.props,n=e.channel;return e.canGoLive&&null!=n&&null!=n.getGuildId()};t.handleNoiseCancellationClicked=function(){var e=t.props.noiseCancellationActive;d.default.setNoiseCancellation(!e,{section:Ae.AnalyticsSections.NOISE_CANCELLATION_POPOUT})};t.handleGoLive=function(){var e=t.props,n=e.guild,r=e.channel,a=null!=r?r.getGuildId():null!=n?n.id:null;null!=a&&(0,Y.default)(a,r.id,Ae.AnalyticsLocations.VOICE_PANEL)};t.handleChannelLinkClick=function(e){var n,r=t.props,a=r.guild,o=r.channel;(0,i.default)(null!=o,"Channel is null during navigation click");e.stopPropagation();f.default.channelListScrollTo(null!==(n=null==a?void 0:a.id)&&void 0!==n?n:Ae.ME,o.id)};t.handleChannelLinkContextMenu=function(e){var r=t.props.channel;(0,
c.openContextMenuLazy)(e,Ve(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7771).then(n.bind(n,7771));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Be({},e,{channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleCloseVoicePanelIntroduction=function(){D.hideHotspot(Me.HotspotLocations.VOICE_PANEL_INTRODUCTION)};t.renderVoicePanelIntroduction=function(){return ze("div",{className:(0,o.default)(Re.default.voicePanelIntroductionWrapper,"theme-light")},void 0,ze(Oe.default,{className:Re.default.voicePanelIntroductionHeader,size:Oe.default.Sizes.SIZE_16},void 0,Ne.default.Messages.VOICE_PANEL_INTRODUCTION_HEADER),ze(Se.default,{className:Re.default.voicePanelIntroductionText,size:Se.default.Sizes.SIZE_14},void 0,Ne.default.Messages.VOICE_PANEL_INTRODUCTION_TEXT),ze(ue.default,{className:Re.default.voicePanelIntroductionButton,
color:ue.default.Colors.BRAND,onClick:t.handleCloseVoicePanelIntroduction},void 0,Ne.default.Messages.VOICE_PANEL_INTRODUCTION_CLOSE))};return t}var r=t.prototype;r.renderConnectionStatus=function(){var e=this.props,t=e.channel,n=e.guild,r=e.rtcConnectionQuality,a=e.rtcConnectionState,o=e.rtcConnectionLastPing,i=e.hasVideo;if(null==t)return null;var l,s=(0,T.computeChannelName)(t,re.default,ne.default,!0);if(null!=n){l=Ae.Routes.CHANNEL(n.id,t.id);s=s+" / "+n.name}else l=Ae.Routes.CHANNEL(Ae.ME,t.id);return ze(v.default,{statusTextClassName:Re.default.statusWithPopout,quality:r,state:a,lastPing:o,hasVideo:i},void 0,ze(A.default,{},void 0,ze(u.Link,{to:l,onClick:this.handleChannelLinkClick,onContextMenu:this.handleChannelLinkContextMenu},void 0,ze(Ee.default,{className:Re.default.channel},void 0,s))))};r.renderNoiseCancellation=function(){var e=this.props,t=e.noiseCancellationActive,n=e.noiseCancellationError;return!e.hasLayers&&n?ze(fe.default,{
text:Ne.default.Messages.NOISE_CANCELLATION_CPU_OVERUSE,tooltipClassName:Re.default.noiseCancellationTooltip,forceOpen:!0},void 0,(function(e){var t=e["aria-label"];return ze(ge.default,{"aria-label":t,tooltipText:null,disabled:!0,icon:he.default})})):ze(de.default,{position:de.default.Positions.TOP,align:de.default.Align.CENTER,renderPopout:function(){return Je}},"krisp-popout",(function(e,n){var r=n.isShown;return a.createElement(ge.default,Be({},e,{tooltipClassName:Re.default.noiseCancellationTooltip,tooltipText:r?null:Ne.default.Messages.NOISE_CANCELLATION_TOOLTIP,icon:t?ye.default:he.default}))}))};r.renderVoiceStates=function(){var e=this.props,t=e.channel,n=e.voiceStates,r=e.showVoiceStates;return null!=t&&r&&0!==n.length?ze(Pe.default,{voiceStates:n,channel:t,className:Re.default.voiceUsers}):null};r.renderChannelButtons=function(){var e=this.props,t=e.channel,n=e.canGoLive,r=e.canStartActivity;return null==t||t.type===Ae.ChannelTypes.GUILD_STAGE_VOICE?null:ze("div",{
className:Re.default.actionButtons},void 0,ze(qe,{channel:t}),ze(Qe,{channel:t,canGoLive:n}),r?ze(Xe,{channel:t}):null)};r.render=function(){var e=this,t=this.props,n=t.channel,r=t.enableAudioQualityUpsell,a=t.guild,o=t.noiseCancellationSupported,i=t.shouldShowVoicePanelIntroduction;if(null==n)return null;var u=ze(Te.default,{channel:n}),l=ze(de.default,{renderPopout:this.renderVoicePanelIntroduction,position:de.default.Positions.TOP,align:de.default.Align.CENTER,animation:de.default.Animation.TRANSLATE,shouldShow:i},void 0,(function(){return ze("div",{className:Re.default.container},void 0,ze(le.default,{className:Re.default.connection,align:le.default.Align.CENTER},void 0,ze("div",{className:Re.default.inner},void 0,e.renderConnectionStatus()),ze(le.default,{grow:0,shrink:0},void 0,o?e.renderNoiseCancellation():null,u)),e.renderVoiceStates(),e.renderChannelButtons())})),d=r&&null!=a&&a.premiumTier<Ae.BoostedGuildTiers.TIER_3,c=ze(w.default,{guild:a},void 0,l);return ze(P.default,{
contentTypes:[s.DismissibleContent.VOICE_QUALITY_BOOSTING_UPSELL_TOOLTIP]},void 0,(function(e){return e.content===s.DismissibleContent.VOICE_QUALITY_BOOSTING_UPSELL_TOOLTIP&&d?c:l}))};return t}(a.PureComponent);et.displayName="RTCConnection";function tt(e){var t=(0,l.useStateFromStores)([re.default],(function(){return re.default.getCurrentUser()})),n=(0,l.useStateFromStoresObject)([te.default],(function(){return{guildId:te.default.getGuildId(),channelId:te.default.getChannelId(),rtcConnectionQuality:te.default.getQuality(),rtcConnectionState:te.default.getState(),rtcConnectionLastPing:te.default.getLastPing(),rtcConnectionConnected:te.default.isConnected()}})),r=n.guildId,o=n.channelId,i=Ye(n,Ue),u=(0,l.useStateFromStores)([X.default],(function(){return X.default.getGuild(r)}),[r]),s=(0,l.useStateFromStores)([Z.default],(function(){return Z.default.getChannel(o)}),[o]),d=(0,l.useStateFromStoresObject)([J.default],(function(){return{
noiseCancellationSupported:J.default.isNoiseCancellationSupported(),noiseCancellationActive:J.default.getNoiseCancellation(),noiseCancellationError:J.default.isNoiseCancellationError(),canGoLive:(0,M.default)(J.default)}})),c=(0,l.useStateFromStores)([J.default,L.default],(function(){return L.default.hasHotspot(Me.HotspotLocations.VOICE_PANEL_INTRODUCTION)&&(0,Ce.isNewUser)(t)&&!J.default.isInteractionRequired()&&!(null==s?void 0:s.isGuildStageVoice())})),f=(0,l.useStateFromStores)([ae.default],(function(){return null!=o&&ae.default.hasVideo(o)}),[o]),p=(0,l.useStateFromStores)([q.default],(function(){return null!=t?q.default.getActiveStreamForUser(t.id):null}),[t]),v=(0,l.useStateFromStores)([Q.default],(function(){return Q.default.hasLayers()})),y=(0,l.useStateFromStores)([$.default],(function(){return $.default.isViewingRoles(r)})),h=(0,l.useStateFromStores)([ee.default],(function(){return y&&!ee.default.can(Ae.Permissions.VIEW_CHANNEL,s)
}),[y,s]),_=G.RtcPanelShowVoiceStates.useSetting(),m=(0,l.useStateFromStoresArray)([oe.default,j.default],(function(){return(null==s?void 0:s.isGuildStageVoice())?[j.default.getMutableParticipants(s.id,U.StageChannelParticipantNamedIndex.SPEAKER),j.default.getParticipantsVersion(s.id),null]:[null,null,null!=s?oe.default.getVoiceStatesForChannel(s):null]}),[s]),g=m[0],E=m[1],O=m[2],S=a.useMemo((function(){var e,t;return null!==(e=null!==(t=null==g?void 0:g.map((function(e){return{user:e.user,nick:e.userNick,voiceState:e.voiceState}})))&&void 0!==t?t:O)&&void 0!==e?e:[]}),[g,E,O]),I=(0,l.useStateFromStores)([ee.default],(function(){return ee.default.can(Ae.Permissions.START_EMBEDDED_ACTIVTIES,s)&&null!==u}),[s,u]),b=a.useState(!1),C=b[0],T=b[1];a.useEffect((function(){(y||h)&&T(!1)}),[y,h,T]);var P=(0,R.default)(r||"").enableAudioQualityUpsell;return ze("div",{className:Re.default.wrapper},void 0,a.createElement(et,Be({},e,d,i,{guild:u,channel:s,hasVideo:f,canStartActivity:I,
selfStream:p,hasLayers:v,voiceStates:S,showVoiceStates:_,shouldShowVoicePanelIntroduction:c,enableAudioQualityUpsell:P})),!C&&y&&null!=r?ze("div",{className:Re.default.viewAsRolesWarning},void 0,ze(Se.default,{size:Se.default.Sizes.SIZE_14,className:Re.default.viewAsRolesWarningText},void 0,h?Ne.default.Messages.VIEW_AS_ROLES_HIDDEN_VC_WARNING:Ne.default.Messages.VIEW_AS_ROLES_VOICE_WARNING),ze(ue.default,{className:Re.default.viewAsRolesWarningButton,size:ue.default.Sizes.MIN,onClick:function(){T(!0)}},void 0,Ne.default.Messages.DISMISS)):null)}tt.displayName="ConnectedRTCConnection";var nt=(0,y.default)(tt);t.default=nt},547636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel;return t.isGuildStageVoice()?y(h,{channel:t}):y(_,{channel:t})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(136873)),o=n(452453),i=p(n(435903)),u=n(559133),l=p(n(913687)),s=p(n(331546)),d=p(n(233121)),c=p(n(139574)),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function h(e){var t=e.channel;return y(c.default,{tooltipText:f.default.Messages.STAGE_CHANNEL_LEAVE_BUTTON,onClick:function(){(0,l.default)(t)?(0,u.openEndStageModal)(t):a.default.disconnect()},icon:d.default})}h.displayName="DisconnectStageButton";function _(e){var t=e.channel;return y(c.default,{tooltipText:f.default.Messages.DISCONNECT_SELF,onClick:function(){(0,i.default)(t)?(0,o.openEndEventModal)(t):a.default.disconnect()},icon:s.default})}_.displayName="DisconnectVoiceButton"},529025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=k;var r,a=C(n(667294)),o=I(n(294184)),i=n(536211),u=n(378158),l=I(n(711195)),s=I(n(414068)),d=I(n(423046)),c=I(n(397228)),f=C(n(219849)),p=I(n(16941)),v=I(n(160629)),y=I(n(730977)),h=I(n(324582)),_=I(n(287317)),m=I(n(155393)),g=I(n(485308)),E=I(n(582945)),O=I(n(247001)),S=I(n(270711));function I(e){return e&&e.__esModule?e:{default:e}}function b(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}var w={offset:2},D={serverDeaf:{icon:h.default,colorize:!0,getStatus:function(){return O.default.Messages.SERVER_DEAFENED}},serverMute:{icon:_.default,colorize:!0,getStatus:function(){return O.default.Messages.SERVER_MUTED}},deaf:{icon:h.default,colorize:!1,getStatus:function(){return O.default.Messages.VOICE_CHANNEL_DEAFENED}},mute:{icon:_.default,colorize:!1,getStatus:function(){return O.default.Messages.VOICE_CHANNEL_MUTED}}};function L(e){var t,r,d=e.channel,f=e.user,h=e.nick,_=e.mute,m=e.deaf,g=e.serverMute,E=e.serverDeaf,I=(0,
i.useStateFromStores)([c.default],(function(){return c.default.isSpeaking(f.id)||c.default.isSoundSharing(f.id)}),[f.id]),b=null!==(t=d.getGuildId())&&void 0!==t?t:void 0,C=f.getAvatarURL(d.guild_id,24),T=null!=h?h:f.username,P=null!==(r=E?D.serverDeaf:m?D.deaf:g?D.serverMute:_?D.mute:void 0)&&void 0!==r?r:{},N=P.icon,L=P.colorize,k=P.getStatus,j=null!=k?O.default.Messages.VOICE_PANEL_USER_TOOLTIP.format({userName:T,status:k()}):T;function U(e){null!=b?(0,u.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(41501),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,M({},e,{user:f,guildId:b,channelId:d.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)})))):(0,
u.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,M({},e,{user:f,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))}return A(v.default,{preload:function(){return(0,l.default)(f.id,f.getAvatarURL(b,80),{guildId:b})},position:v.default.Positions.TOP,renderPopout:function(e){return a.createElement(s.default,M({userId:f.id,guildId:b,channelId:d.id},e))}},void 0,(function(e){return A(y.default,{text:j},void 0,(function(t){var n,r;return a.createElement(p.default,M({},t,e,{className:S.default.avatarContainer,onContextMenu:U,focusProps:w}),A("div",{className:(0,o.default)(S.default.avatar,(n={},n[S.default.speaking]=I,n)),style:{backgroundImage:"url("+C+")"}},void 0,null!=N?A(N,{className:(0,
o.default)(S.default.avatarIconOverlay,(r={},r[S.default.avatarIconRed]=L,r)),width:16,height:16,foreground:S.default.avatarIconRed}):null))}))}))}L.displayName="User";function k(e){var t=e.voiceStates,n=e.channel,r=e.className,u=a.useState(!1),l=u[0],s=u[1],c=l?g.default:m.default,p=A(f.default,{className:S.default.expandButton,onClick:function(){return s(!l)},color:f.CircleIconButtonColors.PRIMARY,size:f.CircleIconButtonSizes.SIZE_24,tooltip:l?O.default.Messages.VOICE_PANEL_HIDE_EXTRAS:O.default.Messages.VOICE_PANEL_SHOW_EXTRAS,icon:A(c,{width:16,height:16}),focusProps:w}),v=(0,i.useStateFromStores)([d.default],(function(){return d.default.getId()}),[]),y=function(e,t){for(var n,r=[],a=T(e);!(n=a()).done;){var o=n.value;if(o.user.id!==t){if(r.length>=7)return[r,!0];r.push(o)}}return[r,!1]}(t,v),h=y[0],_=y[1],I=_&&l?t:h;return I.length<=0?null:A(E.default,{className:(0,o.default)(S.default.scroller,r),fade:!0},void 0,A("div",{className:S.default.voiceUsers,role:"group",
"aria-label":O.default.Messages.VOICE_PANEL_USERS_A11Y_LABEL},void 0,I.map((function(e){var t=e.user,r=e.nick,a=e.voiceState;return t.id!==v?A(L,{channel:n,user:t,nick:r,mute:a.isVoiceMuted(),deaf:a.isVoiceDeafened(),video:a.selfVideo,serverMute:a.mute,serverDeaf:a.deaf},t.id):null})),_?p:null))}k.displayName="RTCConnectionVoiceUsers"},913914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(378158),i=c(n(252149)),u=c(n(530250)),l=c(n(628551)),s=c(n(582945)),d=c(n(827955));function c(e){
return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.handleContextMenu=function(e,t){(0,o.openContextMenuLazy)(e,h(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,v({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.renderUser=function(e){var t=this;return null==e?null:p(u.default,{className:d.default.user,align:u.default.Align.CENTER,onContextMenu:function(n){
null!=e&&t.handleContextMenu(n,e)}},e.id,p(l.default,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:l.default.Sizes.SIZE_24,className:d.default.avatar}),p(i.default,{user:e,className:d.default.tag,usernameClass:d.default.username,discriminatorClass:d.default.discriminator}))};r.render=function(){var e=this,t=this.props,n=t.party,r=t.header,a=n.map((function(t){return e.renderUser(t)}));return p("div",{className:d.default.userList},void 0,p("div",{className:d.default.header},void 0,r),p(s.default,{className:d.default.content,fade:!0},void 0,a))};return t}(a.PureComponent);m.displayName="UserListPopout";var g=m;t.default=g},805918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(572935)),u=n(678928),l=n(687549),s=E(n(178504)),d=E(n(122913)),c=E(n(689389)),f=E(n(290629)),p=E(n(728429)),v=n(956506),y=n(247726),h=E(n(40049)),_=n(997988),m=n(770348),g=E(n(247001));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.className,n=e.style,r=e.channel,E=e.draftType,O=a.useState(!0),I=O[0],b=O[1],C=(0,o.useStateFromStores)([d.default],(function(){return d.default.hasLayers()})),T=(0,o.useStateFromStores)([c.default],(function(){return null!=r&&c.default.can(m.Permissions.ATTACH_FILES,r)}),[r]),P=null!=(0,o.useStateFromStores)([i.default],(function(){return i.default.getActiveCommand(r.id)})),A=r.getGuildId(),M=E===l.DraftType.FirstThreadMessage,N=a.useMemo((function(){return!C&&(r.isPrivate()&&!r.isManaged()||null!=A&&T&&s.default.canChatInGuild(A))}),[T,r,A,C]),R=M?g.default.Messages.UPLOAD_TO_NEW_THREAD:I?g.default.Messages.UPLOAD_TO.format({destination:(0,u.computeChannelName)(r,p.default,f.default,!0)}):g.default.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION;return P||!N?null:S(h.default,{className:t,style:n,title:R,description:M?g.default.Messages.UPLOAD_AREA_NEW_THREAD_HELP:g.default.Messages.UPLOAD_AREA_HELP,
icons:_.DEFAULT_FILE_UPLOAD_ICONS,onDrop:function(e){if(P)return!1;if(N&&null!=r){(0,y.promptToUpload)(e,r,E,{requireConfirm:I,showLargeMessageDialog:!1});v.ComponentDispatch.dispatch(m.ComponentActions.TEXTAREA_FOCUS)}},onDragClear:function(){return b(!0)},onDragOver:function(e){if(P)return!1;M||e.shiftKey!==I||b(!e.shiftKey)}})}I.displayName="ChannelUploadArea";var b=I;t.default=b},285209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=v(n(441143)),i=n(536211),u=v(n(939949)),l=n(825185),s=n(914905),d=v(n(816624)),c=v(n(728429)),f=v(n(784241)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.transitionState,n=e.onClose,r=(0,i.useStateFromStores)([d.default],(function(){return d.default.getErrors()})),v=(0,i.useStateFromStores)([d.default],(function(){return d.default.getFormState()})),y=(0,
i.useStateFromStores)([c.default],(function(){var e=c.default.getCurrentUser();(0,o.default)(null!=e,"EmailVerificationModal: user cannot be undefined");return e})),_=null!=y.email,m=a.useState(!0),g=m[0],E=m[1],O=v===p.FormStates.SUBMITTING;function S(e){var t,n;return null!==(t=null==r||null===(n=r[e])||void 0===n?void 0:n[0])&&void 0!==t?t:""}var I=S("email"),b=S("password");return h(f.default,{transitionState:t,email:y.email,emailError:I,passwordError:b,submitting:O,canResend:g&&!O&&_&&0===I.length&&0===b.length,onChangeEmailClick:function(){E(!1)},onVerify:function(e,t){(0,l.saveAccountChanges)({email:e,password:t}).then((function(e){var t;(null==e?void 0:e.ok)||null==(null==e||null===(t=e.body)||void 0===t?void 0:t.username)||(0,s.showInvalidUsernameToast)()}));E(!0)},onResend:function(){u.default.verifyResend()},onClose:n})};_.displayName="EmailVerificationModal";var m=_;t.default=m},403607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY=t.EMAIL_VERIFICATION_MODAL_KEY=void 0;t.default=k;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(47354),i=n(536211),u=M(n(118915)),l=M(n(939949)),s=n(264720),d=n(825185),c=M(n(88509)),f=M(n(145371)),p=M(n(14096)),v=M(n(185948)),y=n(947472),h=M(n(257867)),_=M(n(871778)),m=M(n(728429)),g=M(n(288800)),E=M(n(749033)),O=M(n(502197)),S=n(194322),I=M(n(776360)),b=M(n(285209)),C=M(n(54725)),T=n(770348),P=n(52656),A=M(n(247001));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}var D="Email Verification";t.EMAIL_VERIFICATION_MODAL_KEY=D;var L="PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY";t.PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY=L;function k(){var e=(0,i.useStateFromStoresObject)([m.default,h.default,_.default],(function(){return{user:m.default.getUser(),
action:h.default.getAction(),theme:_.default.theme}})),t=e.user,n=e.action,r=e.theme,M=null!=t&&null!=t.phone,N=T.VerificationTypes.CAPTCHA;n===T.UserRequiredActions.REQUIRE_VERIFIED_EMAIL&&M?N=T.VerificationTypes.EMAIL:n===T.UserRequiredActions.REQUIRE_VERIFIED_EMAIL?N=T.VerificationTypes.EMAIL_OR_PHONE:n===T.UserRequiredActions.REQUIRE_VERIFIED_PHONE&&(N=T.VerificationTypes.PHONE);var k=a.useState(0),j=k[0],U=k[1],G=(0,f.default)(N);(0,v.default)({type:o.ImpressionTypes.MODAL,name:o.ImpressionNames.USER_ACTION_REQUIRED,properties:{verification_type:N}},{},[N]);var F=function(){(0,d.accountDetailsInit)();(0,S.openModal)((function(e){return a.createElement(b.default,e)}),{modalKey:D,Layer:E.default})};a.useEffect((function(){p.default.disable();return function(){p.default.enable()}}),[]);a.useEffect((function(){G===T.VerificationTypes.PHONE&&N===T.VerificationTypes.EMAIL&&(0,S.openModal)((function(e){return a.createElement(c.default,w({},e,{
title:A.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_TITLE,body:A.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_BODY,confirmText:A.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_CONFIRM}))}),{modalKey:L,Layer:E.default,onCloseCallback:F})}),[N,G]);return R(g.default,{type:N,captchaKey:j,onCaptchaVerify:function(e){u.default.post({url:T.Endpoints.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0}).then(s.popLayer,(function(){U((function(e){return e+1}))}))},theme:r,onClick:function(e){e===T.VerificationTypes.EMAIL_OR_PHONE||e===T.VerificationTypes.EMAIL?F():(0,S.openModal)((function(e){return a.createElement(C.default,w({reason:y.ChangePhoneReason.USER_ACTION_REQUIRED},e))}),{modalKey:P.PHONE_VERIFICATION_MODAL_KEY,Layer:E.default})},onLogout:function(){return(0,S.openModal)((function(e){return a.createElement(O.default,w({header:A.default.Messages.LOGOUT,confirmText:A.default.Messages.LOGOUT,cancelText:A.default.Messages.CANCEL,onConfirm:function(){return l.default.logout()}
},e),R(I.default,{size:I.default.Sizes.SIZE_16},void 0,A.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))}),{Layer:E.default})}})}k.displayName="Verification"},259880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=f;t.open=function(){c=(0,i.openModal)((function(e){return r.createElement(o.default,d({title:u.default.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:u.default.Messages.CONFIRM_DISABLE_SILENCE_BODY,minorText:u.default.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:p,onConfirm:f,confirmText:u.default.Messages.OKAY},e))}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(740207)),o=l(n(88509)),i=n(194322),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var c=null;function f(){null!==c&&(0,i.closeModal)(c);c=null}function p(){a.default.setSilenceWarning(!1);f()}},294398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return a.createElement(a.Fragment,null,D,L,k,j,U,G,F)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(747868),u=n(104144),l=n(567186),s=S(n(607209)),d=S(n(423046)),c=S(n(644263)),f=S(n(30098)),p=S(n(635014)),v=S(n(919935)),y=S(n(893160)),h=S(n(211136)),_=S(n(397228)),m=S(n(387692)),g=S(n(487372)),E=n(179379),O=n(770348);function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n){a.useEffect((function(){var r=t(),a=new o.BatchedStoreListener(e,(function(){var e=t(),a=n(r,e);null==a||v.default.isSoundDisabled(a)||(0,E.playSound)(a,.4);r=e}));a.attach("useSound");return function(){return a.detach()}}))}function T(){C([p.default],(function(){return{selfMute:p.default.isSelfMute(),selfDeaf:p.default.isSelfDeaf()}}),(function(e,t){var n=t.selfMute,r=t.selfDeaf;return e.selfDeaf!==r?r?"deafen":"undeafen":e.selfMute!==n?n?"mute":"unmute":void 0}));return null}function P(){C([c.default,y.default,h.default],(function(){var e=c.default.getChannel(h.default.getVoiceChannelId());return{channelType:null==e?void 0:e.type,disconnected:y.default.isDisconnected()}}),(function(e,t){var n=t.channelType,r=t.disconnected,a=e.channelType,o=e.disconnected;if(o&&o!==r){if(null!=n&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(n))return;return"user_join"}if(!o&&o!==r){
if(null!=a&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(a))return;return"disconnect"}}));return null}function A(){C([_.default],(function(){return _.default.isCurrentUserSpeaking()}),(function(e,t){if(e!==t){var n=p.default.isSelfMute();if(p.default.getMode()===O.InputModes.PUSH_TO_TALK&&!n)return t?"ptt_start":"ptt_stop"}}));return null}function M(){C([p.default],(function(){return p.default.isSelfMutedTemporarily()}),(function(e,t){if(e!==t){var n=p.default.isSelfMute();if(p.default.getMode()===O.InputModes.VOICE_ACTIVITY&&!n)return t?"ptt_stop":"ptt_start"}}));return null}function N(){C([m.default],(function(){return m.default.userHasBeenMovedVersion}),(function(e,t){if(e!==t)return"user_moved"}));return null}function R(){C([h.default,m.default],(function(){var e=h.default.getVoiceChannelId();if(null==e)return u.RequestToSpeakStates.NONE;var t=m.default.getVoiceStateForChannel(e);return(0,u.getAudienceRequestToSpeakState)(t)}),(function(e,t){
if(e!==t&&t===u.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}));return null}function w(){C([h.default,s.default,d.default,m.default,c.default],(function(){var e,t,n=h.default.getVoiceChannelId(),r=d.default.getId(),a=0,o=[],u=null,l=0,f=s.default.getAllActiveStreams();if(null!=n){var p=c.default.getChannel(n);if(null!=p){t=p.type;a=g.default.countVoiceStatesForChannel(p.id)-1;o=s.default.getAllApplicationStreamsForChannel(p.id).map((function(e){return e.ownerId}))}}var v=null;(null===(e=v=1===f.length?f[0]:null!=r?s.default.getActiveStreamForUser(r):null)||void 0===e?void 0:e.state)===O.ApplicationStreamStates.CONNECTING&&(v=null);if(null!=v){u=(0,i.encodeStreamKey)(v);l=s.default.getViewerIds(u).filter((function(e){return e!==r})).length}return{channelType:t,voiceChannelId:n,voiceChannelUserCount:a,streamingUserIds:o,singleActiveStreamKey:u,singleActiveStreamViewerCount:l,currentUserId:r,allActiveStreams:f}}),(function(e,t){
var n=t.channelType,r=t.voiceChannelId,a=t.voiceChannelUserCount,o=t.streamingUserIds,i=t.singleActiveStreamKey,u=t.singleActiveStreamViewerCount,s=t.currentUserId;if(e.voiceChannelId===r&&null!=r&&!(function(e){var t=c.default.getChannel(e);if(null==t)return!1;var n=t.getGuildId();if(null==n)return!1;var r=f.default.getGuild(n);return null!=r&&r.afkChannelId===t.id}(r)||null!=n&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(n))){var d=null!=i&&e.singleActiveStreamKey===i,p=o.some((function(t){return!e.streamingUserIds.includes(t)})),v=e.allActiveStreams.map((function(e){return e.ownerId})),y=e.streamingUserIds.some((function(e){return!o.includes(e)&&(e===s||v.includes(e))}))
;return p?"stream_started":y?"stream_ended":e.singleActiveStreamViewerCount<=25&&d&&u>e.singleActiveStreamViewerCount?"stream_user_joined":e.voiceChannelUserCount<=25&&a>e.voiceChannelUserCount?"user_join":e.voiceChannelUserCount<=25&&a<e.voiceChannelUserCount?"user_leave":e.singleActiveStreamViewerCount<=25&&d&&u<e.singleActiveStreamViewerCount?"stream_user_left":void 0}}));return null}var D=b(T,{}),L=b(P,{}),k=b(A,{}),j=b(M,{}),U=b(N,{}),G=b(w,{}),F=b(R,{})},244165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=r.useRef(null),n=r.useCallback((function(n){if(null!=e){"function"==typeof e?e(n):e.current=n;t.current=n}}),[e]);return[t,n]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},267115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,u.useModalsStore)((function(e){return t=e,!Object.entries(t).every((function(e){e[0];return 0===e[1].length}));var t})),t=(0,a.useStateFromStores)([i.default],(function(){return i.default.isOpen()})),n=(0,a.useStateFromStores)([o.default],(function(){return o.default.hasLayers()})),d=r.useState(!1),c=d[0],f=d[1];r.useEffect((function(){function e(){f(!0)}function t(){f(!1)}l.ComponentDispatch.subscribe(s.ComponentActions.POPOUT_SHOW,e);l.ComponentDispatch.subscribe(s.ComponentActions.POPOUT_HIDE,t);return function(){
l.ComponentDispatch.unsubscribe(s.ComponentActions.POPOUT_SHOW,e);l.ComponentDispatch.unsubscribe(s.ComponentActions.POPOUT_HIDE,t)}}),[]);return e||t||c||n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=d(n(122913)),i=d(n(433512)),u=n(194322),l=n(956506),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}},345034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,
r.useRef)(null),n=(0,r.useRef)(null);if(!Object.is(e,n.current)){t.current=n.current;n.current=e}return t.current};var r=n(667294)},448549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.cancelAll=function(){o&&speechSynthesis.cancel()};t.createUtterance=i;t.speak=function(e,t,n){if(o){var r=i(e,n);u(r,t);return r}};t.speakUtterance=u;t.supported=void 0;var r,a=(r=n(91603))&&r.__esModule?r:{default:r};var o=null!=window.speechSynthesis;t.supported=o;function i(e,t){var n=e.replace(/(https?:\/\/[^\s]+)/g,(function(e){var t=e.match(/^https?:\/\/(?:www\.)?([^/?#]+)(?:[/?#]|$)/i);return null!=t?t[1]:""}));null!=t&&n.length>t&&(n=(n=n.substr(0,t)).substr(0,Math.min(n.length,n.lastIndexOf(" "))));var r=new SpeechSynthesisUtterance(n);r.rate=a.default.speechRate;return r}function u(e,t){if(o){e.voice=t;speechSynthesis.speak(e)}}},635004:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=i(n(496486)),a=n(91817),o=i(n(791548));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e){var t=this;this._subscriptions={};this._unsubscriptions={};this._unsubscribe=new a.DelayedCall(6e4,(function(){return t.flushUnsubscriptions()}));this._onChange=e}var t=e.prototype;t.reset=function(){this._subscriptions={};this._unsubscriptions={};this._unsubscribe.cancel()};t.get=function(e){var t,n=null!==(t=this._subscriptions[e])&&void 0!==t?t:{};return r.default.keys(n)};t.clear=function(e){delete this._subscriptions[e];delete this._unsubscriptions[e]};t.subscribe=function(e,t){var n,r,a=null!==(n=this._subscriptions[e])&&void 0!==n?n:{};a[t]=(null!==(r=a[t])&&void 0!==r?r:0)+1;this._subscriptions[e]=a;1===a[t]&&this._onChange(e,this.get(e));this.checkForLeaks(e,t)};t.isSubscribed=function(e,t){return null!=this._subscriptions[e]&&null!=this._subscriptions[e][t]};t.unsubscribe=function(e,t){var n,r;if(this.isSubscribed(e,t)){
var a=null!==(n=this._unsubscriptions[e])&&void 0!==n?n:{};a[t]=(null!==(r=a[t])&&void 0!==r?r:0)+1;this._unsubscriptions[e]=a;1===a[t]&&this._unsubscribe.delay(!1)}};t.checkForLeaks=function(e,t){var n,r,a,i,u=(null!==(n=null===(r=this._subscriptions[e])||void 0===r?void 0:r[t])&&void 0!==n?n:0)-(null!==(a=null===(i=this._unsubscriptions[e])||void 0===i?void 0:i[t])&&void 0!==a?a:0);u>5&&new o.default("GuildMemberSubscriptions").warn("GuildMemberSubscriptions.subscribe(...): Potential reference leak! ("+u+" subscriptions)")};t.flushUnsubscriptions=function(){var e=this;if(!r.default.isEmpty(this._unsubscriptions)){r.default.forEach(this._unsubscriptions,(function(t,n){var a=e._subscriptions[n];r.default.forEach(t,(function(e,t){var n;a[t]=(null!==(n=a[t])&&void 0!==n?n:0)-e;a[t]<=0&&delete a[t]}));r.default.isEmpty(a)&&delete e._subscriptions[n];e._onChange(n,e.get(n))}));this._unsubscriptions={}}};return e}();t.default=u},919255:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"DEFAULT_RANGES",{enumerable:!0,get:function(){return o.DEFAULT_RANGES}});Object.defineProperty(t,"MINIMUM_RANGE",{enumerable:!0,get:function(){return o.MINIMUM_RANGE}});t.default=void 0;var r=d(n(496486)),a=n(91817),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(490507)),i=d(n(635004)),u=d(n(331449)),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function c(){
c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e){return null!=e&&"null"!==e&&e!==l.ME&&"undefined"!==e&&e!==l.FAVORITES}var p=function(){function e(e){var t=this;this._members=new i.default((function(e,n){return t._enqueue(e,{members:n})}));this._channels=new o.default((function(e,n){return t._enqueue(e,{channels:n})}));this._threadMemberLists=new u.default((function(e,n){return t._enqueue(e,{thread_member_lists:n})}));this._typing=new Set;this._threads=new Set;this._activities=new Set;this._subscribed=new Set;this._pending={};this._flush=new a.DelayedCall(0,(function(){return t.flush()}));this._onChange=e}var t=e.prototype;t._enqueue=function(e,t){this._pending[e]=c({},this._pending[e],{},t);this._flush.delay()};t.reset=function(){this._subscribed.clear();this._pending={};this._members.reset();this._channels.reset()
;this._threadMemberLists.reset();this._typing.clear();this._threads.clear();this._activities.clear()};t.get=function(e){return{typing:this._typing.has(e),threads:this._threads.has(e),activities:this._activities.has(e),members:this._members.get(e),channels:this._channels.get(e),thread_member_lists:this._threadMemberLists.get(e)}};t.getSubscribedThreadIds=function(){return this._threadMemberLists.getSubscribedThreadIds()};t.forEach=function(e){this._subscribed.forEach(e)};t.clearWithoutFlushing=function(e,t){!t&&this._threads.has(e)||this._subscribed.delete(e);delete this._pending[e];this._members.clear(e);this._channels.clear(e);this._threadMemberLists.clear(e);this._typing.delete(e);t&&this._threads.delete(e);this._activities.delete(e)};t.flush=function(){var e=this;r.default.forEach(this._pending,(function(t,n){e._subscribed.add(n);e._onChange(n,t)}));this._pending={}};t.subscribeUser=function(e,t){f(e)&&this._members.subscribe(e,t)};t.unsubscribeUser=function(e,t){
f(e)&&this._members.unsubscribe(e,t)};t.subscribeChannel=function(e,t,n){return!!f(e)&&this._channels.subscribe(e,t,n)};t.subscribeThreadMemberList=function(e,t,n){return!!f(e)&&this._threadMemberLists.subscribe(e,t,n)};t.unsubscribeThreadMemberList=function(e,t){return!!f(e)&&this._threadMemberLists.unsubscribe(e,t)};t.subscribeToGuild=function(e){this._subscribeToFeature(e,this._typing,{typing:!0});this._subscribeToFeature(e,this._activities,{activities:!0});this._subscribeToFeature(e,this._threads,{threads:!0})};t._subscribeToFeature=function(e,t,n){if(f(e)&&!t.has(e)){t.add(e);this._enqueue(e,n)}};return e}();t.default=p},331449:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(5387))&&r.__esModule?r:{default:r};function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){function e(e){this._subscriptions={};this._onChange=e}var t=e.prototype;t.reset=function(){this._subscriptions={}};t.get=function(e){return this._get(e).keys()};t.getSubscribedThreadIds=function(){var e=new Set;for(var t in this._subscriptions)for(var n,r=o(this._subscriptions[t].keys());!(n=r()).done;){var a=n.value;e.add(a)}return e};t._get=function(e){
var t;return null!==(t=this._subscriptions[e])&&void 0!==t?t:new a.default({max:3,updateAgeOnGet:!0})};t.clear=function(e){if(e in this._subscriptions){delete this._subscriptions[e];this._onChange(e,[])}};t.subscribe=function(e,t,n){var r=this._get(e);if(r.has(t)){r.set(t,Date.now());return!1}null!=n&&r.has(n)&&r.set(n,Date.now());r.set(t,Date.now());this._subscriptions[e]=r;this._onChange(e,r.keys());return!0};t.unsubscribe=function(e,t){if(!(e in this._subscriptions))return!1;var n=this._subscriptions[e];if(n.has(t)){n.del(t);this._onChange(e,n.keys());return!0}return!1};return e}();t.default=u},697255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.analyze=c;t.createASTHighlighter=function(e){var t=new Set(c(e));return function(e){return p(e,t)}};t.highlightAST=p;t.shouldHighlight=f;var r=o(n(496486)),a=o(n(470661));function o(e){return e&&e.__esModule?e:{default:e}}
var i=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function u(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function l(e){return e.toLowerCase()}function s(e){return i.has(e)}function d(e){return 0===e.length}function c(e){return(0,r.default)(e.split(/\W+/)).map(u).reject(d).map(l).reject(s).map(a.default).value()}function f(e,t){return!d(e=l(u(e)))&&!s(e)&&t.has((0,a.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach((function(e){return p(e,t)}));else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach((function(e){if(f(e,t)){r.length>0&&n.push({type:"text",content:r});n.push({type:"highlight",content:e});r=""}else r+=e}));if(n.length>0){r.length>0&&n.push({type:"text",content:r});"text"===e.type?e.content=n:e.content=[{type:"text",content:n}]}
}else null!=e.content&&p(e.content,t);return e}},678164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createRolloutExperiment=void 0;t.useActivitiesRolloutExperiments=function(e){r.useEffect((function(){null!=e&&u.forEach((function(t){t.trackExposure({guildId:e})}))}),[e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var i=function(e,t){return(0,a.createExperiment)({kind:"guild",id:t,
label:"Exposure tracking for "+e+" (do not override)",defaultConfig:{},treatments:[]})};t.createRolloutExperiment=i;var u=[i("Watch Together","2021-09_watch_together_rollout")]},463821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=h(n(636602)),o=h(n(234161)),i=h(n(177230)),u=h(n(423046)),l=h(n(644263)),s=h(n(893160)),d=h(n(211136)),c=h(n(308920)),f=n(746920),p=h(n(303798)),v=n(770348),y=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E={},O={},S={};function I(e){var t,n=e.channelId,a=e.embeddedActivity.application_id,o=l.default.getChannel(n);if(null!=o){null===(t=S[a])||void 0===t||t.stop();var i=new r.Timeout;i.start(12e4,(function(){(0,f.stopEmbeddedActivity)(n,a)}));S[a]=i;O[a]=function(e){E[a]=e;c.default.track(v.AnalyticEvents.ACTIVITY_SESSION_JOINED,{channel_id:o.id,guild_id:o.getGuildId(),media_session_id:e.mediaSessionId,activity_session_id:e.activitySessionId,application_id:a})}}}function b(e){
var t,n=e.channelId,r=e.applicationId,a=E[r],o=l.default.getChannel(n),i=p.default.getEmbeddedActivityDurationMs(n,r);if(null!=a&&null!=o){c.default.track(v.AnalyticEvents.ACTIVITY_SESSION_LEFT,{channel_id:o.id,guild_id:o.getGuildId(),media_session_id:a.mediaSessionId,activity_session_id:a.activitySessionId,application_id:r,duration_ms:i});delete O[r];delete E[r];null===(t=S[r])||void 0===t||t.stop();delete S[r]}}function C(e){var t,n,r=e.embeddedActivity,a=e.users,o=u.default.getId();if(a.includes(o)){var i=s.default.getMediaSessionId(),l=r.application_id,d=r.activity_id;if(null!=i&&null!=l&&null!=d){null===(t=O[l])||void 0===t||t.call(O,{mediaSessionId:i,activitySessionId:d});delete O[l];null===(n=S[l])||void 0===n||n.stop();delete S[l]}}}function T(){for(var e,t=d.default.getVoiceChannelId(),n=function(){var n=e.value,r=n.channelId,o=n.application_id;r!==t&&a.default.wait((function(){return(0,f.stopEmbeddedActivity)(r,o)}))
},r=m(p.default.getSelfEmbeddedActivities().values());!(e=r()).done;)n()}function P(e){var t,n=e.channelId,r=e.applicationId,a=e.intent;if(d.default.getVoiceChannelId()===n){var i=p.default.getEmbeddedActivitiesForChannel(n).find((function(e){return e.application_id===r}));(null==i||null===(t=i.secrets)||void 0===t?void 0:t.join)?o.default.joinWithSecret(r,i.secrets.join,n,a,!0):(0,f.startEmbeddedActivity)(n,{application_id:r})}}var A=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).handleActivityLaunchFail=function(e){var n=e.error,r=y.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_GENERIC;switch(n.code){case v.AbortCodes.INVALID_ACTIVITY_LAUNCH_NO_ACCESS:r=y.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_ACCESS;break;case v.AbortCodes.INVALID_ACTIVITY_LAUNCH_CONCURRENT_ACTIVITIES:
r=y.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_CONCURRENT;break;case v.AbortCodes.INVALID_ACTIVITY_LAUNCH_PREMIUM_TIER:r=y.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_PREMIUM}t.showLaunchErrorModal(r)};t.handleRPCDisconnect=function(e){var n=e.reason,r=e.application.id;if(null!=r&&null!=n){for(var o,i=function(){var e=o.value,t=e.application_id,n=e.channelId;t===r&&a.default.wait((function(){return(0,f.stopEmbeddedActivity)(n,r)}))},u=m(p.default.getSelfEmbeddedActivities().values());!(o=u()).done;)i();n.code!==v.RPCCloseCodes.CLOSE_NORMAL&&t.showErrorModal(n,r)}};return t}var n=t.prototype;n._initialize=function(){d.default.addChangeListener(T);a.default.subscribe(v.ActionTypes.EMBEDDED_ACTIVITY_LAUNCH_FAIL,this.handleActivityLaunchFail);a.default.subscribe(v.ActionTypes.EMBEDDED_ACTIVITY_OPEN,I);a.default.subscribe(v.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,b);a.default.subscribe(v.ActionTypes.EMBEDDED_ACTIVITY_INBOUND_UPDATE,C)
;a.default.subscribe(v.ActionTypes.EMBEDDED_ACTIVITY_DEFERRED_OPEN,P);a.default.subscribe(v.ActionTypes.RPC_APP_DISCONNECTED,this.handleRPCDisconnect)};n._terminate=function(){d.default.removeChangeListener(T);a.default.unsubscribe(v.ActionTypes.EMBEDDED_ACTIVITY_LAUNCH_FAIL,this.handleActivityLaunchFail);a.default.unsubscribe(v.ActionTypes.EMBEDDED_ACTIVITY_OPEN,I);a.default.unsubscribe(v.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,b);a.default.unsubscribe(v.ActionTypes.EMBEDDED_ACTIVITY_INBOUND_UPDATE,C);a.default.unsubscribe(v.ActionTypes.EMBEDDED_ACTIVITY_DEFERRED_OPEN,P);a.default.unsubscribe(v.ActionTypes.RPC_APP_DISCONNECTED,this.handleRPCDisconnect)};return t}(i.default);t.default=A},186096:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useFreeActivityIndicator=void 0;var r=n(536211),a=l(n(30098)),o=n(929659),i=l(n(303798)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}t.useFreeActivityIndicator=function(e){var t=e.guildId,n=e.appId,l=(0,
r.useStateFromStores)([a.default],(function(){return a.default.getGuild(t)})),s=null!=l&&l.premiumTier===u.BoostedGuildTiers.NONE,d=o.ActivitiesBebExperiment.useExperiment({guildId:null!=t?t:""}).hasRotatingActivity;return(0,r.useStateFromStores)([i.default],(function(){return d&&s&&i.default.shouldShowIndicatorForActivity(n)}))}},845260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){void 0===n&&(n=window);var a=(0,o.useStateFromStores)([u.default],(function(){return u.default.keyboardModeEnabled})),d=(0,i.default)(),c=r.useState(!1),p=c[0],v=c[1];r.useEffect((function(){if(t){n.addEventListener("blur",e);return function(){return n.removeEventListener("blur",e)}}function e(){if(d){l.ComponentDispatch.dispatch(s.ComponentActions.POPOUT_CLOSE);l.ComponentDispatch.dispatch(s.ComponentActions.CONTEXT_MENU_CLOSE)}}}),[n,d,t]);r.useEffect((function(){var r,o;if(!a&&p&&t){var i=d
;null===(r=e.current)||void 0===r||r.addEventListener("focusout",l);if("IFRAME"!==(null===(o=n.document.activeElement)||void 0===o?void 0:o.tagName)&&!i){var u;null===(u=e.current)||void 0===u||u.focus()}return function(){var t;null===(t=e.current)||void 0===t||t.removeEventListener("focusout",l);i=!0}}function l(t){var n=t.relatedTarget;setTimeout((function(){null!=n&&"BUTTON"!==n.tagName||i||f(e)}),100)}}),[t,p,a,e,n,d]);return v};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486),o=n(536211),i=d(n(267115)),u=d(n(235879)),l=n(956506),s=n(770348);function d(e){
return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var f=(0,a.debounce)((function(e){setTimeout((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),0)}),50)},198016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,s.useWtpEnabled)(e),n=u.ActivitiesBebExperiment.useExperiment({guildId:null!=e?e:""}).ignoreBoostRequirement,i=(0,r.useStateFromStores)([a.default],(function(){return a.default.getGuild(e)})),c=(0,r.useStateFromStoresArray)([l.default,o.default],(function(){return f(e)}));return(t||n||void 0!==i&&i.premiumTier>d.BoostedGuildTiers.NONE?c:c.filter((function(e){return!u.BEB_ACTIVITY_PREMIUM_ACTIVITIES.includes(e)}))).length>0};t.getEnabledActivities=f;var r=n(536211),a=c(n(30098)),o=c(n(424099)),i=n(71246),u=n(929659),l=c(n(303798)),s=n(99261),d=n(770348);function c(e){return e&&e.__esModule?e:{
default:e}}function f(e){return null===e?[]:[].concat(l.default.getEnabledAppIds(e),[o.default.testModeEmbeddedApplicationId].filter(i.isNotNullish))}},99261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useWtpEnabled=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=(r=n(30098))&&r.__esModule?r:{default:r},u=n(929659),l=n(505409),s=n(746920),d=n(770348);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}t.useWtpEnabled=function(e){var t=(0,
o.useStateFromStores)([i.default],(function(){return i.default.getGuild(e)}));a.useEffect((function(){null!=e&&u.ActivitiesBebExperiment.trackExposure({guildId:e});l.ActivitiesWtpExperiment.trackExposure({})}),[e]);var n=u.ActivitiesBebExperiment.useExperiment({guildId:null!=e?e:""}),r=n.exposedToBeb,c=n.ignoreBoostRequirement,f=l.ActivitiesWtpExperiment.useExperiment({}).enableWtp;a.useEffect((function(){var e=setTimeout((function(){r&&f&&null!=t&&!t.features.has(d.GuildFeatures.EXPOSED_TO_ACTIVITIES_WTP_EXPERIMENT)&&(0,s.enableWtpGuildFeature)(t.id)}),1e4+1e4*Math.random());return function(){return clearTimeout(e)}}),[t,r,f]);return!c&&f}},645068:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.allowPopups,r=e.allowPointerLock,a=n;t&&(a=[].concat(n,["allow-popups","allow-popups-to-escape-sandbox"]));r&&(a=[].concat(a,["allow-pointer-lock"]));return a.join(" ")};var n=["allow-scripts","allow-same-origin"]},335166:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(496486)),i=u(n(740414));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(){var e=a.useMemo((function(){return{titleWidth:o.default.random(60,120),subtitleWidth:o.default.random(200,600)}}),[]),t=e.titleWidth,n=e.subtitleWidth,r=function(e){return e/16+"rem"};return s("div",{className:i.default.wrapper},void 0,s("div",{className:i.default.image}),s("div",{className:i.default.infoWrapper},void 0,s("div",{style:{maxWidth:r(t)},className:i.default.titleWrapper}),s("div",{style:{maxWidth:r(n)},className:i.default.subtitle})))};d.displayName="ActivityLoadingItem";var c=d;t.default=c},62954:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=G
;var r,a=w(n(667294)),o=N(n(496486)),i=n(536211),u=N(n(469487)),l=N(n(818994)),s=N(n(526098)),d=w(n(145122)),c=N(n(288356)),f=N(n(30098)),p=N(n(424099)),v=N(n(776360)),y=N(n(308920)),h=n(71246),_=n(929659),m=w(n(746920)),g=w(n(303798)),E=n(99261),O=N(n(93879)),S=N(n(335166)),I=w(n(651649)),b=N(n(205990)),C=N(n(777787)),T=n(418173),P=n(770348),A=N(n(247001)),M=N(n(929211));function N(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e){return e>0?A.default.Messages.EMBEDDED_ACTIVITIES_MAX_PARTICIPANTS.format({count:e}):A.default.Messages.EMBEDDED_ACTIVITIES_UNLIMITED_PARTICIPANTS}var k=D(S.default,{}),j=D(S.default,{}),U=D(d.MenuSeparator,{});function G(e){var t,n=e.channel,r=e.locationObject,S=e.onClose,N=e.onSelect,R=(0,O.default)();a.useEffect((function(){y.default.track(P.AnalyticEvents.OPEN_POPOUT,{type:"Activity Menu",channel_id:n.id,guild_id:n.getGuildId()})}),[n]);var w=null!==(t=n.getGuildId())&&void 0!==t?t:"",G=(0,i.useStateFromStores)([f.default],(function(){
return f.default.getGuild(w)})),F=null==G?void 0:G.premiumTier,x=a.useContext(l.default),W=(0,E.useWtpEnabled)(w),V=_.ActivitiesBebExperiment.useExperiment({guildId:null!=w?w:""}),H=V.ignoreBoostRequirement,B=V.treatmentBucket,Y=(0,i.useStateFromStoresObject)([g.default],(function(){return{enabledApplicationIds:g.default.getEnabledAppIds(w),isFetching:g.default.isFetchingEmbeddedApps(w)}})),z=Y.enabledApplicationIds,K=Y.isFetching,$=(0,i.useStateFromStores)([p.default],(function(){return p.default.testModeEmbeddedApplicationId}));null==$||z.includes($)||z.push($);var q,Z=(0,i.useStateFromStores)([g.default],(function(){return g.default.getSelfEmbeddedActivityForChannel(n.id)})),X=W||H||void 0!==G&&G.premiumTier>P.BoostedGuildTiers.NONE?z:z.filter((function(e){return null!=e&&!_.BEB_ACTIVITY_PREMIUM_ACTIVITIES.includes(e)})),Q=(0,u.default)(X),J=Q.find((function(e){return(null==e?void 0:e.id)===(null==Z?void 0:Z.application_id)})),ee=(0,i.useStateFromStores)([g.default],(function(){
return null!=n.id&&""!==n.id?g.default.getEmbeddedActivitiesForChannel(n.id):g.NO_ACTIVITIES})).filter((function(e){return e.application_id!==(null==Z?void 0:Z.application_id)})),te=ee.map((function(e){var t=e.application_id;return c.default.getGame(t)})),ne=new Set(te.filter(h.isNotNullish).map((function(e){return e.id}))),re=Q.filter(h.isNotNullish).filter((function(e){return e.id!==(null==J?void 0:J.id)&&!ne.has(e.id)}));if(!W||null!=F&&F!==P.BoostedGuildTiers.NONE)q=re;else{var ae=re.filter((function(e){var t=e.getPremiumTierLevelForTreatment(B);return null!=t&&t>P.BoostedGuildTiers.NONE}));q=re.filter((function(e){var t=e.getPremiumTierLevelForTreatment(B);return null==t||t===P.BoostedGuildTiers.NONE})).concat(ae)}var oe=null;oe=0===z.length&&K?[].concat(Array(o.default.random(2,6))).map((function(e,t){return D(d.MenuItem,{id:"load-"+t,render:function(){return k}})})):a.createElement(a.Fragment,null,D(d.MenuGroup,{},void 0,null!=Z?D(d.MenuItem,{id:"stop-"+Z.application_id,
action:function(){return m.stopEmbeddedActivity(n.id,Z.application_id)},render:function(){var e,t=null!==(e=null==J?void 0:J.getMaxParticipants())&&void 0!==e?e:0,n=null==J?void 0:J.getPremiumTierLevelForTreatment(B);return D(I.default,{activityPremiumTierLevel:n,application:J,subtitle:L(t),showActionIcon:!0,activityAction:I.ActivityAction.LEAVE,guild:G,isWtpEnabled:W})}},"stop-"+Z.application_id):null,ee.map((function(e,t){var a=te[t];return D(d.MenuItem,{id:"join-"+e.application_id,action:function(){(0,b.default)(e,!0,R,n.id,T.ActivityIntent.PLAY,r,x)},render:function(){var t,n,r=null!==(t=null==a?void 0:a.getMaxParticipants())&&void 0!==t?t:0,o=null==a?void 0:a.getPremiumTierLevelForTreatment(B);return D(I.default,{activityPremiumTierLevel:o,application:a,subtitle:L(r),showActionIcon:!0,activityAction:I.ActivityAction.JOIN,guild:G,isWtpEnabled:W,joinSecret:null===(n=e.secrets)||void 0===n?void 0:n.join})}},"join-"+e.application_id)})),q.map((function(e,t){var n,a
;return D(d.MenuItem,{id:null!==(a=null==e?void 0:e.id)&&void 0!==a?a:String(t),action:function(){(0,C.default)(e,J,r,x,W,B)},render:function(){var t,n=null!==(t=null==e?void 0:e.getMaxParticipants())&&void 0!==t?t:0,r=null==e?void 0:e.getPremiumTierLevelForTreatment(B);return null!=e.name?D(I.default,{activityPremiumTierLevel:r,application:e,subtitle:L(n),showActionIcon:!1,guild:G,isWtpEnabled:W}):j}},null!==(n=null==e?void 0:e.id)&&void 0!==n?n:t)}))),U,D(d.MenuItem,{id:"beta",render:function(){return D("div",{className:M.default.beta},void 0,D(s.default,{className:M.default.betaTag}),D(v.default,{className:M.default.subtitle,size:v.default.Sizes.SIZE_12},void 0,A.default.Messages.EMBEDDED_ACTIVITIES_FEEDBACK_SURVEY.format({surveyURL:W?P.EMBEDDED_ACTIVITY_WTP_FEEDBACK_SURVEY_URL:P.EMBEDDED_ACTIVITY_FEEDBACK_SURVEY_URL})))}}));return D(d.default,{navId:"activity-popout",style:d.MenuStyle.FIXED,className:M.default.menu,onClose:S,"aria-label":"Activity Menu",onSelect:N},void 0,oe)}
G.displayName="ActivityMenu"},651649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ActivityAction=void 0;t.default=C;var r,a,o=S(n(667294)),i=E(n(294184)),u=E(n(197737)),l=E(n(956117)),s=E(n(562475)),d=E(n(730977)),c=E(n(782732)),f=E(n(434663)),p=E(n(776360)),v=S(n(746920)),y=n(186096),h=n(245546),_=n(770348),m=E(n(247001)),g=E(n(340913));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.ActivityAction=a;!function(e){e.LEAVE="LEAVE";e.JOIN="JOIN"}(a||(t.ActivityAction=a={}));function C(e){
var t,n,r=e.activityPremiumTierLevel,E=e.application,O=e.subtitle,S=e.showActionIcon,C=e.guild,T=e.activityAction,P=e.isWtpEnabled,A=e.joinSecret,M=null==C?void 0:C.premiumTier,N=null!=r&&r>_.BoostedGuildTiers.NONE,R=N&&null!=M&&M>=r,w=N&&null!=M&&M<r,D=T===a.JOIN&&null==A,L=D?g.default.disabledItem:g.default.enabledItem,k=D?g.default.disabledOpacity:g.default.enabledOpacity,j=o.useState(!1),U=j[0],G=j[1],F=(0,y.useFreeActivityIndicator)({guildId:null!==(t=null==C?void 0:C.id)&&void 0!==t?t:"",appId:null!==(n=null==E?void 0:E.id)&&void 0!==n?n:""});o.useEffect((function(){if(F){G(!0);v.dismissFreeActivityIndicator()}}),[F,G]);return b("div",{className:(0,i.default)(g.default.activityItem,L)},void 0,b("div",{style:{position:"relative"}},void 0,b(s.default,{game:E,className:(0,i.default)(g.default.activityIcon,k)}),U?b(h.FreeActivityIndicatorDot,{alert:!0,left:-2,top:6,right:void 0,maskColor:h.MaskColor.POPOUT}):null),b("div",{className:(0,
i.default)(g.default.activityItemTextContainer,k)},void 0,b("div",{className:g.default.activityHeader},void 0,P&&R?b(d.default,{color:d.default.Colors.CUSTOM,tooltipClassName:g.default.premiumActivityTooltip,text:m.default.Messages.PREMIUM_GUILD_INCLUDED},void 0,(function(e){return o.createElement(c.default,I({},e,{className:g.default.guildBoostingIconPink}))})):null,b(p.default,{className:g.default.activityHeaderText,size:p.default.Sizes.SIZE_16},void 0,null==E?void 0:E.name)),b(p.default,{className:g.default.subtitle,size:p.default.Sizes.SIZE_12},void 0,O)),P&&!S&&w?b(u.default,{activityPremiumTierLevel:r}):null,S?b("div",{className:g.default.activityActionIcon},void 0,T===a.LEAVE?b(d.default,{text:m.default.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY},void 0,(function(e){return o.createElement(f.default,I({},e,{width:24,height:24}))})):null,T===a.JOIN?b(l.default,{size:l.default.Sizes.TINY,hover:l.default.Hovers.TRANSPARENT,disabled:D},void 0,m.default.Messages.JOIN):null):null)}
C.displayName="ActivityMenuItem"},71805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.url,n=e.className,r=e.style,y=e.onLoad,h=e.shouldRefocus,g=e.queryParams,E=e.allowPointerLock,O=void 0!==E&&E,S=e.allowPopups,I=void 0!==S&&S,b=e.referrerPolicy,C=void 0===b?"origin":b,T=(0,u.useStateFromStores)([l.default],(function(){return l.default.getWindow(v.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),P=(0,o.useMemoOne)((function(){return i.default.v4()}),[t]),A=a.useRef(null),M=(0,c.default)(A,h,null==T?window:T),N=m({},g,{frame_id:P,platform:p.ActivityPlatform.DESKTOP});a.useEffect((function(){d.ComponentDispatch.dispatch(v.ComponentActions.IFRAME_MOUNT,{id:P});return function(){d.ComponentDispatch.dispatch(v.ComponentActions.IFRAME_UNMOUNT,{id:P})}}),[P]);return t?_("iframe",{style:r,allow:"autoplay",referrerPolicy:C,onLoad:function(e){var n;null==y||y(e.target);A.current=e.target;M(!0)
;null===(n=e.target.contentWindow)||void 0===n||n.postMessage([s.default.HELLO,N],null!=t?t:"")},sandbox:(0,f.default)({allowPopups:I,allowPointerLock:O}),className:n,src:t+"?"+new URLSearchParams(N)}):null};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(551163),i=y(n(468811)),u=n(536211),l=y(n(902305)),s=y(n(676606)),d=n(956506),c=y(n(845260)),f=y(n(645068)),p=n(418173),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}
function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}},769195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=d(n(636602)),i=n(720409),u=d(n(902305)),l=n(956506),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var f=function(e,t){return o.default.wait((function(){(0,i.updateRect)(e,t)}))};function p(e){var t,n=e.embedId,o=e.className,i=e.style,d=(0,a.useStateFromStores)([u.default],(function(){return u.default.getWindow(s.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),c=null!==(t=null==d?void 0:d.window)&&void 0!==t?t:window,p=r.useRef(null),v=r.useMemo((function(){var e=null;return function(){null==e&&(e=c.requestAnimationFrame((function(){var t,r
;f(n,null!==(t=null===(r=p.current)||void 0===r?void 0:r.getBoundingClientRect())&&void 0!==t?t:null);e=null})))}}),[n,c]);r.useEffect((function(){c.addEventListener("resize",v);l.ComponentDispatch.subscribe(s.ComponentActions.REMEASURE_TARGET,v);return function(){c.removeEventListener("resize",v);l.ComponentDispatch.unsubscribe(s.ComponentActions.REMEASURE_TARGET,v)}}),[v,c]);r.useLayoutEffect((function(){var e=p.current;if(null!=e){var t=e.ownerDocument.defaultView;if(null!=t){v();var r=new t.ResizeObserver(v);r.observe(e);return function(){r.disconnect();f(n,null)}}}}),[n,v]);return r.createElement("div",{ref:p,style:i,className:o})}p.displayName="EmbedTarget"},600198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(88509)),o=n(194322),i=l(n(463821)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.showErrorModal=function(e){
var t=e.code,n=e.message;(0,o.openModal)((function(e){return r.createElement(a.default,d({title:u.default.Messages.EMBEDDED_ACTIVITIES_ERROR_TITLE.format({code:t}),body:n},e))}))};n.showLaunchErrorModal=function(e){(0,o.openModal)((function(t){return r.createElement(a.default,d({title:u.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAILURE,body:e},t))}))};return t}(i.default));t.default=f},245546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MaskColor=t.FreeActivityIndicatorDot=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a,o=u(n(294184)),i=u(n(250242));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.MaskColor=a;!function(e){e[e.POPOUT=0]="POPOUT";e[e.SECONDARY=1]="SECONDARY";e[e.BLACK=2]="BLACK"}(a||(t.MaskColor=a={}));var d=function(e){
var t,n=e.left,r=void 0===n?void 0:n,u=e.top,l=void 0===u?0:u,d=e.right,c=void 0===d?0:d,f=e.bottom,p=void 0===f?void 0:f,v=e.size,y=void 0===v?8:v,h=e.alert,_=void 0!==h&&h,m=e.maskColor,g=void 0===m?a.SECONDARY:m;return s("span",{className:(0,o.default)(i.default.dot,(t={},t[i.default.alert]=_,t[i.default.maskPopout]=g===a.POPOUT,t[i.default.maskSecondary]=g===a.SECONDARY,t[i.default.maskBlack]=g===a.BLACK,t)),style:{height:y,width:y,left:r,top:l,right:c,bottom:p}})};t.FreeActivityIndicatorDot=d;d.displayName="FreeActivityIndicatorDot"},765304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=g(n(636602)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(720409)),i=g(n(177230)),u=g(n(902305)),l=g(n(644263)),s=g(n(122913)),d=g(n(218843)),c=g(n(893160)),f=g(n(211136)),p=g(n(790597)),v=g(n(387692)),y=g(n(303798)),h=g(n(322946)),_=n(770348);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function O(){var e=c.default.getChannelId(),t=y.default.getSelfEmbeddedActivityForChannel(null!=e?e:""),n=l.default.getChannel(e);return null==e||null==n||null==t?function(){var e=r;if(null!=e&&d.default.isOpen(e)){a.default.wait((function(){return o.close(e)}));r=null}}():function(e,t){if(d.default.isOpen(t))return!1;a.default.wait((function(){
return o.open(t,_.PictureInPictureComponents.EMBED_IFRAME,{channel:e})}));r=t}(n,(0,h.default)(n.id,t.application_id))}function S(){var e;return s.default.hasLayers()?void(null!=(e=r)&&d.default.isOpen(e)&&a.default.wait((function(){return o.hide(e)}))):function(){var e=r;null!=e&&d.default.isOpen(e)&&a.default.wait((function(){return o.show(e)}))}()}var I=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){f.default.addChangeListener(O);p.default.addChangeListener(O);c.default.addChangeListener(O);v.default.addChangeListener(O);u.default.addChangeListener(O);y.default.addChangeListener(O);s.default.addChangeListener(S)};n._terminate=function(){f.default.removeChangeListener(O);p.default.removeChangeListener(O);c.default.removeChangeListener(O);v.default.removeChangeListener(O);u.default.removeChangeListener(O)
;y.default.removeChangeListener(O);s.default.removeChangeListener(S)};return t}(i.default));t.default=I},321405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=R(n(294184)),i=n(536211),u=R(n(229132)),l=R(n(505437)),s=n(264720),d=R(n(825724)),c=R(n(902305)),f=n(139982),p=R(n(611456)),v=n(421622),y=R(n(625905)),h=R(n(30098)),_=R(n(218843)),m=R(n(211136)),g=R(n(949898)),E=R(n(80828)),O=R(n(303798)),S=R(n(71805)),I=n(982784),b=n(648927),C=n(418173),T=n(770348),P=n(859089),A=R(n(544009)),M=R(n(201768)),N=["channel"];function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var k=new Set([C.YOUTUBE_APPLICATION_ID,C.WATCH_YOUTUBE_DEV_APP_ID,C.WATCH_YOUTUBE_PROD_APP_ID]),j=new Set([C.PUTT_PARTY_APPLICATION_DEV_ID]),U=new Set([C.WATCH_YOUTUBE_DEV_APP_ID,C.WATCH_YOUTUBE_PROD_APP_ID]);function G(e){var t=e.channel,n=e.isLoading,r=a.useState(!1),b=r[0],C=r[1],N=(0,i.useStateFromStores)([O.default],(function(){return O.default.getSelfEmbeddedActivityForChannel(t.id)})),R=null==N?void 0:N.activity_id,w=(0,i.useStateFromStores)([m.default],(function(){return m.default.getChannelId()===t.id})),D=(0,i.useStateFromStoresObject)([_.default],(function(){var e=_.default.pipWindow;return{dockedRect:null!=e?_.default.getDockedRect(e.id):null,isHidden:_.default.isEmbeddedActivityHidden()}})),G=D.dockedRect,F=D.isHidden,x=(0,
i.useStateFromStoresObject)([c.default,g.default],(function(){var e=c.default.getWindow(T.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return{popoutWindow:e,windowWidth:c.default.getWindowOpen(T.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&null!=e?e.innerWidth:g.default.windowSize().width-T.LEFT_PANEL_WIDTH}})),W=x.popoutWindow,V=x.windowWidth,H=(0,i.useStateFromStoresObject)([d.default],(function(){return{activityParticipant:null!=N?d.default.getParticipant(t.id,N.application_id):null,selectedParticipant:d.default.getSelectedParticipant(t.id),participantsOpen:d.default.getParticipantsOpen(t.id),layout:d.default.getLayout(t.id,T.AppContext.APP)}})),B=H.activityParticipant,Y=H.selectedParticipant,z=H.participantsOpen,K=H.layout,$=(0,i.useStateFromStores)([h.default],(function(){return h.default.getGuild(t.guild_id)
}),[t.guild_id]),q=null==$?void 0:$.hasFeature(T.GuildFeatures.TEXT_IN_VOICE_ENABLED),Z=V<=v.FORCE_HIDE_PARTICIPANTS_WIDTH,X=w||null!=W,Q=X&&(null==Y?void 0:Y.type)!==P.ParticipantTypes.ACTIVITY&&null==G,J=(!X||Q)&&!F,ee=!Z&&!q&&![T.ChannelLayouts.MINIMUM,T.ChannelLayouts.NORMAL].includes(K),te=ee&&z;function ne(){null!=N&&u.default.selectParticipant(t.id,N.application_id);if(null==W){(0,s.popAllLayers)();var e=t.getGuildId()||T.ME;l.default.channelListScrollTo(e,t.id);(0,f.transitionToGuild)(e,t.id)}}function re(){C(!b)}return null==N||null==R||null==B?null:L(y.default,{timeout:2e3},void 0,(function(e){var r,i,u,l,s,d=e.idle,c=e.onActive;return L(p.default,{className:(0,o.default)(A.default.root,(i={},i[A.default.pipMode]=J,i[M.default.idle]=d&&!(null===(r=N.config)||void 0===r?void 0:r.useInteractivePIP),i[A.default.pipModeShort]=J&&!b,i[A.default.pipModeTall]=J&&b,i[A.default.hidden]=F,i)),noBorder:!te&&!J},void 0,function(e,n){var r
;return J&&null!=N&&(null==B?void 0:B.type)===P.ParticipantTypes.ACTIVITY?(null===(r=N.config)||void 0===r?void 0:r.useInteractivePIP)?L(I.InteractivePIPHeader,{onJumpToChannel:ne,applicationId:N.application_id,channel:t,showControls:!n,onMouseMove:e,onMouseEnter:e,onToggleHeight:re,isExpanded:b}):a.createElement(a.Fragment,null,L("div",{onMouseMove:e,onMouseDown:e,className:A.default.clickShield,onDoubleClick:ne}),L(I.PIPOverlay,{idle:n,onJumpToChannel:ne,channel:t,applicationId:N.application_id,selectedParticipant:B})):null}(c,d),n?L(E.default,{className:(0,o.default)(A.default.iframe,(u={},u[A.default.pipModeShort]=J&&!b,u[A.default.pipModeTall]=J&&b,u))}):L(S.default,{allowPopups:k.has(N.application_id),allowPointerLock:j.has(N.application_id),referrerPolicy:U.has(N.application_id)?"no-referrer":"origin",url:N.url,queryParams:{instance_id:R,channel_id:t.id,guild_id:t.guild_id},className:(0,o.default)(A.default.iframe,(s={},s[A.default.pipModeShort]=J&&!b,
s[A.default.pipModeTall]=J&&b,s[A.default.pipNonInteractive]=J&&!(null===(l=N.config)||void 0===l?void 0:l.useInteractivePIP),s)),shouldRefocus:!J&&w}),!J&&L(I.TileOverlay,{participantsOpen:z,showToggleParticipants:ee,channelId:t.id}))}))}G.displayName="PersistentIFrame";var F=function(e){var t=e.channel,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,N),r=(0,b.useEmbeddedActivityLifecycle)(t).isLoading;return a.createElement(G,D({channel:t,isLoading:r},n))};F.displayName="PictureInPictureEmbeddedActivity";var x=F;t.default=x},982784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.InteractivePIPHeader=k;t.PIPOverlay=L;t.TileOverlay=function(e){var t=e.channelId,n=e.participantsOpen;return e.showToggleParticipants?w(m.default,{channelId:t,isParticipantsOpen:n,className:P.default.participantsButton}):null}
;var r,a=R(n(667294)),o=M(n(294184)),i=n(536211),u=M(n(740207)),l=M(n(469487)),s=M(n(310268)),d=R(n(8475)),c=M(n(770404)),f=M(n(493051)),p=M(n(134893)),v=n(244612),y=M(n(143414)),h=M(n(67286)),_=M(n(866219)),m=M(n(715801)),g=M(n(645675)),E=M(n(635014)),O=M(n(530250)),S=M(n(160490)),I=M(n(775803)),b=n(746920),C=n(478036),T=M(n(247001)),P=M(n(844203)),A=M(n(201768));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e){var t,n=e.onClick,r=e.isExpanded;return w(y.default,{iconClassName:(0,o.default)(P.default.arrowIcon,(t={},t[P.default.arrowIconExpanded]=r,t)),onClick:n,iconComponent:S.default,label:r?T.default.Messages.PICTURE_IN_PICTURE_COLLAPSE:T.default.Messages.PICTURE_IN_PICTURE_EXPAND})}D.displayName="TogglePIPHeightButton";function L(e){var t,n,r=e.channel,a=e.applicationId,o=e.onJumpToChannel,y=e.idle,m=e.selectedParticipant,S=(0,i.useStateFromStores)([E.default],(function(){return E.default.isVideoEnabled()})),I=(0,
i.useStateFromStores)([E.default],(function(){return Object.values(E.default.getVideoDevices())[0]})),T=!1===(null===(t=null==I?void 0:I.disabled)||void 0===t||t),M=(0,l.default)([a])[0],N=(0,c.default)(r),R=function(e){u.default.setVideoEnabled(e)};return w("div",{className:A.default.videoControls},void 0,w("div",{className:A.default.topControls},void 0,w(v.PictureInPictureHeader,{idle:y,title:null!==(n=null==M?void 0:M.name)&&void 0!==n?n:r.name,onJumpToChannel:o,preventIdleComponent:p.default})),w("div",{className:A.default.bottomControls},void 0,w(O.default,{grow:0,shrink:1,basis:"50%",align:O.default.Align.CENTER},void 0,w(g.default,{className:P.default.leftPipIcon,enabled:S,cameraUnavailable:!T,hasPermission:N,onChange:R,onCameraUnavailable:function(){T?R(!0):(0,f.default)()}}),w(p.default,{},void 0,w(s.default,{channelId:r.id,guildId:r.getGuildId(),className:A.default.leftTrayIcon,participant:m,compact:!0}))),w(O.default,{grow:0,shrink:1,justify:O.default.Justify.END,
basis:"50%",align:O.default.Align.CENTER},void 0,w(_.default,{className:P.default.rightPipIcon,popoutOpen:!1,onOpenPopout:function(){d.openChannelCallPopout(r)},onClosePopout:C.NOOP_NULL}),w(h.default,{className:P.default.rightPipIcon,onClick:function(){return(0,b.stopEmbeddedActivity)(r.id,a)}}))))}L.displayName="PIPOverlay";function k(e){var t,n,r=e.onMouseMove,i=e.onMouseEnter,u=e.showControls,s=e.applicationId,d=e.channel,c=e.onJumpToChannel,f=e.onToggleHeight,y=e.isExpanded,_=(0,l.default)([s])[0];return w("div",{className:P.default.pipHeader,onMouseMove:r,onMouseEnter:i},void 0,w("div",{className:(0,o.default)(A.default.topControls,P.default.pipHeaderContent,(t={},t[P.default.pipHeaderContentOpen]=u,t))},void 0,!u&&w(I.default,{className:P.default.menuIcon,width:12,height:12}),u&&a.createElement(a.Fragment,null,w(v.PictureInPictureHeader,{idle:!u,title:null!==(n=null==_?void 0:_.name)&&void 0!==n?n:d.name,onJumpToChannel:c,preventIdleComponent:p.default}),w("div",{
className:P.default.pipHeaderButtonsRight},void 0,w(D,{isExpanded:y,onClick:f}),w(h.default,{iconClassName:P.default.leaveActivityIcon,onClick:function(){return(0,b.stopEmbeddedActivity)(d.id,s)}})))))}k.displayName="InteractivePIPHeader"},777787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,a,o,i){void 0===o&&(o=!1);void 0===i&&(i=null);var d=s.default.getVoiceChannelId(),c=u.default.getChannel(d),p=null==c?void 0:c.getGuildId(),y=l.default.getGuild(p);if(null==d||null==p||null==y)return Promise.resolve(!1);var _=y.premiumTier,m=null!==i?null==e?void 0:e.getPremiumTierLevelForTreatment(i):null==e?void 0:e.activityPremiumTierLevel;if(o&&null!=_){h.BoostedGuildFeatures[_].limits.maxConcurrentActivities,f.default.getEmbeddedActivitiesForGuild(p).length;if(null!=m&&_<m){(0,r.default)({analyticsSourceLocation:n,guild:y,targetBoostedGuildTier:m});return Promise.resolve(!1)}0}return null!=t?new Promise((function(r){(0,
v.default)(t,e,(function(){r(O(d,p,n,e))}),(function(){return r(!1)}),a)})):O(d,p,n,e)};var r=m(n(567563)),a=m(n(902305)),o=m(n(736632)),i=n(139982),u=m(n(644263)),l=m(n(30098)),s=m(n(211136)),d=m(n(728429)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(746920)),f=m(n(303798)),p=m(n(118685)),v=m(n(575532)),y=(m(n(713463)),n(770348)),h=n(265517);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e)
;return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function O(e,t,n,r){return S.apply(this,arguments)}function S(){return(S=E(regeneratorRuntime.mark((function e(t,n,r,u){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(l=d.default.getCurrentUser())&&null!=u){e.next=3;break}return e.abrupt("return",!1);case 3:e.next=5;return c.startEmbeddedActivity(t,{application_id:u.id,name:u.name});case 5:a.default.getWindowOpen(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT)?(0,o.default)(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT):(0,i.transitionTo)(y.Routes.CHANNEL(n,t));(0,p.default)({type:y.AnalyticsGameOpenTypes.LAUNCH,userId:l.id,applicationId:u.id,locationObject:r});return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},
480831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,o.hasFlag)(null!==(t=e.flags)&&void 0!==t?t:0,i.ApplicationFlags.EMBEDDED),r=a.default.getWindowOpen(i.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return n&&r};var r,a=(r=n(902305))&&r.__esModule?r:{default:r},o=n(685677),i=n(770348)},322946:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return"activityembed:"+e+":"+t}},713463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){(0,a.openModalLazy)(s(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(29041)]).then(n.bind(n,29041));case 2:a=t.sent;i=a.default;return t.abrupt("return",(function(t){return r.createElement(i,u({},t,{targetBoostedGuildTier:(0,o.getTargetBoostTierForConcurrentActivities)(e.targetConcurrentActivities),
guild:e.guild,channelId:e.channelId,analyticsLocation:e.analyticsLocation}))}));case 5:case"end":return t.stop()}}),t)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(194322),o=n(682937);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value
}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))}}},648927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useEmbeddedActivityLifecycle=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=l(n(423046)),i=n(746920),u=l(n(303798));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.useEmbeddedActivityLifecycle=function(e){var t=o.default.getId(),n=(0,a.useStateFromStoresObject)([u.default],(function(){var n,r=u.default.getSelfEmbeddedActivityForChannel(e.id),a=null===(n=u.default.getEmbeddedActivitiesForChannel(e.id).find((function(e){return e.application_id===(null==r?void 0:r.application_id)})))||void 0===n?void 0:n.userIds,o=null==a?void 0:a.has(t);return{userActivity:r,inActivity:null!=o&&o}})),l=n.userActivity,s=n.inActivity;r.useEffect((function(){s||(0,i.launchEmbeddedActivity)(e.id)}),[null==l?void 0:l.application_id,e.id,s]);r.useEffect((function(){return function(){(null==l?void 0:l.application_id)&&(0,i.disconnectEmbeddedActivity)(e.id,null==l?void 0:l.application_id)}}),[e.id,null==l?void 0:l.application_id]);return{isLoading:!s}}},723220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.closeAgeGateModal=function(){r.default.wait((function(){
return r.default.dispatch({type:i.ActionTypes.AGE_GATE_MODAL_CLOSE})}))};t.closeFailedAgeGate=function(){r.default.dispatch({type:i.ActionTypes.LOGOUT});(0,a.transitionTo)(i.Routes.LOGIN)};t.openAgeGateModal=function(e){o.default.track(i.AnalyticEvents.OPEN_MODAL,{type:"Enter Your Birthday",source:{section:e}});r.default.dispatch({type:i.ActionTypes.AGE_GATE_MODAL_OPEN,source:e})};t.openFailureAgeGateModal=function(e){r.default.wait((function(){r.default.dispatch({type:i.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,underageMessage:e})}))};t.openSuccessAgeGateModal=function(){r.default.wait((function(){r.default.dispatch({type:i.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN})}))};var r=u(n(636602)),a=n(139982),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},160866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AgeRestrictedGuildsExperiment=void 0;t.userNeedsAgeGate=function(){var e=a.default.getCurrentUser()
;return null!=e&&o.default.extractTimestamp(e.id)>u.getTime()&&!e.isClaimed()&&null==e.nsfwAllowed};var r=n(373505),a=i(n(728429)),o=i(n(71636));function i(e){return e&&e.__esModule?e:{default:e}}var u=new Date("06/16/2020");var l=(0,r.createExperiment)({id:"2021-05_age_restricted_guilds",label:"Process age restricted guilds",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"On",config:{enabled:!0}}]});t.AgeRestrictedGuildsExperiment=l},676817:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=h(n(636602)),o=h(n(177230)),i=h(n(644263)),u=h(n(211136)),l=h(n(790597)),s=h(n(728429)),d=n(194322),c=n(723220),f=h(n(632062)),p=h(n(242049)),v=n(78330),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function S(e,t){var n
;if(null!=e){var r=s.default.getCurrentUser();(null===(n=i.default.getChannel(t))||void 0===n?void 0:n.isNSFW())&&null!=r&&null==r.nsfwAllowed&&(0,c.openAgeGateModal)(v.AgeGateSource.NSFW_CHANNEL)}}var I=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var o=t.prototype;o._initialize=function(){a.default.subscribe(y.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);a.default.subscribe(y.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect);a.default.subscribe(y.ActionTypes.AGE_GATE_MODAL_OPEN,this.handleAgeGateModalOpen);a.default.subscribe(y.ActionTypes.AGE_GATE_MODAL_CLOSE,this.handleAgeGateModalClose);a.default.subscribe(y.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN,this.handleAgeGateSuccess);a.default.subscribe(y.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,this.handleAgeGateFailure)};o._terminate=function(){
a.default.unsubscribe(y.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);a.default.unsubscribe(y.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect);a.default.unsubscribe(y.ActionTypes.AGE_GATE_MODAL_OPEN,this.handleAgeGateModalOpen);a.default.unsubscribe(y.ActionTypes.AGE_GATE_MODAL_CLOSE,this.handleAgeGateModalClose);a.default.unsubscribe(y.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN,this.handleAgeGateSuccess);a.default.unsubscribe(y.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,this.handleAgeGateFailure)};o.handleChannelSelect=function(e){S(e.guildId,e.channelId)};o.handleConnectionOpen=function(){S(l.default.getGuildId(),u.default.getChannelId())};o.handleAgeGateModalOpen=function(){(0,d.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(73167)]).then(n.bind(n,273167));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){
return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:v.EXISTING_USER_AGE_GATE_MODAL_KEY,onCloseRequest:y.NOOP})};o.handleAgeGateSuccess=function(){(0,d.updateModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY,(function(e){return r.createElement(p.default,e)}))};o.handleAgeGateFailure=function(e){var t=e.underageMessage;(0,d.updateModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY,(function(e){return r.createElement(f.default,m({underageMessage:t},e))}))};o.handleAgeGateModalClose=function(){(0,d.closeModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY)};return t}(o.default));t.default=I},632062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;m(n(667294));var r,a=n(47354),o=n(139982),i=m(n(956117)),u=n(354479),l=n(3400),s=h(n(971639)),d=h(n(776360)),c=h(n(550270)),f=n(723220),p=n(770348),v=h(n(247001)),y=h(n(987953));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){
var t=e.underageMessage,r=e.transitionState,h=(0,u.useUID)();return g(l.ModalRoot,{transitionState:r,size:l.ModalSize.SMALL,"aria-labelledby":h,impressionName:a.ImpressionNames.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0}},void 0,g(l.ModalContent,{},void 0,g("div",{className:y.default.container},void 0,g("img",{alt:"",src:n(697694),className:y.default.img}),g(s.default,{size:s.default.Sizes.SIZE_24,className:y.default.title,id:h},void 0,v.default.Messages.AGE_GATE_UNDERAGE_EXISTING_HEADER),g(d.default,{color:d.default.Colors.HEADER_SECONDARY,className:y.default.subtitle},void 0,v.default.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:t||v.default.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_MESSAGE,helpURL:c.default.getArticleURL(p.HelpdeskArticles.AGE_GATE)})),g(d.default,{color:d.default.Colors.HEADER_SECONDARY,className:y.default.subtitle},void 0,v.default.Messages.AGE_GATE_UNDERAGE_EXISTING_BODY_DELETION_WITH_DAYS.format({days:30
})))),g(l.ModalFooter,{},void 0,g(i.default,{size:i.ButtonSizes.SMALL,fullWidth:!0,onClick:function(){(0,f.closeAgeGateModal)();(0,o.transitionTo)(p.Routes.LOGIN)}},void 0,v.default.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN)))}E.displayName="ExistingUserAgeGateUnderage"},242049:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;y(n(667294));var r,a=n(47354),o=y(n(956117)),i=n(354479),u=n(3400),l=p(n(971639)),s=p(n(776360)),d=n(723220),c=p(n(247001)),f=p(n(206052));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.transitionState,r=(0,i.useUID)();return h(u.ModalRoot,{transitionState:t,size:u.ModalSize.SMALL,"aria-labelledby":r,impressionName:a.ImpressionNames.USER_AGE_GATE,impressionProperties:{existing_user:!0}},void 0,h(u.ModalContent,{},void 0,h("div",{className:f.default.container},void 0,h("img",{alt:"",src:n(145911),className:f.default.img}),h(l.default,{size:l.default.Sizes.SIZE_24,
className:f.default.title,id:r},void 0,c.default.Messages.AGE_GATE_AGE_VERIFIED),h(s.default,{color:s.default.Colors.HEADER_SECONDARY,className:f.default.subtitle},void 0,c.default.Messages.AGE_GATE_AGE_VERIFIED_BODY))),h(u.ModalFooter,{},void 0,h(o.default,{size:o.ButtonSizes.SMALL,fullWidth:!0,onClick:function(){(0,d.closeAgeGateModal)()},autoFocus:!0},void 0,c.default.Messages.CLOSE)))}_.displayName="ExistingUserAgeGateVerified"},108101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.REPORT_MESSAGE_MODAL_KEY=void 0;var r,a=v(n(667294)),o=f(n(598694)),i=f(n(268660)),u=n(3400),l=v(n(174687)),s=f(n(817105)),d=f(n(247001)),c=f(n(50710));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){
h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var m;t.REPORT_MESSAGE_MODAL_KEY="REPORT_MESSAGE";!function(e){e[e.REPORT_MESSAGE=0]="REPORT_MESSAGE";e[e.SUCCESS=1]="SUCCESS"}(m||(m={}));var g=[m.REPORT_MESSAGE,m.SUCCESS],E=y(l.ErrorState,{}),O=function(e){var t=e.message,n=e.channel,r=e.onClose,f=e.transitionState,p=a.useState(!1),v=p[0],h=p[1],O=a.useState(null),S=O[0],I=O[1],b=a.useState(m.REPORT_MESSAGE),C=b[0],T=b[1],P=a.useState(null),A=P[0],M=P[1],N=a.useState(null),R=N[0],w=N[1];a.useEffect((function(){var e=function(){var e=_(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.tokenizeReportedMessage(n.id,t.id);case 3:r=e.sent;I(r);e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);h(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),r=function(){
var e=_(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return o.default.getOptions();case 2:t=e.sent;n=t.typeOptions;r=t.subTypeOptions;M(n);w(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();v||r()}),[n.id,v,t.id]);var D=y(l.default,{token:S,message:t,channel:n,onClose:r,onSuccess:function(){T(m.SUCCESS)},typeOptions:A,subTypeOptions:R}),L=y(s.default,{message:t,channel:n,onClose:r});return y(u.ModalRoot,{transitionState:f,size:u.ModalSize.DYNAMIC,className:c.default.modal,"aria-label":d.default.Messages.REPORT_MODAL_REPORT_MESSAGE},void 0,v?E:y(i.default,{step:C,steps:g},void 0,C===m.REPORT_MESSAGE?null==A||null==R||null==S?null:D:L))};O.displayName="ReportMessageModal";var S=O;t.default=S},174687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.REPORT_MESSAGE_MODAL_KEY=t.ErrorState=void 0
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=O(n(598694)),i=n(483559),u=O(n(844784)),l=O(n(2914)),s=O(n(956117)),d=O(n(682473)),c=O(n(39118)),f=O(n(279950)),p=n(688388),v=n(3400),y=O(n(971639)),h=n(967965),_=O(n(582945)),m=n(770348),g=O(n(247001)),E=O(n(50710));function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.REPORT_MESSAGE_MODAL_KEY="REPORT_MESSAGE";var C=function(e){var t=e.className;return b(d.default,{className:t},void 0,g.default.Messages.REPORT_MODAL_ERROR.format({tnsReportUrl:"https://dis.gd/request"}))};t.ErrorState=C;C.displayName="ErrorState";var T=function(e){
var t,n,r=e.token,d=e.channel,O=e.message,S=e.typeOptions,T=e.subTypeOptions,P=e.onClose,A=e.onSuccess,M=a.useState(null),N=M[0],R=M[1],w=a.useState(null),D=w[0],L=w[1],k=a.useState(""),j=k[0],U=k[1],G=a.useState(""),F=G[0],x=G[1],W=a.useState(!1),V=W[0],H=W[1],B=a.useState(!1),Y=B[0],z=B[1],K=null!=N&&null!=T[N],$=null!=D||!K,q=function(e){if(N!==e){R(e);L(null)}},Z=function(e){D!==e&&L(e)},X=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=N){e.next=2;break}return e.abrupt("return");case 2:H(!0);e.prev=3;e.next=6;return(0,i.fetchProfile)(d.getRecipientId(),{withMutualGuilds:!0});case 6:n=e.sent;a=null==n||null===(t=n.mutual_guilds)||void 0===t?void 0:t.map((function(e){return e.id}));u.default.trackWithMetadata(m.AnalyticEvents.MESSAGE_REPORTED,{report_type:N,report_sub_type:D,subject:j,description:F,location_object:"report_message_modal",guild_id:d.getGuildId(),
channel_id:d.id,message_id:O.id,mutual_guild_ids:a});e.next=11;return o.default.submitReport(r,N,D,j,F);case 11:H(!1);A();e.next=19;break;case 15:e.prev=15;e.t0=e.catch(3);H(!1);z(!0);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),Q=b(f.default,{value:j,onChange:U}),J=b(c.default,{value:F,onChange:x});return a.createElement(a.Fragment,null,b(v.ModalContent,{className:E.default.content},void 0,b(y.default,{className:E.default.modalHeader,size:y.default.Sizes.SIZE_24},void 0,g.default.Messages.REPORT_MODAL_REPORT_MESSAGE),Y&&b(C,{className:E.default.formItem}),b(p.FormItem,{title:g.default.Messages.REPORT_MODAL_MESSAGE_SELECTED,className:E.default.formItem},void 0,b(_.default,{className:E.default.message},void 0,b(l.default,{channel:d,message:O,
animateAvatar:!1,disableInteraction:!0}))),(t=S.find((function(e){return e.value===N})),n=null!=t?t.description:null,a.createElement(a.Fragment,null,b(p.FormItem,{className:E.default.formItem,title:g.default.Messages.REPORT_MODAL_TYPE_TITLE,required:!0},void 0,b(h.SingleSelect,{placeholder:g.default.Messages.REPORT_MODAL_SELECT_ONE,options:S,value:N,onChange:q,maxVisibleItems:6})),b(p.FormText,{type:p.FormText.Types.DESCRIPTION,className:E.default.description},void 0,n))),null!=N&&K?b(p.FormItem,{title:T[N].subTypeQuestion,className:E.default.formItem,required:!0},void 0,b(h.SingleSelect,{placeholder:g.default.Messages.REPORT_MODAL_SELECT_ONE,options:T[N].subTypes,value:D,onChange:Z})):null,null!=N&&$?a.createElement(a.Fragment,null,b(p.FormItem,{title:g.default.Messages.REPORT_MODAL_SUBJECT,className:E.default.formItem,required:!0},void 0,Q),b(p.FormItem,{title:g.default.Messages.REPORT_MODAL_DESCRIPTION,className:E.default.formItem,required:!0},void 0,J,b(p.FormText,{
type:p.FormText.Types.DESCRIPTION,className:E.default.description},void 0,g.default.Messages.REPORT_MODAL_DESCRIPTION_MIN_MAX.format({min:0,max:800})),F.length>800?b(p.FormText,{type:p.FormText.Types.DESCRIPTION,className:E.default.descriptionError},void 0,g.default.Messages.REPORT_MODAL_DESCRIPTION_MAX_EXCEEDED):null)):null),b(v.ModalFooter,{className:E.default.footer},void 0,b(s.default,{color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK,onClick:P},void 0,g.default.Messages.CANCEL),b(s.default,{onClick:X,disabled:!$||0===j.length||F.length<0||F.length>800,submitting:V},void 0,g.default.Messages.REPORT_MODAL_SUBMIT)))};t.default=T},817105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(786345)),i=h(n(237923)),u=h(n(2914)),l=h(n(956117)),s=n(688388),d=n(3400),c=h(n(971639)),f=h(n(582945)),p=n(770348),v=h(n(247001)),y=h(n(50710));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var g=function(e){var t=e.onClose,n=e.message,r=e.channel,h=null==r.guild_id,_=h?v.default.Messages.REPORT_MODAL_SHOULD_BLOCK:v.default.Messages.REPORT_MODAL_SHOULD_DELETE,g=h?v.default.Messages.REPORT_MODAL_BLOCK_USER:v.default.Messages.DELETE_MESSAGE;return a.createElement(a.Fragment,null,m(d.ModalContent,{className:y.default.successModalContent},void 0,m(c.default,{size:c.default.Sizes.SIZE_24},void 0,v.default.Messages.REPORT_MODAL_SUBMITTED),m(s.FormText,{type:s.FormText.Types.DESCRIPTION,className:y.default.successModalText},void 0,v.default.Messages.REPORT_MODAL_SUBMITTED_EMAIL_CONFIRMATION),m(s.FormItem,{className:y.default.messageFormItem,title:_},void 0,m(f.default,{className:y.default.message},void 0,m(u.default,{channel:r,message:n,animateAvatar:!1,disableInteraction:!0})))),m(d.ModalFooter,{className:y.default.footer},void 0,m(l.default,{color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:t},void 0,v.default.Messages.CLOSE),m(l.default,{
look:l.default.Looks.FILLED,color:l.default.Colors.RED,onClick:function(){h?i.default.addRelationship(n.author.id,{location:"Report Modal"},p.RelationshipTypes.BLOCKED):o.default.deleteMessage(r.id,n.id);t()}},void 0,g)))};t.default=g},504010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(392820).Z;t.default=r},392820:(e,t)=>{"use strict";({value:!0});t.Z=function(){return{}}},621287:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.makeAuthenticated=function(e,t,n){var r=p(t,{});void 0===n&&(n={passProps:!0});function a(a){if(!(0,s.isAuthenticated)()&&!(0,s.isGuest)()&&l.default.getLoginStatus()!==d.LoginStates.LOGGING_IN&&l.default.allowLogoutRedirect()){if(null!=t)return r;var f=location.pathname+location.search,v=c.CONFERENCE_MODE_ENABLED?d.Routes.REGISTER:(0,u.getLoginPath)(f,!1);return p(i.Redirect,{to:v})}return o.createElement(e,n.passProps?a:null)}
a.displayName="Authenticated("+(e.displayName||e.name||"<Unknown>")+")";return a};var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=n(505977),u=n(904312),l=(r=n(423046))&&r.__esModule?r:{default:r},s=n(549186),d=n(770348),c=n(27577);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},892057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchBlockedDomainList=function(){return s.apply(this,arguments)};var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}function s(){return(s=l(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.get({
url:"https://cdn.discordapp.com/bad-domains/hashes.json"});case 2:t=e.sent;n=t.body;a.default.dispatch({type:o.ActionTypes.BLOCKED_DOMAIN_LIST_FETCHED,list:n});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},694450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(177230))&&r.__esModule?r:{default:r},o=n(892057);function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){(0,o.fetchBlockedDomainList)();this.intervalID=setInterval(o.fetchBlockedDomainList,144e5)};n._terminate=function(){clearInterval(this.intervalID)};return t}(a.default));t.default=u},322785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={setCallChatToastsEnabled:function(e,t){a.default.dispatch({type:o.ActionTypes.CALL_CHAT_TOASTS_SET_ENABLED,channelId:e,toastsEnabled:t})}};t.default=i},316309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=c(n(177230)),a=c(n(796608)),o=c(n(27245)),i=c(n(919935)),u=c(n(663303)),l=c(n(387692)),s=c(n(487372)),d=n(179379);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=(0,d.createSoundForPack)("call_calling",a.default.getSoundpack()),v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){o.default.addChangeListener(this.handleRingUpdate);i.default.addChangeListener(this.handleRingUpdate)
;u.default.addChangeListener(this.handleRingUpdate);l.default.addChangeListener(this.handleRingUpdate);a.default.addChangeListener(this.handleSoundpackUpdate)};n._terminate=function(){o.default.removeChangeListener(this.handleRingUpdate);i.default.removeChangeListener(this.handleRingUpdate);u.default.removeChangeListener(this.handleRingUpdate);l.default.removeChangeListener(this.handleRingUpdate);a.default.removeChangeListener(this.handleSoundpackUpdate)};n.handleSoundpackUpdate=function(){p.stop();p=(0,d.createSoundForPack)("call_calling",a.default.getSoundpack())};n.handleRingUpdate=function(){var e=o.default.getCalls().filter((function(e){return e.ringing.length>0&&l.default.getCurrentClientVoiceChannelId(null)===e.channelId})),t=l.default.getCurrentClientVoiceChannelId(null);!(null!=t&&s.default.countVoiceStatesForChannel(t)>=2)&&e.length>0&&!i.default.isSoundDisabled("call_calling")&&!u.default.disableSounds?p.loop():p.stop()};return t}(r.default));t.default=v},845607:(e,t)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SelfStreamAndVideoAlertType=void 0;var n;t.SelfStreamAndVideoAlertType=n;!function(e){e[e.STREAM=0]="STREAM";e[e.VIDEO=1]="VIDEO"}(n||(t.SelfStreamAndVideoAlertType=n={}))},235398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(177230)),a=i(n(893160)),o=i(n(825724));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){o.default.addChangeListener(this.handleFocusParticipant)};n._terminate=function(){o.default.removeChangeListener(this.handleFocusParticipant)};n.handleFocusParticipant=function(){var e=a.default.getChannelId();if(null!=e){
var t,n,r=o.default.getSelectedParticipantId(e),i=o.default.getVideoParticipants(e);null===(t=a.default.getRTCConnection())||void 0===t||t.setSelectedParticipant(null===(n=i.find((function(e){return e.id===r&&!e.localVideoDisabled})))||void 0===n?void 0:n.id)}};return t}(r.default));t.default=l},915502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t)return a.default.Messages.SERVER_DEAFENED_DIALOG_TITLE;return e?a.default.Messages.UNDEAFEN:a.default.Messages.DEAFEN};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},945926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){if(n)return a.default.Messages.SUPPRESSED;if(t)return a.default.Messages.SERVER_MUTED_DIALOG_TITLE;return e?a.default.Messages.UNMUTE:a.default.Messages.MUTE};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},66384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
return i[e]};var r,a=n(859089),o=n(376293),i=Object.freeze(((r={})[a.ParticipantTypes.STREAM]=o.MediaEngineContextTypes.STREAM,r[a.ParticipantTypes.HIDDEN_STREAM]=o.MediaEngineContextTypes.STREAM,r[a.ParticipantTypes.USER]=o.MediaEngineContextTypes.DEFAULT,r[a.ParticipantTypes.ACTIVITY]=o.MediaEngineContextTypes.DEFAULT,r))},831566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,r.useStateFromStores)([i.default],(function(){return i.default.getId()})),u=(0,r.useStateFromStores)([o.default],(function(){var t=o.default.getStreamForUser(n);return null!=t&&t.channelId===e}),[e,n]),l=(0,r.useStateFromStores)([o.default],(function(){return o.default.isSelfStreamHidden(e)}),[e]);return[(null==t||t===n)&&u,l,function(t){(0,a.toggleSelfStreamHidden)(e,t)}]};var r=n(536211),a=n(123516),o=u(n(607209)),i=u(n(423046));function u(e){return e&&e.__esModule?e:{default:e}}},25077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=function(e,t){void 0===t&&(t=u.MediaEngineContextTypes.DEFAULT);var n=(0,r.useStateFromStores)([o.default],(function(){return o.default.getId()})),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.supports(u.Features.DISABLE_VIDEO)&&i.default.isVideoEnabled()})),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.isLocalVideoDisabled(n,t)}),[n,t]);return[(null==e||e===n)&&(l||s),s,function(e){a.default.setDisableLocalVideo(n,e,t)}]};var r=n(536211),a=l(n(740207)),o=l(n(423046)),i=l(n(635014)),u=n(376293);function l(e){return e&&e.__esModule?e:{default:e}}},190320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;_(n(667294));var r,a=y(n(284382)),o=_(n(145122)),i=y(n(989546)),u=y(n(197105)),l=y(n(793963)),s=y(n(441072)),d=y(n(16505)),c=y(n(815267)),f=n(770348),p=y(n(247001)),v=y(n(741937));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){
var t=e.onClose,n=e.renderOutputDevices,r=void 0!==n&&n,y=e.renderInputDevices,h=void 0!==y&&y,_=e.renderInputModes,g=void 0!==_&&_,E=e.renderInputVolume,O=void 0!==E&&E,S=e.renderOutputVolume,I=void 0!==S&&S,b=e.onSelect,C=(0,c.default)(),T=(0,s.default)(),P=(0,d.default)(),A=(0,i.default)(),M=(0,u.default)(),N=(0,l.default)();return m(a.default,{object:f.AnalyticsObjects.CONTEXT_MENU},void 0,m(o.default,{onSelect:b,className:v.default.menu,onClose:t,navId:"audio-device-context","aria-label":p.default.Messages.AUDIO_DEVICE_ACTIONS},void 0,h?m(o.MenuGroup,{label:p.default.Messages.INPUT_DEVICE},void 0,T):null,r?m(o.MenuGroup,{label:p.default.Messages.OUTPUT_DEVICE},void 0,P):null,g?m(o.MenuGroup,{label:p.default.Messages.FORM_LABEL_INPUT_MODE},void 0,A):null,m(o.MenuGroup,{},void 0,O?M:null,I?N:null,C)))}g.displayName="AudioDeviceMenu"},803121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i=be(n(667294)),u=Se(n(294184)),l=Se(n(441143)),s=n(536211),d=n(91817),c=Se(n(636602)),f=Se(n(229132)),p=n(378158),v=Se(n(136873)),y=n(123516),h=Se(n(929031)),_=Se(n(833692)),m=Se(n(989418)),g=Se(n(284382)),E=Se(n(673997)),O=be(n(33273)),S=Se(n(198016)),I=n(844784),b=n(747868),C=n(385753),T=be(n(8475)),P=Se(n(902305)),A=n(139982),M=Se(n(915188)),N=Se(n(174508)),R=Se(n(839166)),w=Se(n(828839)),D=Se(n(531334)),L=Se(n(625905)),k=Se(n(134893)),j=Se(n(48102)),U=Se(n(430251)),G=Se(n(116790)),F=Se(n(146529)),x=Se(n(278851)),W=Se(n(336156)),V=Se(n(866219)),H=Se(n(960401)),B=Se(n(861891)),Y=Se(n(561603)),z=Se(n(607209)),K=Se(n(423046)),$=Se(n(938199)),q=Se(n(27245)),Z=Se(n(30098)),X=Se(n(689389)),Q=Se(n(191391)),J=Se(n(211136)),ee=Se(n(728429)),te=Se(n(387692)),ne=Se(n(530250)),re=n(248685),ae=n(598671),oe=Se(n(308920)),ie=n(319986),ue=n(956506),le=n(864489),se=n(518802),de=Se(n(922629)),ce=n(245838),fe=Se(n(825724)),pe=Se(n(66384)),ve=Se(n(818994)),ye=Se(n(368464)),he=Se(n(789659)),_e=Se(n(310268)),me=n(859089),ge=n(770348),Ee=Se(n(247001)),Oe=Se(n(661073))
;function Se(e){return e&&e.__esModule?e:{default:e}}function Ie(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ie=function(e){return e?n:t})(e)}function be(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ie(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Ce(){Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ce.apply(this,arguments)}function Te(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Pe(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Te(o,r,a,i,u,"next",e)}function u(e){Te(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Me(e,t){Me=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Me(e,t)}function Ne(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Re=((r={})[ge.ChannelLayouts.NORMAL]=Oe.default.normal,r[ge.ChannelLayouts.MINIMUM]=Oe.default.minimum,
r[ge.ChannelLayouts.NO_CHAT]=Oe.default.noChat,r[ge.ChannelLayouts.FULL_SCREEN]=Oe.default.fullScreen,r),we=((a={})[ge.AppContext.POPOUT]=Oe.default.popout,a[ge.AppContext.APP]=null,a[ge.AppContext.OVERLAY]=null,a);function De(e){var t=e.resizableNode,n=e.onResize,r=e.onResizeEnd,a=e.maxHeight,o=i.useState(null),u=o[0],l=o[1];i.useEffect((function(){var e,n;l(null!==(e=null===(n=t.current)||void 0===n?void 0:n.offsetHeight)&&void 0!==e?e:null)}),[t]);return Ne("div",{onMouseDown:(0,O.default)({initialElementDimension:u,minDimension:200,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:O.ResizeOrientation.VERTICAL}),className:Oe.default.resizeHandle})}De.displayName="ResizeHandle";var Le=Ne(re.AppLayerContainer,{}),ke=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Me(e,t)}(t,e);function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o]
;(t=e.call.apply(e,[this].concat(a))||this)._prevLayout=ge.ChannelLayouts.MINIMUM;t._wrapperRef=i.createRef();t._contentRef=i.createRef();t._videoBackgroundTooltipTimeout=new d.Timeout;t._lastIdleProps=null;t.state={resizedHeight:N.default.callHeaderHeight};t.handleFullScreenChange=function(){var e=t.getRootNode();null!=e&&((0,ce.isFullScreen)(e,t.currentDocument)||t.props.layout!==ge.ChannelLayouts.FULL_SCREEN||t.handleFullScreen())};t.handleFullScreen=function(){var e=t.getRootNode();if(null!=e)if(t.props.layout!==ge.ChannelLayouts.FULL_SCREEN){t._prevLayout=t.props.layout;t.handleChangeLayout(ge.ChannelLayouts.FULL_SCREEN);(0,ce.requestFullScreen)(e,_.default.resized)}else t.maybeLeaveFullScreen()};t.maybeLeaveFullScreen=function(){var e=t.getRootNode();if(null!=e&&t.props.layout===ge.ChannelLayouts.FULL_SCREEN){t.handleChangeLayout(t._prevLayout);(0,ce.exitFullScreen)(e,_.default.resized,t.currentDocument)}};t.handleToggleLayout=function(){
t.handleChangeLayout(t.props.layout===ge.ChannelLayouts.NORMAL?ge.ChannelLayouts.NO_CHAT:ge.ChannelLayouts.NORMAL)};t.handleChangeLayout=function(e){var n=t.props,r=n.channel,a=n.appContext;if(n.layout!==e){f.default.updateLayout(r.id,e,a);e===ge.ChannelLayouts.FULL_SCREEN&&r.isPrivate()&&ue.ComponentDispatch.dispatch(ge.ComponentActions.TEXTAREA_BLUR)}};t.handleDisconnect=function(){t.props.layout===ge.ChannelLayouts.FULL_SCREEN&&t.handleFullScreen()};t.handleContextMenu=function(e,r){var a,o,u=t.props,s=u.channel,d=u.appContext,c=u.layout,f=!(c===ge.ChannelLayouts.FULL_SCREEN)&&!t.inPopout,v={onClose:function(){var e;return null===(e=t._lastIdleProps)||void 0===e?void 0:e.onAllowIdle("menu")},context:d};null===(a=t._lastIdleProps)||void 0===a||a.onPreventIdle("menu");null===(o=t._lastIdleProps)||void 0===o||o.onActive();switch(e.type){case me.ParticipantTypes.HIDDEN_STREAM:case me.ParticipantTypes.STREAM:(0,p.openContextMenuLazy)(r,Pe(regeneratorRuntime.mark((function r(){var a,o
;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return n.e(96434).then(n.bind(n,596434));case 2:a=r.sent;o=a.default;return r.abrupt("return",(function(n){return i.createElement(o,Ce({},n,{stream:e.stream,exitFullscreen:t.maybeLeaveFullScreen,appContext:d}))}));case 5:case"end":return r.stop()}}),r)}))),v);return;case me.ParticipantTypes.USER:var y=ee.default.getUser(e.id);if(null!=y)switch(s.type){case ge.ChannelTypes.DM:return(0,p.openContextMenuLazy)(r,Pe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(81085)]).then(n.bind(n,81085));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return Ne(ve.default.Provider,{value:d},void 0,i.createElement(r,Ce({},e,{showChannelCallItems:!0,showMediaItems:!0,user:y,channel:s,showModalItems:f})))}));case 5:case"end":return e.stop()}}),e)}))),v)
;case ge.ChannelTypes.GROUP_DM:return(0,p.openContextMenuLazy)(r,Pe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(66822)]).then(n.bind(n,566822));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return Ne(ve.default.Provider,{value:d},void 0,i.createElement(r,Ce({},e,{showChannelCallItems:!0,showMediaItems:!0,showChatItems:c===ge.ChannelLayouts.MINIMUM||c===ge.ChannelLayouts.NORMAL,user:y,channel:s,showModalItems:f})))}));case 5:case"end":return e.stop()}}),e)}))),v);case ge.ChannelTypes.GUILD_VOICE:var h=s.getGuildId();(0,l.default)(null!=h,"GuildID null for guild voice channel");return(0,p.openContextMenuLazy)(r,Pe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(41501),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return Ne(ve.default.Provider,{value:d},void 0,i.createElement(r,Ce({},e,{showMediaItems:!0,showChannelCallItems:!0,showChatItems:!1,user:y,channelId:s.id,guildId:h,showModalItems:f})))}));case 5:case"end":return e.stop()}}),e)}))),v)}}};t.handleCallResize=function(e){t.setState({resizedHeight:e})};t.handleSelectParticipant=function(e,n){var r=t.props,a=r.channel,o=r.selectedParticipant,i=r.allActiveStreams,u=r.inCall,l=r.mode;if((0,me.isStreamParticipant)(e)){v.default.selectVoiceChannel(a.id);if(0===i.filter((function(t){return(0,b.encodeStreamKey)(t)===e.id&&t.state!==ge.ApplicationStreamStates.ENDED})).length){if(!(0,C.canWatchStream)(a,te.default,Z.default,X.default))return;(0,y.watchStream)((0,b.decodeStreamKey)(e.id),{forceMultiple:n.shiftKey})}}
u&&l===ge.ChannelModes.VIDEO&&((null==o?void 0:o.id)===e.id?f.default.selectParticipant(a.id,null):f.default.selectParticipant(a.id,e.id))};t.handleOpenPopout=function(){var e=t.props.channel,n=e.getGuildId();null!=n&&(0,A.transitionTo)((0,ie.previousTextChannelRouteForGuild)(n));T.openChannelCallPopout(e)};t.handleStayOnTop=function(e){T.setAlwaysOnTop(ge.PopoutWindowKeys.CHANNEL_CALL_POPOUT,e)};t.handleClosePopout=function(){T.close(ge.PopoutWindowKeys.CHANNEL_CALL_POPOUT)};t.handleFullscreenParticipant=function(e,n){var r=t.props,a=r.layout,o=r.selectedParticipant,i=a===ge.ChannelLayouts.FULL_SCREEN;(!i&&(null==o?void 0:o.id)!==e.id||i&&(null==o?void 0:o.id)===e.id)&&t.handleSelectParticipant(e,n);t.handleFullScreen()};t.renderRegionSelect=function(){var e,n=t.props,r=n.call,a=n.channel,o=n.layout;t.inPopout||o===ge.ChannelLayouts.FULL_SCREEN||null==r||a.isManaged()||(e=Ne(m.default,{call:r}));return Ne(ne.default,{justify:ne.default.Justify.END},void 0,e)}
;t.renderBottomCenter=function(){var e=t.props,n=e.channel,r=e.mode,a=e.inCall,o=e.layout;return a||o===ge.ChannelLayouts.MINIMUM||o===ge.ChannelLayouts.NORMAL?Ne(R.default,{exitFullScreen:t.maybeLeaveFullScreen,channel:n,mode:r,onDisconnectCall:t.handleDisconnect}):null};t.renderBottomLeft=function(){var e=t.props,n=e.layout,r=e.mentionCount,a=e.channel,o=e.appContext,u=e.useNewInviteButton,l=e.selectedParticipant,s=e.inCall,d=e.soundboardEnabled;if(!s)return null;var c=n===ge.ChannelLayouts.NO_CHAT?G.default.Directions.UP:G.default.Directions.DOWN,f=[ge.ChannelLayouts.FULL_SCREEN,ge.ChannelLayouts.NO_CHAT].includes(n),p=n===ge.ChannelLayouts.FULL_SCREEN?function(){t._prevLayout=ge.ChannelLayouts.NORMAL;t.handleFullScreen()}:t.handleToggleLayout,v=t.viewProperties,y=v.canChangeLayout,h=v.canInvite,_=u?Ne(D.default,{channel:a,stream:(null==l?void 0:l.type)===me.ParticipantTypes.STREAM?(0,b.decodeStreamKey)(l.id):void 0,
applicationId:(null==l?void 0:l.type)===me.ParticipantTypes.ACTIVITY?l.id:void 0,appContext:o,className:Oe.default.leftTrayIcon,exitFullScreen:t.maybeLeaveFullScreen,analyticsLocation:a.type===ge.ChannelTypes.GUILD_VOICE?ge.AnalyticsPages.GUILD_CHANNEL:ge.AnalyticsPages.DM_CHANNEL}):Ne(W.default,{channel:a,stream:(null==l?void 0:l.type)===me.ParticipantTypes.STREAM?(0,b.decodeStreamKey)(l.id):void 0,appContext:o,className:Oe.default.leftTrayIcon,exitFullScreen:t.maybeLeaveFullScreen,analyticsLocation:a.type===ge.ChannelTypes.GUILD_VOICE?ge.AnalyticsPages.GUILD_CHANNEL:ge.AnalyticsPages.DM_CHANNEL});return i.createElement(i.Fragment,null,d?Ne(H.default,{className:Oe.default.leftTrayIcon,channel:a}):null,h?_:null,y?Ne(ne.default,{className:Oe.default.iconWrapper,align:ne.default.Align.CENTER,grow:0},void 0,Ne(G.default,{label:f?Ee.default.Messages.SHOW_CHAT:Ee.default.Messages.HIDE_CHAT,direction:c,className:Oe.default.leftTrayIcon,onClick:p}),f&&r>0?Ne(ae.NumberBadge,{
className:Oe.default.badge,count:r}):null):null,(null==l?void 0:l.type)===me.ParticipantTypes.STREAM||(null==l?void 0:l.type)===me.ParticipantTypes.ACTIVITY?Ne(k.default,{},void 0,Ne(_e.default,{className:Oe.default.viewersButton,participant:l,maxVisibleUsers:4,guildId:a.getGuildId(),channelId:a.id,disableInteraction:t.inPopout||n===ge.ChannelLayouts.FULL_SCREEN})):null)};t.renderBottomRight=function(){var e=t.props,n=e.popoutWindow,r=e.popoutWindowAlwaysOnTop,a=e.currentUserId,o=e.selectedParticipant,u=t.viewProperties,l=u.canFullscreen,s=u.canStayOnTop,d=u.canPopout,c=u.useTheme;return i.createElement(i.Fragment,null,null!=o&&o.type!==me.ParticipantTypes.ACTIVITY&&o.user.id!==a?Ne(Y.default,{context:(0,pe.default)(o.type),userId:o.user.id,currentWindow:t.inPopout?null!=n?n:void 0:window,sliderClassName:Oe.default.volumeSlider}):null,s?Ne(B.default,{className:Oe.default.rightTrayIcon,popoutWindowAlwaysOnTop:r,onToggleStayOnTop:t.handleStayOnTop}):null,d?Ne(V.default,{themeable:c,
popoutOpen:t.popoutOpen,className:Oe.default.rightTrayIcon,onOpenPopout:t.handleOpenPopout,onClosePopout:t.handleClosePopout}):null,l?Ne(x.default,{themeable:c,node:t.getRootNode(),guestWindow:n,className:Oe.default.rightTrayIcon,onClick:t.handleFullScreen}):null)};t.renderChatButton=function(e){var n=e.className,r=e.showingClassName,a=t.props,o=a.channel;return a.chatOpen||t.popoutOpen&&!t.inPopout?null:Ne(F.default,{channelId:o.id,className:n,showingClassName:r})};t.renderChatToasts=function(){var e=t.props,n=e.showChatToasts,r=e.chatOpen,a=e.channel;return!n||r||t.popoutOpen&&!t.inPopout?null:Ne(j.default,{className:Oe.default.chatToasts,channelId:a.id})};t.renderHeader=function(){var e=t.props,n=e.renderExternalHeader,r=e.channel,a=e.appContext,o=e.layout,i=e.chatOpen,u=e.inCall,l=t.viewProperties,s=l.useExternalHeader,d=l.canSelectRegion,c=l.renderHeader,f=o===ge.ChannelLayouts.FULL_SCREEN;return c?Ne(k.default,{},void 0,Ne("div",{className:Oe.default.headerWrapper
},void 0,s?null==n?void 0:n():Ne(he.default,{channel:r,appContext:a,inCall:u,inPopout:t.inPopout,isFullScreen:f,isChatOpen:i||t.popoutOpen&&!t.inPopout,exitFullScreen:t.maybeLeaveFullScreen})),d?t.renderRegionSelect():null):null};return t}var r=t.prototype;r.getRootNode=function(){var e,t;return(null!==(e=null===(t=this.props.popoutWindow)||void 0===t?void 0:t.window)&&void 0!==e?e:window).document.getElementById("app-mount")};r.componentDidMount=function(){var e=this.props,t=e.channel,n=e.layout;this.currentDocument.addEventListener(ce.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange);oe.default.track(ge.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,Ce({video_layout:this.inPopout?"popout":n},(0,I.collectVoiceAnalyticsMetadata)(t.id)))};r.componentWillUnmount=function(){this._videoBackgroundTooltipTimeout.stop();this.currentDocument.removeEventListener(ce.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange);this.inPopout&&(0,le.isOSX)()||this.maybeLeaveFullScreen()}
;r.componentDidUpdate=function(e){var t=this,n=this.props,r=n.participantsOpen,a=n.inCall,o=n.mode,i=n.layout,u=this.getRootNode();null!=u&&e.mode===ge.ChannelModes.VIDEO&&o===ge.ChannelModes.VOICE&&(0,ce.isFullScreen)(u,this.currentDocument)&&(0,ce.exitFullScreen)(u,_.default.resized,this.currentDocument);if(e.participantsOpen!==r||i!==e.layout){var l;null===(l=this._contentRef.current)||void 0===l||l.triggerResize()}e.inCall&&!a&&this.inPopout&&c.default.wait((function(){return t.handleClosePopout()}))};r.renderContent=function(e){var t=this.props,n=t.selectedParticipant,r=t.inCall,a=t.mode,o=t.popoutWindow,u=t.participantsOpen,l=t.participants,s=t.filteredParticipants,d=t.participantsVersion,c=t.channel,f=t.guild,p=t.layout,v=t.appContext,y=p===ge.ChannelLayouts.MINIMUM,h=y||p===ge.ChannelLayouts.NORMAL,_=r&&a===ge.ChannelModes.VIDEO,m=c.isGuildVoice()&&(null==f?void 0:f.hasFeature(ge.GuildFeatures.TEXT_IN_VOICE_ENABLED));this._lastIdleProps=e;return Ne(ve.default.Provider,{value:v
},void 0,i.createElement(U.default,Ce({renderHeader:this.renderHeader,renderBottomLeft:this.renderBottomLeft,renderBottomCenter:this.renderBottomCenter,renderBottomRight:this.renderBottomRight,renderChatButton:m?this.renderChatButton:void 0,renderChatToasts:m?this.renderChatToasts:void 0},e,{screenMessage:this.screenMessage,disableGradients:y,idle:r&&!y&&e.idle}),!this.popoutOpen||this.inPopout?i.createElement(w.default,{ref:this._contentRef,inCall:r,paused:this.paused,channel:c,guild:f,participants:l,filteredParticipants:s,participantsVersion:d,selectedParticipant:_?n:null,layout:p,idle:e.idle,mode:a,onSelectParticipant:this.handleSelectParticipant,onContextMenuParticipant:this.handleContextMenu,showParticipants:u&&!h,popoutWindow:this.inPopout?o:null}):null))};r.render=function(){
var e,t,n=this,r=this.props,a=r.layout,o=r.channel,l=r.guild,s=r.mode,d=r.chatOpen,c=r.appContext,f=r.width,p=r.maxHeight,v=this.state.resizedHeight,y=s===ge.ChannelModes.VIDEO,h=f-550,_=a!==ge.ChannelLayouts.NO_CHAT&&a!==ge.ChannelLayouts.FULL_SCREEN&&null!=p;return i.createElement("div",{className:(0,u.default)(Oe.default.wrapper,Re[a],we[c],(e={},e[Oe.default.poppedOut]=this.popoutOpen&&!this.inPopout&&a!==ge.ChannelLayouts.NO_CHAT&&o.isPrivate(),e[Oe.default.video]=y,e[Oe.default.chatSidebarOpen]=d,e)),ref:function(e){n._wrapperRef.current=e;n.props.wrapperRef.current=e},style:_&&null!=v?{minHeight:200,maxHeight:p,height:v}:void 0},Ne("div",{className:(0,u.default)(Oe.default.callContainer,(t={},t[(0,se.getThemeClass)(ge.ThemeTypes.DARK)]=y,t))},void 0,Ne(L.default,{timeout:2e3},void 0,(function(e){return n.viewProperties.usePositionLayer?Ne(re.AppLayerProvider,{},void 0,n.renderContent(e),Le):n.renderContent(e)}))),_&&Ne(De,{maxHeight:p,resizableNode:this._wrapperRef,
onResize:this.handleCallResize,onResizeEnd:this.props.updateStoredCallHeaderHeight}),d&&(!this.popoutOpen||this.inPopout)&&Ne(ye.default,{channel:o,guild:l,maxWidth:h}))};!function(e,t,n){t&&Ae(e.prototype,t);n&&Ae(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"nativePopoutSupported",get:function(){return le.isPlatformEmbedded&&de.default.supportsFeature(ge.NativeFeatures.POPOUT_WINDOWS)}},{key:"popoutSupported",get:function(){return!le.isPlatformEmbedded||this.nativePopoutSupported}},{key:"popoutOpen",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}},{key:"currentDocument",get:function(){var e=this.props.popoutWindow;return null!=e&&this.popoutOpen&&this.inPopout?e.document:document}},{key:"screenMessage",get:function(){return this.popoutOpen&&!this.inPopout?{mainText:Ee.default.Messages.POPOUT_PLAYER_OPENED}:null}},{key:"paused",get:function(){return this.popoutOpen&&!this.inPopout}},{key:"inPopout",get:function(){
return this.props.appContext===ge.AppContext.POPOUT}},{key:"viewProperties",get:function(){var e=this.props,t=e.layout,n=e.mode,r=e.channel,a=e.inCall,o=n===ge.ChannelModes.VIDEO&&a&&!(this.popoutOpen&&!this.inPopout),i=n===ge.ChannelModes.VIDEO&&a&&!this.inPopout&&this.popoutSupported,u=n!==ge.ChannelModes.VOICE&&r.isPrivate()&&!this.inPopout&&a,l=r.type===ge.ChannelTypes.GUILD_VOICE,s=t===ge.ChannelLayouts.MINIMUM||t===ge.ChannelLayouts.NORMAL,d=this.inPopout&&this.nativePopoutSupported,c={renderHeader:!0,useTheme:!1,usePositionLayer:!1,useExternalHeader:s,canInvite:l,canPopout:i,canFullscreen:o,canSelectRegion:r.isPrivate(),canChangeLayout:u,canStayOnTop:d};if(!a)return Ce({},c,{canFullscreen:o,useTheme:!0});switch(t){case ge.ChannelLayouts.FULL_SCREEN:return Ce({},c,{canPopout:!this.inPopout&&this.popoutOpen&&c.canPopout,usePositionLayer:!0});case ge.ChannelLayouts.MINIMUM:return Ce({},c,{canPopout:!1});case ge.ChannelLayouts.NO_CHAT:case ge.ChannelLayouts.NORMAL:return Ce({},c)}}
}]);return t}(i.PureComponent);ke.displayName="ChannelCall";function je(e){var t,n=e.channel,r=e.appContext,a=e.renderExternalHeader,o=e.maxHeight,u=(0,E.default)(),l=u.width,d=void 0===l?0:l,c=u.ref,f=(0,s.useStateFromStores)([J.default],(function(){return J.default.getVoiceChannelId()===n.id})),p=(0,s.useStateFromStoresObject)([fe.default],(function(){var e=r===ge.AppContext.POPOUT,t=fe.default.getMode(n.id);e&&(t=ge.ChannelModes.VIDEO);var a=t===ge.ChannelModes.VIDEO?fe.default.getLayout(n.id,r):ge.ChannelLayouts.MINIMUM;e&&a!==ge.ChannelLayouts.FULL_SCREEN&&(a=ge.ChannelLayouts.NO_CHAT);return{mode:t,layout:a,selectedParticipant:t!==ge.ChannelModes.VOICE?fe.default.getSelectedParticipant(n.id):null,participants:fe.default.getParticipants(n.id),filteredParticipants:fe.default.getFilteredParticipants(n.id),participantsOpen:fe.default.getParticipantsOpen(n.id),chatOpen:fe.default.getChatOpen(n.id),participantsVersion:fe.default.getParticipantsVersion(n.id)}
}),[n.id,n.type,f]),v=p.participants,y=p.filteredParticipants,_=p.participantsVersion,m=p.mode,O=p.layout,I=p.participantsOpen,b=p.chatOpen,C=p.selectedParticipant,T=(0,s.useStateFromStoresArray)([z.default],(function(){return z.default.getAllActiveStreams()})),A=(0,s.useStateFromStoresObject)([z.default],(function(){return{selectedStream:null!=C?z.default.getActiveStreamForStreamKey(C.id):null}}),[C]).selectedStream,R=(0,s.useStateFromStores)([Z.default],(function(){return Z.default.getGuild(n.getGuildId())})),w=(0,s.useStateFromStores)([q.default],(function(){return q.default.getCall(n.id)}),[n.id]),D=(0,s.useStateFromStores)([Q.default],(function(){return Q.default.getMentionCount(n.id)}),[n.id]),L=(0,s.useStateFromStores)([K.default],(function(){return K.default.getId()})),k=(0,s.useStateFromStoresObject)([P.default],(function(){return{popoutWindow:P.default.getWindow(ge.PopoutWindowKeys.CHANNEL_CALL_POPOUT),
popoutWindowAlwaysOnTop:P.default.getIsAlwaysOnTop(ge.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}})),j=k.popoutWindow,U=k.popoutWindowAlwaysOnTop,G=(0,s.useStateFromStores)([$.default],(function(){return $.default.getToastsEnabled(n.id)})),F=(0,s.useStateFromStores)([N.default],(function(){return N.default.callHeaderHeight})),x=i.useCallback((function(e){h.default.updatedUnsyncedSettings({callHeaderHeight:e})}),[]),W=null!==(t=null==R?void 0:R.id)&&void 0!==t?t:null,V=(0,S.default)(W);i.useEffect((function(){var e=!1,t=null,n=function(){var n=Pe(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!f||m!==ge.ChannelModes.VIDEO){n.next=5;break}n.next=3;return de.default.blockDisplaySleep();case 3:t=n.sent;e&&null!=t&&de.default.unblockDisplaySleep(t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n();return function(){null!=t?de.default.unblockDisplaySleep(t):e=!0}}),[f,m])
;var H=M.default.useExperiment({guildId:null!=W?W:""}).allowSoundboard;return Ne(g.default,{page:ge.AnalyticsPages.CHANNEL_CALL},void 0,Ne(ke,{channel:n,guild:R,participantsOpen:I,renderExternalHeader:a,appContext:r,call:w,popoutWindow:j,popoutWindowAlwaysOnTop:U,mentionCount:D,selectedStream:A,mode:m,inCall:f,participants:v,filteredParticipants:y,participantsVersion:_,layout:O,chatOpen:b,soundboardEnabled:H,currentUserId:L,selectedParticipant:C,allActiveStreams:T,useNewInviteButton:V,showChatToasts:G,storedCallHeaderHeight:F,updateStoredCallHeaderHeight:x,wrapperRef:c,width:d,maxHeight:o}))}je.displayName="ChannelCallConnected";var Ue=je;t.default=Ue},368464:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=b(n(667294)),o=n(536211),i=S(n(229132)),u=S(n(914789)),l=b(n(174851)),s=S(n(805918)),d=n(856746),c=n(687549),f=S(n(893160)),p=S(n(37985)),v=S(n(259530)),y=n(598671),h=S(n(878556)),_=S(n(825724)),m=n(770348),g=S(n(247001)),E=S(n(798123)),O=S(n(974290));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t=e.channel,n=e.guild,r=e.maxWidth,S=(0,o.useStateFromStores)([_.default,f.default],(function(){var e;if(_.default.getChatHistoryCollapsed(t.id)&&f.default.getChannelId()===t.id)return null===(e=f.default.getRTCConnection())||void 0===e?void 0:e.getCreatedTime()})),I=a.useState((function(){return null!=S}))[0],b=a.createElement(a.Fragment,null,C(h.default.Icon,{icon:v.default,tooltip:g.default.Messages.CLOSE,onClick:function(){return i.default.updateChatOpen(t.id,!1)}}));return C(l.default,{sidebarType:l.ChatSidebarType.CallChatSidebar,maxWidth:r},void 0,C(s.default,{channel:t,draftType:c.DraftType.ChannelMessage}),C(h.default,{toolbar:b,
"aria-label":g.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,C(h.default.Icon,{icon:p.default,disabled:!0,"aria-label":g.default.Messages.TEXT_CHANNEL}),C(h.default.Title,{onContextMenu:function(){},onClick:function(){}},void 0,t.name),C(y.TextBadge,{text:"BETA",className:E.default.betaTag,color:m.Colors.BRAND_NEW_500})),C("div",{className:O.default.chat},void 0,C(u.default,{channel:t,guild:n,chatInputType:d.ChatInputTypes.SIDEBAR,filterAfterTimestamp:I?S:void 0},t.id)))}T.displayName="ChannelCallChatSidebar";var P=T;t.default=P},789659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=j;var r,a=A(n(667294)),o=n(536211),i=A(n(538930)),u=T(n(125327)),l=T(n(469487)),s=T(n(678928)),d=T(n(786661)),c=n(902399),f=T(n(891036)),p=T(n(116780)),v=T(n(562475)),y=T(n(878556)),h=T(n(776360)),_=n(864489),m=n(518802),g=T(n(922629)),E=T(n(825724)),O=T(n(156511)),S=n(859089),I=n(478036),b=T(n(247001)),C=T(n(34973));function T(e){return e&&e.__esModule?e:{
default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(){return D.apply(this,arguments)}function D(){return(D=R(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,_.isOSX)()||!_.isPlatformEmbedded){e.next=14;break}e.next=3;return null===(n=(r=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===n?void 0:n.call(r);case 3:e.t1=t=e.sent;e.t0=null!==e.t1;if(!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t;e.next=12;break;case 11:e.t2="Maximize";case 12:"Minimize"===(a=e.t2)?g.default.minimize():"Maximize"===a&&g.default.maximize();case 14:case"end":return e.stop()}}),e)
})))).apply(this,arguments)}function L(e){var t=e.user,n=e.channel,r=e.stream,o=(0,p.default)(n,t,r);return null==t||null==r?null:a.createElement(a.Fragment,null,M(i.default,{className:C.default.avatar,size:i.Sizes.SIZE_24,user:t,animate:!1}),M(h.default,{className:C.default.playingText,size:h.default.Sizes.SIZE_16,color:h.default.Colors.CUSTOM},void 0,o))}function k(e){var t,n=e.focusedApplication,r=e.focusedParticipant,o=e.channel,i=(0,c.useActiveEvent)(o.id),l=null!=i;if((null==r?void 0:r.type)===S.ParticipantTypes.ACTIVITY)null!=n&&(t=a.createElement(a.Fragment,null,M(y.default.Divider,{className:C.default.divider}),M(v.default,{game:n,className:C.default.activityIcon}),M(h.default,{className:C.default.playingText,size:h.default.Sizes.SIZE_16,color:h.default.Colors.CUSTOM},void 0,(0,u.default)(n.name,r.activityType))));else if((null==r?void 0:r.type)===S.ParticipantTypes.STREAM){var s=r.user,d=r.stream;t=a.createElement(a.Fragment,null,M(y.default.Divider,{
className:C.default.divider}),M(L,{user:s,channel:o,stream:d}))}else l&&(t=M(f.default,{guildEvent:i}));return M("div",{className:C.default.container},void 0,t)}k.displayName="ChannelTitle";function j(e){var t=e.channel,n=e.appContext,r=e.inCall,a=e.inPopout,i=e.isFullScreen,u=e.isChatOpen,c=e.exitFullScreen,f=(0,o.useStateFromStoresObject)([E.default],(function(){return{focusedParticipant:E.default.getSelectedParticipant(t.id),participantsOpen:E.default.getParticipantsOpen(t.id)}}),[t.id]).focusedParticipant,p=(0,s.default)(t),v=(0,d.default)(t),h=(0,l.default)((null==f?void 0:f.type)===S.ParticipantTypes.ACTIVITY?[f.id]:[])[0],_=b.default.Messages.VOICE_CHANNEL;t.isDM()?_=b.default.Messages.DM:t.isGroupDM()&&(_=b.default.Messages.GROUP_DM);return M(y.default,{onDoubleClick:w,transparent:!0,className:(0,m.getThemeClass)(I.ThemeTypes.DARK),toolbar:M(O.default,{channel:t,appContext:n,inCall:r,inPopout:a,isFullScreen:i,isChatOpen:u,exitFullScreen:c})},void 0,null!=v?M(y.default.Icon,{
icon:v,disabled:!0,"aria-label":_}):null,M(y.default.Title,{},void 0,p),M(k,{focusedApplication:h,focusedParticipant:f,channel:t}))}j.displayName="ChannelCallHeader"},156511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel,n=e.appContext,r=e.inCall,o=e.inPopout,i=e.isFullScreen,c=e.isChatOpen,O=e.exitFullScreen,I=t.id,C=(0,u.useStateFromStoresObject)([P.default],(function(){return{selectedParticipant:P.default.getSelectedParticipant(I),voiceParticipantsHidden:P.default.getVoiceParticipantsHidden(I),userParticipantCount:P.default.getUserParticipantCount(I)}}),[t.id]),w=C.voiceParticipantsHidden,L=C.selectedParticipant,k=C.userParticipantCount,F=function(e){return(0,u.useStateFromStores)([E.default],(function(){var t;return null===(t=E.default.getGuild(e.guild_id))||void 0===t?void 0:t.hasFeature(R.GuildFeatures.TEXT_IN_VOICE_ENABLED)}),[e])}(t),x=(0,p.usePreventIdle)("popup"),W=x.preventIdle,V=x.allowIdle,H=[];w&&H.push(j(G,{
channelId:I,guildId:t.guild_id},"current-speaker"));if((null==L?void 0:L.type)===N.ParticipantTypes.STREAM){H.push(j(f.default,{className:D.default.button,participant:L},"warning"));H.push(j(l.default,{size:T.default.Sizes.LARGE,className:D.default.button,participant:L,showQuality:!0},"live-indicator"))}var B=j(v.default,{},void 0,j(M.default,{channel:t}));w&&H.push(j(S.default,{position:S.default.Positions.BOTTOM,renderPopout:function(){return B}},"call-members-popout",(function(e,t){var n=t.isShown;return a.createElement(m.default,U({},e,{active:n,count:k,key:"call-members",className:D.default.button}))})));H.push(j(s.default,{guildId:t.guild_id},"guild-events-browser-button"));r&&H.push(null!=L?j(_.default,{className:D.default.button,channelId:I},"deselect-participant"):j(g.default,{className:D.default.button,channelId:I,isHorizontal:F},"select-participant"));F&&H.push(j(d.default,{onOpen:W,onClose:V,className:D.default.button},"recents"));H.push(j(S.default,{
position:S.default.Positions.BOTTOM,renderPopout:function(e){var t=e.closePopout;return j(v.default,{},void 0,j(A.default,{channelId:I,onClose:t,appContext:n,exitFullScreen:O}))}},"more-options-popout",(function(e,t){var n=t.isShown;return a.createElement(h.default,U({},e,{key:"more-options",active:n,className:D.default.lastButton}))})));if(F){if(!c){H.push(j(b.default.Divider,{className:D.default.divider},"divider"));H.push(j(y.default,{channelId:t.id,className:D.default.chatButtonSpacer}))}}else if(!o&&!i){H.push(j(b.default.Divider,{className:D.default.divider},"divider"));H.push(j(d.default,{className:D.default.button,onOpen:W,onClose:V},"recents"))}return a.createElement(a.Fragment,null,H)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=L(n(294184)),i=L(n(496486)),u=n(536211),l=L(n(57697)),s=L(n(981706)),d=L(n(386195)),c=L(n(183612)),f=L(n(697252)),p=n(134893),v=L(n(222935)),y=L(n(146529)),h=L(n(928221)),_=L(n(56396)),m=L(n(975577)),g=L(n(727012)),E=L(n(30098)),O=L(n(397228)),S=L(n(160629)),I=L(n(730977)),b=L(n(878556)),C=L(n(528739)),T=L(n(528175)),P=L(n(825724)),A=L(n(948861)),M=L(n(252986)),N=n(859089),R=n(770348),w=L(n(247001)),D=L(n(942751));function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e){var t=e.channelId,n=e.guildId,r=Date.now(),l=(0,u.useStateFromStores)([O.default,P.default],(function(){return(0,i.default)(O.default.getSpeakers()).map((function(e){return P.default.getParticipant(t,e)})).filter((function(e){return null!=e&&e.type===N.ParticipantTypes.USER&&!(0,c.default)(e)&&e.speaking})).sortBy((function(e){return-O.default.getSpeakingDuration(e.user.id,r)})).slice(0,3).value()}));return 0===l.length?null:a.createElement(a.Fragment,null,l.map((function(e,t){return j(I.default,{
position:I.default.Positions.BOTTOM,color:I.default.Colors.GREY,text:w.default.Messages.CHANNEL_CALL_CURRENT_SPEAKER.format({username:e.user.username})},e.id,(function(r){var i;return a.createElement(C.default,U({},r,{className:(0,o.default)(D.default.speaker,(i={},i[D.default.last]=t===l.length-1,i)),user:e.user,speaking:!0,collapsed:!0,guildId:n}))}))})))}},121791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(636602)),a=f(n(740207)),o=f(n(177230)),i=f(n(902305)),u=f(n(635014)),l=f(n(834162)),s=f(n(949898)),d=n(770348),c=n(376293);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=new Set,_=new Set,m=null;function g(){for(var e,t=v(h);!(e=t()).done;){var n=e.value;a.default.setDisableLocalVideo(n,!1,c.MediaEngineContextTypes.DEFAULT,!1)}_.clear();h.clear()}var E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).handleWindowFocus=function(e){e.focused&&g()};t.handleVoiceChannelSelect=function(e){var t=e.channelId;if(t!==m){g();m=t}};t.handlePopoutChange=function(){i.default.getWindowFocused(d.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&g()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(d.ActionTypes.RTC_CONNECTION_VIDEO,this.handleIncomingVideo);r.default.subscribe(d.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED,this.handleManualLocalVideoToggle);r.default.subscribe(d.ActionTypes.WINDOW_FOCUS,this.handleWindowFocus);r.default.subscribe(d.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect);i.default.addChangeListener(this.handlePopoutChange)};n._terminate=function(){r.default.unsubscribe(d.ActionTypes.RTC_CONNECTION_VIDEO,this.handleIncomingVideo);r.default.unsubscribe(d.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED,this.handleManualLocalVideoToggle);r.default.unsubscribe(d.ActionTypes.WINDOW_FOCUS,this.handleWindowFocus)
;r.default.unsubscribe(d.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect);i.default.removeChangeListener(this.handlePopoutChange);g();m=null};n.handleIncomingVideo=function(e){var t=e.userId,n=e.context,r=e.streamId;if(n===c.MediaEngineContextTypes.DEFAULT&&null!=r){var o=null!=l.default.getCurrentGame(),f=s.default.isFocused(),p=i.default.getWindowFocused(d.PopoutWindowKeys.CHANNEL_CALL_POPOUT),v=u.default.isLocalVideoDisabled(t,n),y=_.has(t);if(o&&!f&&!p&&!v&&!y){h.add(t);a.default.setDisableLocalVideo(t,!0,n,!1)}}};n.handleManualLocalVideoToggle=function(e){var t=e.userId;if(e.persist){_.add(t);h.delete(t)}};return t}(o.default));t.default=E},948861:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;h(n(667294));var r,a=n(536211),o=h(n(145122)),i=v(n(825724)),u=v(n(856015)),l=v(n(48712)),s=v(n(845442)),d=v(n(681064)),c=v(n(630601)),f=n(859089),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function m(e){var t=e.channelId,n=e.onClose,r=e.appContext,v=e.exitFullScreen,y=e.onSelect,h=(0,a.useStateFromStores)([i.default],(function(){return i.default.getSelectedParticipant(t)})),m=(null==h?void 0:h.type)===f.ParticipantTypes.STREAM?h.stream:null;return _(o.default,{navId:"channel-call-overflow-popout",style:o.MenuStyle.FLEXIBLE,onClose:n,"aria-label":p.default.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,onSelect:y},void 0,(0,u.default)(t),(0,s.default)(),(0,l.default)(t),(0,c.default)(t),(0,d.default)(m,r,v))}m.displayName="ChannelCallOverflowMenu"},252986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=f(n(692244)),i=f(n(487372)),u=f(n(776360)),l=f(n(582945)),s=n(770348),d=f(n(247001)),c=f(n(498082));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.channel,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getVoiceStatesForChannel(t)}))
;return v("div",{className:c.default.root},void 0,v(u.default,{size:u.default.Sizes.SIZE_12,className:c.default.header},void 0,d.default.Messages.CHANNEL_CALL_MEMBERS_POPOUT_HEADER.format({count:n.length})),v(l.default,{className:c.default.scroller},void 0,v(o.default,{allowDragging:!1,allowPreviews:!1,className:c.default.voiceUsers,channel:t,voiceStates:n,collapsed:!1,location:s.AnalyticsLocations.CHANNEL_CALL})))}y.displayName="ChannelCallParticipantsPopout"},297452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=J;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}(n(667294)),o=V(n(294184)),i=n(248088),u=n(536211),l=V(n(88500)),s=V(n(72690)),d=V(n(136873)),c=V(n(61689)),f=n(460784),p=V(n(678928)),v=n(139982),y=n(659022),h=n(700192),_=V(n(712594)),m=V(n(373115)),g=V(n(770404)),E=V(n(493051)),O=n(143414),S=V(n(643779)),I=V(n(645675)),b=V(n(635014)),C=V(n(728429)),T=V(n(949898)),P=V(n(956117)),A=V(n(160629)),M=V(n(80828)),N=V(n(259530)),R=V(n(57754)),w=V(n(776360)),D=n(518802),L=V(n(825724)),k=V(n(932018)),j=n(770348),U=n(942675),G=n(376293),F=V(n(247001)),x=V(n(299005)),W=V(n(480798));function V(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function Y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z={width:232,height:315},K={width:232,height:267},$=475,q=267,Z=Y(M.default,{});function X(e){var t=e.header,n=b.default.getCameraComponent(),r=(0,u.useStateFromStores)([b.default],(function(){return b.default.getVideoDeviceId()})),o=(0,_.default)();a.useEffect((function(){var e=C.default.getCurrentUser();if(o&&null!=e){var t=(0,y.getLastUsedVideoBackgroundOption)(e);(0,h.applyBackgroundOptionPreview)(t,r,{track:!1}).catch(j.NOOP)}}),[o,r]);return Y("div",{className:x.default.previewRoot},void 0,Z,Y("div",{className:x.default.preview},void 0,Y(n,{disabled:!1,deviceId:r,width:$,
height:q})),Y("div",{className:x.default.previewChannelHeader},void 0,t))}X.displayName="CameraPreview";function Q(e){var t=e.canVideo,n=e.channel,r=e.numVideoDevices,a=(0,m.default)(),i=a.cameraUnavailable,u=a.enabled,s=(0,g.default)(n);return Y("div",{className:x.default.actions},void 0,Y(O.CenterControlButton,{iconComponent:N.default,color:"red",className:x.default.actionButton,label:F.default.Messages.DISMISS,onClick:function(){return l.default.stopRinging(n.id)}}),t&&Y(A.default,{renderPopout:function(e){var t=e.closePopout;return Y(k.default,{onClose:t})},position:A.default.Positions.TOP,align:A.default.Align.CENTER,animation:A.default.Animation.FADE},void 0,(function(e,t){var a=e.onClick,o=t.isShown;return Y(I.default,{join:!0,enabled:u,color:"green",centerButton:!0,hasPermission:s,cameraUnavailable:i,channel:n,onPopoutClick:r>1?a:null,className:x.default.actionButton,popoutOpen:o,onCameraUnavailable:E.default,onChange:function(){d.default.selectVoiceChannel(n.id,!0);(0,
v.transitionToGuild)(j.ME,n.id)}})})),Y(S.default,{channel:n,color:"green",centerButton:!0,className:(0,o.default)(x.default.actionButton,x.default.last),onClick:function(){return d.default.selectVoiceChannel(n.id)}}))}Q.displayName="CallActionButtons";function J(e){var t,n=e.animatedStyle,r=e.y,d=e.x,v=e.channel,y=a.useState(!1),h=y[0],_=y[1],m=(0,f.getChannelIconURL)(v),g=(0,p.default)(v),E=(0,u.useStateFromStoresArray)([b.default],(function(){return[b.default.supports(G.Features.VIDEO),Object.keys(b.default.getVideoDevices()).length]})),O=E[0],S=E[1],I=(0,u.useStateFromStores)([T.default],(function(){return T.default.isFocused()})),C=(0,u.useStateFromStores)([L.default],(function(){return L.default.getMode(v.id)})),A=a.useCallback((function(e){null!=e.top&&null!=e.left&&s.default.move(e.left,e.top)}),[]),M=(0,i.useSpring)({value:h?1:0,config:B({},i.config.stiff,{clamp:!0})});a.useEffect((function(){var e=function(e){e.keyCode===j.KeyboardKeys.ESCAPE&&l.default.stopRinging(v.id)}
;window.addEventListener("keydown",e);return function(){return window.removeEventListener("keydown",e)}}),[v]);var N=C===j.ChannelModes.VIDEO&&O&&S>0,k=a.createElement(a.Fragment,null,Y(R.default,{className:x.default.icon,ringing:I,src:null!=m?m:"",ringingType:R.default.RingingType.INCOMING,size:h?U.Sizes.SIZE_40:U.Sizes.SIZE_80}),Y("div",{className:x.default.titleGroup},void 0,Y(w.default,{color:w.default.Colors.CUSTOM,className:x.default.title,size:h?w.default.Sizes.SIZE_16:w.default.Sizes.SIZE_20},void 0,g),Y(w.default,{color:w.default.Colors.CUSTOM,className:x.default.subtitle,size:h?w.default.Sizes.SIZE_14:w.default.Sizes.SIZE_16},void 0,C===j.ChannelModes.VOICE?F.default.Messages.INCOMING_CALL_ELLIPSIS:F.default.Messages.INCOMING_VIDEO_CALL_ELLIPSIS))),V=N?z:K;return Y(c.default,{className:x.default.wrapper,selector:"."+x.default.root,initialPosition:{left:d,top:r},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:A,dragAnywhere:!0
},void 0,a.createElement(a.Fragment,null,Y(i.animated.div,{className:(0,o.default)(x.default.root,W.default.elevationHigh,(t={},t[x.default.previewCamera]=h,t),h?(0,D.getThemeClass)("dark"):null),style:B({},n,{width:M.value.interpolate([0,1],[V.width,$]),minHeight:M.value.interpolate([0,1],[V.height,q]),translateX:M.value.interpolate([0,1],[0,-1*Math.abs($-V.width)/2])})},void 0,h?Y(X,{header:k}):Y("div",{className:x.default.mainChannelInfo},void 0,k),Y(Q,{canVideo:N,channel:v,numVideoDevices:S}),N&&!h?Y(P.default,{size:P.default.Sizes.SMALL,fullWidth:!0,look:P.default.Looks.LINK,color:P.default.Colors.PRIMARY,className:x.default.previewButton,onClick:function(){return _(!0)}},void 0,F.default.Messages.INCOMING_CALL_PREVIEW_CAMERA):null)))}J.displayName="IncomingCallModal"},310268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e
};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=P(n(294184)),i=P(n(496486)),u=n(536211),l=n(91817),s=n(378158),d=P(n(762921)),c=P(n(284382)),f=P(n(607209)),p=P(n(728429)),v=P(n(265851)),y=P(n(160629)),h=n(730977),_=P(n(268478)),m=P(n(628551)),g=P(n(971639)),E=P(n(582945)),O=n(71246),S=P(n(29652)),I=n(859089),b=n(770348),C=P(n(247001)),T=P(n(168088));function P(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e,t){switch(e){case I.ParticipantTypes.ACTIVITY:return C.default.Messages.EMBEDDED_ACTIVITIES_NUM_PARTICIPANTS.format({numUsers:t});case I.ParticipantTypes.STREAM:return C.default.Messages.SPECTATORS.format({
numViewers:t});default:throw new Error("Unknown participant type.")}}function L(e){var t=e.users,n=e.disableInteraction,r=e.guildId,a=e.participantType,i=e.channelId,u=e.handleUserContextMenu,l=D(a,t.length);return w(v.default,{"aria-label":l,className:T.default.popoutWrapper},void 0,w(E.default,{className:T.default.scroller},void 0,w(g.default,{size:g.default.Sizes.SIZE_12,className:T.default.memberListHeader},void 0,l),w("div",{},void 0,t.map((function(e){var t;return w(d.default,{guildId:r||void 0,className:(0,o.default)(T.default.memberListItem,(t={},t[T.default.popoutDisabled]=n,t)),textClassName:T.default.memberListItemText,user:e,disablePopout:n,nick:S.default.getNickname(r,i,e),onContextMenu:function(t){return n?null:u(t,e)}},e.id)})))))}L.displayName="PopoutList";function k(e){var t=e.users,n=e.guildId,r=e.channelId,a=e.maxVisibleUsers,i=void 0===a?3:a,u=e.className,l=D(e.participantType,t.length),s=t.length<i?t.map((function(e){return w("div",{
className:T.default.viewersTooltipItem},e.id,S.default.getName(n,r,e))})):l;return w(h.TooltipContainer,{text:s,"aria-label":l},void 0,w("div",{className:(0,o.default)(T.default.viewers,u)},void 0,w(_.default,{className:T.default.viewersIcon}),w("span",{"aria-hidden":"true"},void 0,t.length)))}k.displayName="CompactUsers";var j=[];function U(e){var t=e.channelId,r=e.guildId,d=e.participant,v=e.className,h=e.compact,_=void 0!==h&&h,g=e.disableInteraction,E=void 0!==g&&g,S=e.maxVisibleUsers,C=void 0===S?3:S,P=a.useState(!1),A=P[0],N=P[1],D=a.useRef(new l.DelayedCall(150,(function(){return N(!1)}))),U=(0,u.useStateFromStoresArray)([f.default,p.default],(function(){if(d.type===I.ParticipantTypes.STREAM){var e=f.default.getViewerIds(d.id);return e.length>0?e.map((function(e){return p.default.getUser(e)})).filter(O.isNotNullish):j}return d.type===I.ParticipantTypes.ACTIVITY&&d.participants.size>0?Array.from(d.participants).map((function(e){return p.default.getUser(e)
})).filter(O.isNotNullish):j}),[d]),G=a.useCallback((function(){D.current.cancel();N(!0)}),[]),F=a.useCallback((function(){D.current.delay()}),[]),x=a.useCallback((function(e,t){G();(0,s.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,M({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:F})}),[F,G]);if(0===U.length)return null;if(_)return w(k,{maxVisibleUsers:C,users:U,guildId:r,channelId:t,className:v,participantType:d.type});var W=(0,i.default)(U).take(C).map((function(e){return w(m.default,{src:e.getAvatarURL(r||void 0,24),"aria-label":e.username,size:m.default.Sizes.SIZE_24,className:T.default.viewer},e.id)})).value();U.length>C&&(W[W.length-1]=w("div",{className:T.default.overflow
},"overflow","+",U.length-C+1));return w(c.default,{section:b.AnalyticsSections.STREAM_VIEWER_POPOUT},void 0,w("div",{onMouseEnter:G,onMouseLeave:F},void 0,w(y.default,{renderPopout:function(){return w(L,{participantType:d.type,handleUserContextMenu:x,guildId:r,channelId:t,users:U,disableInteraction:E})},shouldShow:A,position:y.default.Positions.TOP},void 0,(function(){return w("div",{className:(0,o.default)(T.default.viewers,v)},void 0,W)}))))}U.displayName="ParticipantsForSelectedParticipant"},932018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;y(n(667294));var r,a=p(n(441143)),o=n(536211),i=p(n(284382)),u=y(n(145122)),l=p(n(728429)),s=p(n(161409)),d=p(n(376638)),c=n(770348),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.onClose,n=e.onSelect,r=(0,o.useStateFromStores)([l.default],(function(){var e=l.default.getCurrentUser();(0,
a.default)(null!=e,"VideoDeviceMenu: currentUser cannot be undefined");return e})),p=(0,s.default)(),v=(0,d.default)(r.id);return h(i.default,{object:c.AnalyticsObjects.CONTEXT_MENU},void 0,h(u.default,{onClose:t,navId:"video-device-context","aria-label":f.default.Messages.FORM_LABEL_VIDEO_DEVICE,onSelect:n},void 0,h(u.MenuGroup,{label:f.default.Messages.FORM_LABEL_VIDEO_DEVICE},void 0,p),h(u.MenuGroup,{},void 0,v)))}_.displayName="VideoDeviceMenu"},936353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=m(n(294184)),i=m(n(74854)),u=n(536211),l=m(n(550024)),s=m(n(213847)),d=m(n(949898)),c=m(n(57754)),f=n(859089),p=n(770348),v=n(942675),y=m(n(25578)),h=m(n(3066)),_=m(n(476600));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var S=23,I=17,b=26,C={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,
EASING_IN:i.default.Easing.inOut(i.default.Easing.back()),EASING_OUT:i.default.Easing.quad},T=200,P=125,A=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).scaleAnimation=new i.default.Value(0);t.spriteAnimation=new i.default.Value(0);t.spriteOpacity=new i.default.Value(0);t.widthAnimation=new i.default.Value(0);return t}var n=t.prototype;n.componentDidMount=function(){this.componentDidAppear()};n.componentDidAppear=function(){var e=this.scaleAnimation,t=this.widthAnimation;e.setValue(1);t.setValue(1)};n.componentWillEnter=function(e){var t=this.scaleAnimation,n=this.widthAnimation;t.setValue(0);n.setValue(0);i.default.parallel([i.default.timing(t,{toValue:1,duration:C.DURATION_IN,easing:C.EASING_IN}),i.default.timing(n,{toValue:1,duration:T})]).start(e)};n.componentWillLeave=function(e){
var t=this.scaleAnimation,n=this.spriteAnimation,r=this.spriteOpacity,a=this.widthAnimation;r.setValue(1);n.setValue(0);for(var o=[],u=0;u<S;u++)o.push(i.default.timing(n,{toValue:-b*u,duration:I}));i.default.sequence([i.default.timing(t,{toValue:0,duration:C.DURATION_OUT,easing:C.EASING_OUT}),i.default.sequence(o),i.default.timing(a,{toValue:0,duration:P})]).start(e)};n.getScaleStyle=function(){var e=this.scaleAnimation;return i.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[C.SCALE_MIN,C.SCALE_MAX]})}],opacity:e})};n.getSpriteStyle=function(){return{backgroundPosition:this.spriteAnimation,opacity:this.spriteOpacity}};n.getWidthStyle=function(){return{width:this.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px",this.props.width+"px"]})}};n.render=function(){var e,t=this.props,n=t.theme,r=t.children,a=t.className,u=n===p.ThemeTypes.DARK,l=(0,o.default)(y.default.sprite,((e={})[_.default.crossWhite]=u,e[_.default.crossGrey]=!u,e))
;return E(i.default.div,{className:(0,o.default)(y.default.transition,a),style:this.getWidthStyle()},void 0,E("div",{className:(0,o.default)(y.default.spriteWrapper,h.default.horizontal,h.default.justifyCenter,h.default.alignCenter)},void 0,E(i.default.div,{className:l,style:this.getSpriteStyle()})),E(i.default.div,{style:this.getScaleStyle()},void 0,r))};return t}(a.PureComponent);A.displayName="AvatarTransition";function M(e){var t=e.participants,n=e.onContextMenu,r=e.className,a=e.onClick,i=e.width,p=e.guildId,h=(0,s.default)(),_=function(e,t){return((0,v.getAvatarSize)(v.Sizes.SIZE_80)+16)*t>e?v.Sizes.SIZE_40:v.Sizes.SIZE_80}(i,t.length),m=(0,u.useStateFromStores)([d.default],(function(){return d.default.isFocused()})),g=t.map((function(e){var t,r;if(e.type!==f.ParticipantTypes.USER)return null;var o=e.user,i=e.voiceState,u=e.speaking,l=e.ringing;return E(A,{className:y.default.participant,width:(0,v.getAvatarSize)(_),theme:h},o.id,E(c.default,{
src:o.getAvatarURL(p,v.SizeSpecs[_].size,u&&m),size:_,muted:null!==(t=null==i?void 0:i.isVoiceMuted())&&void 0!==t&&t,deafen:null!==(r=null==i?void 0:i.isVoiceDeafened())&&void 0!==r&&r,speaking:u,ringing:l,onClick:function(t){return null==a?void 0:a(e,t)},onContextMenu:function(t){return null==n?void 0:n(e,t)}},e.id))}));return E(l.default,{component:"div",className:(0,o.default)(y.default.root,r)},void 0,g)}M.displayName="VoiceCallParticipants"},330493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(e){(0,i.openModal)((function(e){return r.createElement(o.default,d({},e,{title:u.default.Messages.SERVER_DEAFENED_DIALOG_TITLE,body:u.default.Messages.SERVER_DEAFENED_DIALOG_BODY}))}));return}a.default.toggleSelfDeaf()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(740207)),o=l(n(88509)),i=n(194322),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}},590087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t&&(0,i.isRTCConnectedInHub)()){(0,u.openModalLazy)(p(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2422)]).then(n.bind(n,202422));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))));return}if(t){(0,u.openModal)((function(e){return r.createElement(o.default,c({},e,{title:l.default.Messages.SUPPRESSED,body:l.default.Messages.SUPPRESSED_PERMISSION_BODY}))}));return}if(e){(0,u.openModal)((function(e){return r.createElement(o.default,c({},e,{title:l.default.Messages.SERVER_MUTED_DIALOG_TITLE,body:l.default.Messages.SERVER_MUTED_DIALOG_BODY}))}));return}a.default.toggleSelfMute()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(740207)),o=s(n(88509)),i=n(864227),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}},893146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=f;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(929031)),o=s(n(88509)),i=n(845607),u=s(n(247001)),l=["type","onConfirm"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e){var t=e.type,n=e.onConfirm,s=function(e,t){
if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),d=t===i.SelfStreamAndVideoAlertType.STREAM?u.default.Messages.HIDE_SELF_STREAM_CONFIRMATION_HEADER:u.default.Messages.HIDE_SELF_VIDEO_CONFIRMATION_HEADER,f=t===i.SelfStreamAndVideoAlertType.STREAM?u.default.Messages.HIDE_SELF_STREAM_CONFIRMATION_BODY:u.default.Messages.HIDE_SELF_VIDEO_CONFIRMATION_BODY;return r.createElement(o.default,c({confirmText:u.default.Messages.CONFIRM,minorText:u.default.Messages.DONT_ASK_AGAIN,title:d,cancelText:u.default.Messages.CANCEL,onConfirm:n,onConfirmSecondary:function(){a.default.updatedUnsyncedSettings({disableHideSelfStreamAndVideoConfirmationAlert:!0});n()},body:f},s))}f.displayName="HideSelfStreamAndVideoConfirmationAlert"},856015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=s(n(229132)),i=n(145122),u=s(n(825724)),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function f(e){var t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getVoiceParticipantsHidden(e)}));return c(i.MenuCheckboxItem,{id:"no-video-hide",label:l.default.Messages.STREAM_SHOW_NON_VIDEO,checked:!t,action:function(){return o.default.toggleVoiceParticipantsHidden(e,!t)}})}f.displayName="useHideNoVideoParticipantsItem"},48712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(145122),u=p(n(174508)),l=n(194322),s=p(n(831566)),d=p(n(893146)),c=n(845607),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function _(e,t){var n=(0,
s.default)(e,t),r=n[0],p=n[1],v=n[2],_=(0,o.useStateFromStores)([u.default],(function(){return u.default.disableHideSelfStreamAndVideoConfirmationAlert}));return r?y(i.MenuCheckboxItem,{id:"self-stream-hide",label:f.default.Messages.SHOW_SELF_STREAM,checked:!p,action:function(){if(_||p)return v(!p);(0,l.openModal)((function(e){return a.createElement(d.default,h({},e,{type:c.SelfStreamAndVideoAlertType.STREAM,onConfirm:function(){return v(!p)}}))}))}}):null}_.displayName="useHideSelfStreamItem"},845442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(145122),u=v(n(174508)),l=n(194322),s=v(n(25077)),d=v(n(893146)),c=n(845607),f=n(376293),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return _.apply(this,arguments)}function m(e,t){void 0===t&&(t=f.MediaEngineContextTypes.DEFAULT);var n=(0,s.default)(e,t),r=n[0],v=n[1],y=n[2],m=(0,o.useStateFromStores)([u.default],(function(){return u.default.disableHideSelfStreamAndVideoConfirmationAlert}));return r?h(i.MenuCheckboxItem,{id:"self-video-hide",label:p.default.Messages.SHOW_SELF_VIDEO,checked:!v,action:function(){if(m||v)return y(!v);(0,l.openModal)((function(e){return a.createElement(d.default,_({},e,{type:c.SelfStreamAndVideoAlertType.VIDEO,onConfirm:function(){return y(!v)}}))}))}}):null}m.displayName="useHideSelfVideoItem"},441072:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getInputDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getInputDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return d(i.MenuRadioItem,{
id:"input-"+n,group:"input-devices",disabled:r,label:a,checked:n===t,action:function(){return o.default.setInputDevice(n)}},"input-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},161409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getVideoDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getVideoDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return d(i.MenuRadioItem,{group:"video-devices",id:"video-device-"+n,disabled:r,label:a,checked:n===t,action:function(){return o.default.setVideoDevice(n)}},"video-device-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},16505:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getOutputDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getOutputDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return d(i.MenuRadioItem,{group:"output-devices",id:"output-"+n,disabled:r,label:a,checked:n===t,action:function(){return o.default.setOutputDevice(n)}},"output-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},376638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(199649),u=h(n(712594)),l=h(n(423046)),s=h(n(635014)),d=n(194322),c=h(n(818994)),f=n(770348),p=n(371621),v=h(n(247001)),y=h(n(352062));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(e){var t=a.useContext(c.default),r=(0,o.useStateFromStores)([s.default],(function(){return s.default.isVideoEnabled()})),h=(0,o.useStateFromStores)([l.default],(function(){return l.default.getId()===e})),_=(0,u.default)();return r&&!_||!h?null:m(i.MenuItem,{id:"change-video-background",label:m("div",{className:y.default.item},void 0,r?v.default.Messages.CAMERA_CHANGE_VIDEO_BACKGROUND_MENU_ITEM:v.default.Messages.CAMERA_PREVIEW_MENU_ITEM),action:function(){(0,
d.openModalLazy)(O(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(93198),n.e(6725)]).then(n.bind(n,635390));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,g({},e,{videoEnabled:r}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:"camera-preview",contextKey:t===f.AppContext.POPOUT?p.POPOUT_MODAL_CONTEXT:p.DEFAULT_MODAL_CONTEXT})}})}S.displayName="usePreviewVideoItem"},630601:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(145122),i=f(n(938199)),u=f(n(644263)),l=f(n(30098)),s=f(n(322785)),d=n(770348),c=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getChannel(e)})),n=(0,a.useStateFromStores)([l.default],(function(){
return l.default.getGuild(null==t?void 0:t.guild_id)})),r=(null==t?void 0:t.isGuildVoice())&&(null==n?void 0:n.hasFeature(d.GuildFeatures.TEXT_IN_VOICE_ENABLED)),f=(0,a.useStateFromStores)([i.default],(function(){return i.default.getToastsEnabled(e)}));return r?v(o.MenuCheckboxItem,{id:"show-call-chat-toasts",label:c.default.Messages.SHOW_NEW_MESSAGE_PREVIEWS,checked:f,action:function(){return s.default.setCallChatToastsEnabled(e,!f)}}):null}y.displayName="useShowChatToastsItem"},815267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r)}(n(667294));var r,a=s(n(226800)),o=n(145122),i=s(n(634230)),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){return c(o.MenuItem,{id:"voice-settings",label:l.default.Messages.VOICE_SETTINGS,action:function(){return a.default.open(u.UserSettingsSections.VOICE)},icon:i.default})}f.displayName="useVoiceSettingsItem"},216672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=function(e){var t=e.channelId,r=e.baseChannelId,T=(0,o.useStateFromStores)([h.default],(function(){return h.default.getChannel(t)})),P=(0,o.useStateFromStores)([m.default],(function(){return m.default.getGuild(null==T?void 0:T.getGuildId())})),N=(0,S.default)(T),w=(0,o.useStateFromStores)([p.default],(function(){return null!=(null==P?void 0:P.id)&&p.default.isLurking(P.id)}),[P]),D=a.useRef(!1);a.useEffect((function(){if(null!=T&&!D.current){D.current=!0;(0,s.trackWithMetadata)(I.AnalyticEvents.CHANNEL_OPENED,{channel_id:T.id,guild_id:T.guild_id,parent_id:T.parent_id,channel_view:"Split View"})}}),[T]);if(null==T||null==P)return null;var L=[];w||L.push(A(c.default,{channel:T},"notifications"));L.push(A(O.default.Icon,{icon:E.default,tooltip:b.default.Messages.CLOSE,onClick:function(){return y.default.closeChannelSidebar(r)}},"close"));return a.createElement(a.Fragment,null,A(l.default,{channel:T,draftType:_.DraftType.ChannelMessage}),A(O.default,{toolbar:L,
"aria-label":b.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},void 0,(0,f.renderTitle)({channel:T,channelName:N,guild:P,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(32318)]).then(n.bind(n,532318));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,M({},e,{channel:T,guild:P}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){var e=g.default.getMessages(T.id);(0,v.transitionToGuild)(T.guild_id,T.id,e.jumpTargetId)}})),A("div",{className:C.default.chat},void 0,A(u.default,{channel:T,guild:P,chatInputType:d.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=T(n(914789)),l=T(n(805918)),s=n(844784),d=n(856746),c=T(n(818378)),f=n(451115),p=T(n(930409)),v=n(139982),y=T(n(546914)),h=T(n(644263)),_=n(687549),m=T(n(30098)),g=T(n(201292)),E=T(n(259530)),O=T(n(878556)),S=T(n(678928)),I=n(770348),b=T(n(247001)),C=T(n(895383));function T(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}},691692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n,r,I=(0,i.useStateFromStores)([_.default],(function(){return _.default.getGuild(e.guild_id)})),b=(0,y.useCanManageThread)(e),P=(0,
y.useCanUnarchiveThread)(e),A=(0,y.useIsThreadModerator)(e),M=T({},a.useContext(m.AnalyticsContext).location,{object:E.AnalyticsObjects.CONTEXT_MENU}),N=(0,l.useIsForumPost)(e),R=(0,s.useTrackThreadArchivalDurationUpsell)(M,I,e);if(!(!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)?P:b))return;var w=new Date((0,h.default)(e)).toLocaleString(O.default.getLocale(),{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"});return(null===(n=e.threadMetadata)||void 0===n?void 0:n.archived)?C(f.MenuItem,{id:"unarchive-thread",label:N?O.default.Messages.UNARCHIVE_FORUM_POST:O.default.Messages.UNARCHIVE_THREAD,action:function(){return p.default.unarchiveThread(e,A)}}):C(f.MenuItem,{id:"auto-archive-thread",label:O.default.Messages.ARCHIVE,subtext:O.default.Messages.AUTO_ARCHIVE_THREAD_AT.format({time:w}),onFocus:R},void 0,C(f.MenuGroup,{},void 0,C(f.MenuItem,{id:"archive-thread",label:N?O.default.Messages.ARCHIVE_FORUM_POST:O.default.Messages.ARCHIVE_THREAD,
action:function(){return p.default.archiveThread(e,!1)}}),A&&!(null===(r=e.threadMetadata)||void 0===r?void 0:r.locked)?C(f.MenuItem,{id:"archive-lock-thread",label:N?O.default.Messages.LOCK_FORUM_POST:O.default.Messages.LOCK_THREAD,action:function(){return p.default.archiveThread(e,!0)}}):null),C(f.MenuGroup,{label:O.default.Messages.AUTO_ARCHIVE_AFTER},void 0,(0,v.getAutoArchiveOptions)(I).map((function(t){var n,r=t.value,a=t.label,i=t.guildFeature,l=t.enabled;return C(f.MenuCheckboxItem,{id:String(r),label:function(){return function(e,t,n){var r;return null==t||null==I?e:C("div",{className:(0,o.default)(S.default.label,(r={},r[S.default.disabled]=!n,r))},void 0,C("span",{className:S.default.labelText},void 0,e),C(d.default,{guild:I,guildFeature:t,className:S.default.availabilityIndicator,hideTooltip:!0}))}(a,i,l)},checked:r===(null===(n=e.threadMetadata)||void 0===n?void 0:n.autoArchiveDuration),className:S.default.menuItem,focusedClassName:S.default.focused,action:function(){(0,
u.closeContextMenu)();if(l)return p.default.setAutoArchiveDuration(e,r);if(null!=i){var t=(0,g.minimumRequiredTierForGuildFeature)(i);null!=I&&null!=t&&(0,c.default)({analyticsSourceLocation:T({},M,{object:E.AnalyticsObjects.CONTEXT_MENU_ITEM,objectType:(0,g.boostedGuildTierToAnalyticsObjectType)(t)}),guild:I,targetBoostedGuildTier:t})}}},r)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=I(n(294184)),i=n(536211),u=n(378158),l=n(973523),s=n(321248),d=I(n(872134)),c=I(n(58941)),f=n(145122),p=I(n(887174)),v=n(192751),y=n(819235),h=I(n(447840)),_=I(n(30098)),m=n(308920),g=n(682937),E=n(770348),O=I(n(247001)),S=I(n(313657));function I(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}},609510:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=v(n(968494)),u=n(973523),l=n(145122),s=v(n(689389)),d=n(194322),c=n(770348),f=n(474477),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e){var t=(0,o.useStateFromStores)([s.default],(function(){
return!s.default.can(e.isThread()?c.Permissions.MANAGE_THREADS:c.Permissions.MANAGE_CHANNELS,e)||!s.default.can(e.accessPermissions,e)}),[e]),r=(0,u.useIsForumPost)(e);return t?null:h(l.MenuItem,{id:"delete-channel",label:e.type===c.ChannelTypes.GUILD_CATEGORY?p.default.Messages.DELETE_CATEGORY:e.isThread()?r?p.default.Messages.DELETE_FORUM_POST:p.default.Messages.DELETE_THREAD:p.default.Messages.DELETE_CHANNEL,color:f.MenuItemColor.DANGER,action:function(){return(0,d.openModalLazy)(g(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(12911),n.e(87466)]).then(n.bind(n,59337));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,_({},t,{onConfirm:function(){t.onClose();i.default.deleteChannel(e.id)},channel:e}))}));case 5:case"end":return t.stop()}}),t)}))))}})}E.displayName="useChannelDeleteItem"},894630:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r=(0,a.useStateFromStores)([u.default],(function(){return u.default.hasJoined(e.id)})),d=(0,o.useIsForumPost)(e);return(null===(n=e.threadMetadata)||void 0===n?void 0:n.archived)?null:f(i.MenuItem,r?{id:"leave-thread",label:d?s.default.Messages.LEAVE_FORUM_POST:s.default.Messages.LEAVE_THREAD,action:function(){return l.default.leaveThread(e,t)}}:{id:"join-thread",label:d?s.default.Messages.JOIN_FORUM_POST:s.default.Messages.JOIN_THREAD,action:function(){return l.default.joinThread(e,t)}})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(973523),i=n(145122),u=d(n(730451)),l=d(n(887174)),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},783938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,o.useStateFromStores)([c.default],(function(){return c.default.getChannel(e.parent_id)})),r=(0,d.useIsThreadModerator)(e)
;if(!(null==n?void 0:n.isForumChannel()))return null;if(!r)return null;if(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)return null;return e.hasFlag(p.ChannelFlags.PINNED)?_(u.MenuItem,{id:"unpin-thread",label:v.default.Messages.UNPIN_POST,action:function(){return s.default.unpin(e)}}):_(u.MenuItem,{id:"pin-thread",label:v.default.Messages.PIN_POST,action:function(){var t,n,r=(0,a.default)(l.default.getThreadsForGuild(e.guild_id)).values().map((function(e){var t=e.id;return c.default.getChannel(t)})).filter(f.isNotNullish).find((function(t){return t.parent_id===e.parent_id&&t.hasFlag(p.ChannelFlags.PINNED)}));null!=r?i.default.show({title:v.default.Messages.FORUM_PIN_CONFIRM_TITLE,body:v.default.Messages.FORUM_PIN_CONFIRM_BODY,onConfirm:(n=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return s.default.unpin(r);case 2:s.default.pin(e);case 3:case"end":return t.stop()}}),t)})),function(){
var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}),function(){return n.apply(this,arguments)})}):s.default.pin(e)}})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=y(n(496486)),o=n(536211),i=y(n(896108)),u=n(145122),l=y(n(782270)),s=y(n(887174)),d=n(819235),c=y(n(644263)),f=n(71246),p=n(173652),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){
return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}},326348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(968494)),o=n(973523),i=n(145122),u=n(819235),l=n(194322),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t,n=(0,u.useCanManageThread)(e),r=(0,o.useIsForumPost)(e)
;return!n||(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)||__OVERLAY__?null:f(i.MenuItem,{id:"edit-thread",label:r?s.default.Messages.EDIT_FORUM_POST:s.default.Messages.EDIT_THREAD,action:function(){(0,l.closeAllModals)();a.default.open(e.id)}})}p.displayName="useThreadEditItem"},233557:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(145122),o=s(n(887174)),i=n(895431),u=n(64072),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=(0,i.useThreadNotificationSetting)(e);return e.isArchivedThread()?null:c(a.MenuItem,{id:"thread-notifications",label:l.default.Messages.NOTIFICATION_SETTINGS},void 0,(0,u.getThreadNotificationOptions)().map((function(n){var r=n.setting,i=n.label;return c(a.MenuRadioItem,{group:"thread-notifications",id:""+r,label:i,action:function(){return o.default.setNotificationSettings(e,{flags:r})},checked:r===t},r)})))}
f.displayName="useThreadNotificationItem"},730205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(145122),o=s(n(887174)),i=n(819235),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t,n;if(!(0,i.useIsThreadModerator)(e)||e.type!==u.ChannelTypes.PRIVATE_THREAD)return null;var r=null===(t=null===(n=e.threadMetadata)||void 0===n?void 0:n.invitable)||void 0===t||t;return c(a.MenuCheckboxItem,{id:"toggle-thread-invitable",label:l.default.Messages.THREAD_INVITABLE_TOGGLE_LABEL,checked:r,action:function(){return o.default.setInvitable(e,!r)}})}f.displayName="useToggleThreadInvitableItem"},918667:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(496486)),i=y(n(844784)),u=y(n(956117)),l=y(n(16941)),s=y(n(259530)),d=y(n(776360)),c=y(n(308920)),f=n(770348),p=y(n(247001)),v=y(n(76889));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=o.default.debounce(i.default.trackWithMetadata,500),g=function(e){var t=e.guild,n=e.message,r=e.image,o=e.type,y=e.imageMarginX,h=e.imageMarginTop,g=e.trackingSource,E=e.undismissable,O=e.onDismissed,S=e.onClick,I=e.cta;a.useEffect((function(){m(f.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:o,guild_id:t.id})}),[t.id,o]);var b=null;"function"==typeof I?b=I():null!=I&&(b=_(u.default,{className:v.default.btn,size:u.default.Sizes.SMALL,onClick:function(){null!=o&&c.default.track(f.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{source:g,guild_id:t.id,notice_type:o});null==S||S()},fullWidth:!0},void 0,I));var C=null!=y?y+"px":"16px";return _("div",{className:v.default.channelNotice},void 0,!0===E?null:_(l.default,{onClick:function(){i.default.trackWithMetadata(f.AnalyticEvents.CHANNEL_NOTICE_CLOSED,{notice_type:o});null==O||O()},className:v.default.close,"aria-label":p.default.Messages.DISMISS},void 0,_(s.default,{
className:v.default.closeIcon})),_("div",{className:v.default.imageContainer,style:{marginTop:h+"px",marginLeft:C,marginRight:C}},void 0,_("img",{className:v.default.image,src:r,alt:""})),_("div",{className:v.default.message},void 0,_(d.default,{},void 0,n),b))};g.displayName="ChannelNotice";var E=g;t.default=E},35333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(923387),u=j(n(972247)),l=n(233271),s=j(n(305081)),d=j(n(408692)),c=j(n(578628)),f=j(n(91836)),p=j(n(559759)),v=j(n(734495)),y=j(n(195849)),h=n(873976),_=n(157949),m=j(n(513696)),g=j(n(185836)),E=j(n(126515)),O=j(n(666280)),S=j(n(751122)),I=j(n(689389)),b=j(n(329669)),C=j(n(535711)),T=j(n(24e4)),P=n(682937),A=n(42031),M=j(n(264271)),N=j(n(71685)),R=j(n(198883)),w=j(n(715458)),D=n(7812),L=n(770348),k=n(583551);function j(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(e){e.stopPropagation()}var x=function(e){var t=e.guild,n=(0,o.useStateFromStoresObject)([S.default],(function(){return{appliedGuildBoosts:S.default.getAppliedGuildBoostsForGuild(t.id),lastFetchedAt:S.default.getLastFetchedAtForGuild(t.id)}})),r=n.appliedGuildBoosts,i=n.lastFetchedAt,u=(0,o.useStateFromStoresObject)([b.default],(function(){return{lastDismissedGracePeriod:b.default.getLastDismissedGracePeriodForGuild(t.id),isGracePeriodVisible:b.default.isVisible(t.id)}})),s=u.lastDismissedGracePeriod,c=u.isGracePeriodVisible,f=(0,o.useStateFromStores)([E.default],(function(){return E.default.isVisible(t)})),p=(0,o.useStateFromStoresObject)([T.default],(function(){return{channelNoticeType:T.default.getNoticeType(t),isMaxMemberNoticeVisible:T.default.isVisible(t)}})),g=p.channelNoticeType,N=p.isMaxMemberNoticeVisible,w=(0,o.useStateFromStores)([I.default],(function(){return I.default.can(L.Permissions.ADMINISTRATOR,t)
})),D=null!=s&&Date.now()-s<=L.GRACE_PERIOD_CHANNEL_NOTICE_SHOW_DELAY,k=null!=t?t.premiumSubscriberCount:0,j=(0,P.getGuildTierFromAppliedBoostCount)(k,t.id)!==L.BoostedGuildTiers.NONE,U=null!=i&&Date.now()-i<=432e5,F=!D&&w&&j&&!U,x=(0,_.useGuildHasLiveChannelNotice)(t.id),V=(0,o.useStateFromStores)([C.default],(function(){return C.default.isVisible(t)})),H=v.default.useExperiment({guildId:t.id}).enabled,B=(0,o.useStateFromStores)([y.default],(function(){return y.default.isEligible(t)}));a.useEffect((function(){F&&(0,l.fetchAppliedGuildBoostsForGuild)(t.id)}),[t.id,F]);if(f)return G(O.default,{guild:t});if(c)return G(d.default,{guild:t,appliedGuildBoosts:r});if(N&&null!=g)return G(R.default,{guild:t,channelNoticeType:g});if(x)return G(m.default,{guild:t});if(V)return G(M.default,{guild:t});if(B){v.default.trackExposure({guildId:t.id});if(H)return G(h.GuildNotificationDefaultsNotice,{guild:t})}return A.ProcessArgs.isDisallowPopupsSet()?null:G(W,{guild:e.guild})}
;x.displayName="ConnectedNotices";function W(e){var t,n=e.guild,r=a.useState(null!==(t=u.default.get(D.LAST_HIDDEN_CHANNEL_NOTICE))&&void 0!==t?t:0),l=r[0],d=r[1],v=(0,o.useStateFromStoresArray)(D.CHANNEL_NOTICE_STORES,(function(){return D.CHANNEL_NOTICES.filter((function(e){return e.store.channelNoticePredicate(n,l)})).map((function(e){return e.dismissibleContentType}))}));return G("div",{onContextMenu:F},void 0,G(s.default,{contentTypes:v,groupName:k.DismissibleContentGroupName.CHANNEL_NOTICES},void 0,(function(e){var t=e.content,r=e.markAsDismissed,a=function(){!function(e){u.default.set(D.LAST_HIDDEN_CHANNEL_NOTICE,e);d(e)}(Date.now());r()};switch(t){case i.DismissibleContent.CHANNEL_NOTICE_HUBLINK:return G(g.default,{guild:n,markAsDismissed:a});case i.DismissibleContent.CHANNEL_NOTICE_INVITE:return G(N.default,{guild:n,markAsDismissed:a});case i.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION_AFFINITY:return G(f.default,{guild:n,markAsDismissed:a})
;case i.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:return G(p.default,{guild:n,markAsDismissed:a});case i.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER:return G(w.default,{guild:n,markAsDismissed:a});case i.DismissibleContent.CHANNEL_NOTICE_GUILD_BANNER:return G(c.default,{guild:n,markAsDismissed:a});default:return null}})))}W.displayName="ChannelNoticesGuard";var V=x;t.default=V},7812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LAST_HIDDEN_CHANNEL_NOTICE=t.CHANNEL_NOTICE_STORES=t.CHANNEL_NOTICES=void 0;var r=n(923387),a=c(n(523946)),o=c(n(538647)),i=c(n(742373)),u=c(n(20446)),l=c(n(735653)),s=c(n(477566)),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}t.LAST_HIDDEN_CHANNEL_NOTICE="lastHiddenChannelNotice";var f=[{type:d.ChannelNoticeTypes.INVITE,store:s.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_INVITE},{type:d.ChannelNoticeTypes.HUB_LINK,store:l.default,
dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_HUBLINK},{type:d.ChannelNoticeTypes.GUILD_BOOSTING_GUILD_AFFINITY,store:i.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION_AFFINITY},{type:d.ChannelNoticeTypes.GUILD_BOOSTING,store:u.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:d.ChannelNoticeTypes.QUICKSWITCHER,store:a.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER},{type:d.ChannelNoticeTypes.GUILD_BANNER,store:o.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_GUILD_BANNER}];t.CHANNEL_NOTICES=f;var p=f.map((function(e){return e.store}));t.CHANNEL_NOTICE_STORES=p},264271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(226800)),i=d(n(918667)),u=n(770348),l=d(n(247001)),s=d(n(785538));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){
p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return f(i.default,{guild:this.props.guild,onClick:function(){return o.default.open(u.UserSettingsSections.ACCOUNT)},message:l.default.Messages.TWO_FA_GUILD_MFA_WARNING_MESSAGE_WITH_SPACING.format(),cta:l.default.Messages.TWO_FA_GUILD_MFA_WARNING_RESOLVE_BUTTON,trackingSource:u.ChannelNoticeCtaSources.GUILD_MFA_WARNING,type:u.ChannelNoticeTypes.MFA_WARNING,image:s.default,imageMarginX:54,undismissable:!0})};return t}(a.PureComponent);v.displayName="GuildMFAWarning";var y=v;t.default=y},71685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(786345)),i=f(n(211136)),u=n(194322),l=f(n(918667)),s=n(770348),d=f(n(247001)),c=f(n(947079));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];(t=e.call.apply(e,[this].concat(l))||this).handleInvite=function(){var e=t.props.guild;(0,
u.openModalLazy)(_(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,y({},t,{guild:e,source:s.InstantInviteSources.INVITE_NOTICE}))}));case 5:case"end":return t.stop()}}),t)}))))};t.handleClose=function(){var e=i.default.getChannelId();t.props.markAsDismissed();e&&o.default.sendBotMessage(e,d.default.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:d.default.Messages.INVITE_PEOPLE}))};return t}t.prototype.render=function(){var e=d.default.Messages.INVITE_NOTICE_MESSAGE+"\n"+d.default.Messages.INVITE_NOTICE_MESSAGE_PART_2;return v(l.default,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:d.default.Messages.INVITE_PEOPLE,trackingSource:s.ChannelNoticeCtaSources.INVITE_NOTICE,
type:s.ChannelNoticeTypes.INVITE,image:c.default,imageMarginX:46})};return t}(a.PureComponent);g.displayName="InviteNotice";var E=g;t.default=E},198883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=c(n(550270)),u=c(n(918667)),l=n(770348),s=c(n(247001)),d=c(n(389515));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.guild,n=e.channelNoticeType,r=a.useCallback((function(){(0,o.hideMaxMemberCountChannelNotice)(t.id,n)}),[t.id,n]);return p(u.default,{guild:t,onDismissed:r,message:s.default.Messages.NOTICE_CHANNEL_MAX_MEMBERS_CAP_REACHED_MESSAGE.format({maxMemberCount:t.maxMembers,maxMembersUrl:i.default.getArticleURL(l.HelpdeskArticles.MAX_MEMBERS)}),type:n,image:d.default,imageMarginX:61})};v.displayName="MaxMemberCountNotice";var y=v;t.default=y},715458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(221107),o=n(749666),i=n(835282),u=c(n(918667)),l=n(770348),s=c(n(247001)),d=c(n(10439));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=a.QUICKSWITCHER_SHOW.binds[0].split("+").map((function(e){return o.PRETTY_KEYS[e]?o.PRETTY_KEYS[e]():e})).join(" + ").toUpperCase();return p(u.default,{guild:e.guild,onDismissed:e.markAsDismissed,onClick:function(){return(0,i.show)("CHANNEL_NOTICE")},message:s.default.Messages.QUICKSWITCHER_NOTICE,cta:t,trackingSource:l.ChannelNoticeCtaSources.QUICK_SWITCHER_NOTICE,type:l.ChannelNoticeTypes.QUICKSWITCHER,image:d.default,imageMarginX:50})};v.displayName="QuickSwitcherNotice";var y=v;t.default=y},739889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TrackExposureLocations=t.SettingMode=t.RowType=t.MEMBER_REQUEST_COUNT=t.AddMembersSections=t.ADVANCED_MODE_ON_KEY=void 0;t.getChannelPermissionSpecMap=function(e,t,n){var r;return(r={})[u.Permissions.VIEW_CHANNEL.toString()]={
title:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL:l.default.Messages.VIEW_CHANNEL,description:function(){if(t)switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY_EVERYONE;case u.ChannelTypes.GUILD_VOICE:case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_VOICE_EVERYONE;default:return l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_TEXT_EVERYONE}return e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CHANNEL}(),flag:u.Permissions.VIEW_CHANNEL},r[u.Permissions.MANAGE_CHANNELS.toString()]={title:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.MANAGE_CHANNELS:l.default.Messages.MANAGE_CHANNEL,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:
return l.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_VOICE;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_TEXT}}(),flag:u.Permissions.MANAGE_CHANNELS},r[u.Permissions.MANAGE_ROLES.toString()]={title:l.default.Messages.MANAGE_PERMISSIONS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CHANNEL}}(),flag:u.Permissions.MANAGE_ROLES},r[u.Permissions.MANAGE_WEBHOOKS.toString()]={title:l.default.Messages.MANAGE_WEBHOOKS,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CHANNEL,flag:u.Permissions.MANAGE_WEBHOOKS},r[u.Permissions.CREATE_INSTANT_INVITE.toString()]={title:l.default.Messages.CREATE_INSTANT_INVITE,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_VOICE:case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_VOICE;default:return l.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_TEXT}}(),flag:u.Permissions.CREATE_INSTANT_INVITE},r[u.Permissions.SEND_MESSAGES.toString()]={
title:e===u.ChannelTypes.GUILD_FORUM?l.default.Messages.CREATE_FORUM_POSTS:n&&e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.SEND_MESSAGES_AND_CREATE_FORUM_POSTS:l.default.Messages.SEND_MESSAGES,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return n?l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_FORUM:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_TEXT;case u.ChannelTypes.GUILD_ANNOUNCEMENT:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:i.default.getArticleURL(u.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)});default:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_TEXT}}(),flag:u.Permissions.SEND_MESSAGES},r[u.Permissions.EMBED_LINKS.toString()]={title:l.default.Messages.EMBED_LINKS,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_TEXT,flag:u.Permissions.EMBED_LINKS},r[u.Permissions.ATTACH_FILES.toString()]={title:l.default.Messages.ATTACH_FILES,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_TEXT,flag:u.Permissions.ATTACH_FILES},r[u.Permissions.ADD_REACTIONS.toString()]={title:l.default.Messages.ADD_REACTIONS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_TEXT,flag:u.Permissions.ADD_REACTIONS},r[u.Permissions.USE_EXTERNAL_EMOJIS.toString()]={title:l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_TEXT,flag:u.Permissions.USE_EXTERNAL_EMOJIS},r[u.Permissions.USE_EXTERNAL_STICKERS.toString()]={title:l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_TEXT,flag:u.Permissions.USE_EXTERNAL_STICKERS},r[u.Permissions.MENTION_EVERYONE.toString()]={title:l.default.Messages.MENTION_EVERYONE,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_TEXT,flag:u.Permissions.MENTION_EVERYONE},r[u.Permissions.MANAGE_MESSAGES.toString()]={title:l.default.Messages.MANAGE_MESSAGES,
description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_ANNOUNCEMENT:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:i.default.getArticleURL(u.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)});default:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_TEXT}}(),flag:u.Permissions.MANAGE_MESSAGES},r[u.Permissions.READ_MESSAGE_HISTORY.toString()]={title:l.default.Messages.READ_MESSAGE_HISTORY,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_TEXT,flag:u.Permissions.READ_MESSAGE_HISTORY},r[u.Permissions.SEND_TTS_MESSAGES.toString()]={title:l.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_TEXT,flag:u.Permissions.SEND_TTS_MESSAGES},r[u.Permissions.USE_APPLICATION_COMMANDS.toString()]={title:l.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_TEXT,flag:u.Permissions.USE_APPLICATION_COMMANDS},r[u.Permissions.CONNECT.toString()]={title:l.default.Messages.CONNECT,description:function(){if(t)switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY_EVERYONE;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE_EVERYONE;default:
return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE_EVERYONE}switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE}}(),flag:u.Permissions.CONNECT},r[u.Permissions.SPEAK.toString()]={title:l.default.Messages.SPEAK,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_VOICE}}(),flag:u.Permissions.SPEAK},r[u.Permissions.STREAM.toString()]={title:l.default.Messages.VIDEO,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_VOICE,flag:u.Permissions.STREAM},r[u.Permissions.START_EMBEDDED_ACTIVTIES.toString()]={title:l.default.Messages.START_EMBEDDED_ACTIVITIES,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_START_EMBEDDED_ACTIVITIES_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_START_EMBEDDED_ACTIVITIES_DESCRIPTION_VOICE,flag:u.Permissions.START_EMBEDDED_ACTIVTIES},r[u.Permissions.USE_VAD.toString()]={title:l.default.Messages.USE_VAD,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_VOICE}}(),flag:u.Permissions.USE_VAD},
r[u.Permissions.PRIORITY_SPEAKER.toString()]={title:l.default.Messages.PRIORITY_SPEAKER,description:function(){0;var t={keybind:l.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY,onClick:function(){o.default.open(u.UserSettingsSections.KEYBINDS)}};return e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_CATEGORY.format(t):l.default.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_VOICE.format(t)}(),flag:u.Permissions.PRIORITY_SPEAKER},r[u.Permissions.MUTE_MEMBERS.toString()]={title:l.default.Messages.MUTE_MEMBERS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_VOICE}}(),flag:u.Permissions.MUTE_MEMBERS},r[u.Permissions.DEAFEN_MEMBERS.toString()]={
title:l.default.Messages.DEAFEN_MEMBERS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_VOICE,flag:u.Permissions.DEAFEN_MEMBERS},r[u.Permissions.MOVE_MEMBERS.toString()]={title:l.default.Messages.MOVE_MEMBERS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_VOICE}}(),flag:u.Permissions.MOVE_MEMBERS},r[u.Permissions.REQUEST_TO_SPEAK.toString()]={title:l.default.Messages.REQUEST_TO_SPEAK,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_STAGE,
flag:u.Permissions.REQUEST_TO_SPEAK},r[u.Permissions.MANAGE_THREADS.toString()]={title:e===u.ChannelTypes.GUILD_FORUM?l.default.Messages.MANAGE_FORUM_POSTS:n&&e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.MANAGE_THREADS_AND_FORUM_POSTS:l.default.Messages.MANAGE_THREADS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return n?l.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_FORUM:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_TEXT;default:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_TEXT}}(),flag:u.Permissions.MANAGE_THREADS},r[u.Permissions.CREATE_PUBLIC_THREADS.toString()]={title:l.default.Messages.CREATE_PUBLIC_THREADS,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_TEXT,flag:u.Permissions.CREATE_PUBLIC_THREADS},r[u.Permissions.CREATE_PRIVATE_THREADS.toString()]={title:l.default.Messages.CREATE_PRIVATE_THREADS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_TEXT,flag:u.Permissions.CREATE_PRIVATE_THREADS},r[u.Permissions.SEND_MESSAGES_IN_THREADS.toString()]={title:e===u.ChannelTypes.GUILD_FORUM?l.default.Messages.SEND_MESSAGES_IN_FORUM_POSTS:n&&e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS:l.default.Messages.SEND_MESSAGES_IN_THREADS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:
return n?l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_FORUM:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_TEXT;default:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_TEXT}}(),flag:u.Permissions.SEND_MESSAGES_IN_THREADS},r[u.Permissions.MANAGE_EVENTS.toString()]={title:l.default.Messages.MANAGE_EVENTS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CHANNEL,flag:u.Permissions.MANAGE_EVENTS},r};var r,a,o=s(n(226800)),i=s(n(550270)),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}t.RowType=r;!function(e){e[e.EMPTY_STATE=0]="EMPTY_STATE";e[e.ADMINISTRATOR=1]="ADMINISTRATOR";e[e.ROLE=2]="ROLE"
;e[e.OWNER=3]="OWNER";e[e.MEMBER=4]="MEMBER"}(r||(t.RowType=r={}));t.AddMembersSections=a;!function(e){e[e.ROLES=0]="ROLES";e[e.MEMBERS=1]="MEMBERS"}(a||(t.AddMembersSections=a={}));t.MEMBER_REQUEST_COUNT=20;var d,c;t.ADVANCED_MODE_ON_KEY="channelPermissionSettingsAdvancedModeOn";t.TrackExposureLocations=d;!function(e){e.SETTINGS_PAGE="settings-page";e.MEMBERS_LIST="members-list";e.EMPTY_STATE="empty-state";e.CREATE_CHANNEL="create-channel"}(d||(t.TrackExposureLocations=d={}));t.SettingMode=c;!function(e){e.BASIC="basic";e.ADVANCED="advanced"}(c||(t.SettingMode=c={}))},421910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchDirectoryEntries=void 0;var r=l(n(23279)),a=l(n(118915)),o=l(n(636602)),i=n(218044),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var d=(0,r.default)(function(){
var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_START});e.next=4;return a.default.get({url:u.Endpoints.DIRECTORY_CHANNEL_ENTRIES(t),query:{type:i.DirectoryEntryTypes.GUILD_SCHEDULED_EVENT}});case 4:n=e.sent;o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_SUCCESS,channelId:t,entries:n.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(0);o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_FAILURE});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),200);t.fetchDirectoryEntries=d},435625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.addDirectoryGuildEntry=function(e,t,n,r){return h.apply(this,arguments)};t.fetchGuildEntriesForIds=t.fetchDirectoryEntries=t.fetchDirectoryCounts=t.clearDirectorySearch=void 0;t.removeDirectoryGuildEntry=function(e,t){u.default.delete({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRY(e,t),trackedActionData:{event:a.NetworkActionNames.DIRECTORY_GUILD_ENTRY_DELETE,properties:{directory_channel_id:e,guild_id:t}}});i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_ENTRY_DELETE,channelId:e,guildId:t})};t.updateDirectoryEntry=t.selectDirectoryCategory=t.searchDirectoryEntries=void 0;var r=c(n(23279)),a=n(47354),o=c(n(118915)),i=c(n(636602)),u=c(n(351772)),l=c(n(917582)),s=n(218044),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){
f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}var v=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_FETCH_START});e.next=4;return o.default.get({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRIES(t),query:{category_id:n}});case 4:r=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_FETCH_SUCCESS,channelId:t,entries:r.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(0);i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_FETCH_FAILURE});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),200);t.fetchDirectoryEntries=v;var y=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.get({
url:d.Endpoints.DIRECTORY_CHANNEL_CATEGORY_COUNTS(t)});case 3:n=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS,channelId:t,counts:n.body});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),200);t.fetchDirectoryCounts=y;function h(){return(h=p(regeneratorRuntime.mark((function e(t,n,r,o){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===o&&(o=s.DirectoryEntryCategories.UNCATEGORIZED);e.next=3;return u.default.post({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRY(t,n),body:{description:r,primary_category_id:o},trackedActionData:{event:a.NetworkActionNames.DIRECTORY_GUILD_ENTRY_CREATE,properties:{directory_channel_id:t,guild_id:n,primary_category_id:o}}});case 3:l=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_ENTRY_CREATE,channelId:t,entry:l.body});case 5:case"end":return e.stop()}}),e)
})))).apply(this,arguments)}var _=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.default.shouldFetch(t,n)){e.next=4;break}i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_CACHED_SEARCH,channelId:t,query:n});return e.abrupt("return");case 4:e.prev=4;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_SEARCH_START,channelId:t,query:n});e.next=8;return o.default.get({url:d.Endpoints.DIRECTORY_ENTRIES_SEARCH(t),query:{query:n}});case 8:r=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_SEARCH_SUCCESS,channelId:t,query:n,results:r.body});e.next=15;break;case 12:e.prev=12;e.t0=e.catch(4);i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_FETCH_FAILURE});case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}(),200);t.searchDirectoryEntries=_;t.clearDirectorySearch=function(e){
i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_SEARCH_CLEAR,channelId:e})};var m=function(){var e=p(regeneratorRuntime.mark((function e(t,n,r,a){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===a&&(a=s.DirectoryEntryCategories.UNCATEGORIZED);e.next=3;return o.default.patch({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRY(t,n),body:{description:r,primary_category_id:a}});case 3:u=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_ENTRY_UPDATE,channelId:t,entry:u.body});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.updateDirectoryEntry=m;t.selectDirectoryCategory=function(e,t){i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_CATEGORY_SELECT,channelId:e,categoryId:t})};var g=function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.get({
url:d.Endpoints.DIRECTORY_CHANNEL_LIST_BY_ID(t),query:{entity_ids:n}});case 3:r=e.sent;i.default.dispatch({type:d.ActionTypes.GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS,channelId:t,entries:r.body});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.fetchGuildEntriesForIds=g},917582:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=n(448406),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var c={},f={};var p=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getSearchState=function(e){var t;return null!==(t=c[e])&&void 0!==t?t:{mostRecentQuery:"",fetching:!1}};n.getSearchResults=function(e,t){var n,r,a;return null!==(n=null===(r=f[e])||void 0===r||null===(a=r[t])||void 0===a?void 0:a.results)&&void 0!==n?n:[]};n.shouldFetch=function(e,t){var n,r,a=null===(n=f[e])||void 0===n||null===(r=n[t])||void 0===r?void 0:r.lastSearchedAt;return null==a||Date.now()-a>12e4};return t}(a.default.Store))(o.default,((r={})[u.ActionTypes.GUILD_DIRECTORY_SEARCH_START]=function(e){var t=e.channelId,n=e.query;c[t]={fetching:!0,mostRecentQuery:n}},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_SUCCESS]=function(e){var t,n=e.channelId,r=e.query,a=e.results;c[n]=d({},c[n],{fetching:!1});var o=[];a.forEach((function(e){var t=(0,i.guildDirectoryEntryFromServer)(e);o.push(t)}));f[n]=d({},f[n],((t={})[r]={results:(0,i.orderByTotalMemberCount)(o),
lastSearchedAt:Date.now()},t))},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_FAILURE]=function(e){var t=e.channelId;c[t]=d({},c[t],{fetching:!1})},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_CLEAR]=function(e){var t=e.channelId;c[t]={fetching:!1,mostRecentQuery:""}},r[u.ActionTypes.GUILD_DIRECTORY_CACHED_SEARCH]=function(e){var t=e.channelId,n=e.query;c[t]={fetching:!1,mostRecentQuery:n}},r[u.ActionTypes.GUILD_DIRECTORY_ENTRY_DELETE]=function(e){var t,n,r=e.channelId,a=e.guildId,o=null===(t=c[r])||void 0===t?void 0:t.mostRecentQuery;if(null!=o){var i=f[r][o];if(null!=i){var u=i.results.filter((function(e){return e.guildId!==a}));f[r]=d({},f[r],((n={})[c[r].mostRecentQuery]=d({},i,{results:u}),n))}}},r));t.default=p},229164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useStateFromStores)([o.default],(function(){return o.default.getGuild(e.guildId)})),n=(0,r.useStateFromStores)([a.default],(function(){
return a.default.getChannel(e.channelId)})),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.ADMINISTRATOR,t)})),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.MANAGE_MESSAGES,n)}));return{isEntryAdmin:l,canEdit:l||s,canRemove:l||s}};t.useCanCreateOrAddGuildInDirectory=function(e){return(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.SEND_MESSAGES,e)}))};var r=n(536211),a=l(n(644263)),o=l(n(30098)),i=l(n(689389)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},63608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=T(n(667294)),o=n(536211),i=n(508510),u=b(n(97982)),l=b(n(191391)),s=b(n(80828)),d=n(194322),c=b(n(308920)),f=T(n(421910)),p=T(n(435625)),v=b(n(917582)),y=b(n(447364)),h=n(229164),_=b(n(434324)),m=b(n(308607)),g=n(1698),E=b(n(670539)),O=n(218044),S=n(770348),I=b(n(447763));function b(e){
return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function M(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,u,"next",e)}function u(e){M(o,r,a,i,u,"throw",e)}i(void 0)}))}}var R=function(e){var t,r=e.channel,b=e.guild,C=(0,o.useStateFromStoresObject)([y.default],(function(){var e=y.default.getCurrentCategoryId(r.id);return{currentCategoryId:e,directoryEntries:y.default.getDirectoryEntries(r.id,e===O.DirectoryEntryCategories.ALL?null:e),categoryCounts:y.default.getDirectoryCategoryCounts(r.id),allEntriesCount:y.default.getDirectoryAllEntriesCount(r.id),isLoading:y.default.isFetching()}
})),T=C.currentCategoryId,M=C.directoryEntries,R=C.categoryCounts,w=C.allEntriesCount,D=C.isLoading;a.useEffect((function(){return function(){var e=l.default.lastMessageId(r.id);null!=e&&(0,i.ack)(r.id,!0,!0,e)}}),[r.id]);var L=a.useMemo((function(){return null!=M?(0,g.generateDirectoryRows)(Object.values(M),T):null}),[M,T]),k=(0,o.useStateFromStoresObject)([v.default],(function(){var e=v.default.getSearchState(r.id),t=e.mostRecentQuery;return{mostRecentQuery:t,searchFetching:e.fetching,searchResults:v.default.getSearchResults(r.id,t)}})),j=k.mostRecentQuery,U=k.searchFetching,G=k.searchResults,F=a.useState(j),x=F[0],W=F[1],V=""!==j,H=u.default.useExperiment({guildId:null!==(t=b.id)&&void 0!==t?t:""}).showHubEventsList;a.useEffect((function(){p.fetchDirectoryEntries(r.id);p.fetchDirectoryCounts(r.id);H&&f.fetchDirectoryEntries(r.id);W(j)}),[r.id]);a.useEffect((function(){c.default.track(S.AnalyticEvents.GUILD_DIRECTORY_CHANNEL_VIEWED,{directory_channel_id:r.id,directory_guild_id:b.id,
primary_category_id:T})}),[r.id,b.id,T]);var B=(0,h.useCanCreateOrAddGuildInDirectory)(r)?function(){(0,d.openModalLazy)(N(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62884),n.e(87248)]).then(n.bind(n,887248));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,A({},e,{directoryGuildName:b.name,directoryGuildId:b.id,directoryChannelId:r.id,currentCategoryId:T===O.DirectoryEntryCategories.ALL?null:T}))}));case 5:case"end":return e.stop()}}),e)}))))}:void 0,Y=function(e){if(0!==x.trim().length&&e.charCode===S.KeyboardKeys.ENTER){p.searchDirectoryEntries(r.id,x);c.default.track(S.AnalyticEvents.GUILD_DIRECTORY_SEARCH,{directory_channel_id:r.id,directory_guild_id:b.id})}},z=function(){W("");p.clearDirectorySearch(r.id)};return V?P(E.default,{searchQuery:x,setSearchQuery:W,mostRecentQuery:j,handleSearchKeyPress:Y,
handleClearSearch:z,handleCreateOrAddGuild:B,searchResults:G,searchFetching:U}):null==L&&null==T?P("div",{className:I.default.pageContainer},void 0,P(s.default,{className:I.default.spinner})):0===(null==L?void 0:L.length)&&null==T?P("div",{className:I.default.pageContainer},void 0,P(_.default,{guild:b,onAddGuild:B})):P(m.default,{channel:r,searchQuery:x,setSearchQuery:W,handleSearchKeyPress:Y,handleClearSearch:z,handleCreateOrAddGuild:B,currentCategoryId:T,handleSelectCategory:function(e){p.selectDirectoryCategory(r.id,e)},directoryEntries:L,categoryCounts:R,allEntriesCount:w,isLoading:D})};R.displayName="GuildDirectory";var w=R;t.default=w},434324:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(888746),i=n(194322),u=f(n(971639)),l=f(n(776360)),s=n(770348),d=f(n(247001)),c=f(n(889775));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var m=function(e){var t=e.guild,r=e.onAddGuild,f=a.useCallback((function(){(0,i.openModalLazy)(_(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,y({},e,{guild:t,source:s.InstantInviteSources.HUB_DIRECTORY,analyticsLocation:{section:s.AnalyticsSections.HUB_WELCOME_CTA}}))}))
;case 5:case"end":return e.stop()}}),e)}))))}),[t]);return v("div",{className:c.default.emptyWrapper},void 0,v("img",{className:c.default.emptyImage,alt:"",src:n(655916)}),v(u.default,{className:c.default.emptyTitle,size:u.default.Sizes.SIZE_24},void 0,d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_TITLE.format({guildName:t.name})),v(l.default,{size:l.default.Sizes.SIZE_16,className:c.default.emptySubtitle},void 0,d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_SUBTITLE),null!=r?v(o.WelcomeMessageCTA,{className:c.default.emptyCTA,iconUrl:n(755645),header:d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_ADD_SERVER,completed:!1,onClick:r}):null,v(o.WelcomeMessageCTA,{className:c.default.emptyCTA,iconUrl:n(930519),header:d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_INVITE,completed:!1,onClick:f}))};m.displayName="DirectoryEmptyState";var g=m;t.default=g},923117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.AddEntryCard=void 0
;var r,a=U(n(667294)),o=k(n(294184)),i=n(536211),u=n(378158),l=k(n(415275)),s=n(800055),d=n(139982),c=k(n(539563)),f=k(n(30098)),p=k(n(211136)),v=k(n(956117)),y=k(n(16941)),h=k(n(189950)),_=k(n(380439)),m=k(n(730977)),g=k(n(775803)),E=k(n(975165)),O=n(194322),S=k(n(272544)),I=U(n(962989)),b=k(n(776360)),C=k(n(692711)),T=k(n(229164)),P=k(n(71472)),A=n(770348),M=k(n(247001)),N=k(n(423973)),R=k(n(928793)),w=["onClick"],D=["onClick"],L=["onClick"];function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return G.apply(this,arguments)}function F(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,u,"next",e)}function u(e){F(o,r,a,i,u,"throw",e)}i(void 0)}))}}function W(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function V(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var H=V("img",{alt:"",src:R.default}),B=function(e){var t=e.onClick;return V(y.default,{onClick:t,className:N.default.addEntryCard},void 0,H,V(b.default,{size:b.default.Sizes.SIZE_14,color:b.default.Colors.HEADER_PRIMARY,className:N.default.addServerText},void 0,M.default.Messages.HUB_ADD_SERVER_CTA))};t.AddEntryCard=B;B.displayName="AddEntryCard";function Y(e){var t,r=e.entry,i=a.useState(!1),u=i[0],l=i[1],s=(0,T.default)(r).canEdit;return V("div",{className:(0,o.default)(N.default.actionButtonsContainer,(t={},t[N.default.forceButtonsShow]=u,t))},void 0,V(I.default,{},void 0,s?V(m.default,{text:M.default.Messages.HUB_ENTRY_UPDATE,hideOnClick:!0},void 0,(function(e){var t=e.onClick,o=W(e,w);return a.createElement(I.Button,G({},o,{onClick:function(){null==t||t();(0,
O.openModalLazy)(x(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(50012)]).then(n.bind(n,950012));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,G({},e,{entry:r}))}));case 5:case"end":return e.stop()}}),e)}))))},"aria-label":M.default.Messages.HUB_ENTRY_UPDATE}),V(E.default,{className:N.default.overflowIcon}))})):null,V(P.default,{onRequestOpen:function(){return l(!0)},onRequestClose:function(){return l(!1)},entry:r,hideEditButton:!0},void 0,(function(e){var t=e.onClick,n=W(e,D);return V(m.default,{text:M.default.Messages.MORE,hideOnClick:!0},void 0,(function(e){var r=e.onClick,o=W(e,L);return a.createElement(I.Button,G({},n,o,{onClick:function(e){null==r||r();t(e)},"aria-label":M.default.Messages.MORE}),V(g.default,{className:N.default.overflowIcon}))}))}))))}Y.displayName="ActionButtons";var z=function(e){
var t,r=e.entry,o=a.useState(!1),y=o[0],g=o[1],E=null!=(0,i.useStateFromStores)([f.default],(function(){return f.default.getGuild(r.guildId)})),O=function(){var e=x(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0);e.prev=1;if(E){e.next=7;break}e.next=5;return l.default.joinGuild(r.guildId,{source:A.JoinGuildSources.DIRECTORY_ENTRY});case 5:e.next=8;break;case 7:(0,d.transitionToGuild)(r.guildId,p.default.getChannelId(r.guildId));case 8:e.prev=8;g(!1);return e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,,8,11]])})));return function(){return e.apply(this,arguments)}}(),I=C.default.getGuildSplashURL({id:r.guildId,splash:r.splash,size:300*(0,s.getDevicePixelRatio)()}),T=null!==(t=C.default.getGuildIconURL({id:r.guildId,icon:r.icon,size:40}))&&void 0!==t?t:void 0,P=M.default.Messages.JOIN;E&&(P=M.default.Messages.HUB_DIRECTORY_CARD_JOINED_GUILD_BUTTON);return V("div",{className:N.default.card,
onContextMenu:function(e){(0,u.openContextMenuLazy)(e,x(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,88020));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,G({},e,{entry:r}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,V("div",{className:N.default.cardHeader},void 0,V("div",{className:N.default.splash},void 0,null!=I&&V("img",{src:I,alt:"",className:N.default.splashImage})),V("div",{className:N.default.guildIcon},void 0,V(S.default,{mask:S.default.Masks.SQUIRCLE,width:48,height:48},void 0,V("div",{className:N.default.iconMask},void 0,V(_.default,{className:N.default.icon,iconSrc:T,guild:new c.default(r),size:_.default.Sizes.MEDIUM,active:!0}))))),V("div",{className:N.default.guildInfo},void 0,V("div",{className:N.default.title},void 0,V(h.default,{className:N.default.guildBadge,guild:r,
tooltipColor:m.default.Colors.PRIMARY}),V(b.default,{className:N.default.guildName,size:b.default.Sizes.SIZE_16,color:b.default.Colors.HEADER_PRIMARY},void 0,r.name)),V(b.default,{className:N.default.description,size:b.default.Sizes.SIZE_14,color:b.default.Colors.HEADER_SECONDARY},void 0,r.description),V("div",{className:N.default.memberInfo},void 0,null!=r.approximatePresenceCount&&V("div",{className:N.default.memberCount},void 0,V("div",{className:N.default.dotOnline}),V(b.default,{size:b.default.Sizes.SIZE_12,color:b.default.Colors.HEADER_SECONDARY},void 0,M.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:r.approximatePresenceCount}))),null!=r.approximateMemberCount&&V("div",{className:N.default.memberCount},void 0,V("div",{className:N.default.dotOffline}),V(b.default,{size:b.default.Sizes.SIZE_12,color:b.default.Colors.HEADER_SECONDARY},void 0,M.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:r.approximateMemberCount})))),V(v.default,{
submitting:y,className:N.default.joinButton,color:E?v.default.Colors.GREY:v.default.Colors.GREEN,onClick:O},void 0,P)),V(Y,{entry:r}))};z.displayName="GuildDirectoryEntryCard";var K=z;t.default=K},88020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=g(n(667294)),o=n(378158),i=_(n(730487)),u=n(837797),l=g(n(145122)),s=_(n(907509)),d=_(n(502197)),c=n(194322),f=_(n(776360)),p=g(n(435625)),v=_(n(229164)),y=n(474477),h=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){var t=e.entry,r=e.onSelect,_=e.closePopout,m=e.forceLightTheme,g=e.hideEditButton,E=void 0!==g&&g,b=(0,v.default)(t),C=b.isEntryAdmin,T=b.canEdit,P=b.canRemove,A=(0,i.default)(t.guildId,void 0,void 0,_);a.useEffect((function(){T||P||null!=A||(0,o.closeContextMenu)()}));var M=function(){p.removeDirectoryGuildEntry(t.channelId,t.guildId)};function N(){(0,o.closeContextMenu)();null==_||_()}return I(l.default,{className:m?"theme-light":null,navId:"guild-entry-context",onClose:N,"aria-label":h.default.Messages.GUILD_ACTIONS_MENU_LABEL,onSelect:r},void 0,I(l.MenuGroup,{},void 0,T&&!E?I(l.MenuItem,{id:"update-entry",label:h.default.Messages.HUB_ENTRY_UPDATE,action:function(){(0,c.openModalLazy)(O(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(50012)]).then(n.bind(n,950012));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,S({},e,{entry:t}))}));case 5:case"end":return e.stop()}}),e)}))));N()}}):null,P?I(l.MenuItem,{id:"remove-from-hub",label:h.default.Messages.HUB_ENTRY_REMOVE,action:function(){(0,c.openModal)((function(e){return a.createElement(d.default,S({header:h.default.Messages.HUB_ENTRY_REMOVE,confirmText:h.default.Messages.REMOVE,cancelText:h.default.Messages.CANCEL,onConfirm:M},e),I(f.default,{size:f.default.Sizes.SIZE_16},void 0,h.default.Messages.HUB_ENTRY_REMOVE_BODY.format({guildName:t.name})))}));N()},color:y.MenuItemColor.DANGER}):null,C?null:a.createElement(a.Fragment,null,I(l.MenuItem,{id:"report-server-listing",label:h.default.Messages.REPORT_SERVER_NO_NAME,action:function(){if(null!=t){(0,u.showReportModalForGuildDirectoryEntry)(t);N()}},icon:s.default,color:y.MenuItemColor.DANGER}))),I(l.MenuGroup,{},void 0,A))}
b.displayName="GuildDirectoryEntryContextMenu"},71472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(160629)),o=i(n(88020));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.entry,n=e.forceLightTheme,r=e.hideEditButton,i=e.children,u=e.onRequestOpen,s=e.onRequestClose;return l(a.default,{onRequestOpen:u,onRequestClose:s,animation:a.default.Animation.NONE,position:a.default.Positions.BOTTOM,spacing:4,align:a.default.Align.RIGHT,renderPopout:function(e){var a=e.closePopout;return l(o.default,{entry:t,closePopout:a,forceLightTheme:n,hideEditButton:r})}},void 0,i)};s.displayName="GuildDirectoryEntryOptionsMenu";var d=s;t.default=d},308607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=S(n(667294)),o=E(n(294184)),i=E(n(864345)),u=E(n(535813)),l=E(n(80828)),s=E(n(186465)),d=E(n(971639)),c=E(n(776360)),f=n(235742),p=S(n(923117)),v=n(218044),y=E(n(247001)),h=E(n(447763)),_=E(n(552564)),m=E(n(324752)),g=E(n(315879));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=(0,i.default)((function(e){var t,n=e.searchQuery,r=e.setSearchQuery,a=e.handleClearSearch,i=e.handleSearchKeyPress,l=e.width,s=null!=l&&l<=780;return I("div",{className:_.default.header},void 0,I("img",{alt:"",className:_.default.headerImage,src:s?g.default:m.default}),I("div",{className:_.default.headerContentWrapper},void 0,I("div",{className:(0,o.default)(_.default.headerContent,(t={},t[_.default.headerContentSmall]=s,t))},void 0,I(d.default,{size:d.default.Sizes.SIZE_24,className:_.default.searchTitle},void 0,y.default.Messages.HUB_DIRECTORY_SEARCH_TITLE),I(c.default,{size:c.default.Sizes.SIZE_16,className:_.default.searchSubtitle
},void 0,y.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE),I(u.default,{searchTerm:n,className:_.default.searchBox,inputClassName:_.default.searchBoxInput,closeIconClassName:_.default.closeIcon,searchIconClassName:_.default.searchIcon,label:y.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:y.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:r,onClear:a,onKeyPress:i,cta:null!=n&&n.length>0?y.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null}))))})),C=function(e){var t=e.channel,n=e.directoryEntries,r=e.handleCreateOrAddGuild,o=e.searchQuery,i=e.setSearchQuery,u=e.handleClearSearch,d=e.handleSearchKeyPress,m=e.currentCategoryId,g=e.handleSelectCategory,E=e.categoryCounts,O=e.allEntriesCount,S=e.isLoading,C=I(p.AddEntryCard,{onClick:r});return I("div",{className:h.default.pageContainer},void 0,I(f.AdvancedScrollerAuto,{className:h.default.scroller},void 0,I(b,{searchQuery:o,setSearchQuery:i,handleClearSearch:u,handleSearchKeyPress:d}),I(f.AdvancedScrollerThin,{
orientation:"horizontal"},void 0,I(s.default,{className:_.default.tabBar,type:s.default.Types.TOP,look:s.default.Looks.BRAND,selectedItem:m,onItemSelect:function(e){g(e)}},void 0,I(s.default.Item,{className:_.default.tabBarItem,id:v.DirectoryEntryCategories.ALL},v.DirectoryEntryCategories.ALL,y.default.Messages.DIRECTORY_CATEGORY_ALL+" ("+O+")"),(0,v.getHubCategories)(t.id).map((function(e){var t=e.value,n=e.label;return I(s.default.Item,{className:_.default.tabBarItem,id:t},t,n+" "+(null!=E[t]?"("+E[t]+")":""))})))),S&&null==n?I(l.default,{className:h.default.spinner}):null==n?void 0:n.map((function(e){return a.createElement(a.Fragment,null,void 0!==e.header?I(c.default,{size:c.default.Sizes.SIZE_16,className:_.default.sectionHeader},void 0,e.header):null,I("div",{className:h.default.cardsContainer},void 0,e.entries.map((function(e){return I(p.default,{entry:e},e.guildId)})),e.appendEndCard&&null!=r?C:null))}))))};C.displayName="GuildDirectoryLanding";var T=C;t.default=T},
1698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.generateDirectoryRows=function(e,t){if(t!==o.DirectoryEntryCategories.ALL)return[{entries:(0,a.rankGuildEntries)(e),appendEndCard:!0}];var n=[],r=(0,a.rankByDateAdded)(e),u=new Set(r.map((function(e){return e.guildId})));r.length>0&&n.push({header:i.default.Messages.SEARCH_NEWEST,entries:r,appendEndCard:!1});var l=e.filter((function(e){return!u.has(e.guildId)}));(l=(0,a.orderByTotalMemberCount)(l)).length>0&&n.push({header:i.default.Messages.ALL_SERVERS,entries:l,appendEndCard:!0});return n};var r,a=n(448406),o=n(218044),i=(r=n(247001))&&r.__esModule?r:{default:r}},670539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=_(n(151097)),o=_(n(16941)),i=_(n(535813)),u=_(n(80828)),l=_(n(204014)),s=_(n(971639)),d=_(n(776360)),c=n(582945),f=_(n(923117)),p=_(n(247001)),v=_(n(447763)),y=_(n(885735)),h=_(n(123451));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}var E=function(e){var t,n=e.searchQuery,r=e.setSearchQuery,_=e.mostRecentQuery,m=e.handleClearSearch,E=e.handleSearchKeyPress,O=e.handleCreateOrAddGuild,S=e.searchResults;if(e.searchFetching)t=g("div",{className:v.default.pageContainer},void 0,g(u.default,{className:v.default.spinner}));else if(0===S.length){var I=null!=O?p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_SUBTITLE.format({addServerHook:function(e,t){return g(a.default,{onClick:O},t,e)}}):p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_NO_ADD;t=g("div",{className:y.default.emptySearchWrapper},void 0,g("img",{className:y.default.emptySearchImage,alt:"",src:h.default}),g(s.default,{size:s.default.Sizes.SIZE_24,color:d.default.Colors.HEADER_PRIMARY,className:y.default.emptySearchTitle},void 0,p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_TITLE),g(d.default,{size:d.default.Sizes.SIZE_16,color:d.default.Colors.HEADER_SECONDARY,className:y.default.emptySearchSubtitle},void 0,I))}else t=g("div",{
className:v.default.cardsContainer},void 0,S.map((function(e){return g(f.default,{entry:e},e.guildId)})));return g("div",{className:v.default.pageContainer},void 0,g(c.ScrollerAuto,{className:v.default.scroller},void 0,g("div",{className:y.default.searchHeader},void 0,g("div",{className:y.default.headerTitleWrapper},void 0,g(o.default,{onClick:m,className:y.default.arrow},void 0,g(l.default,{direction:l.default.Directions.LEFT})),g(s.default,{size:s.default.Sizes.SIZE_24,className:y.default.searchPageTitle},void 0,p.default.Messages.DIRECTORY_SEARCH_RESULTS_HEADER.format({numResults:S.length,query:_}))),g(i.default,{searchTerm:n,className:y.default.searchPageBox,inputClassName:y.default.searchPageInput,label:p.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:p.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:r,onClear:m,onKeyPress:E,cta:null!=n&&n.length>0?p.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})),t))};E.displayName="GuildDirectorySearchResults";var O=E
;t.default=O},523024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryInAppReportingExperiment=void 0;t.useCanSeeDiscoveryContextMenu=function(){var e=u.useExperiment({}).canSeeInAppReportingButtons,t=o.DeveloperMode.useSetting(),n=e||t;r.useEffect((function(){u.trackExposure({})}),[]);return n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505),o=n(894826);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var u=(0,a.createExperiment)({kind:"user",
id:"2022-01_discovery_iar",label:"Ability to report servers in Server Discovery",defaultConfig:{canSeeInAppReportingButtons:!1},treatments:[{id:1,label:"Show IAR buttons in Server Discovery",config:{canSeeInAppReportingButtons:!0}}]});t.DiscoveryInAppReportingExperiment=u},328092:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryTagsExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_discovery_tags",label:"Discovery Tags",defaultConfig:{shouldDisplayTags:!1,shouldDisplayRecommendedSearchTags:!1},treatments:[{id:1,label:"Show keyword tags on home and search result pages",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!1}},{id:2,label:"Show keyword tags on home and search result pages and under the search bar",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!0}}]});t.DiscoveryTagsExperiment=r},177634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.DiscoveryLandingExperimentRedirect=void 0;t.useGuildDiscoveryLandingExperimentConfig=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(473727),i=n(536211),u=n(373505),l=c(n(30098)),s=c(n(834162)),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=(0,u.createExperiment)({kind:"user",id:"2021-09_guild_discovery_landing",label:"Land app opens on the Guild Discovery page",defaultConfig:{isActive:!1},treatments:[{id:1,label:"Default app open to discovery page",config:{isActive:!0}}]});function y(){var e=(0,i.useStateFromStores)([l.default],(function(){return l.default.getGuildCount()})),t=(0,i.useStateFromStores)([s.default],(function(){return s.default.getGamesSeen(!1)})).some((function(e){return e.verified})),n=e<4&&!t;a.useEffect((function(){n&&v.trackExposure({})}),[n]);return v.useExperiment({},{disable:!n})}t.DiscoveryLandingExperimentRedirect=function(e){var t=e.defaultRouteFallback,n=y().isActive;return p(o.Redirect,n?{to:d.Routes.GUILD_DISCOVERY}:{to:t})}},332743:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(803949)),i=h(n(965419)),u=h(n(161679)),l=h(n(450474)),s=h(n(167646)),d=h(n(332282)),c=h(n(890422)),f=h(n(97751)),p=n(71246),v=n(227445),y=h(n(596964));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=m(o.default,{}),E=m(i.default,{}),O=m(u.default,{}),S=m(l.default,{}),I=m(s.default,{}),b=m(d.default,{height:22,width:22}),C=m(c.default,{}),T=function(e){switch(e){case v.CategoryIcons.Activity:return g;case v.CategoryIcons.Discover:return E;case v.CategoryIcons.Education:return O;case v.CategoryIcons.Music:return S;case v.CategoryIcons.Science:return I;case v.CategoryIcons.Stage:return b;case v.CategoryIcons.Television:return C;default:(0,p.assertNever)(e)}},P=function(e){var t=e.categories,n=e.currentCategoryId,r=e.handleCategorySelect,o=e.shouldDisplaySelectedCategory,i=void 0===o||o;return a.createElement(a.Fragment,null,t.map((function(e){
return m(f.default,{avatar:T(e.icon),name:e.name,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){return r(e.categoryId)},wrapContent:!0,selected:i&&e.categoryId===n,className:y.default.categoryItem,selectedClassName:y.default.selectedCategoryItem,innerClassName:y.default.itemInner},e.categoryId)})))};P.Icons=v.CategoryIcons;var A=P;t.default=A},841354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoverySidebarHeader=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(971639)),o=i(n(45622));function i(e){return e&&e.__esModule?e:{
default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.text;return l(a.default,{tag:a.default.Tags.H2,size:a.default.Sizes.SIZE_24,className:o.default.discoverHeader},void 0,t)}s.displayName="DiscoverySidebarHeader"},734696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(636602)),i=n(531254),u=v(n(275198)),l=v(n(2022)),s=v(n(971639)),d=v(n(776360)),c=v(n(684631)),f=n(770348),p=v(n(922179));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var m=[[1696,20],[1432,16],[1168,12],[0,8]],g=[[1696,30],[1432,24],[1168,18],[0,12]],E=function(e){var t=e.title,n=e.subtitle,r=e.guildsData,v=e.analyticsContext,y=e.theme,E=e.onViewGuild,O=e.fetchGuilds,S=e.onGuildCardSeen,I=e.currentCategoryId,b=e.loadId,C=e.onTagClick,T=e.showMoreCards,P=void 0!==T&&T;a.useEffect((function(){o.default.wait((function(){return O()}))}),[I]);var A=P?g:m,M=(0,c.default)(A);if(null==r)return null;var N=r.guilds,R=r.loading,w=null==N||0===N.length;if(!R&&w)return null;var D,L=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,i.isAtGuildCapAndNonPremium)()){e.next=4;break}(0,u.default)({analyticsSource:{page:f.AnalyticsPages.GUILD_DISCOVERY},analyticsLocation:{
page:f.AnalyticsPages.GUILD_DISCOVERY,section:f.AnalyticsSections.GUILD_CAP_UPSELL_MODAL}});e.next=7;break;case 4:n=N.findIndex((function(e){return e.id===t}));e.next=7;return E(t,n,v,b);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(R||null==N){for(var k=[],j=0;j<M;j++)k.push(h(l.default.Placeholder,{},j));D=k}else D=N.slice(0,M).map((function(e){return h(l.default,{className:p.default.guildCard,guild:e,onView:L,theme:y,onGuildCardSeen:S,onTagClick:C},e.id)}));return h("section",{className:p.default.guildListSection},void 0,h(s.default,{className:p.default.title,size:s.default.Sizes.SIZE_20},void 0,t),null!=n&&h(d.default,{className:p.default.subtitle,size:d.default.Sizes.SIZE_14,color:d.default.Colors.HEADER_SECONDARY},void 0,n),h("div",{
className:p.default.guildList},void 0,D))};E.displayName="DiscoverFeaturedGuildsSection";var O=E;t.default=O},473124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MAX_GUILDS_PER_PAGE=void 0;var r,a=b(n(667294)),o=S(n(496486)),i=S(n(817673)),u=n(536211),l=b(n(598319)),s=S(n(815428)),d=S(n(651386)),c=S(n(55027)),f=n(139982),p=S(n(199846)),v=S(n(16941)),y=S(n(204014)),h=S(n(971639)),_=S(n(776360)),m=b(n(465537)),g=n(227445),E=S(n(247001)),O=S(n(691288));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=12;t.MAX_GUILDS_PER_PAGE=T;var P=function(){var e=(0,f.getHistory)().location.search;return null!=e&&e.length>0&&e.startsWith("?")?i.default.parse(e):{}},A=function(e){var t=e.categoryId,n=e.categoryName,r=e.onClick,a=t===g.DISCOVERY_ALL_CATEGORIES_ID,o=a?E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_HEADER:E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_HEADER.format({categoryName:n
}),i=a?E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_BODY:E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_BODY.format({onClick:r});return C("div",{className:O.default.emptyContainer},void 0,C("div",{className:O.default.emptyImage}),C(h.default,{size:h.default.Sizes.SIZE_24,className:O.default.emptyHeader},void 0,o),C(_.default,{size:_.default.Sizes.SIZE_16,color:_.default.Colors.HEADER_SECONDARY},void 0,i))};A.displayName="EmptySearchResults";var M=function(){return C("div",{className:O.default.emptyContainer},void 0,C("div",{className:O.default.errorImage}),C(_.default,{size:_.default.Sizes.SIZE_16,color:_.default.Colors.HEADER_SECONDARY,className:O.default.emptyHeader},void 0,E.default.Messages.GUILD_DISCOVERY_SEARCH_ERROR))};M.displayName="ErrorState";var N=C(M,{}),R=function(e){
var t=e.loadId,n=e.searchResults,r=e.mostRecentQuery,i=e.defaultLanguage,f=e.availableLanguages,_=e.isFetchingSearch,S=e.scroller,I=e.loadingGuildId,b=e.theme,M=e.currentCategoryId,R=e.currentCategoryName,w=e.onViewGuild,D=e.onGuildCardSeen,L=e.placeholder,k=e.onTagClick,j=o.default.uniqueId("GuildDiscovery"),U=n.guilds,G=n.loading,F=n.total,x=a.useState(!1),W=x[0],V=x[1],H=P().tag,B=a.useState(H),Y=B[0],z=B[1],K=(0,u.useStateFromStores)([p.default],(function(){return p.default.hasSearchError()})),$=function(e,t,n){l.doAlgoliaSearch(r,{categoryId:n?g.DISCOVERY_ALL_CATEGORIES_ID:M,preferredLocale:i.code,offset:e,length:t,filters:{approximate_member_count:m.MINIMUM_MEMBER_COUNT}});V(!1)};a.useEffect((function(){var e=P(),t=e.offset,n=e.tag,r=null!=t?Math.floor(parseInt(t,10)/T)+1:1;z(!!n);1===r&&V(!0)}),[r]);var q=M===g.DISCOVERY_ALL_CATEGORIES_ID?E.default.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_HEADER.format({count:null!=F?F.toLocaleString():"0",query:r
}):E.default.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_CATEGORY_HEADER.format({count:null!=F?F.toLocaleString():"0",query:r,category:R});return C("div",{className:O.default.container},void 0,C("div",{className:O.default.searchHeader},void 0,C(v.default,{onClick:function(){l.clearSearch();m.trackSearchClosed(t)},className:O.default.arrow,"aria-label":E.default.Messages.BACK},void 0,C(y.default,{direction:y.default.Directions.LEFT})),C(h.default,{size:h.default.Sizes.SIZE_24,className:O.default.header},void 0,q)),C(d.default,{loadId:t,searchResults:n,mostRecentQuery:r,isFetchingSearch:_,defaultLanguage:i,placeholder:L,availableLanguages:f,isSearchPage:!0,currentCategoryId:M,isTagSearch:Y}),K?N:F<=0?C(A,{categoryId:M,categoryName:R,onClick:function(){l.selectCategory(g.DISCOVERY_ALL_CATEGORIES_ID);$(0,T,!0)}}):C("div",{className:O.default.results},void 0,C(s.default,{pageSize:T,totalCount:F,resetCurrentPage:W,onPageChange:function(e){$((e-1)*T,T);null==S||S.scrollTo({to:0})}
},void 0,(function(e){var t=e.controller;return C("section",{"aria-labelledby":j},void 0,C(c.default,{guilds:U,loading:G,loadingPlaceholderCount:T,onViewGuild:w,loadingGuildId:I,theme:b,analyticsContext:m.AnalyticsContexts.SEARCH,onGuildCardSeen:D,onTagClick:k}),t)}))))};R.displayName="DiscoverSearchResults";var w=R;t.default=w},184767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildDiscoveryMenuPopout=void 0;t.default=O;g(n(667294));var r,a=n(536211),o=n(378158),i=_(n(730487)),u=n(837797),l=g(n(145122)),s=_(n(30098)),d=_(n(689389)),c=_(n(160629)),f=_(n(907509)),p=n(523024),v=n(770348),y=n(474477),h=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.guild,n=e.shiftId,r=e.onSelect,c=e.closePopout,_=e["aria-label"],m=(0,i.default)(t.id,n,void 0,c),g=(0,a.useStateFromStores)([s.default],(function(){return s.default.getGuild(t.id)}),[t.id]),O=(0,a.useStateFromStores)([d.default],(function(){
return d.default.can(v.Permissions.ADMINISTRATOR,g)})),S=p.DiscoveryInAppReportingExperiment.useExperiment({}).canSeeInAppReportingButtons;return E(l.default,{onSelect:r,navId:"guild-discovery-context-menu","aria-label":null!=_?_:h.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:o.closeContextMenu},void 0,E(l.MenuGroup,{},void 0,!O&&S?E(l.MenuItem,{id:"report-guild-discovery-listing",label:h.default.Messages.REPORT_SERVER_NO_NAME,action:function(){(0,u.showReportModalForDiscoverableGuild)(t);!function(){(0,o.closeContextMenu)();null==c||c()}()},icon:f.default,color:y.MenuItemColor.DANGER}):null),E(l.MenuGroup,{},void 0,m))}O.displayName="GuildDiscoveryContextMenu";var S=function(e){var t=e.guild,n=e.children,r=e.onRequestOpen,a=e.onRequestClose;return E(c.default,{onRequestOpen:r,onRequestClose:a,animation:c.default.Animation.NONE,position:c.default.Positions.BOTTOM,spacing:4,align:c.default.Align.RIGHT,renderPopout:function(e){var n=e.closePopout;return E(O,{guild:t,closePopout:n
})}},void 0,n)};t.GuildDiscoveryMenuPopout=S;S.displayName="GuildDiscoveryMenuPopout"},638098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(956117)),i=f(n(971639)),u=f(n(776360)),l=n(294126),s=n(583551),d=f(n(247001)),c=f(n(812099));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.onClick,n=e.onSecondaryClick,r=e.onComponentMount,f=e.markAsDismissed;a.useEffect((function(){null==r||r()}),[r]);var p=a.useCallback((function(e){t(e);null==f||f(s.ContentDismissActionType.PRIMARY)}),[t,f]),y=a.useCallback((function(){null==n||n();null==f||f(s.ContentDismissActionType.SECONDARY)}),[n,f]);return v("div",{className:c.default.tooltipWrapper},void 0,v(i.default,{className:c.default.tooltipHeader,size:i.default.Sizes.SIZE_16},void 0,d.default.Messages.SERVER_DISCOVERY_TOOLTIP_TITLE),v(u.default,{className:c.default.tooltipText,
size:u.default.Sizes.SIZE_14},void 0,d.default.Messages.SERVER_DISCOVERY_TOOLTIP_DESCRIPTION.format({count:l.LOWERED_MINIMUM_SIZE})),v("div",{className:c.default.buttonsContainer},void 0,v(o.default,{fullWidth:!0,size:o.default.Sizes.SMALL,color:o.default.Colors.BRAND,onClick:p},void 0,d.default.Messages.LEARN_MORE),v(o.default,{fullWidth:!0,size:o.default.Sizes.SMALL,look:o.default.Looks.BLANK,onClick:y},void 0,d.default.Messages.NO_THANKS)))}y.displayName="GuildHeaderDiscoveryTooltip"},648831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.DiscoverSearchResultPlaceholder=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=P(n(294184)),i=n(378158),u=n(263996),l=n(800055),s=n(531254),d=P(n(275198)),c=P(n(16941)),f=P(n(189950)),p=P(n(80828)),v=P(n(971639)),y=P(n(272544)),h=P(n(776360)),_=P(n(692711)),m=n(465537),g=n(523024),E=n(328092),O=P(n(886836)),S=n(770348),I=P(n(247001)),b=P(n(895889)),C=P(n(860321)),T=P(n(145792));function P(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){
var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var D=function(){return w("div",{className:b.default.placeholder})};t.DiscoverSearchResultPlaceholder=D;D.displayName="DiscoverSearchResultPlaceholder";var L=function(e){var t,r,P,A=e.guild,N=e.theme,D=e.onView,L=e.onTagClick,k=A.id,j=A.discoverySplash,U=A.icon,G=A.name,F=A.description,x=A.presenceCount,W=A.memberCount,V=A.keywords,H=a.useState(!1),B=H[0],Y=H[1],z=a.useState(!1),K=z[0],$=z[1],q=_.default.getGuildDiscoverySplashURL({id:k,splash:j,size:240*(0,
l.getDevicePixelRatio)()}),Z=null!=q?q:function(e){switch(e){case S.ThemeTypes.DARK:return C.default;case S.ThemeTypes.LIGHT:return T.default}}(N),X=_.default.getGuildIconURL({id:k,icon:U,size:32})||void 0,Q=function(){var e=R(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target;if(!n.className.includes("Menu")){e.next=3;break}return e.abrupt("return");case 3:if(!(0,s.isAtGuildCapAndNonPremium)()){e.next=6;break}(0,d.default)({analyticsSource:{page:S.AnalyticsPages.GUILD_DISCOVERY},analyticsLocation:{page:S.AnalyticsPages.GUILD_DISCOVERY,section:S.AnalyticsSections.GUILD_CAP_UPSELL_MODAL}});return e.abrupt("return");case 6:$(!0);e.prev=7;e.t0=null!=D;if(!e.t0){e.next=12;break}e.next=12;return D(A.id);case 12:e.prev=12;$(!1);return e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[7,,12,15]])})));return function(t){return e.apply(this,arguments)}}();a.useEffect((function(){
return E.DiscoveryTagsExperiment.trackExposure({})}));var J=E.DiscoveryTagsExperiment.useExperiment({}).shouldDisplayTags,ee=(0,g.useCanSeeDiscoveryContextMenu)();return a.createElement(a.Fragment,null,w("div",{className:b.default.card},void 0,K?w(p.default,{type:p.default.Type.PULSING_ELLIPSIS,className:b.default.spinner}):null,w(c.default,{className:(0,o.default)(b.default.container,(t={},t[b.default.hover]=B,t[b.default.submitting]=K,t)),onClick:Q,onContextMenu:function(e){(0,i.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,184767));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,M({},e,{guild:A}))}));case 5:case"end":return e.stop()}}),e)}))))},onMouseEnter:function(){return Y(!0)},onMouseLeave:function(){return Y(!1)}},void 0,w("div",{className:(0,
o.default)(b.default.splashContainer,(r={},r[b.default.splashContainerWithTags]=J,r))},void 0,w("img",{src:Z,alt:"",className:b.default.splashImage,width:240})),w("div",{className:(0,o.default)(b.default.content,(P={},P[b.default.contentWithTags]=J,P))},void 0,w("div",{className:b.default.header},void 0,w(y.default,{mask:y.default.Masks.SQUIRCLE,width:32,height:32},void 0,w("img",{src:X,alt:"",className:b.default.avatar})),w("div",{className:b.default.headerName},void 0,w(f.default,{guild:A,className:b.default.guildBadge}),w(v.default,{size:v.default.Sizes.SIZE_16},void 0,G))),w(h.default,{className:b.default.description},void 0,F),J&&V&&L&&w(u.DiscoveryTags,{guildId:A.id,discoveryTagStyle:u.DiscoveryTagStyle.ALT,onTagClick:function(e){return L(e,A.id)},tags:V,section:m.AnalyticsContexts.SEARCH}),w("div",{className:b.default.memberInfo},void 0,null!=x&&w("div",{className:b.default.memberCount},void 0,w(h.default,{size:h.default.Sizes.SIZE_12,color:h.default.Colors.HEADER_SECONDARY
},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:x}))),null!=W&&a.createElement(a.Fragment,null,w("div",{className:b.default.dotSeparator}),w("div",{className:b.default.memberCount},void 0,w(h.default,{size:h.default.Sizes.SIZE_12,color:h.default.Colors.HEADER_SECONDARY},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:W})))))),ee?w("div",{className:b.default.actionButtons},void 0,w(O.default,{guild:A})):null)),w("hr",{className:b.default.separator}))};t.default=L},886836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=h(n(667294)),o=v(n(294184)),i=v(n(730977)),u=v(n(775803)),l=h(n(962989)),s=n(184767),d=v(n(247001)),c=v(n(498154)),f=["onClick"],p=["onClick"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function E(e){var t,n=e.guild,r=a.useState(!1),v=r[0],y=r[1],h=a.useCallback((function(){return y(!0)}),[y]),E=a.useCallback((function(){return y(!0)}),[y]);return m("div",{className:(0,o.default)(c.default.actionButtonsContainer,(t={},t[c.default.forceButtonsShow]=v,t))},void 0,m(l.default,{},void 0,m(s.GuildDiscoveryMenuPopout,{onRequestOpen:h,onRequestClose:E,guild:n},void 0,(function(e){var t=e.onClick,n=g(e,f);return m(i.default,{text:d.default.Messages.MORE,hideOnClick:!0},void 0,(function(e){var r=e.onClick,o=g(e,p);return a.createElement(l.Button,_({},n,o,{onClick:function(e){e.stopPropagation();null==r||r();t(e)},"aria-label":d.default.Messages.MORE}),m(u.default,{className:c.default.overflowIcon}))}))}))))}E.displayName="DiscoveryCardActionButtons";var O=E;t.default=O},
684631:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=r.useState(0),n=t[0],a=t[1],i=r.useCallback((function(){for(var t,n=window.innerWidth,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=r()).done;){var i=t.value,u=i[0],l=i[1];if(n>=u){a(l);return}}}),[e])
;r.useEffect((function(){i()}),[i]);r.useEffect((function(){window.addEventListener("resize",i);return function(){window.removeEventListener("resize",i)}}));return n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},730034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{
default:r},o=n(684769),i=n(770348);var u={init:function(){a.default.subscribe(i.ActionTypes.CONNECTION_OPEN,(function(){(0,o.reset)()}));a.default.subscribe(i.ActionTypes.LOGOUT,(function(){(0,o.reset)()}))}};t.default=u},802922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DismissibleContentNotices=void 0;var r,a=C(n(667294)),o=n(536211),i=n(923387),u=n(483559),l=I(n(226800)),s=I(n(155502)),d=I(n(754416)),c=I(n(877454)),f=I(n(296005)),p=I(n(41024)),v=I(n(11888)),y=n(194322),h=C(n(177101)),_=I(n(308920)),m=I(n(305081)),g=n(215758),E=n(770348),O=I(n(247001)),S=I(n(202192));function I(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e){var t=e.children;g.DownloadNagbarColorExperiment.trackExposure({});var n=g.DownloadNagbarColorExperiment.getCurrentConfig({}).updatedColor;return M(h.default,{color:n},void 0,t)}N.displayName="DownloadNagColor";var R=function(e){var t=e.dismissibleContent,r=e.noticeType,g=(0,o.useStateFromStores)([f.default],(function(){return f.default.getNotice()}));return M(m.default,{contentTypes:[t]},void 0,(function(e){var t=e.content,o=e.markAsDismissed;switch(t){case i.DismissibleContent.NAGBAR_NOTICE_DOWNLOAD:return M(N,{},void 0,M(h.NoticeCloseButton,{onClick:o,noticeType:r}),O.default.Messages.NOTICE_NATIVE_APPS_2020_06,M("i",{className:S.default.iconApple}),M("i",{className:S.default.iconAndroid}),M("i",{
className:S.default.iconWindows}),M(h.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){(0,y.openModalLazy)(A(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,T({source:"Top Bar Nag"},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,O.default.Messages.DOWNLOAD));case i.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY:return M(h.default,{color:h.NoticeColors.SPOTIFY},void 0,M(h.NoticeCloseButton,{onClick:o,noticeType:r}),M(v.default,{className:S.default.platformIcon}),O.default.Messages.NOTICE_CONNECT_SPOTIFY,M(h.PrimaryCTANoticeButton,{onClick:function(){return(0,d.default)(E.PlatformTypes.SPOTIFY,"Notice Bar")},noticeType:r},void 0,O.default.Messages.CONNECT));case i.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return M(h.default,{
color:h.NoticeColors.PLAYSTATION},void 0,M(h.NoticeCloseButton,{onClick:o}),M("img",{alt:"",className:S.default.platformIcon,src:s.default.get(E.PlatformTypes.PLAYSTATION).icon.whiteSVG}),O.default.Messages.NOTICE_CONNECT_PLAYSTATION,M(h.NoticeButton,{onClick:function(){return(0,d.default)(E.PlatformTypes.PLAYSTATION,"Notice Bar")}},void 0,O.default.Messages.CONNECT));case i.DismissibleContent.NAGBAR_NOTICE_MFA_SMS_BACKUP:return M(h.default,{color:h.NoticeColors.NOTIFICATION},void 0,M(h.NoticeCloseButton,{onClick:o,noticeType:r}),O.default.Messages.NOTICE_MFA_SMS_BACKUP,M(h.PrimaryCTANoticeButton,{onClick:function(){return l.default.open(E.UserSettingsSections.ACCOUNT)},noticeType:r},void 0,O.default.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON));case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_PROMO:return M(h.default,{color:h.NoticeColors.DARK},void 0,M("span",{className:S.default.premiumLogo}),M("span",{className:S.default.premiumText
},void 0,O.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE),M(h.PrimaryCTANoticeButton,{className:S.default.premiumAction,noticeType:r,onClick:function(){_.default.track(E.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:E.AnalyticsSections.NOTIFICATION_BAR,location_object:E.AnalyticsObjects.BUTTON_CTA});l.default.open(E.UserSettingsSections.PREMIUM)}},void 0,O.default.Messages.NOTICE_PREMIUM_PROMO_ACTION),M(h.NoticeCloseButton,{onClick:function(){o();(0,u.setFlag)(E.UserFlags.PREMIUM_PROMO_DISMISSED,!0)},noticeType:r}));case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING:return M(c.default,{dismissCurrentNotice:o});case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_REACTIVATE:return M(h.default,{color:h.NoticeColors.PREMIUM_TIER_2},void 0,M(h.NoticeCloseButton,{noticeType:r,onClick:o}),O.default.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_TEXT,M(h.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){o();l.default.open(E.UserSettingsSections.PREMIUM)}
},void 0,O.default.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_BUTTON_TEXT));case i.DismissibleContent.NAGBAR_NOTICE_LOCALIZED_PRICING:var f=null!=g&&null!=g.metadata.premiumSubscription;return M(h.default,{color:f?h.NoticeColors.BRAND_1:h.NoticeColors.PREMIUM_TIER_2},void 0,M(h.NoticeCloseButton,{onClick:o,noticeType:r}),f?O.default.Messages.NOTICE_NITRO_PRICE_CHANGED.format({countryName:O.default.Messages.COUNTRY_NAME_AU}):M(a.Fragment,{},void 0,M(p.default,{className:S.default.premiumIcon}),O.default.Messages.LOCALIZED_PRICING_NOTICE_AU),M(h.PrimaryCTANoticeButton,{onClick:function(){o();l.default.open(E.UserSettingsSections.PREMIUM)},noticeType:r},void 0,O.default.Messages.LEARN_MORE))}}))};t.DismissibleContentNotices=R;R.displayName="DismissibleContentNotices"},215758:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DownloadNagbarColorExperiment=void 0;var r=n(373505),a=n(177101),o=(0,r.createExperiment)({kind:"user",
id:"2022-02_download_nagbar_color",label:"update background color for download nagbar",defaultConfig:{updatedColor:a.NoticeColors.DEFAULT},treatments:[{id:1,label:"nagbar uses link (blue) background color",config:{updatedColor:a.NoticeColors.LINK}},{id:2,label:"nagbar uses green background color",config:{updatedColor:a.NoticeColors.GREEN}},{id:3,label:"nagbar uses brand background color",config:{updatedColor:a.NoticeColors.BRAND_2}}]});t.DownloadNagbarColorExperiment=o},207052:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DMSpamAccept=void 0;t.useAndTrackDMSpamAccept=function(e,t){void 0===t&&(t=!0);var n=(0,o.useIsEligibleForUserDMSpamBannerExperiment)(e),a=i.useExperiment(null,{disable:!n});(0,r.useEffect)((function(){n&&t&&i.trackExposure(null)}),[t,n]);return a};var r=n(667294),a=n(373505),o=n(777795),i=(0,a.createExperiment)({kind:"user",id:"2021-10_spam_dm_redaction",label:"DM Spam Redaction",defaultConfig:{showSpamBanner:!1},treatments:[{id:1,
label:"Warn receiver that DM may contain spam and hide messages",config:{showSpamBanner:!0}}]});t.DMSpamAccept=i},841175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.acceptFirstMessage=function(e){a.default.dispatch({type:o.ActionTypes.ACCEPT_FIRST_DM_MESSAGE,channelId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},747199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new Set;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(s=new Set(e))};n.isMessageAccepted=function(e){return s.has(e)};n.getState=function(){return s};return t
}(a.default.PersistedStore);d.persistKey="FirstMessageAcceptStore";var c=new d(o.default,((r={})[i.ActionTypes.ACCEPT_FIRST_DM_MESSAGE]=function(e){var t=e.channelId;s.add(t)},r));t.default=c},192071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NonFriendDMAccept=void 0;t.useAndTrackNonFriendDMAccept=function(e,t){void 0===t&&(t=!0);var n=(0,o.useIsEligibleForNonFriendDMAcceptExperiment)(e),a=(0,i.useIsEligibleForUserDMSpamBannerExperiment)(e),l=n&&!a,s=u.useExperiment(null,{disable:!l});(0,r.useEffect)((function(){l&&t&&u.trackExposure(null)}),[t,l]);return s};var r=n(667294),a=n(373505),o=n(156750),i=n(777795),u=(0,a.createExperiment)({kind:"user",id:"2021-08_1st_dm_accept__report",label:"1st DM Accept & Report ",defaultConfig:{showBanner:!1},treatments:[{id:1,label:"Allow receiver to accept, ignore, or report non-friend DMs",config:{showBanner:!0}}]});t.NonFriendDMAccept=u},528831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.allowMessagesFromSpamUser=function(e){a.default.dispatch({type:o.ActionTypes.ALLOW_SPAM_MESSAGES_FOR_USER,userId:e})};t.hideMessagesFromSpamUser=function(e){a.default.dispatch({type:o.ActionTypes.HIDE_SPAM_MESSAGES_FOR_USER,userId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},448673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new Set;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(s=new Set(e))};n.hasAllowedSpamUser=function(e){return s.has(e)};n.getState=function(){return s};return t}(a.default.PersistedStore);d.persistKey="SpamMessageAcceptStore"
;var c=new d(o.default,((r={})[i.ActionTypes.ALLOW_SPAM_MESSAGES_FOR_USER]=function(e){var t=e.userId;s.add(t)},r[i.ActionTypes.HIDE_SPAM_MESSAGES_FOR_USER]=function(e){var t=e.userId;s.delete(t)},r));t.default=c},156750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useIsEligibleForNonFriendDMAcceptExperiment=function(e){var t=(0,o.useShowConvoStarterInDM)(e),n=(0,a.useIsRelationshipTypeSpamReportable)(e.getRecipientId()),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.getMessages(e.id).length>0}),[e]),s=(0,r.useStateFromStores)([u.default],(function(){return u.default.isMessageAccepted(e.id)}),[e]);return n&&t&&l&&!s};var r=n(536211),a=n(67060),o=n(11710),i=l(n(201292)),u=l(n(747199));function l(e){return e&&e.__esModule?e:{default:e}}},777795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useIsEligibleForUserDMSpamBannerExperiment=function(e){var t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some((function(e){
return e.bot})),n=(0,r.useStateFromStores)([o.default],(function(){var t;return!0===(null===(t=o.default.getUser(e.getRecipientId()))||void 0===t?void 0:t.hasFlag(u.UserFlags.SPAMMER))}),[e]),l=(0,r.useStateFromStores)([a.default],(function(){return a.default.getMessages(e.id).length>0}),[e]),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.hasAllowedSpamUser(e.getRecipientId())}),[e]);return t&&n&&l&&!s};var r=n(536211),a=l(n(201292)),o=l(n(728429)),i=l(n(448673)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},838574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FirstDMReportSpamBanner=S;var r,a=m(n(667294)),o=h(n(709403)),i=h(n(618825)),u=n(960736),l=h(n(956117)),s=m(n(730977)),d=h(n(308920)),c=n(841175),f=n(770348),p=h(n(247001)),v=h(n(157358)),y=["onMouseEnter","onMouseLeave"];function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(_=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=n(513157);function S(e){var t=e.channel,n=t.getRecipientId(),r=function(){d.default.track(f.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"FirstDMSpamExperiment",response:"hide"});o.default.closePrivateChannel(t.id,!0)},h=function(){d.default.track(f.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"FirstDMSpamExperiment",response:"report_click"})},_=function(){d.default.track(f.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"FirstDMSpamExperiment",response:"report_submit"})};return E(u.MessageNoticeBanner,{bannerIcon:O,bannerHeader:p.default.Messages.ACCEPT_DM_HEADER,bannerSubtext:p.default.Messages.ACCEPT_DM_SUBTEXT},void 0,E(s.default,{tooltipClassName:v.default.tooltip,text:p.default.Messages.REPORT_DM_TOOLTIP,color:s.TooltipColors.BRAND
},void 0,(function(e){var r=e.onMouseEnter,a=e.onMouseLeave;return E(i.default,{channel:t,otherUserId:n,buttonSize:l.default.Sizes.MEDIUM,onReportClick:h,onReportSubmit:_,onMouseEnter:function(){null==r||r()},onMouseLeave:function(){null==a||a()}})})),E(s.default,{tooltipClassName:v.default.tooltip,text:p.default.Messages.CLOSE_DM_TOOLTIP,color:s.TooltipColors.BRAND},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,y);return a.createElement(l.default,g({},o,{className:v.default.smallButton,size:l.default.Sizes.MEDIUM,color:l.default.Colors.GREY,onClick:r,onMouseEnter:function(){null==t||t()},onMouseLeave:function(){null==n||n()}}),p.default.Messages.FRIEND_REQUEST_IGNORE)})),E(l.default,{className:v.default.smallButton,size:l.default.Sizes.MEDIUM,onClick:function(){d.default.track(f.AnalyticEvents.DM_SAFETY,{channel_id:t.id,
channel_type:t.type,safety_prompt:"FirstDMSpamExperiment",response:"accept"});(0,c.acceptFirstMessage)(t.id)}},void 0,p.default.Messages.ACCEPT))}S.displayName="FirstDMReportSpamBanner"},105149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SenderSpammerBanner=C;E(n(667294));var r,a=n(536211),o=m(n(190040)),i=m(n(709403)),u=m(n(237923)),l=n(960736),s=m(n(728429)),d=E(n(956117)),c=n(767019),f=n(143586),p=m(n(308920)),v=n(528831),y=n(770348),h=m(n(247001)),_=m(n(157358));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}var b=n(513157);function C(e){var t=e.channel,n=t.getRecipientId(),r=(0,a.useStateFromStores)([s.default],(function(){
var e=s.default.getUser(n);return null!=e?e.username:null})),m=function(){var e=I(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"block_modal_cancel_click"});e.next=3;return i.default.closePrivateChannel(t.id,!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=I(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"block_modal_block_click"});e.next=3;return u.default.addRelationship(n,{location:"DMSpamModal"},y.RelationshipTypes.BLOCKED);case 3:e.next=5;return i.default.closePrivateChannel(t.id,!0);case 5:(0,f.showToast)((0,
c.createToast)(h.default.Messages.SPAMMER_BLOCKED.format({username:r}),c.ToastType.SUCCESS));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return O(l.MessageNoticeBanner,{bannerIcon:b,bannerHeader:h.default.Messages.ACCEPT_SPAM_DM_HEADER,bannerSubtext:h.default.Messages.ACCEPT_SPAM_DM_SUBTEXT},void 0,O(d.default,{className:_.default.largeButton,look:d.default.Looks.LINK,size:d.default.Sizes.SMALL,color:d.default.Colors.TRANSPARENT,onClick:function(){p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"not_spam"});(0,v.allowMessagesFromSpamUser)(n)}},void 0,h.default.Messages.REPORT_NOT_SPAM),O(d.default,{className:_.default.largeButton,look:d.default.Looks.FILLED,size:d.default.Sizes.SMALL,color:d.ButtonColors.RED,onClick:function(){p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",
response:"close_channel_click"});o.default.show({title:h.default.Messages.BLOCK_SPAMMER_HEADER,body:h.default.Messages.BLOCK_SPAMMER_SUBHEADER.format({username:r}),onCancel:m,cancelText:h.default.Messages.CANCEL,onConfirm:g,confirmText:h.default.Messages.BLOCK});i.default.closePrivateChannel(t.id,!0)}},void 0,h.default.Messages.CLOSE_DM))}C.displayName="SenderSpammerBanner"},916239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=[{keybinds:["Spacebar","Enter"],name:c.default.Messages.DND_OPERATION_LABEL_DROP},{keybinds:["up","down"],name:c.default.Messages.DND_OPERATION_LABEL_MOVE},{keybinds:["ESC"],name:c.default.Messages.DND_OPERATION_LABEL_CANCEL}],t=(0,i.useStateFromStores)([u.default],(function(){return u.default.useReducedMotion})),n=(0,d.useDndMode)();return(0,o.useTransition)(n,{enter:{from:{opacity:0,y:t?0:80},to:{opacity:1,y:0}},leave:{opacity:0,y:t?0:80},config:o.config.stiff})((function(t,n){return n?y("div",{
className:f.default.positioner},void 0,y(o.animated.div,{className:f.default.container,style:t},void 0,e.map((function(t,n){var r=t.keybinds,o=t.name;return y(a.Fragment,{},o,y(s.default,{size:s.default.Sizes.SIZE_16,className:f.default.bindName},void 0,o),r.map((function(e){return y(l.default,{shortcut:e,className:f.default.shortcut},e)})),n<e.length-1?y("span",{className:f.default.separator}):null)})))):null}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(248088),i=n(536211),u=p(n(235879)),l=p(n(749666)),s=p(n(776360)),d=n(412317),c=p(n(247001)),f=p(n(923947))
;function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},480519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=n(754126),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(e){var t=e.channel.id;(0,o.removeFavoriteChannel)(t)}var d=new(function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(i.ActionTypes.CHANNEL_DELETE,s)};n._terminate=function(){r.default.unsubscribe(i.ActionTypes.CHANNEL_DELETE,s)};return t}(a.default));t.default=d},526098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(598671),i=n(770348),u=(r=n(247001))&&r.__esModule?r:{default:r},l=["className"]
;function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l);return a.createElement(o.TextBadge,d({},n,{text:u.default.Messages.BETA,color:i.Colors.BRAND,className:t}))}c.displayName="BetaTag"},455002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FeedbackTypePrecedence=t.FeedbackType=t.FeedbackRating=t.FEEDBACK_FREEFORM_LENGTH=void 0;function n(){n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return n.apply(this,arguments)}var r;t.FeedbackRating=r;!function(e){e.BAD="bad";e.NEUTRAL="neutral";e.GOOD="good"}(r||(t.FeedbackRating=r={}));var a;t.FEEDBACK_FREEFORM_LENGTH=1024;t.FeedbackType=a;!function(e){e[e.VOICE=0]="VOICE";e[e.STREAM=1]="STREAM";e[e.VIDEO_BACKGROUND=2]="VIDEO_BACKGROUND";e[e.ACTIVITY=3]="ACTIVITY"}(a||(t.FeedbackType=a={}));var o=[a.VIDEO_BACKGROUND,a.ACTIVITY,a.STREAM,a.VOICE].reduce((function(e,t,r){var a;return n({},e,((a={})[t]=r,a))}),{});t.FeedbackTypePrecedence=o},755540:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(496486)),o=c(n(972247)),i=c(n(177230)),u=n(6505),l=c(n(652566)),s=c(n(893160)),d=n(455002);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v={chance:.2,cooldown:864e5},y=((r={})[d.FeedbackType.VOICE]=p({},v,{hotspot:u.HotspotLocations.VOICE_CALL_FEEDBACK,storageKey:"lastVoiceFeedback",eligibilityChecks:[function(e){if(!s.default.getWasEverRtcConnected())return!0;return s.default.getWasEverMultiParticipant()}]}),r[d.FeedbackType.STREAM]=p({},v,{hotspot:u.HotspotLocations.REPORT_PROBLEM_POST_STREAM}),r[d.FeedbackType.VIDEO_BACKGROUND]=p({},v,{hotspot:u.HotspotLocations.VIDEO_BACKGROUND_FEEDBACK,storageKey:"lastVideoBackgroundFeedback"}),r[d.FeedbackType.ACTIVITY]={cooldown:0,chance:1,hotspot:u.HotspotLocations.POST_ACTIVITY_FEEDBACK,storageKey:"lastActivityFeedback"},r);function h(e){return l.default.hasHotspot(e.hotspot)}function _(e){return Math.random()<e.chance}function m(e){if(null!=e.storageKey){var t=o.default.get(e.storageKey);if(null!=t&&Date.now()-t<e.cooldown)return!1}return!0}function g(e){
var t=y[e];null!=t.storageKey&&o.default.set(t.storageKey,Date.now())}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).feedbackTypeToShow=null;t.showFeedbackModalDebounced=a.default.debounce((function(e){if(null!=t.feedbackTypeToShow){g(t.feedbackTypeToShow);t.feedbackTypeToShow=null;e()}}),200);return t}t.prototype.possiblyShowFeedbackModal=function(e,t){if(function(e){var t,n=y[e],r=[m,_,h],a=null!==(t=n.eligibilityChecks)&&void 0!==t?t:[];return r.every((function(e){return e(n)}))&&a.every((function(e){return e(n)}))}(e)&&!(null!=this.feedbackTypeToShow&&d.FeedbackTypePrecedence[this.feedbackTypeToShow]<d.FeedbackTypePrecedence[e])){this.feedbackTypeToShow=e;this.showFeedbackModalDebounced(t)}};return t}(i.default);t.default=E},697786:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=O(n(667294)),a=g(n(636602)),o=n(747868),i=n(10614),u=g(n(902305)),l=g(n(423046)),s=g(n(644263)),d=g(n(288356)),c=g(n(788739)),f=g(n(893160)),p=g(n(359973)),v=O(n(194322)),y=g(n(755540)),h=n(455002),_=n(770348),m=n(371621);function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var T=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,a=arguments.length,y=new Array(a),g=0;g<a;g++)y[g]=arguments[g];(t=e.call.apply(e,[this].concat(y))||this).handleVoiceChannelFeedback=function(e){var a=e.analyticsData;t.possiblyShowFeedbackModal(h.FeedbackType.VOICE,(function(){v.openModalLazy(b(regeneratorRuntime.mark((function e(){var t,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(11956)]).then(n.bind(n,411956));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,S({},e,{analyticsData:a}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleStreamClose=function(e){var a=e.streamKey,u=e.canShowFeedback,s=(0,o.decodeStreamKey)(a),d=(0,i.getStreamerApplication)(s,c.default),f={media_session_id:p.default.getActiveMediaSessionId(),rtc_connection_id:p.default.getActiveRTCConnectionId()};u&&t.possiblyShowFeedbackModal(h.FeedbackType.STREAM,(function(){v.openModalLazy(b(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(20070)]).then(n.bind(n,20070));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,S({stream:s,streamApplication:d,
isStreamer:s.ownerId===l.default.getId()},e,{analyticsData:f}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleVideoBackgroundShowFeedback=function(e){var a=e.analyticsData;t.possiblyShowFeedbackModal(h.FeedbackType.VIDEO_BACKGROUND,(function(){v.openModalLazy(b(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(95159)]).then(n.bind(n,995159));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,S({},e,{analyticsData:a}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleActivityClose=function(e){var a=e.applicationId,o=e.channelId,i=e.showFeedback,l=d.default.getGame(a),c=s.default.getChannel(o),p={rtc_connection_id:f.default.getRTCConnectionId(),media_session_id:f.default.getMediaSessionId()},y=u.default.getWindowOpen(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT)?m.POPOUT_MODAL_CONTEXT:m.DEFAULT_MODAL_CONTEXT
;null!=l&&null!=c&&i&&t.possiblyShowFeedbackModal(h.FeedbackType.ACTIVITY,(function(){v.openModalLazy(b(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(79020)]).then(n.bind(n,879020));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,S({},e,{activityApplication:l,channel:c,analyticsData:p}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:y})}))};return t}var y=t.prototype;y._initialize=function(){a.default.subscribe(_.ActionTypes.VOICE_CHANNEL_SHOW_FEEDBACK,this.handleVoiceChannelFeedback);a.default.subscribe(_.ActionTypes.STREAM_CLOSE,this.handleStreamClose);a.default.subscribe(_.ActionTypes.VIDEO_BACKGROUND_SHOW_FEEDBACK,this.handleVideoBackgroundShowFeedback);a.default.subscribe(_.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,this.handleActivityClose)};y._terminate=function(){
a.default.unsubscribe(_.ActionTypes.VOICE_CHANNEL_SHOW_FEEDBACK,this.handleVoiceChannelFeedback);a.default.unsubscribe(_.ActionTypes.STREAM_CLOSE,this.handleStreamClose);a.default.unsubscribe(_.ActionTypes.VIDEO_BACKGROUND_SHOW_FEEDBACK,this.handleVideoBackgroundShowFeedback);a.default.unsubscribe(_.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,this.handleActivityClose)};return t}(y.default));t.default=T},853289:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=X
;var r,a=z(n(667294)),o=B(n(294184)),i=B(n(441143)),u=B(n(95298)),l=n(536211),s=B(n(186705)),d=B(n(55189)),c=z(n(538930)),f=B(n(707842)),p=B(n(805918)),v=B(n(271180)),y=n(856746),h=B(n(907616)),_=n(907932),m=B(n(422207)),g=n(770755),E=B(n(887174)),O=n(192110),S=B(n(521595)),I=B(n(387812)),b=z(n(687549)),C=B(n(30098)),T=B(n(689389)),P=B(n(680873)),A=B(n(728429)),M=B(n(956117)),N=B(n(16941)),R=z(n(279950)),w=B(n(688599)),D=B(n(129321)),L=B(n(776360)),k=n(993442),j=n(956506),U=n(905835),G=n(871382),F=n(247726),x=B(n(649563)),W=n(770348),V=B(n(247001)),H=B(n(172953));function B(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function K(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function $(){$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return $.apply(this,arguments)}function q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var Z=y.ChatInputTypes.CREATE_FORUM_POST;function X(e){return q(k.ComponentDispatchGroupProvider,{},void 0,a.createElement(Q,e))}X.displayName="CreateForumPostForm";function Q(e){var t,n,r,i,d=e.parentChannel,c=e.location,f=e.onChange,v=a.useContext(k.ComponentDispatchGroupContext),y=a.useCallback((function(){v.bumpDispatchPriority()}),[v]),h=(0,l.useStateFromStores)([T.default],(function(){return T.default.can(W.Permissions.ATTACH_FILES,d)})),_=function(e){var t=a.useState({}),n=t[0],r=t[1],o=a.useState({textValue:"",richValue:u.default.deserialize("")}),i=o[0],l=o[1],d=a.useCallback((function(t){r((function(e){return $({},e,{},t)}));s.default.changeThreadSettings(e.id,t)}),[e.id]);a.useEffect((function(){function t(t){var n,a=b.default.getDraft(e.id,b.DraftType.FirstThreadMessage);0!==a.length&&!0!==t||l({textValue:a,richValue:u.default.deserialize(a)});r(null!==(n=b.default.getThreadSettings(e.id))&&void 0!==n?n:{})}t(!0);b.default.addChangeListener(t);return function(){
b.default.removeChangeListener(t)}}),[e.id]);return{threadSettings:n,setThreadSettings:r,updateThreadSettings:d,textAreaState:i,setTextAreaState:l}}(d),S=_.threadSettings,A=_.updateThreadSettings,M=_.textAreaState,R=_.setTextAreaState,w=a.useState((null!==(t=S.name)&&void 0!==t?t:"").length>0),D=w[0],L=w[1],j=function(e,t,n,r,o){var i=(0,l.useStateFromStores)([C.default],(function(){return C.default.getGuild(e.guild_id)})),u=a.useState(!1),s=u[0],d=u[1],c=a.useState(!1),f=c[0],p=c[1],v=(0,I.default)(e,void 0,i,t,O.PrivateThreadMode.Disabled,r,E.default.openThreadSidebarForViewing),y=a.useCallback((function(r,a,o){var i;null==r&&(r=n.textValue);r=r.trim();if(null==a||0===a.length){var u;a=null===(u=m.default.getStickerPreview(e.id,Z.drafts.type))||void 0===u?void 0:u.map((function(e){return e.id}))}null!=o&&0!==o.length||(o=P.default.getUploads(e.id,b.DraftType.FirstThreadMessage));return{content:r,stickers:a,uploads:o,hasNameError:0===(null!==(i=t.name)&&void 0!==i?i:"").length,
hasMessageError:!(null!=r&&""!==r||null!=a&&0!==a.length||0!==o.length)}}),[e.id,n.textValue,t.name]),h=a.useCallback(function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r,a){var i,u,l,s,c,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=y(n,r,a),u=i.content,l=i.stickers,s=i.uploads,c=i.hasNameError,f=i.hasMessageError;d(c);p(f);if(!c&&!f){t.next=5;break}return t.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 5:t.next=7;return(0,G.applyChatRestrictions)({content:u,stickers:l,uploads:s,type:Z,channel:e});case 7:if(t.sent.valid){t.next=11;break}return t.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 11:t.next=13;return v(u,l,s);case 13:o(!1);x.default.resort(e.id);(0,g.clearStickerPreview)(e.id,Z.drafts.type);return t.abrupt("return",{shouldClear:!0,shouldRefocus:!1});case 17:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){
K(o,r,a,i,u,"next",e)}function u(e){K(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t,r){return n.apply(this,arguments)}}(),[v,y,e,o]),_=y(),S=!_.hasNameError&&!_.hasMessageError;return{hasNameError:s,hasMessageError:f,submit:h,isCurrentlyValid:S}}(d,S,M,c,L),U=j.hasNameError,F=j.hasMessageError,B=j.submit,Y=(0,l.useStateFromStoresArray)([P.default],(function(){return P.default.getUploads(d.id,b.DraftType.FirstThreadMessage)})),z=Y.length>0||M.textValue.length>0||(null!==(n=null===(r=S.name)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0;a.useEffect((function(){!D&&z&&L(!0)}),[D,Y,z]);var X=a.useRef(null),Q=a.useCallback((function(){D&&!z&&setTimeout((function(){var e=document.activeElement;null!=X.current&&(null!=e&&X.current.contains(e)||L(!1))}),0)}),[D,z]);a.useLayoutEffect(f,[D,M,Y,f]);var ne=a.useRef(null);return a.createElement(a.Fragment,null,q(p.default,{channel:d,draftType:b.DraftType.FirstThreadMessage}),q(N.default,{innerRef:X,
"aria-label":V.default.Messages.NEW_FORUM_POST,className:(0,o.default)(H.default.container,(i={},i[H.default.collapsed]=!D,i)),onClick:D?void 0:function(e){var t;D||L(!0);e.target!==ne.current&&(null===(t=ne.current)||void 0===t||t.focus())}},void 0,q("form",{onMouseDown:y,onFocus:y,onSubmit:function(e){e.preventDefault();B()},className:H.default.form},void 0,q(J,{parentChannel:d,threadSettings:S,updateThreadSettings:A,hasError:U,expandForm:D,setExpandForm:L,onBlur:Q,inputRef:ne}),D?a.createElement(a.Fragment,null,q(ee,{parentChannel:d,textAreaState:M,setTextAreaState:R,submit:B,hasError:F,canAttachFiles:h,onBlur:Q}),q(te,{parentChannel:d,canAttachFiles:h})):null)))}function J(e){var t,n=e.parentChannel,r=e.threadSettings,a=e.updateThreadSettings,o=e.hasError,u=e.expandForm,s=e.setExpandForm,c=e.onBlur,f=e.inputRef,p=null!==(t=r.name)&&void 0!==t?t:"",v=(0,l.useStateFromStores)([A.default],(function(){return A.default.getCurrentUser()}));(0,
i.default)(null!=v,"current user cannot be null");return q("div",{className:H.default.titleContainer},void 0,q(R.default,{className:H.default.title,value:p,placeholder:u?V.default.Messages.FORUM_POST_TITLE_PLACEHOLDER_FOCUSED:V.default.Messages.FORUM_POST_TITLE_PLACEHOLDER,maxLength:W.MAX_CHANNEL_NAME_LENGTH,onChange:function(e){a({name:(0,S.default)(e,!1)});""!==e?d.default.startTyping(n.id):d.default.stopTyping(n.id)},onFocus:function(){return s(!0)},onBlur:function(){var e=(0,S.default)(p,!0);e!==p&&a({name:e});c()},error:o&&0===p.trim().length?V.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR:null,inputRef:f}),u?null:ae)}J.displayName="ForumPostTitle";function ee(e){var t,n=e.parentChannel,r=e.textAreaState,u=e.setTextAreaState,f=e.submit,p=e.hasError,y=e.canAttachFiles,m=e.onBlur,g=(0,l.useStateFromStores)([A.default],(function(){return A.default.getCurrentUser()}));(0,i.default)(null!=g,"current user cannot be null");var E=(0,
_.useUserNickAndColor)(g,n),O=E.nick,S=E.colorString,I=a.useState(!1),C=I[0],T=I[1],P=a.useCallback((function(){T(!0)}),[]),M=a.useCallback((function(){T(!1);m()}),[m]),N=a.useCallback((function(e,t,r){s.default.saveDraft(n.id,t,b.DraftType.FirstThreadMessage);u((function(e){""!==t&&e.textValue!==t?d.default.startTyping(n.id):""===t&&d.default.stopTyping(n.id);return{textValue:t,richValue:r}}))}),[n.id,u]),w=a.useCallback((function(e,t,n){return f(e,n,t)}),[f]);(0,k.useComponentAction)({event:W.ComponentActions.TEXTAREA_FOCUS,handler:P});(0,k.useComponentAction)({event:W.ComponentActions.TEXTAREA_BLUR,handler:M});var D=p&&0===r.textValue.trim().length;return q("div",{className:H.default.bodyContainer},void 0,q("div",{className:H.default.avatarContainer},void 0,q(c.default,{className:H.default.avatar,user:g,size:c.Sizes.SIZE_40})),q("div",{className:H.default.authorContainer},void 0,q(L.default,{size:L.default.Sizes.SIZE_16,color:L.default.Colors.HEADER_PRIMARY,
className:H.default.authorName,style:{color:S}},void 0,O)),q("div",{onClick:P},void 0,q(v.default,{type:Z,channel:n,placeholder:V.default.Messages.FORUM_POST_MESSAGE_PLACEHOLDER,textValue:r.textValue,richValue:r.richValue,focused:C,className:H.default.channelTextArea,innerClassName:(0,o.default)(H.default.channelTextAreaInner,(t={},t[H.default.channelTextAreaInnerError]=D,t)),onFocus:P,onBlur:M,onChange:N,onSubmit:w,promptToUpload:F.promptToUpload})),q(R.Error,{error:D?V.default.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR:null}),q(h.default,{channelId:n.id,type:Z,canAttachFiles:y}))}ee.displayName="ForumPostBody";function te(e){var t=e.parentChannel,n=e.canAttachFiles;return q("div",{className:H.default.controlsContainer},void 0,re,n&&q(oe,{parentChannel:t}))}te.displayName="ForumPostControls";function ne(){return q(M.default,{className:H.default.submitButton,type:"submit"},void 0,q(w.default,{className:H.default.submitIcon,width:16,height:16,strokeWidth:"2.5"}),q(L.default,{
className:H.default.submitText,size:L.default.Sizes.SIZE_16,color:L.default.Colors.CUSTOM},void 0,V.default.Messages.SUBMIT_POST))}ne.displayName="ForumPostSubmitButton";var re=q(ne,{}),ae=q(ne,{});function oe(e){var t=e.parentChannel,n=a.useRef(null);return a.createElement(a.Fragment,null,a.createElement(f.default,{className:H.default.uploadInput,ref:n,onChange:function(e){(0,F.promptToUpload)(e.currentTarget.files,t,b.DraftType.FirstThreadMessage,{requireConfirm:!0});j.ComponentDispatch.dispatch(W.ComponentActions.TEXTAREA_FOCUS);e.currentTarget.value=""},multiple:t.rateLimitPerUser<=0,tabIndex:-1,"aria-hidden":!0,maxSize:(0,U.maxFileSize)(t.getGuildId())}),q(M.default,{onClick:function(){var e;return null===(e=n.current)||void 0===e?void 0:e.activateUploadDialogue()},className:H.default.mediaButton,look:M.default.Looks.OUTLINED,"aria-label":V.default.Messages.ADD_ATTACHMENT_FORUM_POST},void 0,q(D.default,{className:H.default.uploadIcon,width:20,height:20})))}},646422:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=D;var r,a=R(n(667294)),o=M(n(294184)),i=n(536211),u=n(139982),l=M(n(887174)),s=n(651510),d=n(819235),c=M(n(502546)),f=M(n(644263)),p=M(n(16941)),v=M(n(971639)),y=M(n(776360)),h=n(521358),_=R(n(997847)),m=M(n(408643)),g=M(n(649563)),E=n(973523),O=M(n(853289)),S=M(n(396805)),I=M(n(134875)),b=M(n(927510)),C=n(770348),T=n(64072),P=M(n(247001)),A=M(n(831013));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e){return E.GuildForumExperiment.useExperiment({guildId:e.guild.id}).enabled?a.createElement(k,e):w("div",{className:(0,o.default)(A.default.container,A.default.outOfDate)},void 0,w(y.default,{color:y.default.Colors.STANDARD,size:y.default.Sizes.SIZE_16},void 0,"Your client is too old to view this channel. Please update at your convenience."))}D.displayName="GatedForumChannel";var L=w(S.default,{});function k(e){
var t,n=e.channel,r=a.useState(_.SortOrder.LastMessage)[0],u=a.useRef(null),l=function(e,t){var n=(0,i.useStateFromStores)([_.default],(function(){return _.default.getThreadIds(e.id,t)})),r=(0,s.useArchivedThreads)(e,s.PrivacyTab.Public,!1),a=r.threadIds,o=r.canLoadMore,u=r.loadMore;(0,E.useLoadForumUnreadCounts)(e);return{activeThreadIds:n,archivedThreadIds:a,canLoadMore:o,loadMore:u}}(n,r),p=l.activeThreadIds,y=l.archivedThreadIds,m=l.canLoadMore,g=l.loadMore,O=function(){var e=a.useRef(64),t=a.useState({}),n=(t[0],t[1]),r=a.useCallback((function(t){if(t!==e.current){e.current=t;n({})}}),[]);return{editorHeight:e,setEditorHeight:r}}(),S=O.editorHeight,T=O.setEditorHeight,M=function(e){var t=(0,d.useIsThreadModerator)(e),n=(0,i.useStateFromStores)([c.default],(function(){return c.default.getSection(e.id)===C.ChannelSections.SEARCH||null!=c.default.getSidebarState(e.id)})),r=null!=e.topic&&e.topic.length>0;return!n&&(r||t)}(n),N=(0,
d.useCanStartThread)(n),R=p.length>0,D=a.useCallback((function(e){return 2===e.section&&R?w("div",{className:(0,o.default)(A.default.row,A.default.archivedDividerRow)},"section-divider",w("div",{className:A.default.emptyMainCard},void 0,w(v.default,{size:v.default.Sizes.SIZE_12,className:A.default.archivedDivider,uppercase:!0},void 0,P.default.Messages.FORUM_SECTION_ARCHIVED)),w("div",{className:A.default.subCardSpacer})):null}),[R]),k=a.useCallback((function(e){if(0===e.section)return N?w("div",{className:A.default.row},"create-form",w(G,{className:A.default.mainCard,channel:n,setHeight:T},e.section),w("div",{className:A.default.subCardSpacer},void 0,w(I.default,{channel:n,className:A.default.subCard}))):w("div",{className:A.default.row},"empty-state",w("div",{className:A.default.mainCard}),w("div",{className:A.default.subCardSpacer}),w(I.default,{channel:n,className:A.default.subCard}));var t=1===e.section?p[e.row].channelId:y[e.row];return w("div",{className:A.default.row
},e.section+"-"+t,w(b.default,{className:A.default.mainCard,threadId:t,gotoThread:j,sortOrder:r}),w("div",{className:A.default.subCardSpacer}))}),[n,p,y,r,T,N]),F=a.useCallback((function(){var e,t,n=null===(e=u.current)||void 0===e?void 0:e.getScrollerState();if(null!=n){var r=f.default.getChannel(y[y.length-1]);if(null!=r){var a=null===(t=r.threadMetadata)||void 0===t?void 0:t.archiveTimestamp;if(null!=a){var o=n.scrollTop+n.offsetHeight;n.scrollHeight-o<200&&g(a)}}}}),[y,g]);return 0===p.length&&0===y.length?w("div",{className:A.default.container},void 0,w("div",{className:(0,o.default)(A.default.row,A.default.emptyStateRow)},"empty-state",w(G,{className:A.default.mainCard,channel:n,setHeight:function(){}})),L):w("div",{className:(0,o.default)(A.default.container,(t={},t[A.default.showTopicCard]=M,t))},void 0,w(U,{channel:n}),a.createElement(h.ListAuto,{ref:u,className:A.default.list,sections:[1,p.length,y.length],sectionHeight:function(e){return 2===e?129:0},rowHeight:function(e){
return 0===e?N?S.current+24+16:24:178},renderRow:k,renderSection:D,chunkSize:15,onScroll:m?F:void 0,paddingBottom:24}))}k.displayName="ForumChannel";function j(e,t){t?(0,u.transitionToThread)(e.guild_id,e.id,T.OpenThreadAnalyticsLocations.BROWSER):l.default.openThreadSidebarForViewing(e)}function U(e){var t=e.channel,n=a.useCallback((function(){g.default.resort(t.id)}),[t.id]),r=(0,i.useStateFromStores)([m.default],(function(){return m.default.newThreadCount()}));return 0===r?null:w(p.default,{className:A.default.newPostsButton,onClick:n},void 0,w(y.default,{className:A.default.newPostsButtonText,color:y.default.Colors.BRAND,size:y.default.Sizes.SIZE_16},void 0,P.default.Messages.NEW_FORUM_POST_COUNT.format({count:r})))}U.displayName="NewPostsButton";function G(e){var t=e.className,n=e.channel,r=e.setHeight,i=(0,d.useCanStartThread)(n),u=a.useRef(null),l=a.useCallback((function(){i?null!=u.current&&r(u.current.clientHeight):r(0)}),[i,r]);return i?a.createElement("div",{className:(0,
o.default)(t,A.default.header),ref:u},w(O.default,{parentChannel:n,location:"Forum Channel",onChange:l})):null}G.displayName="ForumChannelHeader"},396805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(294184)),o=d(n(547058)),i=d(n(571830)),u=d(n(971639)),l=d(n(776360)),s=d(n(170471));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=f(o.default,{width:36,height:36});function v(){return f("div",{className:s.default.container,style:{justifyContent:"normal"}},void 0,f("div",{className:s.default.iconContainer},void 0,f("div",{className:(0,a.default)(s.default.icon,s.default.dark)},void 0,p),f(i.default,{className:s.default.stars})),f(u.default,{className:s.default.header,size:u.default.Sizes.SIZE_24},void 0,"There are no discussions right now."),f(l.default,{color:l.default.Colors.HEADER_SECONDARY,size:l.default.Sizes.SIZE_16
},void 0,"Forum channels help organize and surface active discussions or support requests."))}v.displayName="ForumChannelEmptyState"},134875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel,n=e.className,r=a.useState(!1),v=r[0],y=r[1],_=a.useState(!1),m=_[0],g=_[1],E=a.useRef(null);a.useLayoutEffect((function(){if(null!=E.current){var e=E.current.clientHeight>=162;e!==m&&g(e)}}),[v,m,t.topic]);return null!=t.topic&&t.topic.length>0?h("div",{className:n},void 0,h(d.default,{size:d.default.Sizes.SIZE_16},void 0,f.default.Messages.FORUM_CHANNEL_TOPIC_HEADING),h(c.default,{selectable:!0,size:c.default.Sizes.SIZE_14,color:c.default.Colors.HEADER_SECONDARY,className:p.default.guidelines,style:v?{}:{maxHeight:162}},void 0,a.createElement("div",{ref:E},i.default.parseTopic(t.topic,!0,{channelId:t.id}))),!v&&m?h(l.default,{className:p.default.showMore,onClick:function(){return y(!0)}},void 0,h(c.default,{size:c.default.Sizes.SIZE_14,
color:c.default.Colors.BRAND,className:p.default.showMoreText},void 0,f.default.Messages.FORUM_CHANNEL_TOPIC_SHOW_MORE,h(s.default,{className:p.default.showMoreIcon,width:16,height:16}))):null):h("div",{className:n},void 0,h(d.default,{size:d.default.Sizes.SIZE_16},void 0,f.default.Messages.FORUM_CHANNEL_TOPIC_MISSING_HEADING),h(c.default,{size:c.default.Sizes.SIZE_14,color:c.default.Colors.HEADER_SECONDARY,className:p.default.description},void 0,f.default.Messages.FORUM_CHANNEL_TOPIC_MISSING_DESCRIPTION),h(u.default,{className:p.default.cta,onClick:function(){return o.default.open(t.id)}},void 0,f.default.Messages.FORUM_CHANNEL_TOPIC_MISSING_CTA))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(968494)),i=v(n(268389)),u=v(n(956117)),l=v(n(16941)),s=v(n(738133)),d=v(n(971639)),c=v(n(776360)),f=v(n(247001)),p=v(n(381900));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},324935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.channelId,r=(0,o.useStateFromStores)([h.default],(function(){return h.default.getChannel(t)})),I=(0,o.useStateFromStores)([m.default],(function(){return m.default.getGuild(null==r?void 0:r.getGuildId())})),b=(0,d.default)(r),T=a.useRef(!1);a.useEffect((function(){if(null!=r&&!T.current){T.current=!0;var e=(0,s.collectThreadMetadata)(h.default.getChannel(r.id),!0);(0,s.trackWithMetadata)(E.AnalyticEvents.CHANNEL_OPENED,A({},e,{channel_id:r.id,guild_id:r.guild_id,parent_id:r.parent_id,channel_view:"Split View"}))}}),[r]);if(null==r||null==I)return null;var M=C(y.default,{channel:r});return a.createElement(a.Fragment,null,C(l.default,{channel:r,draftType:_.DraftType.ChannelMessage}),C(g.default,{toolbar:M,"aria-label":O.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,(0,f.renderTitle)({channel:r,channelName:b,guild:I,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,P(regeneratorRuntime.mark((function e(){var t,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,A({},e,{channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){null!=r&&(0,p.transitionToGuild)(r.guild_id,r.id)}})),C("div",{className:S.default.chat},void 0,C(v.default,{channel:r,narrow:!0}),C(u.default,{channel:r,guild:I,chatInputType:c.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(378158),u=I(n(914789)),l=I(n(805918)),s=n(844784),d=I(n(678928)),c=n(856746),f=n(451115),p=n(139982),v=I(n(734239)),y=I(n(621688)),h=I(n(644263)),_=n(687549),m=I(n(30098)),g=I(n(878556)),E=n(770348),O=I(n(247001)),S=I(n(452159));function I(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}},651473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetch:function(){r.default.get(o.Endpoints.FRIEND_SUGGESTIONS).then((function(e){return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS,suggestions:e.body})}),(function(){return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE})}))},ignore:function(e){r.default.delete(o.Endpoints.FRIEND_SUGGESTION(e))}};t.default=u},677520:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(496486)),o=c(n(536211)),i=c(n(636602)),u=c(n(759027)),l=c(n(728429)),s=c(n(651473)),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v={},y=0,h=!1,_=!1;function m(e){var t;return{key:e.suggested_user.id,name:null===(t=a.default.first(e.reasons))||void 0===t?void 0:t.name,user:new u.default(e.suggested_user)}}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default)};n.getSuggestionCount=function(){return y}
;n.getSuggestions=function(){return Object.entries(v).map((function(e){e[0];return e[1]}))};n.getSuggestion=function(e){return v[e]};return t}(o.default.Store))(i.default,((r={})[d.ActionTypes.CONNECTION_OPEN]=function(e){v={};if((y=e.friendSuggestionCount)>0){_=!0;!function(){if(!h&&_){h=!0;_=!1;s.default.fetch()}}()}},r[d.ActionTypes.FRIEND_SUGGESTION_CREATE]=function(e){var t,n=m(e.suggestion);if(null!=v[n.key])return!1;y++;v=p({},v,((t={})[n.key]=n,t))},r[d.ActionTypes.FRIEND_SUGGESTION_DELETE]=function(e){y=Math.max(0,--y);delete v[e.suggestedUserId]},r[d.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS]=function(e){h=!1;v=a.default.chain(e.suggestions).map(m).keyBy((function(e){return e.key})).value();y=a.default.keys(v).length},r[d.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE]=function(){h=!1;v={}},r));t.default=g},344368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(636602)),a=l(n(234161)),o=l(n(791548)),i=l(n(288356)),u=n(770348)
;function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={};function f(e){var t=e.name,n=e.hash,r=e.missingData;i.default.markGameReported(t)
;for(var u,l=s(r);!(u=l()).done;){var d=u.value;if("icon"===d){var f=c[t];null!=f&&a.default.uploadIcon(t,n,f);return}new o.default("GameStoreIconManager").log("Could not find missing data key: "+d)}}function p(e){var t=e.gameName,n=e.icon;c[t]=n}var v={initialize:function(){r.default.subscribe(u.ActionTypes.UNVERIFIED_GAME_UPDATE,f);r.default.subscribe(u.ActionTypes.GAME_ICON_UPDATE,p)}};t.default=v},735592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(636602)),a=d(n(234161)),o=n(671694),i=d(n(177230)),u=d(n(423046)),l=d(n(191839)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
;(t=e.call.apply(e,[this].concat(r))||this).handleConnectionOpen=function(){var e=u.default.isGuest();l.default.fetched||e||(0,o.fetchLibrary)();a.default.getDetectableGames()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(s.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};n._terminate=function(){r.default.unsubscribe(s.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};return t}(i.default));t.default=f},829392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.checkLaunchableGame=s;t.default=void 0;var r=l(n(636602)),a=l(n(288356)),o=l(n(188023)),i=l(n(703124)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=i.default.launchableGames[e],n=a.default.getGame(e);return(null!=n?o.default.isLaunchable(n):o.default.isGameLaunchable(e)).then((function(n){n!==t&&r.default.dispatch({type:u.ActionTypes.GAME_LAUNCHABLE_UPDATE,gameId:e,isLaunchable:n})}))}function d(e){s(e.gameId)}var c={
initialize:function(){r.default.subscribe(u.ActionTypes.CHECK_LAUNCHABLE_GAME,d)}};t.default=c},519386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(446637),a=i(n(191839)),o=i(n(424099));function i(e){return e&&e.__esModule?e:{default:e}}var u={init:function(){a.default.whenInitialized((function(){null!=o.default.testModeApplicationId&&(0,r.authorizeAndSetTestModeApplication)(o.default.testModeApplicationId,o.default.testModeOriginURL)}))}};t.default=u},782950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(636602)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(27555)),o=s(n(423046)),i=n(539331),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function d(){if((0,i.isSupportedPlatform)()){var e=o.default.getToken(),t=o.default.getId();if(null==e)throw new Error("missing user token");a.init(e,t)}}function c(){a.destroy()}var f={init:function(){r.default.subscribe(u.ActionTypes.CONNECTION_OPEN,d);r.default.subscribe(u.ActionTypes.LOGOUT,c)}};t.default=f},279235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_instream_gifting",label:"In-stream gifting",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Shows in stream gifting upsell",config:{enabled:!0}}]});t.default=r},58659:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=v(n(636602)),o=n(123516),i=v(n(607209)),u=v(n(423046)),l=v(n(644263)),s=v(n(290482)),d=v(n(211136)),c=v(n(359973)),f=n(747868),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=new r.Timeout,m=new r.Timeout,g=null;function E(e,t){var n=l.default.getChannel(e),r=i.default.getActiveStreamForUser(t);if((null==n?void 0:n.isDM())&&d.default.getVoiceChannelId()===e&&null==r){var a=i.default.getStreamForUser(t);if(null==a)return!1;var u=(0,f.encodeStreamKey)(a);if(u===g)return!1;g=u;(0,o.watchStream)(a,{noFocus:!0});return!0}return!1}function O(e,t){var n=null!=t?t:s.default.getPreferredRegion();null!=n&&n!==s.default.getRegion(c.default.getHostname())&&(0,o.changeStreamRegion)(e,n)}var S={init:function(){var e=function(e){c.default.getAllActiveStreamKeys().includes(e)||m.start(5e3,(function(){a.default.dispatch({type:p.ActionTypes.STREAM_TIMED_OUT,streamKey:e})}))}
;a.default.subscribe(p.ActionTypes.STREAM_WATCH,(function(t){var n=t.streamKey;e(n)}));a.default.subscribe(p.ActionTypes.STREAM_START,(function(t){var n=t.streamType,r=t.guildId,a=t.channelId;e((0,f.encodeStreamKey)({streamType:n,guildId:r,channelId:a,ownerId:u.default.getId()}))}));a.default.subscribe(p.ActionTypes.STREAM_CREATE,(function(){m.stop()}));a.default.subscribe(p.ActionTypes.STREAM_UPDATE,(function(){m.stop()}));a.default.subscribe(p.ActionTypes.STREAM_DELETE,(function(){m.stop()}));a.default.subscribe(p.ActionTypes.STREAM_CLOSE,(function(){_.stop();m.stop()}));a.default.subscribe(p.ActionTypes.VOICE_CHANNEL_SELECT,(function(e){var t=e.channelId;if(null!=t){g=null;var n=i.default.getAllApplicationStreamsForChannel(t).filter((function(e){return e.ownerId!==u.default.getId()}))[0];null!=n&&E(t,n.ownerId)}}));a.default.subscribe(p.ActionTypes.VOICE_STATE_UPDATES,(function(e){e.voiceStates.forEach((function(e){var t=e.userId,n=e.channelId,r=e.selfStream
;if(t!==u.default.getId()&&null!=n){if(r&&E(n,t))return;var a=i.default.getActiveStreamForUser(t);if(null!=a&&a.channelId===n){r||a.state===p.ApplicationStreamStates.ENDED||_.start(18e4,(function(){return(0,o.closeStream)((0,f.encodeStreamKey)(a),!1)}));if(r&&a.state===p.ApplicationStreamStates.ENDED){_.stop();var l=i.default.getStreamForUser(t);if(null==l)return;(0,o.watchStream)(l)}}}}))}));a.default.subscribe(p.ActionTypes.CALL_UPDATE,(function(e){var t=e.channelId,n=e.region,r=i.default.getActiveStreamForUser(u.default.getId());(null==r?void 0:r.channelId)===t&&O((0,f.encodeStreamKey)(r),n)}));a.default.subscribe(p.ActionTypes.CHANNEL_UPDATES,(function(e){var t=e.updates,n=i.default.getActiveStreamForUser(u.default.getId());if(null!=n)for(var r,a=y(t);!(r=a()).done;){var o=r.value;n.channelId===o.channel.id&&O((0,f.encodeStreamKey)(n),o.channel.rtcRegion)}}))}};t.default=S},428319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.useStreamQualityIndicatorExperiment=t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var o=(0,n(373505).createExperiment)({kind:"user",id:"2021-03_stream_quality_indicator",label:"Stream Quality Indicator",defaultConfig:{showIndicator:!1},treatments:[{id:1,label:"Shows a quality indicator on go live streams",config:{showIndicator:!0}}]});t.useStreamQualityIndicatorExperiment=function(e){r.useEffect((function(){e&&o.trackExposure({})
}),[e]);return o.useExperiment({})};var i=o;t.default=i},910333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,u.getMaxQuality)(e),n=e.stream.ownerId;return(0,r.useStateFromStores)([i.default,o.default,a.default],(function(){return null!=n?(0,l.default)(i.default.getQuality(),i.default.getStatsHistory(n,n===a.default.getId()),null!=o.default.getHookError(s.MediaEngineHookTypes.SOUND),t):null}),[t,n])};var r=n(536211),a=d(n(423046)),o=d(n(438567)),i=d(n(359973)),u=n(143369),l=d(n(571425)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}},939790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SUPPORTED_HARDWARE_ACCEL_VENDORS=void 0;t.default=function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var a=r[t],o=e[a];if(null!=o&&null==o.error&&n.has(a))return!0}return!1};var n=new Set(["nvidia"]);t.SUPPORTED_HARDWARE_ACCEL_VENDORS=n},925013:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,i){if(e.state===a.ApplicationStreamStates.ENDED||e.state===a.ApplicationStreamStates.FAILED)return null;if(e.state===a.ApplicationStreamStates.RECONNECTING)return{mainText:o.default.Messages.STREAM_RECONNECTING_ERROR,supportingText:o.default.Messages.STREAM_RECONNECTING_ERROR_SUBTEXT};if(e.state===a.ApplicationStreamStates.PAUSED)return n?{mainText:o.default.Messages.STREAM_CAPTURE_PAUSED,supportingText:o.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS}:{mainText:o.default.Messages.STREAM_CAPTURE_PAUSED,supportingText:o.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS_VIEWER.format({username:r.default.getName(e.guildId,e.channelId,t)})};if(i)return{mainText:o.default.Messages.STREAM_PREVIEW_PAUSED,supportingText:o.default.Messages.STREAM_PREVIEW_PAUSED_SUBTEXT};return null};var r=i(n(29652)),a=n(770348),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}},571425:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r){if(n)return f(u.default.Messages.STREAM_SOUNDSHARE_FAILED,s.SOUNDSHARE_FAILED);if(null!=t){var a=c(t,5),o=c(t,30);if(o.numDatapoints>=5){var l;return null!==(l=p(a,null==r?void 0:r.maxFrameRate))&&void 0!==l?l:p(o,null==r?void 0:r.maxFrameRate)}}if(e===i.RTCConnectionQuality.BAD)return f(u.default.Messages.STREAM_NETWORK_QUALITY_ERROR,s.BAD_CONNECTION);return null};var r,a=n(862728),o=n(71246),i=n(770348),u=(r=n(247001))&&r.__esModule?r:{default:r};function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s;!function(e){e.PACKET_LOSS="Packet Loss";e.FRAME_RATE_INPUT="Frame Rate Encode";e.FRAME_RATE_NETWORK="Frame Rate Decode";e.SOUNDSHARE_FAILED="Soundshare Failed";e.BAD_CONNECTION="Bad Connection"}(s||(s={}));function d(e){void 0===e&&(e=30)
;return e<=5?3:e<=15?10:15}function c(e,t){var n={packetsSentOrReceived:0,packetsLost:0,packetLossRate:0,frameRate:0,resolution:0,numDatapoints:0},r=e.slice(-1*t).filter(o.isNotNullish);if(0===r.length)return l({type:"streamer"},n);r.forEach((function(e,t,r){n.packetsSentOrReceived+=t>0?r[t].packetsSentOrReceived-r[t-1].packetsSentOrReceived:0;n.packetsLost+=t>0?r[t].packetsLost-r[t-1].packetsLost:0;n.frameRate+=e.frameRate;n.resolution+=e.resolution}));var a=r[0].type,i=r.length;return{type:a,packetsSentOrReceived:n.packetsSentOrReceived,packetsLost:n.packetsLost,packetLossRate:n.packetsLost/(n.packetsLost+n.packetsSentOrReceived),frameRate:n.frameRate/i,resolution:n.resolution/i,numDatapoints:i}}var f=(0,a.cachedFunction)((function(e,t){return{message:e,errorType:t}}));function p(e,t){if("streamer"===e.type){if(100*e.packetLossRate>10)return f(u.default.Messages.STREAM_BAD_STREAMER,s.PACKET_LOSS);if(e.frameRate<=d(t))return f(u.default.Messages.STREAM_BAD_STREAMER,s.FRAME_RATE_INPUT)
}else{if(100*e.packetLossRate>10)return f(u.default.Messages.STREAM_BAD_SPECTATOR,s.PACKET_LOSS);if(e.frameRate<=d(t))return f(u.default.Messages.STREAM_BAD_SPECTATOR,s.FRAME_RATE_NETWORK)}return null}},729136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=void 0;t.default=function(e){var t=u[(0,i.getPlatform)()];if(null==t)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n],l=e[a],s=t[a];if(null!=l&&null!=s&&null==l.error){var d=(f=void 0,p=void 0,(null!==(f=(c=l).major)&&void 0!==f?f:0)+"."+(null!==(p=c.minor)&&void 0!==p?p:0)+".0");if(!o.default.satisfies(d,s))return!0}}var c,f,p;return!1};var r,a,o=(r=n(236625))&&r.__esModule?r:{default:r},i=n(864489);var u=((a={})[i.PlatformTypes.WINDOWS]={nvidia:">=397.93.0"},a);t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=u},100223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=S(n(667294)),a=n(496486),o=E(n(636602)),i=E(n(740207)),u=n(123516),l=n(894826),s=E(n(607209)),d=E(n(423046)),c=E(n(311492)),f=E(n(893160)),p=E(n(728429)),v=S(n(194322)),y=E(n(58659)),h=n(747868),_=E(n(908921)),m=n(739898),g=n(770348);function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}var C=(0,a.debounce)(u.notifyStreamStart,1e3),T={init:function(){y.default.init();o.default.subscribe(g.ActionTypes.MEDIA_ENGINE_VIDEO_STATE_CHANGED,(function(e){var t=e.videoState,n=s.default.getActiveStreamForUser(d.default.getId());if(null!=n){var r=t===g.MediaEngineVideoStates.PAUSED;(0,u.setStreamPaused)(n,r)}}));o.default.subscribe(g.ActionTypes.STREAM_DELETE,(function(e){if(e.reason===g.ApplicationStreamDeleteReasons.STREAM_FULL){(0,u.closeStream)(e.streamKey,!1);v.openModalLazy(b(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(26495)]).then(n.bind(n,126495));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":
return e.stop()}}),e)}))))}}));o.default.subscribe(g.ActionTypes.STREAM_WATCH,(function(e){var t=e.streamKey;if(!e.allowMultiple){var n=(0,h.decodeStreamKey)(t);s.default.getAllActiveStreams().forEach((function(e){if(e.ownerId!==n.ownerId&&e.ownerId!==d.default.getId()){e.ownerId===d.default.getId()&&i.default.setDesktopSource(null);(0,u.closeStream)((0,h.encodeStreamKey)(e),!1)}}))}}));o.default.subscribe(g.ActionTypes.VOICE_STATE_UPDATES,(function(e){e.voiceStates.forEach((function(e){if(e.userId===d.default.getId()){var t=s.default.getAllActiveStreams(),n=f.default.getChannelId();t.forEach((function(e){e.channelId!==n&&(0,_.default)(e,!1)}))}}))}));o.default.subscribe(g.ActionTypes.STREAM_CREATE,(function(e){var t,n=e.streamKey,r=(0,h.decodeStreamKey)(n),a=r.ownerId,o=r.guildId;if(null!=o&&null!=a&&a===(null===(t=p.default.getCurrentUser())||void 0===t?void 0:t.id)){var i=c.default.getMemberCount(o)
;null==i||i<2||i>m.STREAM_NOTIFY_GUILD_MAX_SIZE||l.NotifyFriendsOnGoLive.getSetting()&&C(n)}}))}};t.default=T},57697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=x(n(667294)),o=G(n(294184)),i=n(248088),u=n(425916),l=n(536211),s=n(556470),d=n(836233),c=n(6505),f=n(62638),p=G(n(715419)),v=G(n(711195)),y=G(n(728429)),h=G(n(956117)),_=G(n(16941)),m=G(n(160629)),g=G(n(730977)),E=G(n(447522)),O=G(n(41024)),S=n(194322),I=n(598671),b=G(n(971639)),C=G(n(776360)),T=x(n(528175)),P=G(n(308920)),A=G(n(838583)),M=n(143369),N=G(n(279235)),R=n(428319),w=G(n(910333)),D=n(770348),L=n(265517),k=G(n(247001)),j=G(n(214156)),U=G(n(592551));function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(){V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return V.apply(this,arguments)}function H(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){H(o,r,a,i,u,"next",e)}function u(e){H(o,r,a,i,u,"throw",e)}i(void 0)}))}}var Y=(0,u.cssValueToNumber)(U.default.borderRadius),z={opacity:0,transform:"translate3d(100%, 0, 0)"},K={opacity:1,transform:"translate3d(0%, 0, 0)"},$={opacity:0},q={opacity:1},Z={borderRadius:Y+"px "+Y+"px "+Y+"px "+Y+"px"},X={borderRadius:"0px "+Y+"px "+Y+"px 0px"},Q={mass:1,tension:500,friction:18,clamp:!0},J=function(e){var t,r,i=e.participant,u=e.isUpsellEnabled,d=e.shape,c=e.size,f=e.didTrackUpsellViewed,p=e.setDidTrackUpsellViewed,v=e.inStreamGiftingEnabled,h=e.handleGiftingCheckout,m=e.className,E=(0,M.getMaxQuality)(i),b=null!=(0,w.default)(i);try{t=(0,M.isPremiumFPS)(E)}catch(e){t=!1}try{r=(0,M.isPremiumResolution)(E)}catch(e){r=!1}var C=t||r,N=(0,s.useAnalyticsContext)().location,R=(0,
l.useStateFromStores)([y.default],(function(){return y.default.getCurrentUser()})),U=u&&!A.default.isPremium(R,D.PremiumTypes.TIER_1),G=a.useCallback((function(){U&&C&&(0,S.openModalLazy)(B(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(21438)]).then(n.bind(n,421438));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,V({},e,{analyticsSource:N}))}));case 5:case"end":return e.stop()}}),e)}))))}),[U,C,N]);a.useEffect((function(){if(!f&&C){P.default.track(D.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:L.PremiumUpsellTypes.STREAM_QUALITY_INDICATOR,has_premium_stream_fps:t,has_premium_stream_resolution:r});p(!0)}}),[t,r,C,f,p]);if(null==E)return null;var F=W(g.default,{
text:v?null:b?k.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_REDUCED:C?k.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_PREMIUM:k.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_NORMAL,position:g.default.Positions.BOTTOM,color:g.default.Colors.GREY},void 0,(function(e){var t;return a.createElement(_.default,V({},e,{onClick:v?h:G,className:(0,o.default)(j.default.qualityIndicator,c,T.LiveIndicatorShapes[d],b?j.default.qualityIndicatorLowQuality:j.default.qualityIndicatorFullQuality,(t={},t[j.default.clickable]=U&&C||v,t))}),C?W(O.default,{className:j.default.premiumStreamIcon}):null,W("span",{className:j.default.qualityResolution},void 0,(0,M.getResolutionText)(E.maxResolution)),W("span",{},void 0,(0,M.getFPSText)(E.maxFrameRate)))}));return W(I.TextBadge,{text:F,className:(0,o.default)(m,j.default.qualityIndicatorBadge),color:D.Colors.PRIMARY_DARK_500,shape:d})};J.displayName="StreamQualityIndicator";var ee=function(e){
var t=e.participant,n=e.showQuality,r=e.isUpsellEnabled,u=void 0===r||r,s=e.size,g=e.className,S=a.useState(!1),w=S[0],U=S[1],G=a.useState(!1),F=G[0],x=G[1],H=a.useState(!1),B=H[0],Y=H[1],ee=(0,M.getMaxQuality)(t),te=a.useContext(d.AccessibilityPreferencesContext).reducedMotion,ne=(0,R.useStreamQualityIndicatorExperiment)(null!=ee).showIndicator,re=n&&ne&&null!=ee,ae=N.default.useExperiment({}).enabled,oe=(0,l.useStateFromStores)([y.default],(function(){return y.default.getCurrentUser()}));a.useEffect((function(){(0,v.default)(t.stream.ownerId,t.user.getAvatarURL(t.stream.guildId,80),{dispatchWait:!0})}),[t]);var ie=(0,l.useStateFromStores)([p.default],(function(){return p.default.getUserProfile(t.stream.ownerId)}),[t.stream.ownerId]),ue=A.default.isPremium(oe)&&null!=ie&&null==ie.premiumSince;a.useEffect((function(){u&&ue&&N.default.trackExposure({})}),[u,ue]);var le=u&&ae&&ue,se=re&&le&&c.HotspotStore.hasHotspot(c.HotspotLocations.IN_STREAM_GIFTING_UPSELL),de=(0,i.useTransition)(re,{
enter:{from:te.enabled?$:z,to:te.enabled?q:K},leave:te.enabled?$:z,config:Q}),ce=(0,i.useSpring)({to:re?X:Z,config:Q}),fe=a.useState(!1),pe=fe[0],ve=fe[1],ye=a.useState(0),he=ye[0],_e=ye[1],me=function(e){clearTimeout(he);_e(setTimeout((function(){ve(e)}),100))};if(le&&!F){P.default.track(D.AnalyticEvents.PREMIUM_GIFT_UPSELL_VIEWED,{type:L.PremiumUpsellTypes.STREAM_QUALITY_INDICATOR,location_section:D.AnalyticsSections.STREAM_QUALITY_INDICATOR,location_object_type:D.AnalyticsObjectTypes.GIFT,location_object:D.AnalyticsObjects.BUTTON_ICON});x(!0)}var ge=function(e){Ee();(0,f.openPremiumSelectPlanModal)({isGift:!0,giftMessage:k.default.Messages.PREMIUM_PAYMENT_IS_GIFT_STREAM_QUALITY_UPSELL,initialPlanId:null,subscriptionTier:D.PremiumSubscriptionSKUs.TIER_2,analyticsObject:{section:D.AnalyticsSections.STREAM_QUALITY_INDICATOR,object:e,objectType:D.AnalyticsObjectTypes.GIFT}})},Ee=function(){(0,c.hideHotspot)(c.HotspotLocations.IN_STREAM_GIFTING_UPSELL)},Oe=function(e){
var n=e.className,r=e.popoutProps;return a.createElement("div",V({className:(0,o.default)(j.default.streamQualityIndicator,n)},r),le?W(_.default,{onClick:function(){return ge(D.AnalyticsObjects.BUTTON_ICON)},className:(0,o.default)(j.default.qualityIndicator,j.default.clickable)},void 0,W(E.default,{className:j.default.giftIcon})):null,de((function(e,n){return n?W(i.animated.div,{style:e},void 0,W(J,{className:j.default.liveQualityIndicator,participant:t,size:s,shape:I.BadgeShapes.ROUND_LEFT,isUpsellEnabled:u,didTrackUpsellViewed:w,setDidTrackUpsellViewed:U,inStreamGiftingEnabled:le,handleGiftingCheckout:function(){return ge(D.AnalyticsObjects.BUTTON_ICON)}})):null})),W(i.animated.div,{style:ce,className:j.default.liveIndicator},void 0,W(T.default,{look:T.LiveIndicatorLooks.RED,size:s,shape:re?I.BadgeShapes.ROUND_RIGHT:I.BadgeShapes.ROUND})))};return se?W("div",{className:(0,o.default)(g,j.default.qualityIndicatorHighlightWrapper),onMouseEnter:function(){return me(!0)},
onMouseLeave:function(){return me(!1)}},void 0,W(m.default,{shouldShow:pe,animation:m.default.Animation.NONE,position:m.default.Positions.BOTTOM,align:m.default.Align.CENTER,autoInvert:!1,onRequestClose:function(){return ve(!1)},renderPopout:function(){if(!B){P.default.track(D.AnalyticEvents.TOOLTIP_VIEWED,{type:L.PremiumUpsellTypes.GIFT_STREAM_QUALITY_INDICATOR,location_section:D.AnalyticsSections.STREAM_QUALITY_INDICATOR,location_object_type:D.AnalyticsObjectTypes.GIFT,location_object:D.AnalyticsObjects.TOOLTIP});Y(!0)}return W("div",{className:j.default.streamGiftingPopout},void 0,W("div",{className:j.default.streamGiftingPopoutHeader},void 0,W(O.default,{className:j.default.premiumStreamIconLarge}),W(b.default,{size:b.default.Sizes.SIZE_14,color:C.default.Colors.HEADER_PRIMARY},void 0,k.default.Messages.SCREENSHARE_STREAM_GIFTING_HEADER)),W(C.default,{className:j.default.streamGiftingPopoutText,size:C.default.Sizes.SIZE_16,color:C.default.Colors.HEADER_PRIMARY
},void 0,k.default.Messages.SCREENSHARE_STREAM_GIFTING_BODY),W("div",{className:j.default.streamGiftingPopoutCTA},void 0,W(h.default,{onClick:Ee,size:h.default.Sizes.SMALL},void 0,k.default.Messages.SCREENSHARE_STREAM_GIFTING_DISMISS),W(h.default,{className:j.default.streamGiftingPopoutButton,innerClassName:j.default.giftButton,onClick:function(){return ge(D.AnalyticsObjects.TOOLTIP)},size:h.default.Sizes.SMALL,color:h.default.Colors.WHITE},void 0,W(E.default,{className:j.default.giftIconBrand}),W(C.default,{className:j.default.streamGiftingPopoutButtonText,size:C.default.Sizes.SIZE_14},void 0,k.default.Messages.SCREENSHARE_STREAM_GIFTING_CTA))))}},void 0,(function(e){return Oe({popoutProps:e})}))):Oe({className:g})};t.default=ee},587840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(536211)),o=c(n(636602)),i=n(864489),u=c(n(922629)),l=c(n(939790)),s=c(n(729136)),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}
function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=!1,y=!0;var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e=this;i.isPlatformEmbedded&&!__OVERLAY__&&u.default.getGPUDriverVersions().then((function(t){v=(0,s.default)(t);y=(0,l.default)(t);e.emitChange()}))};n.getState=function(){return{GPUDriversOutdated:v,canUseHardwareAcceleration:y}};!function(e,t,n){t&&f(e.prototype,t);n&&f(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"GPUDriversOutdated",get:function(){return v}},{key:"canUseHardwareAcceleration",get:function(){return y}}]);return t
}(a.default.Store))(o.default,((r={})[d.ActionTypes.OVERLAY_INITIALIZE]=function(e){var t=e.streamingCapabilitiesStoreState;v=t.GPUDriversOutdated;y=t.canUseHardwareAcceleration},r));t.default=h},937196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){void 0===e&&(e=!0);var t=c.default.getCurrentUser();if(!(0,v.default)(u.default))return!1;if(null!=t&&null!=a.default.getActiveStreamForUser(t.id))return!1;var n=(0,y.default)(s.default,f.default);if(null==n)return!1;if(n.isLauncher&&!e)return!1;var h=d.default.getVoiceChannelId(),_=o.default.getChannel(h);if(null==_)return!1;var m=_.getGuildId();if(!(0,p.canStreamInChannel)(_,i.default,l.default,!1))return!1;(0,r.startStream)(m,_.id,{pid:n.pid});return!0};var r=n(123516),a=h(n(607209)),o=h(n(644263)),i=h(n(30098)),u=h(n(635014)),l=h(n(689389)),s=h(n(834162)),d=h(n(211136)),c=h(n(728429)),f=h(n(765287)),p=n(385753),v=h(n(379310)),y=h(n(343898));function h(e){return e&&e.__esModule?e:{default:e}
}},460703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildPrompts=void 0;var r;var a=(0,((r=n(213192))&&r.__esModule?r:{default:r}).default)({REAL_NAME_PROMPT:null});t.GuildPrompts=a},780815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGuildHeaderPopoutStore=t.showGuildHeaderPopout=void 0;var r,a=(r=n(219548))&&r.__esModule?r:{default:r};var o=Object.freeze({isPopoutOpen:!1}),i=(0,a.default)((function(e){return o}));t.showGuildHeaderPopout=function(e){i.setState((function(){return{isPopoutOpen:e}}))};var u=i;t.useGuildHeaderPopoutStore=u},689626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.viewPrompt=i;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t){a.default.wait((function(){a.default.dispatch({type:o.ActionTypes.GUILD_PROMPT_VIEWED,prompt:e,guildId:t})}))}var u={viewPrompt:i};t.default=u},81026:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){for(var t in e){var n=e[t];s[t]=new Set(n)}};n.hasViewedPrompt=function(e,t){var n=s[t];return null!=n&&!!n.has(e)};n.getState=function(){return s};return t}(a.default.PersistedStore);d.persistKey="GuildPromptsStore";var c=new d(o.default,((r={})[i.ActionTypes.GUILD_PROMPT_VIEWED]=function(e){var t=e.prompt,n=e.guildId,r=s[n];if(null==r){s[n]=new Set;s[n].add(t);return!0}if(r.has(t))return!1;r.add(t);return!0},r[i.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;if(null==s[t.id]||t.unavailable)return!1;delete s[t.id]
;return!0},r));t.default=c},967523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){var t;return null!==(t=o.default.getChannels(e)[o.GUILD_SELECTABLE_CHANNELS_KEY])&&void 0!==t?t:[]}),[e]);return 0===t.length?0:t.filter((function(e){var t=e.channel;return i.default.can(r.default.combine(u.Permissions.SEND_MESSAGES,u.Permissions.VIEW_CHANNEL),t)})).length};var r=s(n(267258)),a=n(536211),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(517286)),i=s(n(689389)),u=n(770348);function l(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}},118978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){(0,r.useEffect)((function(){a.trackExposure({guildId:e})}),[e]);return a.getCurrentConfig({guildId:e})};var r=n(667294),a=(0,n(373505).createExperiment)({kind:"guild",id:"2022-01_audio_quality_boosting_upsell",label:"Enables an upsell for audio quality in calls",defaultConfig:{enableAudioQualityUpsell:!1},treatments:[{id:1,label:"Display audio quality upsell",config:{enableAudioQualityUpsell:!0}}]})},275363:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"guild",id:"2021-12_guild_banner_tooltip",label:"Guild Banner Tooltip",defaultConfig:{enableGuildBannerTooltip:!1},treatments:[{id:1,label:"Show guild banner tooltip upsell",config:{
enableGuildBannerTooltip:!0}}]});t.default=r},197737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(782732)),i=n(598671),u=n(682937),l=s(n(550262));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.activityPremiumTierLevel;return c(i.TextBadge,{className:l.default.requiredBoostingTierBadge,disableColor:!0,text:a.createElement(a.Fragment,null,c(o.default,{className:l.default.guildBoostingIconNormal}),c("span",{},void 0,(0,u.getShortenedTierName)(t)))})}f.displayName="BoostingTierBadge"},567563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){(0,a.default)(i({},e,{perks:(0,o.embeddedActivitiesUpsellPerks)()}),"Premium Activity Upsell - Tier "+e.targetBoostedGuildTier)};var r,a=(r=n(58941))&&r.__esModule?r:{default:r},o=n(665984);function i(){i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return i.apply(this,arguments)}},68094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=P;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(294184)),i=n(536211),u=n(923387),l=n(203847),s=E(n(122913)),d=E(n(956117)),c=E(n(160629)),f=E(n(776360)),p=E(n(308920)),v=E(n(58941)),y=n(665984),h=n(770348),_=n(265517),m=E(n(247001)),g=E(n(377574));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=n(393270),b=n(319927);function C(){(0,l.markDismissibleContentAsDismissed)(u.DismissibleContent.VOICE_QUALITY_BOOSTING_UPSELL_TOOLTIP);window.removeEventListener("keydown",T)}function T(e){e.keyCode===h.KeyboardKeys.ESCAPE&&C()}function P(e){var t=e.guild,n=e.children,r=(0,i.useStateFromStores)([s.default],(function(){return s.default.hasLayers()}));a.useEffect((function(){p.default.track(h.AnalyticEvents.PREMIUM_GUILD_UPSELL_VIEWED,{type:_.PremiumUpsellTypes.AUDIO_QUALITY,location:{
page:h.AnalyticsPages.CHANNEL_CALL,section:h.AnalyticsSections.BOOST_AUDIO_QUALITY_UPSELL}})}),[]);a.useEffect((function(){r?window.removeEventListener("keydown",T):window.addEventListener("keydown",T);return function(){window.removeEventListener("keydown",T)}}),[r]);var u=[m.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_SUBTITLE_LVL_1,m.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_SUBTITLE_LVL_2,m.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_SUBTITLE_LVL_3],l=S("div",{className:g.default.container},void 0,S("img",{className:g.default.cloudImage,src:I,alt:""}),S("img",{className:g.default.image,src:b,alt:""}),S(f.default,{className:g.default.title,size:f.default.Sizes.SIZE_16},void 0,m.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_TITLE),S(f.default,{size:f.default.Sizes.SIZE_14,className:g.default.subTitle},void 0,u[t.premiumTier]),S(d.default,{className:(0,o.default)(g.default.button,g.default.topButton),look:d.default.Looks.INVERTED,fullWidth:!0,
onClick:function(){(0,v.default)({analyticsSourceLocation:{section:h.AnalyticsSections.BOOST_AUDIO_QUALITY_UPSELL},guild:t,targetBoostedGuildTier:t.premiumTier+1,perks:(0,y.audioQualityUpsell)(t.premiumTier+1)});C()}},void 0,m.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_CTA),S(d.default,{className:g.default.button,look:d.default.Looks.FILLED,color:d.default.Colors.BRAND,fullWidth:!0,onClick:C},void 0,m.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_DISMISS),S("div",{className:g.default.pointer}));return S(c.default,{renderPopout:function(){return l},align:c.default.Align.CENTER,position:c.default.Positions.TOP,animation:c.default.Animation.FADE,spacing:15,shouldShow:!r},void 0,(function(){return n}))}P.displayName="GuildBoostingAudioQualityUpsell"},408692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=y(n(964285)),u=y(n(956117)),l=y(n(16941)),s=y(n(259530)),d=y(n(308920)),c=n(682937),f=n(770348),p=y(n(247001)),v=y(n(258771));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.guild,n=e.appliedGuildBoosts,r=t.id;a.useEffect((function(){d.default.track(f.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:f.ChannelNoticeTypes.GUILD_BOOSTING_GRACE_PERIOD,guild_id:r})}),[r]);return null==n||(0,c.appliedGuildBoostsRequiredForPerks)(n,r)<=0?null:_("div",{className:v.default.channelNotice},void 0,_(l.default,{onClick:function(){(0,o.hidePremiumGuildGracePeriodNotice)(r)},className:v.default.close,"aria-label":p.default.Messages.DISMISS},void 0,_(s.default,{className:v.default.closeIcon})),_("div",{className:v.default.message},void 0,p.default.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE),_(u.default,{fullWidth:!0,color:u.default.Colors.GREY,size:u.default.Sizes.SMALL,onClick:function(){d.default.track(f.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{
source:f.ChannelNoticeCtaSources.GRACE_PERIOD_NOTICE,guild_id:r,notice_type:f.ChannelNoticeTypes.GUILD_BOOSTING_GRACE_PERIOD});i.default.open(r,f.GuildSettingsSections.GUILD_PREMIUM)},className:v.default.checkStatusButton},void 0,p.default.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE_BUTTON))};m.displayName="AppliedGuildBoostGracePeriodNotice";var g=m;t.default=g},578628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=c(n(918667)),o=c(n(58941)),i=n(682937),u=n(770348),l=n(665984),s=c(n(247001)),d=c(n(484771));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=e.guild,n=e.markAsDismissed,r=(0,i.getNumberOfAppliedBoostsNeededForTier)(t,u.BoostedGuildTiers.TIER_2);return p(a.default,{guild:t,onDismissed:n,cta:s.default.Messages.GUILD_BANNER_NOTICE_CTA,message:s.default.Messages.GUILD_BANNER_NOTICE.format({boostsNeeded:r}),
type:u.ChannelNoticeTypes.GUILD_BANNER,image:d.default,onClick:function(){return(0,o.default)({analyticsSourceLocation:{section:u.AnalyticsSections.CHANNEL_NOTICE,object:u.AnalyticsObjects.SERVER_BANNER_TOOLTIP},guild:t,targetBoostedGuildTier:u.BoostedGuildTiers.TIER_2,perks:(0,l.guildBannerUpsellPerks)()})},imageMarginTop:15,imageMarginX:22})}v.displayName="GuildBannerNotice"},91836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=n(923387),i=n(203847),u=n(283894),l=n(75639),s=m(n(311492)),d=m(n(956117)),c=m(n(16941)),f=n(604753),p=m(n(259530)),v=m(n(308920)),y=n(770348),h=m(n(247001)),_=m(n(863981));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=(0,u.registerUserExperiment)({id:u.Experiments.GUILD_AFFINITY_PREMIUM_GUILD_SUBSCRIPTION_CTA,title:"Premium guild subscription for high-affinity guilds",
description:["Show premium guild subscription CTA","Control: No CTA.","Treatment 1: Show CTA."],buckets:[u.ExperimentBuckets.CONTROL,u.ExperimentBuckets.TREATMENT_1]}),S=function(e){var t=e.guild,n=e.markAsDismissed,r=(0,u.useAndTrackExposureToUserExperiment)(O),m=(0,a.useStateFromStores)([s.default],(function(){return s.default.getMemberCount(t.id)}));if(r!==u.ExperimentBuckets.TREATMENT_1)return null;var g=null==m||m<y.SMALL_GUILD_MEMBER_THRESHOLD;return E("div",{className:_.default.channelNotice},void 0,E(c.default,{onClick:function(){n();(0,i.markDismissibleContentAsDismissed)(o.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)},className:_.default.close,"aria-label":h.default.Messages.DISMISS},void 0,E(p.default,{className:_.default.closeIcon})),E("div",{className:_.default.guildBoostingAnimationWrapper},void 0,E(f.PremiumPaymentGuildAnimation,{className:_.default.guildBoostingAnimation,nextScene:f.PremiumPaymentGuildAnimation.Scenes.IDLE})),E("div",{
className:_.default.message},void 0,g?h.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_GUILD_AFFINITY_NOTICE_SMALL_GUILD:h.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_GUILD_AFFINITY_NOTICE,E(d.default,{fullWidth:!0,color:d.default.Colors.BRAND,size:d.default.Sizes.SMALL,className:_.default.guildAffinityPremiumSubscriptionButton,onClick:function(){v.default.track(y.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{source:y.ChannelNoticeCtaSources.GUILD_AFFINITY_SUGGESTION,guild_id:t.id,notice_type:y.ChannelNoticeTypes.GUILD_BOOSTING_GUILD_AFFINITY});(0,l.openGuildBoostingMarketingModal)({guildId:t.id,locationSection:y.AnalyticsSections.CHANNEL_NOTICE})}},void 0,h.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_GUILD_AFFINITY_NOTICE_BUTTON)))};S.displayName="GuildBoostingAffinityNotice";var I=S;t.default=I},559759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(536211)),i=f(n(918667)),u=n(75639),l=f(n(311492)),s=n(770348),d=f(n(247001)),c=f(n(727869));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleButtonClick=function(){var e=t.props.guild;(0,u.openGuildBoostingMarketingModal)({guildId:e.id,locationSection:s.AnalyticsSections.CHANNEL_NOTICE})};return t}t.prototype.render=function(){var e=this.props,t=e.guild,n=e.memberCount,r=e.markAsDismissed,a=null==n||n<s.SMALL_GUILD_MEMBER_THRESHOLD;return v(i.default,{guild:t,onDismissed:r,onClick:this.handleButtonClick,message:a?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_SMALL_GUILD:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE,
cta:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_BUTTON,trackingSource:s.ChannelNoticeCtaSources.GUILD_SUBSCRIPTION_NOTICE,type:s.ChannelNoticeTypes.GUILD_BOOSTING,image:c.default,imageMarginX:26})};return t}(a.PureComponent);h.displayName="GuildBoostingNotice";var _=o.default.connectStores([l.default],(function(e){var t=e.guild;return{memberCount:l.default.getMemberCount(t.id)}}))(h);t.default=_},873113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(636602)),a=d(n(177230)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(876874)),i=d(n(728429)),u=n(457676),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var p=null,v=function(e,t){var n,a,s,d,c,p,v,y,h,_=o.default.getMember(e,t),m=i.default.getUser(t);if(null!=_&&null!=m&&!(0,u.isMemberCommunicationDisabled)(_)){var g=f({},_,{guildId:e,nick:null!==(n=_.nick)&&void 0!==n?n:m.username,avatar:null!==(a=_.avatar)&&void 0!==a?a:void 0,banner:null!==(s=_.banner)&&void 0!==s?s:void 0,bio:null!==(d=_.bio)&&void 0!==d?d:void 0,premiumSince:null!==(c=_.premiumSince)&&void 0!==c?c:void 0,
isPending:null!==(p=_.isPending)&&void 0!==p&&p,user:f({},m,{email:null!==(v=m.email)&&void 0!==v?v:void 0,phone:null!==(y=m.phone)&&void 0!==y?y:void 0,banner:null!==(h=m.banner)&&void 0!==h?h:void 0}),communicationDisabledUntil:null});r.default.dispatch(f({type:l.ActionTypes.GUILD_MEMBER_UPDATE},g))}},y=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).clearGuildMemberTimeout=v;return t}var n=t.prototype;n._initialize=function(){p=setInterval((function(){return e=o.default.getCommunicationDisabledUserMap(),void Object.keys(e).forEach((function(t){var n=t,r=(0,o.getGuildIdFromCommunicationDisabledUserKey)(n),a=(0,o.getUserIdFromCommunicationDisabledUserKey)(n),i=e[n];(0,u.isCommunicationDisabled)(i)||v(r,a)}));var e}),1e4)};n._terminate=function(){clearInterval(p)};return t}(a.default));t.default=y
},646832:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCommunicationDisabledCountdownCleanup=function(e){var t=null!=e?e:{},n=t.communicationDisabledUntil,i=t.userId,u=t.guildId,l=(0,a.default)(n?Date.parse(n):Date.now()),s=l.seconds,d=(0,r.useRef)(null);(0,r.useEffect)((function(){if(null!=e&&null!=u&&null!=i){s<=0&&null==d.current&&(d.current=setTimeout((function(){o.default.clearGuildMemberTimeout(u,i)}),1e3));return function(){if(null!=d.current){clearTimeout(d.current);d.current=null}}}clearTimeout(d.current)}),[u,i,s,n,e]);return l};var r=n(667294),a=i(n(683767)),o=i(n(873113));function i(e){return e&&e.__esModule?e:{default:e}}},62017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CommunicationDisabledBanner=E;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(960736),i=_(n(423046)),u=_(n(876874)),l=_(n(240469)),s=_(n(346200)),d=_(n(776360)),c=n(646832),f=n(576458),p=_(n(257917)),v=n(397769),y=_(n(247001)),h=_(n(146615));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.guild,n=e.disabledUntil,r=(0,f.useCommunicationDisabledNoticeStore)(t.id),_=r[0],m=r[1],E=(0,a.useStateFromStores)([u.default,i.default],(function(){return u.default.getMember(t.id,i.default.getId())}),[t.id]);(0,c.useCommunicationDisabledCountdownCleanup)(E);return g("div",{},void 0,_?g(p.default,{onClose:function(){return m(t.id)},guildName:t.name}):null,g(o.MessageNoticeBanner,{bannerIcon:g(s.default,{className:h.default.bannerIcon}),bannerHeader:y.default.Messages.GUILD_COMMUNICATION_DISABLED_NOTICE_HEADER,bannerSubtext:y.default.Messages.GUILD_COMMUNICATION_DISABLED_CHAT_NOTICE_DESCRIPTION.format({link:v.GUILD_COMMUNICATION_DISABLED_RESOURCE_LINK}),containerStyles:h.default.bannerContainer,headerStyles:h.default.bannerHeader},void 0,g(d.default,{strong:!0},void 0,g(l.default,{deadline:new Date(n),showUnits:!0,stopAtOneSec:!0}))))}E.displayName="CommunicationDisabledBanner"},
257917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(956117)),o=d(n(346200)),i=d(n(971639)),u=d(n(776360)),l=d(n(247001)),s=d(n(430294));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.onClose,n=e.guildName;return f("div",{className:s.default.container},void 0,f("div",{className:s.default.iconContainer},void 0,f(o.default,{className:s.default.icon,width:20,height:20})),f("div",{className:s.default.header},void 0,f(i.default,{size:i.default.Sizes.SIZE_16,className:s.default.headerText},void 0,l.default.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_HEADER),f(u.default,{},void 0,l.default.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_SUBHEADER.format({guildName:n})),f(a.default,{onClick:t,className:s.default.button},void 0,l.default.Messages.OKAY)))}p.displayName="CommunicationDisabledPopout"},742965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildFeed=function(e){
return _.apply(this,arguments)};t.hideItemFromGuildFeed=function(e){return m.apply(this,arguments)};t.markGuildFeedItemAsSeen=function(e,t,n){a.default.dispatch({type:c.ActionTypes.GUILD_FEED_ITEM_SEEN,guildId:e,itemId:t,timestampMillis:n})};t.markGuildFeedItemAsUnseen=function(e,t,n){a.default.dispatch({type:c.ActionTypes.GUILD_FEED_ITEM_UNSEEN,guildId:e,itemId:t,timestampMillis:n})};var r=f(n(118915)),a=f(n(636602)),o=f(n(290629)),i=f(n(308920)),u=n(71246),l=f(n(968078)),s=f(n(676509)),d=n(124042),c=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,u,"next",e)}function u(e){p(o,r,a,i,u,"throw",e)}i(void 0)}))}}function y(e,t){return t.map((function(t){return l.default.getItem(e,t)})).filter((function(e){
return null!=(null==e?void 0:e.message)&&!o.default.isBlocked(e.message.author.id)})).filter(u.isNotNullish).map((function(e){return(0,s.default)(e)}))}function h(e,t){var n=l.default.getSectionedItemIds(e);null!=n&&i.default.track(c.AnalyticEvents.FEED_LOADED,{guild_id:e,load_id:l.default.getLoadId(e),unread_feed_item_ids:y(e,n[d.GuildFeedSectionTypes.UNREAD]),read_feed_item_ids:y(e,n[d.GuildFeedSectionTypes.READ]),load_time_millis:t})}function _(){return(_=v(regeneratorRuntime.mark((function e(t){var n,o,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Date.now();e.next=3;return r.default.get(c.Endpoints.GUILD_FEED(t));case 3:o=e.sent;i=o.body;a.default.dispatch({type:c.ActionTypes.GUILD_FEED_FETCH_SUCCESS,guildId:t,data:i});u=Date.now()-n;h(t,u);return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=v(regeneratorRuntime.mark((function e(t){var n
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.post({url:c.Endpoints.MESSAGE_HIDE_GUILD_FEED(t.message.channel_id,t.message.id)});case 2:n=e.sent;a.default.dispatch({type:c.ActionTypes.GUILD_FEED_HIDE_ITEM,item:t});return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},124042:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedSectionTypes=t.GuildFeedRenderMode=t.FeedItemType=t.FeedItemInteractionType=void 0;var n,r,a,o;t.FeedItemType=n;!function(e){e.MESSAGE="message"}(n||(t.FeedItemType=n={}));t.FeedItemInteractionType=r;!function(e){e.MESSAGE_CLICKED="message_clicked";e.MESSAGE_CHANNEL_CLICKED="message_channel_clicked";e.REACTION_ADDED="reaction_added";e.REACTION_REMOVED="reaction_removed";e.THREAD_EMBED_CLICKED="thread_embed_clicked";e.LINK_CLICKED="link_clicked";e.IMAGE_CLICKED="image_clicked";e.BUTTON_CLICKED="button_clicked"
}(r||(t.FeedItemInteractionType=r={}));t.GuildFeedSectionTypes=a;!function(e){e[e.UNREAD=0]="UNREAD";e[e.READ=1]="READ";e[e.ALL=2]="ALL"}(a||(t.GuildFeedSectionTypes=a={}));t.GuildFeedRenderMode=o;!function(e){e[e.SEGMENTED_READ=0]="SEGMENTED_READ";e[e.TOP=1]="TOP";e[e.NEW=2]="NEW"}(o||(t.GuildFeedRenderMode=o={}))},922748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(636602)),a=p(n(177230)),o=p(n(423046)),i=p(n(211136)),u=p(n(790597)),l=p(n(308920)),s=p(n(968078)),d=n(124042),c=n(770348),f=n(173652);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(c.ActionTypes.MESSAGE_REACTION_ADD,this.handleReaction)
;r.default.subscribe(c.ActionTypes.MESSAGE_REACTION_REMOVE,this.handleReaction);r.default.subscribe(c.ActionTypes.SIDEBAR_VIEW_THREAD,this.handleSidebarViewThread)};n._terminate=function(){r.default.unsubscribe(c.ActionTypes.MESSAGE_REACTION_ADD,this.handleReaction);r.default.unsubscribe(c.ActionTypes.MESSAGE_REACTION_REMOVE,this.handleReaction);r.default.unsubscribe(c.ActionTypes.SIDEBAR_VIEW_THREAD,this.handleSidebarViewThread)};n.handleReaction=function(e){var t=e.type,n=e.userId,r=e.messageId,a=e.optimistic;if(n===o.default.getId()&&a){var p=u.default.getGuildId();if(null!=p){var v=i.default.getChannelId();if((0,f.isGuildHomeChannel)(v)){var y=s.default.getMessageItem(p,r);null!=y&&null!=y.message&&l.default.track(c.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:d.FeedItemType.MESSAGE,load_id:s.default.getLoadId(p),action_type:t===c.ActionTypes.MESSAGE_REACTION_ADD?d.FeedItemInteractionType.REACTION_ADDED:d.FeedItemInteractionType.REACTION_REMOVED,guild_id:p,
channel_id:y.message.channel_id,message_id:y.message.id})}}}};n.handleSidebarViewThread=function(e){var t=e.channelId,n=e.baseChannelId;if((0,f.isGuildHomeChannel)(n)){var r=u.default.getGuildId();if(null!=r){var a=s.default.getMessageItem(r,t);null!=a&&null!=a.message&&l.default.track(c.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:d.FeedItemType.MESSAGE,load_id:s.default.getLoadId(r),action_type:d.FeedItemInteractionType.THREAD_EMBED_CLICKED,guild_id:r,channel_id:a.message.channel_id,message_id:a.message.id})}}};return t}(a.default));t.default=y},741645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(441143)),a=u(n(636602)),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n,a=0,o=[],i=l(e);!(n=i()).done;){var u=n.value;null==u.endTimeMillis?t?a+=Date.now()-u.startTimeMillis:o.push(u):a+=u.endTimeMillis-u.startTimeMillis}(0,r.default)(o.length<2,"there should only be a single left over data");return{additionalSeenTimeMillis:Math.round(a),leftOverData:o}}t.default=function(e,t){var n=this
;this.maybeFlushSeenItems=function(e){void 0===e&&(e=!1);var t=n.loadId,r=n.seenData;if(null!=t&&(e||!(Date.now()-n.lastFlushTimeMillis<6e4))){n.lastFlushTimeMillis=Date.now();setTimeout((function(){return function(e,t,n){var r={};for(var a in t){var u=d(t[a],n),l=u.additionalSeenTimeMillis,s=u.leftOverData;l>0&&(r[a]={additionalSeenTimeMillis:l});t[a]=s}if(0!==Object.keys(r).length){var c=[],f=[];for(var p in r){c.push(p);f.push(r[p].additionalSeenTimeMillis)}o.default.track(i.AnalyticEvents.FEED_ITEM_SEEN_BATCH,{load_id:e,feed_item_ids:c,additional_seen_time_millis:f})}}(t,r,e)}),100)}};this.getItemSeenDataList=function(e){null==n.seenData[e]&&(n.seenData[e]=[]);return n.seenData[e]};this.getLastSeenData=function(e){if(null!=e&&0!==e.length)return e[e.length-1]};this.initialize=function(){a.default.subscribe(i.ActionTypes.GUILD_FEED_ITEM_SEEN,n.handleSeen);a.default.subscribe(i.ActionTypes.GUILD_FEED_ITEM_UNSEEN,n.handleUnseen)
;a.default.subscribe(i.ActionTypes.APP_STATE_UPDATE,n.handleAppStateUpdate)};this.terminate=function(){a.default.unsubscribe(i.ActionTypes.GUILD_FEED_ITEM_SEEN,n.handleSeen);a.default.unsubscribe(i.ActionTypes.GUILD_FEED_ITEM_UNSEEN,n.handleUnseen);a.default.unsubscribe(i.ActionTypes.APP_STATE_UPDATE,n.handleAppStateUpdate);n.maybeFlushSeenItems(!0)};this.handleSeen=function(e){var t=e.guildId,r=e.itemId,a=e.timestampMillis;if(t===n.guildId){var o=n.getItemSeenDataList(r),i=n.getLastSeenData(o);null!=i&&null==i.endTimeMillis||o.push({startTimeMillis:a})}};this.handleUnseen=function(e){var t=e.guildId,r=e.itemId,a=e.timestampMillis;if(t===n.guildId){var o=n.getItemSeenDataList(r),i=n.getLastSeenData(o);if(null!=i&&null==i.endTimeMillis){i.endTimeMillis=a;n.maybeFlushSeenItems()}}};this.handleAppStateUpdate=function(e){"background"===e.state&&n.maybeFlushSeenItems(!0)};this.guildId=e;this.loadId=t;this.seenData={};this.lastFlushTimeMillis=Date.now()}},968078:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(496486)),o=y(n(536211)),i=y(n(636602)),u=n(202929),l=y(n(423046)),s=y(n(71636)),d=n(676525),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(676509)),f=n(124042),p=n(770348);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function _(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g={},E={},O={},S={},I={},b={},C={};function T(e,t,n){var r,a;return null===(r=S[e])||void 0===r||null===(a=r[t])||void 0===a?void 0:a[n]}function P(e,t){var n
;return null===(n=O[e])||void 0===n?void 0:n[t]}function A(e,t,n){if(null==e||null==t)return!1;var r=P(e,t);if(null==r)return!1;var a=T(r,e,t);if(null==a)return!1;var o=n(a);S[r][e][t]=o;return!0}function M(e,t){null==S[e][t.channel_id]&&(S[e][t.channel_id]={});S[e][t.channel_id][t.id]=t;null==O[t.channel_id]&&(O[t.channel_id]={});O[t.channel_id][t.id]=e}function N(e,t){var n,r,a,o=P(e,t);if(null==o)return!1;null===(n=S[o])||void 0===n||(null===(r=n[e])||void 0===r||delete r[t]);null===(a=O[e])||void 0===a||delete a[t];return!0}function R(e){var t=e.type,n=e.channelId,r=e.messageId,a=e.userId,o=e.emoji,i=e.optimistic,u=l.default.getId()===a;return!(i&&!u)&&A(n,r,(function(e){return t===p.ActionTypes.MESSAGE_REACTION_ADD?e.addReaction(o,u):e.removeReaction(o,u)}))}function w(e){var t,n=e.channel,r=n.guild_id;if(null==r)return!1;delete O[n.id];null===(t=S[r])||void 0===t||delete t[n.id]}var D=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e
;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(l.default);C=null!=e?a.default.mapValues(e.seenItems,(function(e){return new Set(e)})):{}};n.getState=function(){return{seenItems:C}};n.getLastFetchedMillis=function(e){return g[e]};n.getSectionedItemIds=function(e){return b[e]};n.getItem=function(e,t){var n;return null===(n=I[e])||void 0===n?void 0:n[t]};n.getMessageItem=function(e,t){return this.getItem(e,"message/"+t)};n.getLoadId=function(e){var t;return null===(t=E[e])||void 0===t?void 0:t.load_id};n.getCachedMessage=function(e,t,n){return T(e,t,n)};return t}(o.default.PersistedStore);D.persistKey="GuildFeedStore";var L=new D(i.default,((r={})[p.ActionTypes.GUILD_FEED_FETCH_SUCCESS]=function(e){var t,n=e.guildId,r=e.data;g[n]=Date.now();E[n]=r;I[n]={};b[n]=((t={})[f.GuildFeedSectionTypes.UNREAD]=[],t[f.GuildFeedSectionTypes.READ]=[],t[f.GuildFeedSectionTypes.ALL]=[],t);null==C[n]&&(C[n]=new Set);S[n]={}
;for(var a,o=_(r.results.items);!(a=o()).done;){var i,u=a.value;if("message"in u){var l=(0,d.createGuildFeedItemFromServer)(u);M(n,l.message);var p=(0,c.default)(l);I[n][p]=l;var v=(null===(i=C[n])||void 0===i?void 0:i.has(p))?f.GuildFeedSectionTypes.READ:f.GuildFeedSectionTypes.UNREAD;b[n][v].push(p);b[n][f.GuildFeedSectionTypes.ALL].push(p)}}!function(e){for(var t,n=Date.now(),r=_(e);!(t=r()).done;){var a=t.value,o=(0,c.getSnowflakeFromGuildFeedItemId)(a);n-s.default.extractTimestamp(o)>18144e5&&e.delete(a)}}(C[n])},r[p.ActionTypes.GUILD_FEED_ITEM_SEEN]=function(e){var t=e.guildId,n=e.itemId;if(C[t].has(n))return!1;C[t].add(n)},r[p.ActionTypes.GUILD_FEED_HIDE_ITEM]=function(e){var t=e.item;return N(t.message.channel_id,t.message.id)},r[p.ActionTypes.CHANNEL_DELETE]=w,r[p.ActionTypes.THREAD_DELETE]=w,r[p.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;if(null==g[t.id])return!1;delete g[t.id];delete E[t.id];for(var n in null!==(r=S[t.id])&&void 0!==r?r:{}){var r;delete O[n]}
delete S[t.id];delete I[t.id];delete b[t.id];t.unavailable||delete C[t.id]},r[p.ActionTypes.CONNECTION_OPEN]=function(){g={};E={};O={};S={};b={};I={}},r[p.ActionTypes.MESSAGE_UPDATE]=function(e){var t=e.message;return A(t.channel_id,t.id,(function(e){return(0,u.updateMessageRecord)(e,t)}))},r[p.ActionTypes.MESSAGE_DELETE]=function(e){var t=e.id;return N(e.channelId,t)},r[p.ActionTypes.MESSAGE_DELETE_BULK]=function(e){for(var t,n=e.ids,r=e.channelId,a=!1,o=_(n);!(t=o()).done;){a=N(r,t.value)||a}return a},r[p.ActionTypes.MESSAGE_REACTION_ADD]=R,r[p.ActionTypes.MESSAGE_REACTION_REMOVE]=R,r[p.ActionTypes.MESSAGE_REACTION_REMOVE_ALL]=function(e){return A(e.channelId,e.messageId,(function(e){return e.set("reactions",[])}))},r[p.ActionTypes.MESSAGE_REACTION_REMOVE_EMOJI]=function(e){var t=e.channelId,n=e.messageId,r=e.emoji;return A(t,n,(function(e){return e.removeReactionsForEmoji(r)}))},r));t.default=L},676525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.createGuildFeedItemFromServer=function(e){var t=(0,o.createMessageRecord)(e.message),n=a.default.map(e.reference_messages,(function(e){return(0,o.createMessageRecord)(e)}));return{message:t,referenceMessages:n}};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(202929)},676509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return"message/"+e.message.id};t.getSnowflakeFromGuildFeedItemId=function(e){return e.split("/")[1]}},389666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=r.useState(!1),n=t[0],u=t[1],l=r.useState(null),s=l[0],c=l[1],f=r.useCallback((function(t){var n=t.force,r=i.default.getLastFetchedMillis(e);if(n||null==r||!(Date.now()-r<72e5)){c(null);u(!0);!function(){l.apply(this,arguments)}()}function l(){return(l=d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;t.next=3;return(0,
o.fetchGuildFeed)(e);case 3:t.next=9;break;case 5:t.prev=5;t.t0=t.catch(0);console.error(t.t0);c(new a.default(t.t0));case 9:u(!1);case 10:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}}),[e]);r.useEffect((function(){f({})}),[f]);return{fetch:f,loading:n,error:s}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=u(n(568681)),o=n(742965),i=u(n(968078));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r,a,o,i){
try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},373893:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=A(n(294184)),i=n(536211),u=n(252404),l=A(n(907932)),s=n(377980),d=A(n(384792)),c=n(538105),f=A(n(325570)),p=A(n(507187)),v=n(691851),y=A(n(518965)),h=A(n(326243)),_=A(n(227236)),m=A(n(749835)),g=A(n(86031)),E=A(n(644263)),O=A(n(383942)),S=A(n(293578)),I=n(685677),b=n(770348),C=n(100678),T=A(n(46427)),P=["message","className","channel","animateAvatar"];function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=a.memo((function(e){var t=e.message,n=e.channel,r=e.animateAvatar,o=e.repliedMessage,i=(0,f.default)(t.id,C.DEFAULT_POPOUTS),s=i.popouts,p=i.setPopout,v=s.usernameProfile,y=s.avatarProfile,h=(0,c.useClickMessageAuthorUsername)(t,n,v,p),_=(0,c.useClickMessageAuthorAvatar)(y,p),m=a.useCallback((function(){return p({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[p]),g=(0,l.default)(t),E=(0,u.useRoleIcon)({guildId:n.guild_id,roleId:g.iconRoleId});return R(S.default,{guildId:n.guild_id,message:t,repliedMessage:o,author:g,showTimestampOnHover:t.type!==b.MessageTypes.REPLY,renderPopout:d.default,showAvatarPopout:y,showUsernamePopout:v,onClickAvatar:_,onClickUsername:h,onPopoutRequestClose:m,roleIcon:E,animate:r})}));function D(e){
var t,n=e.message,r=e.className,u=e.channel,l=e.animateAvatar,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,P),c=(0,p.default)(n,!0),f=c.content,S=c.hasSpoilerEmbeds,C=n.type===b.MessageTypes.REPLY?n.messageReference:void 0,A=(0,i.useStateFromStores)([g.default],(function(){return g.default.getMessageByReference(C)})),M=(0,i.useStateFromStores)([E.default],(function(){return n.hasFlag(b.MessageFlags.HAS_THREAD)&&E.default.getChannel(n.id)})),D=(0,s.getMessageAriaLabelledBy)(n),L=(0,s.getMessageAriaDescribedBy)(n);return a.createElement(O.default,N({className:(0,o.default)(r,(t={},t[T.default.ephemeral]=(0,I.hasFlag)(n.flags,b.MessageFlags.EPHEMERAL),t)),childrenRepliedMessage:(0,m.default)(n,C,A,!1),childrenExecutedCommand:(0,_.default)(n,u,!1),childrenHeader:R(w,{channel:u,message:n,animateAvatar:l,repliedMessage:A}),childrenAccessories:(0,v.renderSimpleAccessories)(N({},e,{
renderThreadAccessory:!0,disableReactionCreates:!1,disableReactionUpdates:!1}),S),childrenMessageContent:(0,y.default)(e,f),childrenSystemMessage:(0,h.default)(e),hasThread:null!=M&&n.hasFlag(b.MessageFlags.HAS_THREAD),hasReply:n.type===b.MessageTypes.REPLY,"aria-labelledby":D,"aria-describedby":L},d))}D.displayName="GuildFeedMessage";var L=a.memo(D);t.default=L},582652:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=w(n(667294)),o=n(798628),i=n(536211),u=n(378158),l=N(n(244165)),s=N(n(678928)),d=n(341186),c=N(n(187295)),f=N(n(546914)),p=N(n(644263)),v=N(n(290629)),y=N(n(16941)),h=N(n(730977)),_=N(n(971639)),m=N(n(776360)),g=w(n(152731)),E=N(n(308920)),O=N(n(968078)),S=N(n(676509)),I=N(n(373893)),b=n(141385),C=n(124042),T=n(770348),P=n(173652),A=N(n(247001)),M=N(n(364022));function N(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){
return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}function L(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,u,"next",e)}function u(e){L(o,r,a,i,u,"throw",e)}i(void 0)}))}}
function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e){var t=e.referenceMessages,n=e.guildId,r=a.useMemo((function(){var e=new Set;return t.map((function(e){return e.author})).filter((function(t){if(null==t||e.has(t.id))return!1;e.add(t.id);return!0})).slice(0,3)}),[t]),o=t.length;if(0===o)return null;var i=o>3?A.default.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:3}):A.default.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:o});return j("div",{className:M.default.referenceMessagesText},void 0,j(g.default,{guildId:n,users:r,size:g.Sizes.SIZE_16,
className:M.default.userSummaryItem,max:3,showDefaultAvatarsForNullUsers:!0,showUserPopout:!0}),j(m.default,{size:m.default.Sizes.SIZE_12,color:m.default.Colors.HEADER_SECONDARY},void 0,i))}U.displayName="ReferenceMessages";var G=a.forwardRef((function(e,t){var r,g,N=e.guildId,R=e.channelId,w=e.messageId,L=(0,l.default)(t),G=L[0],F=L[1],x=a.useRef(null),W=a.useState(!1),V=W[0],H=W[1],B=(0,i.useStateFromStoresArray)([O.default],(function(){return[O.default.getCachedMessage(N,R,w),O.default.getMessageItem(N,w)]}),[N,R,w]),Y=B[0],z=B[1],K=(0,i.useStateFromStores)([p.default],(function(){return p.default.getChannel(null==Y?void 0:Y.channel_id)})),$=(0,s.default)(K),q=(0,o.useListItem)(null!==(r=null==Y?void 0:Y.id)&&void 0!==r?r:w),Z=(0,i.useStateFromStores)([v.default],(function(){return null!=Y&&v.default.isBlocked(null==Y?void 0:Y.author.id)}));if(null==K||null==Y||null==z||Z)return null;var X=(0,d.getChannelIconComponent)(K),Q=(0,
d.getChannelIconTooltipText)(K),J=null!==(g=null==z?void 0:z.referenceMessages)&&void 0!==g?g:[],ee=(0,S.default)(z);return a.createElement("div",D({ref:F,onClick:function(e){for(var t,n=e.target;n instanceof Element&&n!==G.current;){var r=n.tagName;if("A"===r){E.default.track(T.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:C.FeedItemType.MESSAGE,load_id:O.default.getLoadId(N),action_type:C.FeedItemInteractionType.LINK_CLICKED,guild_id:N,channel_id:K.id,message_id:Y.id});return}if("IMG"===r){E.default.track(T.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:C.FeedItemType.MESSAGE,load_id:O.default.getLoadId(N),action_type:C.FeedItemInteractionType.IMAGE_CLICKED,guild_id:N,channel_id:K.id,message_id:Y.id});return}if("BUTTON"===r||"button"===n.getAttribute("role")){E.default.track(T.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:C.FeedItemType.MESSAGE,load_id:O.default.getLoadId(N),action_type:C.FeedItemInteractionType.BUTTON_CLICKED,guild_id:N,channel_id:K.id,
message_id:Y.id});return}n=n.parentNode}null===(t=x.current)||void 0===t||t.click()},onMouseEnter:function(){return H(!0)},onMouseLeave:function(){return H(!1)},className:M.default.messageContainer,"data-item-id":ee,onContextMenu:function(e){e.stopPropagation();(0,u.openContextMenuLazy)(e,k(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(91055).then(n.bind(n,991055));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,D({},e,{message:Y,messageItem:z,channel:K}))}));case 5:case"end":return e.stop()}}),e)}))))}},q),j(y.default,{className:M.default.clickableTarget,innerRef:x,"aria-label":A.default.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:$}),onClick:function(){E.default.track(T.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:C.FeedItemType.MESSAGE,load_id:O.default.getLoadId(N),
action_type:C.FeedItemInteractionType.MESSAGE_CLICKED,guild_id:N,channel_id:K.id,message_id:Y.id});f.default.openChannelAsSidebar({channelId:K.id,messageId:Y.id,baseChannelId:P.StaticChannelRoute.GUILD_HOME})}}),j("div",{className:M.default.messageItemHeader},void 0,j(y.default,{className:M.default.channelNameContainer,onClick:function(e){e.stopPropagation();E.default.track(T.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:C.FeedItemType.MESSAGE,load_id:O.default.getLoadId(N),action_type:C.FeedItemInteractionType.MESSAGE_CHANNEL_CLICKED,guild_id:N,channel_id:K.id,message_id:Y.id});(0,c.default)(T.Routes.CHANNEL(K.guild_id,K.id,Y.id))}},void 0,null!=X?j(h.default,{text:Q,delay:500},void 0,(function(e){return a.createElement(X,D({},e,{className:M.default.channelIcon,height:20,width:20}))})):null,j(_.default,{className:M.default.channelName,size:m.default.Sizes.SIZE_16},void 0,$)),j("div",{className:M.default.messageHeaderMenu},void 0,j(U,{referenceMessages:J,guildId:N
}),j(b.GuildFeedMessageOverflowMenu,{messageItem:z,message:Y,channel:K}))),j(I.default,{animateAvatar:V,channel:K,message:Y}))}));t.default=G},141385:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedMessageOverflowMenu=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(16941)),i=n(160629),u=c(n(775803)),l=n(962989),s=c(n(247001)),d=c(n(699582));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){var t=e.channel,r=e.message,c=e.messageItem,f=a.useState(!1),y=f[0],h=f[1],_=a.useCallback((function(e){null==e||e.stopPropagation();h(!y)}),[y]),m=function(){var e,a=(e=regeneratorRuntime.mark((function e(){var a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(91055).then(n.bind(n,991055));case 2:a=e.sent;o=a.default;i=p(o,{messageItem:c,message:r,channel:t,onSelect:_})
;return e.abrupt("return",(function(e){return i}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return a.apply(this,arguments)}}(),g=function(e){e.stopPropagation()};return p(o.default,{"aria-label":s.default.Messages.MESSAGE_UTILITIES_A11Y_LABEL,onClick:g,onContextMenu:g},void 0,p(i.LazyPopout,{renderPopout:m,shouldShow:y,onRequestClose:_,position:i.Positions.LEFT,align:i.Align.TOP,animation:i.LazyPopout.Animation.NONE},void 0,(function(e,t){return p(l.Button,{onClick:_,"aria-label":s.default.Messages.MORE,className:d.default.iconContainer},void 0,p(u.default,{className:d.default.icon}))})))}y.displayName="GuildFeedMessageOverflowMenu"},304242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MAX_STORED_MESSAGES=void 0
;var r,a=f(n(496486)),o=f(n(536211)),i=f(n(636602)),u=f(n(644263)),l=f(n(71636)),s=n(566627),d=n(770348),c=n(173652);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}t.MAX_STORED_MESSAGES=20;var v={},y={},h={};function _(e){var t=y[e];if(null!=t){var n=a.default.findIndex(t,(function(e){return e.id>l.default.fromTimestamp(Date.now()-9e5)}));if(-1===n)y[e]=[];else{var r=Math.max(n,t.length-20);y[e]=a.default.slice(t,r)}h[e]=Date.now()}}function m(e){var t=e.channel;delete y[t.id];delete h[t.id]}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getActiveChannelIds=function(e){return v[e]};n.getChannelMessageData=function(e){return y[e]};return t}(o.default.Store))(i.default,((r={})[d.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId,n=e.guildId;0;if(!(0,
c.isGuildHomeChannel)(t)||null==n)return!1;var r=v[n];if(null==r)return!1;r.forEach((function(e){var t;_(e);0===(null===(t=y[e])||void 0===t?void 0:t.length)&&delete y[e]}));var o=a.default.chain(Array.from(r)).filter((function(e){return e in y})).sortBy((function(e){var t,n;return-(null!==(t=null===(n=y[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0)})).value();v[n]=new Set(o)},r[d.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.channelId,n=e.message,r=e.optimistic,a=e.isPushNotification;0;if(r||a)return!1;var o=u.default.getChannel(t);if(null==o)return!1;var i=o.guild_id;if(null==i)return!1;if(!(0,s.canSeeGuildHome)(i))return!1;null==v[i]&&(v[i]=new Set);v[i].add(t);var l=h[t];(null==l||l+3e5>Date.now())&&_(t);null==y[t]&&(y[t]=[]);y[t].push({id:n.id,userId:n.author.id})},r[d.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;delete v[t.id]},r[d.ActionTypes.CHANNEL_DELETE]=m,r[d.ActionTypes.THREAD_DELETE]=m,r));t.default=g},82141:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.saveGuildHomeScrollPosition=function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.GUILD_HOME_SET_SCROLL_POSITION,guildId:e,scrollPosition:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},173101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getSavedScrollPosition=function(e){return s[e]};return t}(a.default.Store))(o.default,((r={})[i.ActionTypes.CONNECTION_OPEN]=function(){s={}},r[i.ActionTypes.GUILD_FEED_FETCH_SUCCESS]=function(e){var t=e.guildId;delete s[t]},
r[i.ActionTypes.GUILD_HOME_SET_SCROLL_POSITION]=function(e){var t=e.guildId,n=e.scrollPosition;s[t]=n},r));t.default=d},466366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=q;var r,a=x(n(667294)),o=G(n(496486)),i=n(536211),u=G(n(136873)),l=n(123516),s=n(341186),d=n(385753),c=G(n(910999)),f=G(n(645923)),p=G(n(187295)),v=n(567186),y=G(n(607209)),h=G(n(423046)),_=G(n(644263)),m=G(n(30098)),g=G(n(689389)),E=G(n(946447)),O=G(n(728429)),S=G(n(387692)),I=G(n(487372)),b=G(n(16941)),C=G(n(730977)),T=G(n(68259)),P=G(n(810919)),A=G(n(971639)),M=G(n(776360)),N=x(n(152731)),R=n(71246),w=G(n(71636)),D=x(n(304242)),L=n(770348),k=G(n(247001)),j=G(n(831689)),U=G(n(746932));function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=F(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(){V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return V.apply(this,arguments)}function H(e){
var t=e.guildId,n=e.channel,r=e.text,o=e.activityIndicator,i=e.usersInSummary,u=e.onChannelClick,l=(0,s.getChannelIconComponent)(n),d=(0,s.getChannelIconTooltipText)(n);return W("div",{className:j.default.channelMain},void 0,W(b.default,{className:j.default.channelClickTarget,onClick:u},void 0,null!=l?W(C.default,{text:d,delay:500},void 0,(function(e){return a.createElement(l,V({},e,{className:j.default.channelIcon,width:16,height:16}))})):null,W("div",{className:j.default.channelTextContainer},void 0,W(A.default,{className:j.default.channelName,size:A.default.Sizes.SIZE_14},void 0,n.name),null!=r&&W(M.default,{size:M.default.Sizes.SIZE_12},void 0,r))),W("div",{className:j.default.avatarContainer},void 0,W(N.default,{guildId:t,users:i,showUserPopout:!0,size:N.Sizes.SIZE_16,max:3,extraDetail:o})))}H.displayName="ActiveChannelBase";function B(e){var t,n=e.channel,r=e.voiceStates,a=(0,i.useStateFromStores)([y.default],(function(){
return y.default.getAllApplicationStreamsForChannel(n.id)[0]})),s=(0,i.useStateFromStores)([y.default],(function(){return null!=a?y.default.getActiveStreamForApplicationStream(a):null})),p=(0,i.useStateFromStores)([h.default],(function(){return h.default.getId()})),v=(0,i.useStateFromStores)([S.default,m.default,g.default],(function(){return null!=a&&(0,d.canWatchStream)(n,S.default,m.default,g.default)}),[a,n]);if(null==a)return null;var _=o.default.chain(r).map("member").find(["userId",a.ownerId]).value(),E=o.default.chain(r).map("user").find(["id",a.ownerId]).value(),O=null!==(t=null==_?void 0:_.nick)&&void 0!==t?t:E.username,I=null!=s&&null!=a&&s.state!==L.ApplicationStreamStates.ENDED&&s.ownerId===a.ownerId;return W(b.default,{onClick:function(){u.default.selectVoiceChannel(n.id);I||(0,l.watchStreamAndTransitionToStream)(a)},className:j.default.previewContainer},void 0,W(f.default,{className:j.default.previewImage,stream:a}),v?W("div",{className:j.default.previewHover
},void 0,W(M.default,{size:M.default.Sizes.SIZE_14,color:M.default.Colors.CUSTOM,className:j.default.previewButton},void 0,(0,c.default)(a,s,p))):null,null!=O&&W("div",{className:j.default.previewName},void 0,W(T.default,{width:18,height:18,className:j.default.icon}),W(M.default,{size:M.default.Sizes.SIZE_14,color:M.default.Colors.CUSTOM},void 0,O)))}B.displayName="VoiceStreamPreview";function Y(e){var t=e.guildId,n=e.channel,r=e.voiceStates,a=r.map((function(e){return e.user})),i=o.default.chain(r).map("member").compact().map("nick").compact().value().join(", ");return W("div",{className:j.default.channel},void 0,W(H,{guildId:t,channel:n,text:i,usersInSummary:a,onChannelClick:function(){(0,v.isGuildVocalChannelType)(n.type)&&u.default.selectVoiceChannel(n.id)}}),W(B,{channel:n,voiceStates:r}))}Y.displayName="ActiveVoiceChannel";function z(e){var t=e.guildId,n=e.channel,r=(0,i.useStateFromStoresArray)([D.default],(function(){var e
;return null!==(e=D.default.getChannelMessageData(n.id))&&void 0!==e?e:[]})),a=o.default.uniq(o.default.map(r,"userId")),u=(0,i.useStateFromStoresArray)([O.default],(function(){return a.map((function(e){return O.default.getUser(e)}))})),l=(0,i.useStateFromStores)([E.default],(function(){var e=E.default.getTypingUsers(n.id);return Object.keys(e).length>0}),[n.id]),s=r.length<D.MAX_STORED_MESSAGES?k.default.Messages.ACTIVE_CHANNELS_FEW_MESSAGES.format({count:r.length}):k.default.Messages.ACTIVE_CHANNELS_MANY_MESSAGES,d=l?W("div",{className:j.default.typingIndicator},void 0,W(P.default,{className:j.default.ellipsis,dotRadius:2,themed:!0})):null;return W("div",{className:j.default.channel},void 0,W(H,{guildId:t,channel:n,usersInSummary:u.filter(R.isNotNullish),text:s,activityIndicator:d,onChannelClick:function(){(0,p.default)(L.Routes.CHANNEL(n.guild_id,n.id,w.default.fromTimestamp(Date.now())))}}))}z.displayName="ActiveTextChannel";function K(){return W("div",{
className:j.default.emptyStateContainer},void 0,W("img",{className:j.default.image,src:U.default,width:154,height:48,alt:""}),W(A.default,{className:j.default.title,size:A.default.Sizes.SIZE_16},void 0,k.default.Messages.ACTIVE_CHANNELS_EMPTY_TITLE),W(M.default,{className:j.default.subtitle,color:M.default.Colors.HEADER_SECONDARY,size:M.default.Sizes.SIZE_14},void 0,k.default.Messages.ACTIVE_CHANNELS_EMPTY_SUBTITLE))}K.displayName="ActiveChannelsEmpty";var $=W(K,{});function q(e){var t=e.guildId,n=(0,i.useStateFromStoresArray)([D.default],(function(){var e=D.default.getActiveChannelIds(t);return null!=e?Array.from(e).slice(0,10):[]})),r=(0,i.useStateFromStoresArray)([_.default],(function(){return n.map((function(e){return _.default.getChannel(e)}))})),a=(0,i.useStateFromStores)([I.default],(function(){return I.default.getVoiceStates(t)})),o=Object.keys(a).filter((function(e){return a[e].length>0})),u=(0,i.useStateFromStoresArray)([_.default],(function(){return o.map((function(e){
return _.default.getChannel(e)}))})),l=r.length>0||u.length>0;return W("div",{className:j.default.container},void 0,W(A.default,{size:A.default.Sizes.SIZE_16},void 0,k.default.Messages.ACTIVE_CHANNELS_HEADER),W("div",{className:j.default.channelList},void 0,!l&&$,r.map((function(e){return null!=e&&!(0,v.isGuildVocalChannelType)(e.type)&&W(z,{guildId:t,channel:e},e.id)})),u.map((function(e){return null!=e&&W(Y,{guildId:t,channel:e,voiceStates:a[e.id]},e.id)}))))}q.displayName="ActiveChannels"},389396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(742965),u=_(n(922748)),l=_(n(741645)),s=_(n(968078)),d=_(n(389666)),c=_(n(582652)),f=_(n(80828)),p=n(729869),v=_(n(377851)),y=n(124042),h=_(n(960251));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=e.guildId,n=e.itemId,r=e.scrollerHeight,u=e.scrollerRef,l=(0,o.useStateFromStores)([s.default],(function(){return s.default.getItem(t,n)})),d=a.useRef(null);a.useEffect((function(){var e,n=d.current;if(null!=n&&null!=r){
var a=n.clientHeight,o=Math.min(.5,.5*r/a),l=new IntersectionObserver((function(e){return function(e,t,n){for(var r,a=E(n);!(r=a()).done;){var o=r.value,u=o.target.dataset.itemId;if(null==u)return;var l=o.time;o.intersectionRatio>=t?(0,i.markGuildFeedItemAsSeen)(e,u,l):(0,i.markGuildFeedItemAsUnseen)(e,u,l)}}(t,o,e)}),{root:null===(e=u.current)||void 0===e?void 0:e.getScrollerNode(),rootMargin:"0px 100000px 0px 100000px",threshold:o});l.observe(n);return function(){l.disconnect()}}}),[t,u,r]);return null==(null==l?void 0:l.message)?null:a.createElement(c.default,{ref:d,guildId:t,channelId:l.message.channel_id,messageId:l.message.id})}S.displayName="GuildFeedItemContainer";function I(e){var t=e.guild,n=e.renderMode,r=e.scrollerRef,i=(0,o.useStateFromStores)([s.default],(function(){return s.default.getSectionedItemIds(t.id)})),c=(0,o.useStateFromStores)([s.default],(function(){return s.default.getLoadId(t.id)})),_=(0,d.default)(t.id),m=_.loading,O=_.error,I=_.fetch
;a.useEffect((function(){u.default.initialize();return function(){u.default.terminate()}}),[]);a.useLayoutEffect((function(){if(null!=c&&!m){var e=new l.default(t.id,c);e.initialize();return function(){e.terminate()}}}),[t.id,c,m]);var b=function(e){var t=a.useState(null),n=t[0],r=t[1];a.useEffect((function(){var t,n=null===(t=e.current)||void 0===t?void 0:t.getScrollerNode();if(null!=n){var a=new ResizeObserver((function(e){for(var t,n=E(e);!(t=n()).done;){var a=t.value;r(a.contentRect.height)}}));a.observe(n);return function(){a.disconnect()}}}),[e]);return n}(r),C=a.useMemo((function(){return n!==y.GuildFeedRenderMode.NEW||null==i?[]:[].concat(i[y.GuildFeedSectionTypes.ALL]).sort((function(e,t){return-e.localeCompare(t)}))}),[i,n]),T=a.useCallback((function(){I({force:!0})}),[I]);return m?g(f.default,{type:f.default.Type.WANDERING_CUBES}):null!=O?g("div",{},void 0,g(p.GuildFeedError,{onReloadClick:T
})):null==i||i[y.GuildFeedSectionTypes.READ].length+i[y.GuildFeedSectionTypes.UNREAD].length===0?g("div",{},void 0,g(p.GuildFeedEmpty,{onReloadClick:T})):n===y.GuildFeedRenderMode.TOP?g("div",{className:h.default.container},void 0,i[y.GuildFeedSectionTypes.ALL].map((function(e){return g(S,{guildId:t.id,itemId:e,scrollerHeight:b,scrollerRef:r},e)})),g(p.GuildFeedFooter,{onReloadClick:T})):n===y.GuildFeedRenderMode.NEW?g("div",{className:h.default.container},void 0,C.map((function(e){return g(S,{guildId:t.id,itemId:e,scrollerHeight:b,scrollerRef:r},e)})),g(p.GuildFeedFooter,{onReloadClick:T})):g("div",{className:h.default.container},void 0,i[y.GuildFeedSectionTypes.UNREAD].map((function(e){return g(S,{guildId:t.id,itemId:e,scrollerHeight:b,scrollerRef:r},e)})),i[y.GuildFeedSectionTypes.READ].length>0?g(v.default,{onReloadClick:T}):null,i[y.GuildFeedSectionTypes.READ].map((function(e){return g(S,{guildId:t.id,itemId:e,scrollerHeight:b,scrollerRef:r},e)})),g(p.GuildFeedFooter,{
onReloadClick:T}))}I.displayName="GuildFeedContainer"},729869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedEmpty=_;t.GuildFeedError=m;t.GuildFeedFooter=h;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(294184)),o=p(n(956117)),i=p(n(37985)),u=p(n(571830)),l=p(n(971639)),s=p(n(776360)),d=n(770348),c=p(n(247001)),f=p(n(577084));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.onReloadClick;return y("div",{className:f.default.container},void 0,y("div",{className:f.default.iconContainer},void 0,y(i.default,{className:f.default.icon,width:36,height:36}),y(u.default,{className:f.default.stars})),y(l.default,{className:f.default.header,size:l.default.Sizes.SIZE_16},void 0,c.default.Messages.GUILD_FEED_FOOTER_TITLE),y(s.default,{color:s.default.Colors.HEADER_SECONDARY,size:s.default.Sizes.SIZE_14},void 0,c.default.Messages.GUILD_FEED_FOOTER_SUBTITLE),y(o.default,{onClick:t,className:f.default.button
},void 0,c.default.Messages.GUILD_FEED_RELOAD))}h.displayName="GuildFeedFooter";function _(e){var t=e.onReloadClick;return y("div",{className:(0,a.default)(f.default.container,f.default.background)},void 0,y("div",{className:f.default.iconContainer},void 0,y(i.default,{className:f.default.icon,width:36,height:36}),y(u.default,{className:f.default.stars})),y(l.default,{className:f.default.header,size:l.default.Sizes.SIZE_16},void 0,c.default.Messages.GUILD_FEED_EMPTY_TITLE),y(s.default,{color:s.default.Colors.HEADER_SECONDARY,size:s.default.Sizes.SIZE_14},void 0,c.default.Messages.GUILD_FEED_EMPTY_SUBTITLE),y(o.default,{onClick:t,className:f.default.button},void 0,c.default.Messages.GUILD_FEED_RELOAD))}_.displayName="GuildFeedEmpty";function m(e){var t=e.onReloadClick;return y("div",{className:(0,a.default)(f.default.container,f.default.background)},void 0,y("div",{className:f.default.iconContainer},void 0,y(i.default,{className:f.default.icon,width:36,height:36}),y(u.default,{
className:f.default.stars})),y(l.default,{className:f.default.header,size:l.default.Sizes.SIZE_16},void 0,c.default.Messages.GUILD_FEED_ERROR_TITLE),y(s.default,{color:s.default.Colors.HEADER_SECONDARY,size:s.default.Sizes.SIZE_14},void 0,c.default.Messages.GUILD_FEED_ERROR_SUBTITLE.format({url:d.Links.STATUS})),y(o.default,{onClick:t,className:f.default.button},void 0,c.default.Messages.GUILD_FEED_RELOAD))}m.displayName="GuildFeedError"},377851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=s(n(956117)),o=s(n(992193)),i=s(n(776360)),u=s(n(247001)),l=s(n(12820));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=c(o.default,{height:24,width:24});function p(e){var t=e.onReloadClick;return c("div",{className:l.default.container},void 0,c("div",{className:l.default.divider},void 0,c("div",{className:l.default.line}),c("div",{className:l.default.icon},void 0,f),c("div",{className:l.default.line})),c(i.default,{
className:l.default.title,color:i.default.Colors.HEADER_PRIMARY,size:i.default.Sizes.SIZE_16},void 0,u.default.Messages.GUILD_FEED_UNREAD_DIVIDER_TITLE),c(i.default,{className:l.default.subtitle,color:i.default.Colors.HEADER_SECONDARY,size:i.default.Sizes.SIZE_14},void 0,u.default.Messages.GUILD_FEED_UNREAD_DIVIDER_SUBTITLE),c(a.default,{onClick:t,className:l.default.button},void 0,u.default.Messages.GUILD_FEED_RELOAD))}p.displayName="GuildFeedUnreadDivider"},993407:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}(n(667294)),o=n(536211),i=n(539011),u=p(n(784320)),l=p(n(380439)),s=p(n(971639)),d=p(n(776360)),c=p(n(247001)),f=p(n(383198));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.guild;a.useEffect((function(){(0,i.fetchGuildForPopout)(t.id)}),[t.id]);var n=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(t.id)}),[t]);return y("div",{className:f.default.memberInfo
},void 0,null!=(null==n?void 0:n.presenceCount)?y("div",{className:f.default.memberCount},void 0,y("div",{className:f.default.dotOnline}),y(d.default,{size:d.default.Sizes.SIZE_14,className:f.default.memberText},void 0,c.default.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:n.presenceCount}))):null,null!=(null==n?void 0:n.memberCount)?y("div",{className:f.default.memberCount},void 0,y("div",{className:f.default.dotOffline}),y(d.default,{size:d.default.Sizes.SIZE_14,className:f.default.memberText},void 0,c.default.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:n.memberCount}))):null)}h.displayName="MemberCounts";function _(e){var t=e.guild;return y("div",{className:f.default.container},void 0,y(l.default,{className:f.default.icon,guild:t,size:l.default.Sizes.LARGER,active:!0}),y(s.default,{className:f.default.name,size:s.default.Sizes.SIZE_24},void 0,t.name),null!=t.description?y(d.default,{className:f.default.description,size:d.default.Sizes.SIZE_16
},void 0,t.description):null,y(h,{guild:t}))}_.displayName="GuildHomeInfoWidget"},928205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=H(n(667294)),o=W(n(294184)),i=n(370405),u=n(393356),l=n(536211),s=H(n(174851)),d=W(n(43233)),c=W(n(864345)),f=W(n(673997)),p=W(n(843314)),v=W(n(216672)),y=W(n(968078)),h=W(n(463024)),_=W(n(751410)),m=W(n(546914)),g=W(n(252283)),E=W(n(423046)),O=H(n(502546)),S=W(n(30098)),I=W(n(226508)),b=W(n(971639)),C=W(n(967965)),T=n(235742),P=n(82141),A=n(566627),M=W(n(173101)),N=W(n(466366)),R=W(n(389396)),w=W(n(993407)),D=n(770348),L=n(173652),k=n(124042),j=W(n(247001)),U=W(n(738862)),G=W(n(149563)),F=W(n(789278)),x=["ref"];function W(e){return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e
};var n=V(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z=[],K=Y(h.default.Icon,{
icon:I.default,"aria-hidden":!0}),$=Y(h.default.Divider,{});function q(e){var t=e.guildId,n=e.isGuest;return Y(h.default,{guildId:t,hideSearch:!0,className:(0,o.default)(G.default.title,U.default.background),innerClassname:U.default.headerBarInner,isGuest:n,toolbar:z},void 0,a.createElement(a.Fragment,null,K,Y(p.default,{},void 0,j.default.Messages.GUILD_HOME)),Y(h.default.Title,{},void 0,j.default.Messages.GUILD_HOME),a.createElement(a.Fragment,null,$,Y("div",{className:F.default.topic},void 0,j.default.Messages.GUILD_HOME_DESCRIPTION)))}q.displayName="GuildHomePageHeader";function Z(e){var t=e.guild,n=e.height,r=a.useState(0),o=r[0],i=r[1],u=(0,f.default)(),l=u.ref,s=u.height;a.useEffect((function(){if(null!=s){i(s+128-n)}}),[n,s]);return Y("div",{className:U.default.widgets,style:{top:Math.min(-o,0)}},void 0,a.createElement("div",{className:U.default.widgetsContainer,ref:l},Y(w.default,{guild:t}),Y(N.default,{guildId:t.id})))}Z.displayName="GuildHomeWidgets";var X=(0,c.default)(Z)
;function Q(e){var t=e.pageWidth,n=e.onSidebarResize,r=(0,l.useStateFromStores)([O.default],(function(){return O.default.getSidebarState(L.StaticChannelRoute.GUILD_HOME)}));if(null==r)return null;var a,o=t-D.CHANNEL_SIDEBAR_WIDTH-632;r.type===O.SidebarType.VIEW_THREAD?a=Y(g.default,{channelId:r.channelId,baseChannelId:L.StaticChannelRoute.GUILD_HOME}):r.type===O.SidebarType.VIEW_CHANNEL&&(a=Y(v.default,{channelId:r.channelId,baseChannelId:L.StaticChannelRoute.GUILD_HOME}));return Y(s.default,{sidebarType:s.ChatSidebarType.ThreadSidebar,maxWidth:o,onWidthChange:n},void 0,a)}Q.displayName="GuildHomeSidebar";var J=[{label:"Segment Reads",value:k.GuildFeedRenderMode.SEGMENTED_READ},{label:"Top",value:k.GuildFeedRenderMode.TOP},{label:"New",value:k.GuildFeedRenderMode.NEW}];function ee(e){var t=e.renderMode,n=e.setRenderMode;return A.GuildFeedRenderSelectorExperiment.useExperiment({}).showSelector?Y(C.default,{className:U.default.selector,options:J,select:n,isSelected:function(e){
return e===t},serialize:function(e){return String(e)}}):null}ee.displayName="GuildFeedRenderSelector";var te=(0,c.default)((function(e){var t,n=e.guild,r=e.width,s=n.id,d=(0,l.useStateFromStores)([E.default],(function(){return E.default.isGuest()})),c=(0,l.useStateFromStores)([O.default],(function(){return O.default.getSection(L.StaticChannelRoute.GUILD_HOME)})),p=a.useState(!1),v=p[0],h=p[1],g=c===D.ChannelSections.SIDEBAR_CHAT,S=a.useRef(null),I=(0,_.default)("top-messages",S),C=(0,f.default)(),A=C.ref,N=C.width,w=a.useState(k.GuildFeedRenderMode.SEGMENTED_READ),F=w[0],W=w[1];a.useEffect((function(){null==y.default.getLoadId(s)&&m.default.closeChannelSidebar(L.StaticChannelRoute.GUILD_HOME)}),[s]);a.useLayoutEffect((function(){var e=M.default.getSavedScrollPosition(s);if(null!=e){var t;null===(t=S.current)||void 0===t||t.scrollTo({to:e})}return function(){var e,t=null===(e=S.current)||void 0===e?void 0:e.getScrollerState();null!=t&&(0,P.saveGuildHomeScrollPosition)(s,t.scrollTop)}
}),[s]);var V=!g&&(null==N||N>1016),H=Y(ee,{renderMode:F,setRenderMode:W}),z=Y(R.default,{guild:n,renderMode:F,scrollerRef:S}),K=Y(X,{guild:n});return a.createElement(a.Fragment,null,Y(i.Helmet,{title:j.default.Messages.GUILD_HOME_HTML_TITLE.format({guildName:n.name})}),Y("div",{className:(0,o.default)(G.default.chat,U.default.background,(t={},t[G.default.threadSidebarOpen]=g,t[G.default.threadSidebarFloating]=g&&v,t))},void 0,Y(q,{guildId:s,isGuest:d}),a.createElement("div",{ref:A,className:G.default.content},Y(u.ListNavigatorProvider,{navigator:I},void 0,Y(u.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,x);return a.createElement(T.AdvancedScrollerAuto,B({className:U.default.homeContainer,ref:function(e){var n;S.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null}},n),Y("div",{
className:U.default.homeContent},void 0,Y("div",{className:U.default.topMessagesHeader},void 0,Y(b.default,{size:b.default.Sizes.SIZE_16},void 0,j.default.Messages.GUILD_FEED_TITLE),H),z),V?K:null)}))))),g?Y(Q,{pageWidth:r,onSidebarResize:function(e,t){h(t)}}):null)})),ne=Y(d.default,{channelId:void 0});function re(e){var t=e.guildId,n=(0,l.useStateFromStores)([S.default],(function(){return S.default.getGuild(t)}),[t]);return null==n?ne:Y(te,{guild:n})}re.displayName="GuildHomePageGuard";var ae=re;t.default=ae},350957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,d,c,f,p,v,y=i.FormStates.CLOSED,h={},_=!1;function m(){s=void 0;d=void 0;c=void 0;f=void 0}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getFormState=function(){return y};n.getErrors=function(){return h};n.showNotice=function(){return void 0!==s||void 0!==d||void 0!==c||void 0!==f};n.getPendingAvatar=function(){return s};n.getPendingBanner=function(){return d};n.getPendingBio=function(){return c};n.getPendingNickname=function(){return f};n.getPendingAccentColor=function(){return f};n.getAllPending=function(){return{pendingAvatar:s,pendingBanner:d,pendingBio:c,pendingNickname:f}};n.getGuild=function(){return p};n.getSource=function(){return v};n.getIsDisableSubmit=function(){return _};return t}(a.default.Store))(o.default,((r={})[i.ActionTypes.GUILD_IDENTITY_SETTINGS_INIT]=function(e){p=e.guild;y=i.FormStates.OPEN;h={};v=e.source},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_CLOSE]=function(){y=i.FormStates.CLOSED;h={};p=null;v=void 0},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT]=function(){
y=i.FormStates.SUBMITTING;h={}},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT_FAILURE]=function(e){var t;if(y!==i.FormStates.SUBMITTING)return!1;y=i.FormStates.OPEN;h=null!==(t=e.errors)&&void 0!==t?t:{}},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_AVATAR]=function(e){var t=e.avatar;s=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_BANNER]=function(e){var t=e.banner;d=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_BIO]=function(e){var t=e.bio;c=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_NICKNAME]=function(e){var t=e.nickname;f=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_RESET_ALL_PENDING]=m,r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT_SUCCESS]=m,r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_DISABLE_SUBMIT]=function(e){var t=e.disable;_=t},r));t.default=g},83e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.usePaginatedMemberApplications=function(e){
var t=e.guildId,n=e.guildJoinRequests,a=r.useRef(!1),o=r.useState(null),l=o[0],s=o[1],d=r.useRef(null),y=r.useRef(!1),h=r.useCallback(function(){var e,r=(e=regeneratorRuntime.mark((function e(r,o){var f,h,_,m,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=2;break}return e.abrupt("return");case 2:h=!1;if((f=r+"-"+o)!==d.current){d.current=f;y.current=!1;h=!0}if(!y.current){e.next=7;break}return e.abrupt("return");case 7:null!=l&&s(null);_=v(n,r,o,h);e.prev=9;a.current=!0;e.next=13;return u.default.fetchGuildJoinRequests(c({guildId:t,status:o,limit:p},_));case 13:null!=(m=e.sent)&&m.body.guild_join_requests.length<p&&(y.current=!0);e.next=21;break;case 17:e.prev=17;e.t0=e.catch(9);g=new i.APIError(e.t0);s(g.getAnyErrorMessage());case 21:e.prev=21;a.current=!1;return e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[9,17,21,24]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}(),[l,t,n]);return{fetchNextPage:h,error:l}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(730381)),o=s(n(795715)),i=n(327269),u=s(n(868073)),l=n(237639);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var p=l.MAX_RESULTS_PER_PAGE*l.MAX_VISIBLE_PAGES;function v(e,t,n,r){var i=n===l.GuildJoinRequestApplicationStatuses.SUBMITTED;if(t===l.GuildJoinRequestSortOrders.TIMESTAMP_DESC){if(r){return{before:o.default.fromTimestamp((new Date).getTime())}}var u=e[e.length-1];return{before:i?u.id:u.actionedAt}}if(r){return{after:o.default.fromTimestamp((0,a.default)().subtract(180,"days").valueOf())}}var s=e[e.length-1];return{after:i?s.id:s.actionedAt}}},912958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedApplicationStatus=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedApplicationStatus(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},
519589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedGuildJoinRequest=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedGuildJoinRequest(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},322865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedSortOrder=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedSortOrder(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},912322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSortedMemberApplications=function(e){var t=e.guildId,n=e.applicationStatus,r=e.sortOrder,l=(0,o.useStateFromStores)([i.default],(function(){return i.default.getRequests(t,n)}),[n,t]);return{guildJoinRequests:a.useMemo((function(){
return r===u.GuildJoinRequestSortOrders.TIMESTAMP_DESC?[].concat(l).reverse():l}),[r,l])}};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=(r=n(499098))&&r.__esModule?r:{default:r},u=n(237639);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},267762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(956117)),i=f(n(380439)),u=f(n(971639)),l=f(n(776360)),s=f(n(247001)),d=f(n(133766)),c=f(n(946137));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.reapplyText,n=e.onReapply,r=e.confirmText,f=e.onConfirm,p=e.rejectionReason,y=void 0===p?null:p,h=e.guild,_=void 0===h?null:h;return v("div",{className:d.default.confirmation},void 0,v("div",{className:d.default.confirmationContent},void 0,null!==_?v(i.default,{size:i.default.Sizes.LARGER,guild:_,className:d.default.guildIcon}):v("img",{alt:s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_ICON,src:c.default,className:d.default.verificationStateIcon}),v(u.default,{size:u.default.Sizes.SIZE_24,className:d.default.header},void 0,(null==_?void 0:_.name)?s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE_WITH_GUILD_NAME.format({guildName:null==_?void 0:_.name}):s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE),y&&a.createElement(a.Fragment,null,v(l.default,{size:l.default.Sizes.SIZE_14},void 0,v("span",{className:d.default.rejectionReasonLabel
},void 0,s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_REASON),v("span",{className:d.default.rejectionReason},void 0,y)))),v("div",{className:d.default.confirmationButtonRow},void 0,v(o.default,{onClick:n,color:o.default.Colors.GREY,className:d.default.confirmationButton},void 0,t),v(o.default,{onClick:f,color:o.default.Colors.GREY,className:d.default.confirmationButton},void 0,r)))};y.displayName="MemberVerificationApplicationRejected";var h=y;t.default=h},332996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r)}(n(667294));var r,a=c(n(956117)),o=c(n(380439)),i=c(n(971639)),u=c(n(776360)),l=c(n(247001)),s=c(n(133766)),d=c(n(692760));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.onCancel,n=e.onLeave,r=e.guild,c=void 0===r?null:r;return p("div",{className:s.default.confirmation},void 0,p("div",{className:s.default.confirmationContent},void 0,null!==c?p(o.default,{size:o.default.Sizes.LARGER,guild:c,
className:s.default.guildIcon}):p("img",{alt:l.default.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_ICON,src:d.default,className:s.default.verificationStateIcon}),p(i.default,{size:i.default.Sizes.SIZE_24,className:s.default.header},void 0,(null==c?void 0:c.name)?l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE_WITH_GUILD_NAME.format({guildName:null==c?void 0:c.name}):l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE),p(u.default,{size:u.default.Sizes.SIZE_14,color:u.default.Colors.HEADER_SECONDARY},void 0,l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE)),p("div",{className:s.default.confirmationButtonColumn},void 0,p(a.default,{onClick:t,look:a.default.Looks.LINK,color:a.default.Colors.LINK,size:a.default.Sizes.SMALL},void 0,l.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION),p(a.default,{onClick:n,look:a.default.Looks.LINK,color:a.default.Colors.LINK,size:a.default.Sizes.SMALL
},void 0,l.default.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_MODAL_WITHDRAW_AND_LEAVE)))};v.displayName="MemberVerificationApplicationSubmitConfirmation";var y=v;t.default=y},545130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MemberVerificationPreviewDisabled=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(139982),u=P(n(30098)),l=P(n(956117)),s=P(n(194815)),d=P(n(502197)),c=n(194322),f=P(n(776360)),p=n(549186),v=P(n(692711)),y=P(n(868073)),h=P(n(542307)),_=P(n(849997)),m=n(237639),g=P(n(943819)),E=P(n(267762)),O=P(n(332996)),S=P(n(757349)),I=n(770348),b=n(99043),C=P(n(247001)),T=P(n(613599));function P(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function M(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=function(e){var t,n=e.guildId,r=e.inviteCode,P=a.useState(b.WaveStates.INITIAL),A=P[0],w=P[1],D=(0,o.useStateFromStores)([_.default],(function(){return _.default.get(n)})),L=(0,o.useStateFromStores)([g.default],(function(){return g.default.getRequest(n)})),k=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(n)})),j=(0,o.useStateFromStoresObject)([g.default],(function(){return{hasFetchedRequestToJoinGuilds:g.default.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:g.default.getJoinRequestGuild(n)}})),U=j.hasFetchedRequestToJoinGuilds,G=j.guildPreviewDisabled;a.useEffect((function(){null!=k&&(0,i.transitionTo)(I.Routes.CHANNEL(n))}),[k,n]);a.useEffect((function(){U||y.default.fetchRequestToJoinGuilds()}),[U])
;var F=a.useCallback((function(e){w((function(t){return Math.max(t,e)}))}),[]),x=function(e,t){return function(){(0,c.openModal)((function(n){return a.createElement(d.default,N({header:C.default.Messages.MEMBER_VERIFICATION_CONFIRM_LEAVE_TITLE,cancelText:C.default.Messages.NEVERMIND,onConfirm:t,confirmText:C.default.Messages.YES_TEXT,confirmButtonColor:l.default.Colors.RED},n),R(f.default,{size:f.default.Sizes.SIZE_14,color:f.default.Colors.HEADER_SECONDARY},void 0,e))}))}},W=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return h.default.submitVerificationForm(n,t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,u,"next",e)}function u(e){M(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),V=function(){y.default.resetGuildJoinRequest(n)
},H=x(C.default.Messages.LEAVE_SERVER_BODY.format({name:null==k?void 0:k.toString()}),(function(){w(Math.max(A,b.WaveStates.FILLING));y.default.removeGuildJoinRequest(n);(0,i.transitionTo)(I.Routes.ME)})),B=R(S.default,{guildId:n,inviteCode:r,onComplete:W}),Y=null!=(null==D||null===(t=D.guild)||void 0===t?void 0:t.splash)?v.default.getGuildSplashURL({id:D.guild.id,splash:D.guild.splash}):(0,p.getArtForPath)();return R("div",{className:T.default.page},void 0,R(s.default,{embedded:!0,splash:Y,waveState:A,showLogo:!1,updateWaveState:F},void 0,R("div",{className:T.default.dragRegion}),R("div",{className:T.default.contentWrapper},void 0,function(){switch(null==L?void 0:L.applicationStatus){case m.GuildJoinRequestApplicationStatuses.SUBMITTED:return R(O.default,{onCancel:x(C.default.Messages.MEMBER_VERIFICATION_CANCEL_PENDING_APPLICATION_MODAL_TITLE,V),onLeave:H,guild:G});case m.GuildJoinRequestApplicationStatuses.REJECTED:return R(E.default,{
reapplyText:C.default.Messages.MEMBER_VERIFICATION_APPLICATION_REAPPLY,onReapply:V,confirmText:C.default.Messages.LEAVE_SERVER,onConfirm:H,rejectionReason:null==L?void 0:L.rejectionReason,guild:G});default:return B}}())))};t.MemberVerificationPreviewDisabled=w;w.displayName="MemberVerificationPreviewDisabled";var D=w;t.default=D},796015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=E(n(294184)),i=n(536211),u=E(n(30098)),l=E(n(790597)),s=E(n(956117)),d=E(n(502197)),c=n(194322),f=E(n(776360)),p=E(n(868073)),v=n(237639),y=E(n(943819)),h=E(n(678875)),_=E(n(247001)),m=E(n(407829)),g=E(n(944659));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function C(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(){var e,t=(0,i.useStateFromStores)([l.default],(function(){return l.default.getGuildId()}),[]),r=(0,i.useStateFromStores)([u.default],(function(){return u.default.getGuild(t)}),[t]),E=(0,i.useStateFromStores)([y.default],(function(){return null!=t?y.default.getRequest(t):null}),[t]);if(null==r||!r.hasVerificationGate())return null;var O=null!==(e=null==E?void 0:E.applicationStatus)&&void 0!==e?e:v.GuildJoinRequestApplicationStatuses.STARTED,S=null,T=null,P=null,A=[m.default.notice,g.default.notice];switch(O){case v.GuildJoinRequestApplicationStatuses.SUBMITTED:
S=_.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE;T=_.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION;P=function(){(0,c.openModal)((function(e){return a.createElement(d.default,b({header:_.default.Messages.MODIFY_FOLLOWED_NEWS_HEADER,confirmText:_.default.Messages.CONFIRM,cancelText:_.default.Messages.CANCEL,onConfirm:function(){return p.default.removeGuildJoinRequest(r.id)},confirmButtonColor:s.default.Colors.BRAND},e),C(f.default,{size:f.default.Sizes.SIZE_16},void 0,_.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE))}))};break;case v.GuildJoinRequestApplicationStatuses.REJECTED:S=_.default.Messages.MEMBER_VERIFICATION_REJECTED_TITLE;T=_.default.Messages.MEMBER_VERIFICATION_LEARN_MORE;P=function(){(0,c.openModalLazy)(I(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(13554).then(n.bind(n,838303));case 2:t=e.sent;o=t.default
;return e.abrupt("return",(function(e){return a.createElement(o,b({guildId:r.id},e))}));case 5:case"end":return e.stop()}}),e)}))))};A.push(m.default.error);break;default:S=_.default.Messages.MEMBER_VERIFICATION_NOTICE_TEXT;T=_.default.Messages.MEMBER_VERIFICATION_NOTICE_CTA;P=function(){(0,h.default)(r.id)}}return C("div",{className:o.default.apply(void 0,A)},void 0,C(f.default,{className:m.default.header},void 0,S),C(s.default,{className:m.default.button,look:s.default.Looks.OUTLINED,color:s.default.Colors.WHITE,size:s.default.Sizes.NONE,onClick:P},void 0,T))};T.displayName="PendingGuildMemberNotice";var P=T;t.default=P},710483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(370405),i=n(536211),u=h(n(759027)),l=h(n(30098)),s=h(n(868073)),d=h(n(542307)),c=n(519589),f=h(n(191265)),p=h(n(611408)),v=h(n(247001)),y=h(n(851007));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var g=function(e){var t=e.guildId,n=(0,c.useSelectedGuildJoinRequest)({guildId:t}),r=(null!=n?n:{}).user,h=a.useMemo((function(){return null!=r?new u.default(r):null}),[r]),_=(0,i.useStateFromStores)([l.default],(function(){return l.default.getGuild(t)}),[t]);a.useEffect((function(){d.default.fetchVerificationForm(t)}),[t]);return a.createElement(a.Fragment,null,m(o.Helmet,{title:v.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REQUIREMENTS}),m("div",{className:y.default.content},void 0,m(f.default,{guildId:t})),null!=n&&null!=_&&null!=h&&m("section",{className:y.default.sidebar},void 0,m(p.default,{guild:_,guildJoinRequest:n,guildJoinRequestUser:h,onClose:function(){return s.default.setSelectedGuildJoinRequest(t,null)}})))};t.default=g},254048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=n(967965),u=n(237639),l=(r=n(247001))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){
var t=e.className,n=e.sortOrder,r=e.onSortChange,a=o.useMemo((function(){return[{value:u.GuildJoinRequestSortOrders.TIMESTAMP_DESC,label:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_NEWEST},{value:u.GuildJoinRequestSortOrders.TIMESTAMP_ASC,label:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_OLDEST}]}),[]);return d(i.SingleSelect,{className:t,onChange:r,value:n,options:a})}c.displayName="MemberApplicationSortSelect";var f=c;t.default=f},191265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=m(n(776360)),i=m(n(868073)),u=n(83e3),l=n(912958),s=n(519589),d=n(322865),c=n(912322),f=n(181945),p=m(n(254048)),v=m(n(969804)),y=m(n(882793)),h=m(n(247001)),_=m(n(690919));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}var I=a.memo((function(e){var t=e.guildId,n=a.useRef(null),r=(0,l.useSelectedApplicationStatus)({guildId:t}),m=(0,d.useSelectedSortOrder)({guildId:t}),g=(0,s.useSelectedGuildJoinRequest)({guildId:t}),O=(0,f.useSubmittedGuildJoinRequestTotal)({guildId:t}),I=(0,c.useSortedMemberApplications)({guildId:t,applicationStatus:r,sortOrder:m}).guildJoinRequests,b=(0,u.usePaginatedMemberApplications)({guildId:t,guildJoinRequests:I}).fetchNextPage,C=a.useRef(!1);if(!C.current){C.current=!0;b(m,r)}var T=a.useRef(!1);a.useEffect((function(){T.current=!0}),[m,r]);a.useEffect((function(){if(T.current&&0!==I.length){var e;T.current=!1;i.default.setSelectedGuildJoinRequest(t,I[0]);null===(e=n.current)||void 0===e||e.scrollToTop()}}),[t,I,g]);var P=a.useCallback(function(){var e=S(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:if(m!==n){e.next=2;break}return e.abrupt("return");case 2:i.default.setSelectedSortOrder(t,n);e.next=5;return b(n,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,m,t,b]),A=a.useCallback(function(){var e=S(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==n){e.next=2;break}return e.abrupt("return");case 2:i.default.setSelectedApplicationStatus(t,n);i.default.setSelectedGuildJoinRequest(t,null);e.next=6;return b(m,n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,m,t,b]),M=a.useCallback(S(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(a=null===(t=n.current)||void 0===t?void 0:t.getScrollerState())){e.next=3;break}return e.abrupt("return");case 3:
if(!(a.scrollHeight-a.scrollTop-a.offsetHeight<200)){e.next=7;break}e.next=7;return b(m,r);case 7:case"end":return e.stop()}}),e)}))),[r,m,b]);return a.createElement(a.Fragment,null,E(v.default,{applicationStatus:r,onTabItemSelect:A,pendingGuildJoinRequestsTotal:O}),E("div",{className:_.default.content},void 0,E("div",{className:_.default.listControls},void 0,E(p.default,{className:_.default.sortSelect,sortOrder:m,onSortChange:P})),E(o.default,{className:_.default.description,size:o.default.Sizes.SIZE_12,color:o.default.Colors.HEADER_SECONDARY},void 0,h.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_LIST_DESCRIPTION),E(y.default,{applicationStatus:r,guildJoinRequests:I,guildId:t,onScroll:M,listRef:n})))}));t.default=I},969804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;f(n(667294));var r,a=d(n(463024)),o=f(n(186465)),i=d(n(214402)),u=n(237639),l=d(n(247001)),s=d(n(624774));function d(e){return e&&e.__esModule?e:{default:e}}
function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null
}}var v=p("div",{});function y(e){var t=e.pendingGuildJoinRequestsTotal,n=e.applicationStatus,r=e.onTabItemSelect;return p(a.default,{className:s.default.container,hideSearch:!0,toolbar:v},void 0,p(a.default.Icon,{icon:i.default,disabled:!0,"aria-label":l.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS}),p(a.default.Title,{className:s.default.title},void 0,l.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS),p(a.default.Divider,{className:s.default.divider}),p(o.default,{"aria-label":l.default.Messages.FRIENDS,selectedItem:n,type:o.Types.TOP_PILL,onItemSelect:r,className:s.default.tabBar},void 0,p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.SUBMITTED},void 0,0===t?l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT.format({count:t})),p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.APPROVED},void 0,l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED),p(o.Item,{
id:u.GuildJoinRequestApplicationStatuses.REJECTED},void 0,l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED)))}y.displayName="MemberApplicationsHeader";var h=y;t.default=h},882793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(294184)),i=n(798628),u=n(536211),l=S(n(415391)),s=S(n(30098)),d=S(n(776360)),c=S(n(521358)),f=S(n(868073)),p=S(n(499098)),v=n(237639),y=n(519589),h=n(181945),_=n(985577),m=n(423277),g=S(n(247001)),E=S(n(631447)),O=["ref","role"];function S(e){
return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(){return null};var P=function(e){var t=e.applicationStatus,n=e.guildJoinRequests,r=e.guildId,S=e.onScroll,I=e.listRef,P=(0,u.useStateFromStores)([s.default],(function(){
return s.default.getGuild(r)}),[r]),A=(0,u.useStateFromStores)([p.default],(function(){return p.default.isFetching()})),M=A?[n.length+25]:[n.length],N=(0,y.useSelectedGuildJoinRequest)({guildId:r}),R=(0,h.useSubmittedGuildJoinRequestTotal)({guildId:r}),w=(0,l.default)("guild-join-requests"),D=function(e){var a,i=e.row,u=n[i];return null==u?C(m.MemberApplicationsListRowPlaceholder,{},i):C(m.MemberApplicationsListRow,{className:(0,o.default)((a={},a[E.default.selected]=N===u,a[E.default.siblingSelected]=N===n[i-1],a)),guild:P,guildJoinRequest:u,onClick:function(){return f.default.setSelectedGuildJoinRequest(r,u)},applicationStatus:t},u.userId+"-"+u.applicationStatus+"-"+i)};return A||0!==n.length?a.createElement(a.Fragment,null,0!==R&&t===v.GuildJoinRequestApplicationStatuses.SUBMITTED&&C(d.default,{className:E.default.title,size:d.default.Sizes.SIZE_12,color:d.default.Colors.HEADER_SECONDARY,strong:!0},void 0,function(e,t){var n=t.toLocaleString();switch(e){
case v.GuildJoinRequestApplicationStatuses.SUBMITTED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT_HYPEN.format({count:n});case v.GuildJoinRequestApplicationStatuses.REJECTED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED_COUNT_HYPEN.format({count:n});case v.GuildJoinRequestApplicationStatuses.APPROVED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED_COUNT_HYPEN.format({count:n});default:return""}}(t,R).toUpperCase()),C(i.ListNavigatorProvider,{navigator:w},void 0,C(i.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=e.role,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,O);return a.createElement(c.default,b({key:"guild-application-review",innerRole:n,innerAriaLabel:g.default.Messages.MEMBERS,ref:function(e){var n;I.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},paddingTop:0,
paddingBottom:16,sectionHeight:0,rowHeight:64,renderSection:T,renderRow:D,sections:M,onScroll:S,fade:!0},r))})))):C(_.ApplicationsEmptyState,{status:t})};t.default=P},423277:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MemberApplicationsListRow=R;t.MemberApplicationsListRowPlaceholder=w;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=b(n(294184)),i=b(n(730381)),u=n(378158),l=b(n(759027)),s=b(n(16941)),d=b(n(992193)),c=b(n(259530)),f=b(n(775803)),p=n(57744),v=b(n(628551)),y=b(n(810919)),h=b(n(776360)),_=n(767019),m=n(143586),g=b(n(692711)),E=b(n(868073)),O=n(237639),S=b(n(247001)),I=b(n(631447));function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e){var t,n=e.icon,r=e.onClick,a=e.submitting,i=e.disabled;return M(s.default,{className:(0,o.default)(I.default.actionIconContainer,(t={},t[I.default.disabled]=i||a,t)),onClick:r},void 0,a?M(y.default,{className:I.default.icon,dotRadius:2,themed:!0}):M(n,{className:I.default.icon,height:12,width:12}))}N.displayName="ActionButton";function R(e){var t,r=e.applicationStatus,y=e.guild,b=e.guildJoinRequest,C=e.className,P=e.onClick,R=a.useState(null),w=R[0],D=R[1],L=b.user,k=b.createdAt;if(null==L)throw new Error("Missing user on this guild join request!")
;var j=a.useMemo((function(){return new l.default(L)}),[L]),U=g.default.getUserAvatarURL(j),G=r===O.GuildJoinRequestApplicationStatuses.SUBMITTED,F=a.useCallback(function(){var e=A(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.guildId,a=t.userId;if(null==w){e.next=3;break}return e.abrupt("return");case 3:D(n);e.prev=4;e.next=7;return E.default.updateGuildJoinRequest(r,a,n);case 7:e.next=13;break;case 9:e.prev=9;e.t0=e.catch(4);(0,m.showToast)((0,_.createToast)(S.default.Messages.ERROR_GENERIC_TITLE,_.ToastType.FAILURE));D(null);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}(),[w]),x=function(){var e=A(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return F(b,O.GuildJoinRequestApplicationStatuses.APPROVED);case 2:case"end":return e.stop()}}),e)})))
;return function(){return e.apply(this,arguments)}}(),W=function(){var e=A(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return F(b,O.GuildJoinRequestApplicationStatuses.REJECTED);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return M(s.default,{className:(0,o.default)(I.default.container,C),onClick:P},void 0,M(v.default,{src:U,size:v.default.Sizes.SIZE_40,"aria-label":L.username,className:I.default.spacer}),M("div",{className:I.default.userDetails},void 0,M(h.default,{size:h.default.Sizes.SIZE_16,color:h.default.Colors.HEADER_PRIMARY,strong:!0},void 0,L.username),M(h.default,{className:I.default.createdAt,size:h.default.Sizes.SIZE_14,color:h.default.Colors.HEADER_SECONDARY},void 0,(0,i.default)(k).format("lll"))),G&&M(N,{icon:d.default,onClick:x,submitting:w===O.GuildJoinRequestApplicationStatuses.APPROVED,
disabled:null!=w&&w!==O.GuildJoinRequestApplicationStatuses.APPROVED}),G&&M(N,{icon:c.default,onClick:W,submitting:w===O.GuildJoinRequestApplicationStatuses.REJECTED,disabled:null!=w&&w!==O.GuildJoinRequestApplicationStatuses.REJECTED}),M(s.default,{className:(0,o.default)(I.default.overflowMenuContainer,(t={},t[I.default.disabled]=null!=w,t)),onClick:function(e){(0,u.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(74869).then(n.bind(n,574869));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,T({},e,{guild:y,user:j}))}));case 5:case"end":return e.stop()}}),e)}))),{position:p.Positions.BOTTOM,align:p.Align.RIGHT})}},void 0,M(f.default,{className:I.default.icon,width:18})))}R.displayName="MemberApplicationsListRow";function w(){var e=Math.floor(50*Math.random())+100+"px",t=Math.floor(25*Math.random())+50+"px";return M("div",{
className:I.default.placeholder},void 0,M("div",{className:(0,o.default)(I.default.placeholderAvatar)}),M("div",{className:I.default.userDetails},void 0,M("div",{className:I.default.placeholderUsername,style:{maxWidth:e}}),M("div",{className:I.default.placeholderCreatedAt,style:{maxWidth:t}})))}w.displayName="MemberApplicationsListRowPlaceholder"},831051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=k;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=A(n(730381)),i=A(n(795715)),u=n(536211),l=n(378158),s=n(910992),d=A(n(876874)),c=A(n(728429)),f=A(n(956117)),p=A(n(16941)),v=A(n(474026)),y=A(n(930600)),h=A(n(946750)),_=A(n(775803)),m=n(194322),g=A(n(971639)),E=A(n(776360)),O=n(767019),S=n(143586),I=A(n(868073)),b=n(237639),C=n(770348),T=A(n(247001)),P=A(n(328690));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}var L=24;function k(e){var t,r=e.guildJoinRequest,A=e.guild,M=e.guildJoinRequestUser,w=a.useState(!1),k=w[0],j=w[1],U=r.createdAt,G=r.actionedAt,F=r.guildId,x=r.userId,W=null===(t=r.actionedByUser)||void 0===t?void 0:t.id,V=(0,u.useStateFromStores)([c.default],(function(){return c.default.getUser(W)})),H=(0,u.useStateFromStores)([d.default],(function(){return null!=W?d.default.getMember(F,W):null}),[W,F]),B=a.useCallback((function(){(0,S.showToast)((0,O.createToast)(T.default.Messages.ERROR_GENERIC_TITLE,O.ToastType.FAILURE))
}),[]),Y=function(){var e=D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:j(!0);e.prev=3;e.next=6;return I.default.updateGuildJoinRequest(F,x,b.GuildJoinRequestApplicationStatuses.APPROVED);case 6:e.next=11;break;case 8:e.prev=8;e.t0=e.catch(3);B();case 11:e.prev=11;j(!1);return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),z=T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING,K=R(h.default,{width:L,height:L,className:P.default.icon});if(r.applicationStatus===b.GuildJoinRequestApplicationStatuses.APPROVED){z=T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED;K=R(v.default,{width:L,height:L,className:P.default.iconApproved,backgroundColor:C.Colors.WHITE})}else if(r.applicationStatus===b.GuildJoinRequestApplicationStatuses.REJECTED){
z=T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED;K=R(y.default,{width:L,height:L,className:P.default.iconRejected,backgroundColor:C.Colors.WHITE})}var $=null!=V&&null!=G?T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_ACTIONED_BY_HOOK.format({date:(0,o.default)(i.default.extractTimestamp(G)).format("ll"),usernameHook:function(){var e;return R(p.default,{className:P.default.actionedByUser,onClick:function(){return(0,s.openUserProfileModal)({userId:V.id,guildId:F,analyticsLocation:{section:C.AnalyticsSections.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:C.AnalyticsObjects.ACTIONED_BY_USER}})},tag:"div",role:"link"},"username-hook",R(E.default,{size:E.default.Sizes.SIZE_12,color:E.default.Colors.HEADER_PRIMARY},void 0,null!==(e=null==H?void 0:H.nick)&&void 0!==e?e:V.username))}}):(0,o.default)(U).format("lll");return R("div",{className:P.default.container},void 0,R("div",{className:P.default.wrapper},void 0,R("div",{className:P.default.inline
},void 0,K,R("div",{},void 0,R(g.default,{},void 0,z),R(E.default,{className:P.default.headerSubtext,size:E.default.Sizes.SIZE_12,color:E.default.Colors.HEADER_SECONDARY},void 0,$))),R("div",{className:P.default.inline},void 0,r.applicationStatus===b.GuildJoinRequestApplicationStatuses.SUBMITTED&&R("div",{className:P.default.buttons},void 0,R(f.default,{color:f.default.Colors.GREEN,submitting:k,onClick:function(){return Y()}},void 0,T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVE_APPLICATION),R(f.default,{color:f.default.Colors.RED,onClick:function(){(0,m.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(68689).then(n.bind(n,868689));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return R(r,{modalProps:e,guildId:F,userId:x,onError:B})}));case 5:case"end":return e.stop()}}),e)}))))},disabled:k
},void 0,T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_DENY_APPLICATION)),R(p.default,{onClick:function(e){(0,l.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(74869).then(n.bind(n,574869));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{guild:A,user:M}))}));case 5:case"end":return e.stop()}}),e)}))))},className:P.default.overflow},void 0,R(_.default,{width:20,height:20,className:P.default.iconInteractive})))),r.applicationStatus===b.GuildJoinRequestApplicationStatuses.REJECTED&&null!=r.rejectionReason&&R("div",{className:P.default.rejectionReason},void 0,R(E.default,{},void 0,r.rejectionReason)))}k.displayName="ActionBar"},574274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(294184)),o=n(910992),i=v(n(151097)),u=v(n(628551)),l=v(n(971639)),s=v(n(776360)),d=v(n(692711)),c=n(770348),f=v(n(247001)),p=v(n(734787));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.user,n=e.className,r=t.discriminator,v=t.username,y=d.default.getUserAvatarURL(t);return h("div",{className:(0,a.default)(p.default.container,n)},void 0,h(u.default,{src:y,size:u.default.Sizes.SIZE_80,"aria-label":v,className:p.default.avatar}),h("div",{className:p.default.username},void 0,h(l.default,{size:l.default.Sizes.SIZE_24},void 0,v),h(s.default,{size:s.default.Sizes.SIZE_16,color:s.default.Colors.HEADER_SECONDARY},void 0,"#",r)),h(i.default,{onClick:function(){(0,o.openUserProfileModal)({userId:t.id,analyticsLocation:{section:c.AnalyticsSections.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:c.AnalyticsObjects.JOIN_REQUEST}})}},void 0,f.default.Messages.VIEW_PROFILE))}_.displayName="GuildJoinRequestUserProfile"},611408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(259530)),i=y(n(190178)),u=y(n(971639)),l=y(n(878556)),s=y(n(582945)),d=y(n(341394)),c=y(n(831051)),f=y(n(574274)),p=y(n(247001)),v=y(n(800660));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.guild,n=e.guildJoinRequest,r=e.guildJoinRequestUser,y=e.onClose,h=a.useMemo((function(){var e;return null!==(e=n.formResponses)&&void 0!==e?e:[]}),[n.formResponses]);return a.createElement(a.Fragment,null,_(l.default,{toolbar:_(l.default.Icon,{icon:o.default,onClick:y,tooltip:p.default.Messages.CLOSE})},void 0,_(l.default.Icon,{icon:i.default,disabled:!0,"aria-label":p.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATION}),_(u.default,{size:u.default.Sizes.SIZE_16},void 0,r.toString())),_(c.default,{guildJoinRequest:n,guildJoinRequestUser:r,guild:t}),_(s.default,{},void 0,_(f.default,{user:r,className:v.default.container}),_("div",{className:v.default.disabledFormRenderer},void 0,_(d.default,{guildId:t.id,
formFields:h,user:r}))))};t.default=m},341394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=y(n(728429)),u=y(n(311591)),l=n(237639),s=n(820379),d=n(86309),c=n(317258),f=n(759085),p=n(129277),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.formFields,n=e.user;return null==(0,o.useStateFromStores)([i.default],(function(){return null!=n?n:i.default.getCurrentUser()}))?null:a.createElement(a.Fragment,null,_(s.RequirementRenderer,{icon:u.default,text:v.default.Messages.MEMBER_VERIFICATION_FORM_PASSED_REQUIREMENTS,passesRequirement:!0}),t.map((function(e,t){return function(e,t){switch(e.field_type){case l.VerificationFormFieldTypes.TERMS:return _(f.DisabledTermsRequirementFormField,{formField:e},t);case l.VerificationFormFieldTypes.TEXT_INPUT:return _(p.DisabledTextInputFormField,{formField:e},t)
;case l.VerificationFormFieldTypes.PARAGRAPH:return _(c.DisabledParagraphFormField,{formField:e},t);case l.VerificationFormFieldTypes.MULTIPLE_CHOICE:return _(d.DisabledMultipleChoiceFormField,{formField:e},t)}}(e,t)})))};t.default=m},734495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"guild",id:"2022-02_guild_notification_defaults_notice",label:"Guild notification defaults channel notice",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Eligible for guild notification defaults channel notice",config:{enabled:!0}}]});t.default=r},195849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),o=d(n(972247)),i=d(n(636602)),u=d(n(689389)),l=d(n(871778)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}
var f="guildNotificationDefaultsNoticeDismissed",p=new Set;var v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e;this.syncWith([l.default,u.default],(function(){return!0}));p=null!==(e=new Set(o.default.get(f)))&&void 0!==e?e:new Set};n.isEligible=function(e){if(null==e)return!1;var t=e.id,n="en-US"===l.default.locale||"en-GB"===l.default.locale,r=u.default.can(s.Permissions.MANAGE_GUILD,e),a=e.defaultMessageNotifications===s.UserNotificationSettings.ALL_MESSAGES;return!p.has(t)&&n&&r&&a};return t}(a.default.Store))(i.default,((r={})[s.ActionTypes.NOTIFICATION_DEFAULTS_NOTICE_DISMISS]=function(e){var t=e.guildId;if(!p.has(t)){p.add(t);o.default.set(f,p);return!0}},r));t.default=v},873976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildNotificationDefaultsNotice=void 0;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(55701),o=d(n(918667)),i=d(n(964285)),u=n(770348),l=d(n(247001)),s=d(n(557152));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t=e.guild;return f(o.default,{guild:t,onClick:function(){return i.default.open(t.id,u.GuildSettingsSections.OVERVIEW,{section:u.AnalyticsSections.CHANNEL_NOTICE},u.GuildSettingsSubsections.DEFAULT_NOTIFICATIONS)},onDismissed:function(){return(0,a.hideGuildNotificationDefaultsNotice)(t.id)},message:l.default.Messages.GUILD_NOTIFICATIONS_DEFAULT_MESSAGE.format(),cta:l.default.Messages.GUILD_NOTIFICATIONS_CTA,trackingSource:u.ChannelNoticeCtaSources.GUILD_NOTIFICATION_DEFAULTS_NOTICE,type:u.ChannelNoticeTypes.GUILD_NOTIFICATION_DEFAULTS,image:s.default,imageMarginX:54})};t.GuildNotificationDefaultsNotice=p;p.displayName="GuildNotificationDefaultsNotice"},828339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=d(n(536211)),o=d(n(636602)),i=d(n(423046)),u=d(n(644263)),l=n(155787),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v={};function y(e,t){var n=v[e];if(null==n)return!1;if(n.has(t))return!1;v[e]=new Set(n.add(t));return!0}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(i.default);v={};null!=e&&Object.keys(e).forEach((function(t){var n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(v[t]=new Set(n))}))};n.getProgress=function(e){return v[e]};n.hasProgress=function(e){var t=v[e];return null!=t&&!t.has(l.Steps.DISMISSED)};n.getState=function(){return v};return t}(a.default.PersistedStore);h.persistKey="GuildProgressStore";var _=new h(o.default,((r={})[s.ActionTypes.CONNECTION_OPEN]=function(){var e=[];Object.keys(v).forEach((function(t){v[t].has(l.Steps.COMPLETED)&&e.push(t)}));e.forEach((function(e){return y(e,l.Steps.DISMISSED)}))},
r[s.ActionTypes.GUILD_PROGRESS_INITIALIZE]=function(e){var t=e.guildId;null==v[t]&&(v[t]=new Set);v[t].has(l.Steps.COMPLETED)||v[t].delete(l.Steps.DISMISSED)},r[s.ActionTypes.GUILD_PROGRESS_COMPLETED_SEEN]=function(e){var t=e.guildId;if(null==v[t])return!1;v[t]=new Set(v[t].add(l.Steps.COMPLETED))},r[s.ActionTypes.GUILD_PROGRESS_DISMISS]=function(e){return y(e.guildId,l.Steps.DISMISSED)},r[s.ActionTypes.GUILD_CREATE]=function(e){var t=e.guild;if(t.owner_id===i.default.getId()&&null!=v[t.id]){null!=t.icon&&v[t.id].add(l.Steps.AVATAR);t.member_count>1&&v[t.id].add(l.Steps.INVITE)}},r[s.ActionTypes.CHANNEL_CREATE]=function(e){var t=e.channel;return null!=t&&null!=t.guild_id&&null!=v[t.guild_id]&&y(t.guild_id,l.Steps.CHANNEL)},r[s.ActionTypes.CHANNEL_UPDATES]=function(e){for(var t,n=!1,r=f(e.updates);!(t=r()).done;){var a=t.value.channel;null!=a&&null!=a.guild_id&&null!=v[a.guild_id]&&!1!==y(a.guild_id,l.Steps.CHANNEL)&&(n=!0)}return n},
r[s.ActionTypes.GUILD_SETTINGS_SUBMIT_SUCCESS]=function(e){var t=e.guild;return null!=t&&(null!=t.id&&null!=v[t.id]&&null!=t.icon&&y(t.id,l.Steps.AVATAR))},r[s.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.channelId,n=e.message,r=u.default.getChannel(t);return n.author.id===i.default.getId()&&null!=r&&null!=v[r.guild_id]&&y(r.guild_id,l.Steps.MESSAGE)},r[s.ActionTypes.GUILD_MEMBER_LIST_UPDATE]=function(e){var t=e.guildId,n=e.memberCount;return null!=v[t]&&n>1&&y(t,l.Steps.INVITE)},r));t.default=_},473250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildRecommendations=function(e){return f.apply(this,arguments)};var r,a=s(n(118915)),o=s(n(636602)),i=n(864489),u=s(n(768535)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){
var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}!function(e){e[e.DESKTOP=1]="DESKTOP";e[e.MOBILE=2]="MOBILE";e[e.WEB=3]="WEB"}(r||(r={}));function f(){return(f=c(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===t&&(t={});if(!u.default.isFetching()){e.next=3;break}return e.abrupt("return");case 3:o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH});n=(0,i.isDesktop)()?r.DESKTOP:r.WEB;e.prev=5;e.next=8;return a.default.get({url:l.Endpoints.GUILD_RECOMMENDATIONS(),query:{personalization_disabled:t.personalization_disabled,client_type:n}});case 8:s=e.sent;o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH_SUCCESS,recommendedGuilds:s.body.recommended_guilds,loadId:s.body.load_id});e.next=15;break;case 12:e.prev=12;e.t0=e.catch(5);o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH_FAILURE});case 15:
case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}},58846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSubscriptionListingsForChannel=function(e){var t=e.guildId,n=e.channelId,c=(0,l.useSubscriptionListingsForGuild)(t);return(0,a.useStateFromStoresArray)([i.default,u.default,o.default],(function(){var e=i.default.getChannel(n),a=u.default.getGuild(t),l=o.default.isViewingRoles(t);return null!=a&&null!=e?c.filter((function(t){return function(e,t,n,a){var o=(void 0===a?{}:a).isPreviewingRoles;if(!(void 0!==o&&o||e.published))return!1;var i=n.permissionOverwrites[e.role_id];if((0,s.isChannelAccessGrantedBy)(n,i))return!0;var u=t.getRole(t.id),l=null!=u&&!r.default.has(u.permissions,d.Permissions.VIEW_CHANNEL),c=(0,s.isChannelAccessDeniedBy)(n,n.permissionOverwrites[t.id]),f=t.getRole(e.role_id);return l&&!c&&null!=f&&(0,s.isAllChannelsRole)(f)&&!(0,s.isChannelAccessDeniedBy)(n,i)}(t,a,e,{isPreviewingRoles:l})})):[]}),[t,n,c])}
;var r=c(n(267258)),a=n(536211),o=c(n(686305)),i=c(n(644263)),u=c(n(30098)),l=n(523754),s=n(243078),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}},381777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.groupListingId,s=e.location,d=e.relevantSubscriptionListingIds,f=(0,i.useFetchListingsForGuild)(t,{refetchOnMount:!1}).listingsLoaded,p=null!=(0,u.default)(n).activeSubscription,v=(0,i.useStore)((function(e){return e.getSubscriptionListing})),y=r.useMemo((function(){if(null!=d)return d.filter((function(e){var t;return!0===(null===(t=v(e))||void 0===t?void 0:t.published)}))}),[v,d]),h=r.useRef(!1);r.useEffect((function(){if(f&&null!=n&&null!=y&&!h.current){h.current=!0;o.default.track(l.AnalyticEvents.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED,c({role_subscription_group_listing_id:n,role_subscription_listing_ids:y,is_premium_member:p,location:s},(0,a.collectGuildAnalyticsMetadata)(t)))}}),[t,n,f,s,y,p])}
;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(844784),o=s(n(308920)),i=n(523754),u=s(n(678075)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}},985795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(313973));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.children,n=e.className;return l("div",{className:o.default.carouselMaxWidth},void 0,l("div",{className:o.default.tierPreviewsContainer},void 0,l("div",{className:(0,a.default)(o.default.tierPreviews,n)},void 0,t)))}s.displayName="SubscriptionListingPreviewsCarousel"},740997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=E(n(686305)),u=E(n(956117)),l=E(n(873376)),s=E(n(562796)),d=E(n(119503)),c=E(n(971639)),f=E(n(776360)),p=n(243277),v=n(204785),y=n(293773),h=n(523754),_=n(92557),m=E(n(247001)),g=E(n(514047));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t,n,r=e.value,a=e.type;if(0===r)return null;if(a===_.GuildRoleSubscriptionBenefitTypes.CHANNEL){t=s.default
;n=m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CHANNEL_BENEFIT_PREVIEW.format({value:r})}else{if(a!==_.GuildRoleSubscriptionBenefitTypes.INTANGIBLE)throw new Error("Unsupported benefit type");t=d.default;n=m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_INTANGIBLE_BENEFIT_PREVIEW.format({value:r})}return S(f.default,{size:f.default.Sizes.SIZE_14,color:f.default.Colors.INTERACTIVE_NORMAL,className:g.default.benefitSummary},void 0,S(t,{className:g.default.benefitIcon})," ",n)}I.displayName="BenefitSummary";var b=S(l.default,{size:2}),C=S(l.default,{size:12});function T(e){var t=e.listing,n=t.subscription_plans[0],r=(0,v.getAssetURL)(t.application_id,t.image_asset,40),o=t.role_benefits.benefits.filter((function(e){return e.ref_type===_.GuildRoleSubscriptionBenefitTypes.CHANNEL})).length,i=t.role_benefits.benefits.filter((function(e){return e.ref_type===_.GuildRoleSubscriptionBenefitTypes.INTANGIBLE})).length,u=o+i>0;return S("div",{
className:g.default.listingPreview},void 0,S("img",{src:r,alt:t.name,className:g.default.listingPreviewImage}),S("div",{className:g.default.listingPreviewText},void 0,S(f.default,{size:f.default.Sizes.SIZE_16,color:f.default.Colors.INTERACTIVE_ACTIVE},void 0,t.name),b,S(f.default,{size:f.default.Sizes.SIZE_14,color:f.default.Colors.INTERACTIVE_NORMAL},void 0,(0,p.formatPrice)(n.price,n.currency)," / ",(0,y.formatPlanInterval)(n)),u&&a.createElement(a.Fragment,null,C,S("div",{className:g.default.benefitSummaries},void 0,S(I,{type:_.GuildRoleSubscriptionBenefitTypes.CHANNEL,value:o}),S(I,{type:_.GuildRoleSubscriptionBenefitTypes.INTANGIBLE,value:i})))))}T.displayName="ListingPreviewItem";var P=S(l.default,{size:8}),A=S(l.default,{size:24}),M=S(l.default,{size:24});function N(e){var t=e.groupListing,n=e.onSelectGroup,r=(0,h.useSubscriptionListingsForGroup)(t.id),a=(0,o.useStateFromStores)([i.default],(function(){return i.default.isViewingRoles(t.guild_id)})),l=r.filter((function(e){
return a||e.published}));return 0===l.length?null:S("div",{className:g.default.container},void 0,S(c.default,{size:c.default.Sizes.SIZE_20},void 0,t.name),P,S(f.default,{size:f.default.Sizes.SIZE_16,color:f.default.Colors.HEADER_SECONDARY},void 0,t.description),S("div",{className:g.default.divider}),S(c.default,{size:f.default.Sizes.SIZE_12,className:g.default.sectionHeader},void 0,m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_AVAILABLE_TIERS.format({numTiers:l.length})),A,S("div",{className:g.default.listingPreviews},void 0,l.map((function(e){return S(T,{listing:e},e.id)}))),M,S(u.default,{onClick:n,fullWidth:!0},void 0,m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CARD_CTA))}N.displayName="GuildRoleSubscriptionGroupCard"},105699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n,r=e.guild,o=(0,c.useSubscriptionsSettings)(r.id),l=(0,
c.useGroupListingsForGuild)(r.id),s=a.useState(null),d=s[0],h=s[1],g=l.find((function(e){return e.id===d})),E=1===l.length,b=null!=g?g:E?l[0]:null,C=(0,i.useStateFromStores)([u.default],(function(){return u.default.isViewingRoles(r.id)})),T=(0,c.useStore)((function(e){return e.subscriptionListings})),P=a.useMemo((function(){return l.filter((function(e){for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.subscription_listings_ids);!(t=n()).done;){var r=t.value,a=T[r];if(null!=a&&(C||a.published))return!0}return!1}))}),[l,C,T]);if(null!=b)return a.createElement(a.Fragment,null,!E&&S(I,{onGoBack:function(){return h(null)}}),S(v.default,{guild:r,groupListing:b,singleGroupView:E}));return a.createElement(a.Fragment,null,S(y.default,{title:_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:r.toString()}),description:null!==(t=null==o?void 0:o.description)&&void 0!==t?t:null,coverImageAsset:null!==(n=null==o?void 0:o.cover_image_asset)&&void 0!==n?n:null,guild:r}),S(f.default,{className:m.default.groupListings},void 0,P.map((function(e){return S(p.default,{groupListing:e,onSelectGroup:function(){return h(e.id)}},e.id)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=g(n(973935)),i=n(536211),u=g(n(686305)),l=g(n(956117)),s=g(n(204014)),d=g(n(177101)),c=n(523754),f=g(n(985795)),p=g(n(740997)),v=g(n(973153)),y=g(n(779515)),h=n(287735),_=g(n(247001)),m=g(n(991938));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.onGoBack,n=a.useMemo((function(){return document.getElementById(h.OVERVIEW_NOTICE_ROOT)}),[]);return null==n?null:o.default.createPortal(S(d.default,{className:m.default.backNotice},void 0,S(l.default,{className:m.default.backButton,innerClassName:m.default.backButtonInner,look:l.default.Looks.OUTLINED,color:l.default.Colors.WHITE,size:l.default.Sizes.NONE,onClick:t},void 0,S(s.default,{width:16,height:16,direction:s.default.Directions.LEFT,className:m.default.backArrow}),_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_GROUPS_VIEW_CTA)),n)}},973153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(523754),i=y(n(678075)),u=y(n(381777)),l=y(n(675176)),s=y(n(985795)),d=y(n(500985)),c=y(n(779515)),f=n(770348),p=y(n(247001)),v=y(n(633485));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n=e.guild,r=e.groupListing,y=e.singleGroupView;(0,u.default)({guildId:n.id,groupListingId:r.id,location:f.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:r.subscription_listings_ids});var h=(0,i.default)(r.id).activeSubscription,m=(0,o.useSubscriptionsSettings)(n.id),g=y?null==m?void 0:m.description:null==r?void 0:r.description;return a.createElement(a.Fragment,null,_(c.default,{title:p.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:n.toString()}),description:null!=g?g:null,coverImageAsset:null!==(t=null==m?void 0:m.cover_image_asset)&&void 0!==t?t:null,guild:n},void 0,_(l.default,{className:v.default.pendingPlanChangeNotice,groupListingId:r.id,
subscription:h})),_(s.default,{},void 0,r.subscription_listings_ids.map((function(e){return _(d.default,{guildId:n.id,groupListingId:r.id,listingId:e,analyticsLocation:f.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB},e)}))))};t.default=m},594807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=T(n(667294)),o=n(370405),i=n(536211),u=T(n(832635)),l=b(n(463024)),s=n(139982),d=b(n(544196)),c=b(n(23535)),f=b(n(30098)),p=b(n(697952)),v=b(n(80828)),y=n(194322),h=n(582945),_=n(403008),m=n(523754),g=b(n(437270)),E=b(n(105699)),O=n(287735),S=b(n(247001)),I=b(n(536261));function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){
A(o,r,a,i,u,"throw",e)}i(void 0)}))}}var N=P(a.Fragment,{}),R=P(l.default.Icon,{icon:g.default,"aria-hidden":!0}),w=P("div",{id:O.OVERVIEW_NOTICE_ROOT}),D=P(v.default,{});function L(e){var t=e.guildId,r=(0,i.useStateFromStores)([f.default],(function(){return f.default.getGuild(t)}),[t]),v=(0,i.useStateFromStores)([c.default],(function(){return c.default.isConnected()})),g=(0,_.useGuildEligibleForRoleSubscriptions)(t),O=(0,i.useStateFromStores)([p.default],(function(){return p.default.isSubscriptionFetching})),b=(0,m.useFetchListingsForGuild)(null==r?void 0:r.id,{refetchOnMount:!0}).listingsLoaded,C=null==r||!b||O;a.useEffect((function(){u.fetchSubscriptions()}),[]);a.useEffect((function(){if(v&&(null==r||!g)){(0,y.openModalLazy)(M(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(72649)]).then(n.bind(n,172649));case 2:t=e.sent;r=t.default
;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))));(0,s.replaceWith)(d.default.defaultRoute)}}),[r,v,g]);return P("div",{className:I.default.container},void 0,P(o.Helmet,{title:S.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL}),P(l.default,{toolbar:N,className:I.default.headerBar},void 0,R,P(l.default.Title,{},void 0,S.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL)),w,P("div",{className:I.default.content},void 0,P(h.ScrollerNone,{className:I.default.scroller},void 0,P("div",{className:I.default.scrollerContent},void 0,C?D:P(E.default,{guild:r})))))}L.displayName="GuildRoleSubscriptionsOverviewPage";var k=L;t.default=k},287735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OVERVIEW_NOTICE_ROOT=void 0;t.OVERVIEW_NOTICE_ROOT="guild-role-subscription-overview-notice"},779515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=c(n(380439)),o=c(n(971639)),i=c(n(776360)),u=n(204785),l=n(8916),s=c(n(536261)),d=c(n(355457));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=(0,l.cssValueToNumber)(s.default.pageMaxWidth);function y(e){var t=e.coverImageAsset,n=e.title,r=e.guild,l=e.description,s=e.children,c=null!=(null==t?void 0:t.application_id)?(0,u.getAssetURL)(t.application_id,t,v):void 0;return p("div",{className:d.default.container},void 0,p("div",{className:d.default.coverImageContainer},void 0,p("img",{src:c,alt:"",className:d.default.coverImage})),p("div",{className:d.default.guildIconContainer},void 0,p(a.default,{guild:r,size:a.default.Sizes.XLARGE})),p(o.default,{size:o.default.Sizes.SIZE_24,className:d.default.ctaTitle},void 0,n),p(i.default,{className:d.default.ctaSubtitle,size:i.default.Sizes.SIZE_16,color:i.default.Colors.HEADER_SECONDARY},void 0,l),s)}y.displayName="OverviewHero"},540330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(644263)),u=E(n(30098)),l=E(n(80828)),s=E(n(971639)),d=E(n(776360)),c=n(582945),f=n(523754),p=n(58846),v=E(n(381777)),y=E(n(985795)),h=E(n(500985)),_=n(770348),m=E(n(247001)),g=E(n(344048));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.guildId,n=e.channelId,r=(0,p.useSubscriptionListingsForChannel)({guildId:t,channelId:n}),E=(0,f.useGroupListingsForGuild)(t),O=(0,f.useSubscriptionsSettings)(t),b=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(t)}),[t]),C=null==b?void 0:b.name,T=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannel(n)})),P=a.useMemo((function(){for(var e,t={},n=I(E);!(e=n()).done;)for(var r,a=e.value,o=I(a.subscription_listings_ids);!(r=o()).done;){t[r.value]=a.id}return t}),[E]);(0,v.default)({guildId:t,location:_.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL,relevantSubscriptionListingIds:r.map((function(e){return e.id}))});return null==b?S("div",{
className:g.default.spinnerContainer},void 0,S(l.default,{className:g.default.spinner})):S(c.ScrollerAuto,{className:g.default.pageContainer},void 0,S(s.default,{size:s.default.Sizes.SIZE_24,className:g.default.joinCtaTitle},void 0,m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_UPSELL_PAGE_CTA.format({serverName:C,channelName:null==T?void 0:T.name})),S(d.default,{className:g.default.joinCtaSubtitle,size:d.default.Sizes.SIZE_16,color:d.default.Colors.HEADER_SECONDARY},void 0,null==O?void 0:O.description),S(y.default,{},void 0,r.filter((function(e){return null!=P[e.id]})).map((function(e){return S(h.default,{guildId:t,listingId:e.id,groupListingId:P[e.id],analyticsLocation:_.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL},e.id)}))))}C.displayName="PremiumChannelUpsell"},986175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.hideLiveChannelNotice=function(e){var t=e.eventId,n=e.stageId;if(null==t&&null==n)return;o.default.dirtyDispatch({
type:u.ActionTypes.LIVE_CHANNEL_NOTICE_HIDE,eventId:t,stageId:n})};var r,a=l(n(536211)),o=l(n(636602)),i=n(198756),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d={hiddenEventsAndStages:[]};var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&null!=e.hiddenEventsAndStages&&(d=e)};n.isLiveChannelNoticeHidden=function(e){var t=e.eventId,n=e.stageId;return!(null==n||!d.hiddenEventsAndStages.includes("stage-"+n))||null!=t&&d.hiddenEventsAndStages.includes("event-"+t)};n.getState=function(){return d};return t}(a.default.PersistedStore);c.persistKey="liveChannelNotices_v2";var f=new c(o.default,((r={})[u.ActionTypes.LIVE_CHANNEL_NOTICE_HIDE]=function(e){var t=e.eventId,n=e.stageId
;null!=t?d.hiddenEventsAndStages.push("event-"+t):null!=n&&d.hiddenEventsAndStages.push("stage-"+n)},r[u.ActionTypes.GUILD_SCHEDULED_EVENT_UPDATE]=function(e){var t=e.guildScheduledEvent,n="event-"+t.id;!d.hiddenEventsAndStages.includes(n)||t.status!==i.GuildScheduledEventStatus.CANCELED&&t.status!==i.GuildScheduledEventStatus.COMPLETED||(d.hiddenEventsAndStages=d.hiddenEventsAndStages.filter((function(e){return e!==n})))},r[u.ActionTypes.GUILD_SCHEDULED_EVENT_DELETE]=function(e){var t="event-"+e.guildScheduledEvent.id;d.hiddenEventsAndStages.includes(t)&&(d.hiddenEventsAndStages=d.hiddenEventsAndStages.filter((function(e){return e!==t})))},r[u.ActionTypes.STAGE_INSTANCE_DELETE]=function(e){var t="stage-"+e.instance.id;d.hiddenEventsAndStages.includes(t)&&(d.hiddenEventsAndStages=d.hiddenEventsAndStages.filter((function(e){return e!==t})))},r));t.default=f},435903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(!e.isGuildVoice())return!1
;if(u.default.getGuildScheduledEventsByIndex(u.StaticGuildEventIndexes.CHANNEL_EVENT_ACTIVE(e.id)).length<1)return!1;if(!a.default.can(l.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,e))return!1;for(var t,n=new Set(o.default.getVoiceStatesForChannel(e).map((function(e){return e.user.id}))),s=r.default.getId(),d=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(t=d()).done;){var f=t.value;if(f!==s&&i.default.can(l.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,f,e))return!1}return!0};var r=d(n(423046)),a=d(n(689389)),o=d(n(487372)),i=d(n(656016)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(330321)),l=n(432040);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}
function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},780688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useActiveEventOrStageInstanceChannel=function(e){var t,n=(0,o.useFirstActiveEventChannel)(e),i=(0,r.default)(e),u=a.default.getChannel(null===(t=i[0])||void 0===t?void 0:t.id);return null!=n?n:u};var r=i(n(483431)),a=i(n(644263)),o=n(902399);function i(e){return e&&e.__esModule?e:{default:e}}},668516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCanCreateEditDeleteEvent=function(e,t){var n=(0,a.useStateFromStores)([i.default,o.default],(function(){return(0,l.canCreateEditDeleteGuildEvent)(e,t,[i.default,o.default])}),[t,e]),s=(0,u.useGuildEventExperiment)(e),d=s[0],c=s[1];r.useEffect((function(){n&&c()}),[n,c,e]);return d&&n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=s(n(30098)),i=s(n(689389)),u=n(59343),l=n(836490);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}},157949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGuildHasLiveChannelNotice=function(e){var t,n=(0,o.default)(e),s=i.default.getChannel(null===(t=n[0])||void 0===t?void 0:t.id),d=(0,r.useStateFromStores)([a.default],(function(){return a.default.getStageInstanceByChannel(null==s?void 0:s.id)}),[s]),c=(0,l.useGuildActiveEvent)(e),f=(0,r.useStateFromStoresObject)([u.default],(function(){return{
isStageNoticeHidden:u.default.isLiveChannelNoticeHidden({stageId:null==d?void 0:d.id}),isEventNoticeHidden:u.default.isLiveChannelNoticeHidden({eventId:null==c?void 0:c.id})}}),[d,c]),p=f.isStageNoticeHidden,v=f.isEventNoticeHidden;if(null!=c)return null!=d?!p:!v;return null!=d&&!p};var r=n(536211),a=s(n(217964)),o=s(n(483431)),i=s(n(644263)),u=s(n(986175)),l=n(902399);function s(e){return e&&e.__esModule?e:{default:e}}},604686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.channelId,r=e.onClick,S=a.useContext(i.default),I=(0,m.useActiveEvent)(n),b=(0,o.useStateFromStores)([d.default],(function(){return d.default.getChannel(n)}),[n]),T=(0,_.useCanCreateEditDeleteEvent)(t,b);if(null==I)return null;var P=function(){null!=b&&(0,h.default)(b)?(0,v.openEndEventModal)(b,S):r()},A=function(){y.default.endEvent(I.id,I.guild_id)};return T?C(c.default,{renderPopout:function(e){var t=e.closePopout
;return C(l.default,{},void 0,C(u.default,{navId:"exit-options",onSelect:function(){},"aria-label":E.default.Messages.DISCONNECT_MENU,onClose:t},void 0,C(u.MenuItem,{id:"end-voice-event",color:g.MenuItemColor.DANGER,action:A,label:E.default.Messages.END_EVENT,icon:p.default})))},align:c.default.Align.CENTER,position:c.default.Positions.TOP,animation:c.default.Animation.FADE},void 0,(function(e){var t=e.onClick;return C(s.CenterControlButton,{label:E.default.Messages.DISCONNECT_SELF,color:"red",iconComponent:f.default,onClick:P,onPopoutClick:t,className:O.default.buttonSpacing})})):C(s.CenterControlButton,{className:O.default.buttonSpacing,label:E.default.Messages.DISCONNECT_SELF,color:"red",iconComponent:f.default,onClick:r})};var r,a=b(n(667294)),o=n(536211),i=S(n(818994)),u=b(n(145122)),l=S(n(222935)),s=n(143414),d=S(n(644263)),c=S(n(160629)),f=S(n(331546)),p=S(n(930600)),v=n(452453),y=S(n(736428)),h=S(n(435903)),_=n(668516),m=n(902399),g=n(474477),E=S(n(247001)),O=S(n(135582))
;function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},891036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildEvent;if(null==t)return null;return a.createElement(a.Fragment,null,p(o.default.Divider,{className:d.default.divider}),p(l.GuildEventTimeStatus,{startTime:t.scheduled_start_time,isActive:(0,u.isGuildScheduledEventActive)(t),isEnded:(0,u.isGuildEventEnded)(t),liveText:s.default.Messages.LIVE_EVENT,className:d.default.eventSchedule,textSize:i.default.Sizes.SIZE_16,eventType:t.entity_type}),p(i.default,{color:i.default.Colors.HEADER_SECONDARY,size:i.default.Sizes.SIZE_16,className:d.default.eventName},void 0,t.name))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(878556)),i=c(n(776360)),u=n(330321),l=n(811634),s=c(n(247001)),d=c(n(348786));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},981706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0
});t.default=g;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=v(n(143414)),i=v(n(30098)),u=n(730977),l=v(n(59573)),s=n(194322),d=v(n(911137)),c=v(n(247001)),f=v(n(914376)),p=["guildId"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)
}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){var t=e.guildId,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p),y=(0,a.useStateFromStores)([i.default],(function(){return i.default.getGuild(t)}),[t]);if(!(0,d.default)(y))return null;return r.createElement(o.default,h({onClick:function(){(0,s.openModalLazy)(m(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(57166)]).then(n.bind(n,757166));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,h({},e,{
guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))))},label:c.default.Messages.CREATE_AND_VIEW_EVENTS,iconComponent:l.default,className:f.default.button,tooltipPosition:u.TooltipPositions.BOTTOM},v))}g.displayName="GuildEventsBrowserButton"},513696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildNoticeBody=void 0;t.LiveVoiceOrStageChannelNotice=$;t.default=t.VoiceChannelType=void 0;var r,a=U(n(667294)),o=n(536211),i=n(341186),u=n(139982),l=n(637356),s=k(n(897191)),d=n(921867),c=n(411315),f=k(n(217964)),p=k(n(724571)),v=k(n(689389)),y=k(n(487372)),h=k(n(956117)),_=k(n(16941)),m=k(n(259530)),g=k(n(878338)),E=k(n(934018)),O=k(n(332282)),S=k(n(776360)),I=U(n(152731)),b=n(71246),C=n(452453),T=U(n(986175)),P=n(647261),A=n(780688),M=n(902399),N=n(549905),R=n(198756),w=n(770348),D=k(n(247001)),L=k(n(139875));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(j=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var F,x=16,W=G(m.default,{height:16,width:16}),V=a.memo((function(e){
var t=e.heading,n=e.location,r=e.locationIcon,o=e.details,i=e.detailsIcon,u=e.topic,l=e.onClickCloseIcon,s=e.children;return G("div",{className:L.default.channelNotice},void 0,G("div",{className:L.default.textBlock},void 0,G("div",{className:L.default.liveIndicator}),G(S.default,{color:S.default.Colors.STATUS_GREEN,size:S.default.Sizes.SIZE_12,className:L.default.liveNowText},void 0,t),null!=l&&G(_.default,{onClick:l,className:L.default.closeIcon},void 0,W)),G(S.default,{color:S.default.Colors.HEADER_PRIMARY,size:S.default.Sizes.SIZE_16,className:L.default.eventName},void 0,u),G("div",{className:L.default.textBlock},void 0,r,G(S.default,{color:S.default.Colors.HEADER_SECONDARY,size:S.default.Sizes.SIZE_12,className:L.default.channelName},void 0,n),null!=o&&null!=i&&a.createElement(a.Fragment,null,G(S.default,{className:L.default.dotDivider,color:S.default.Colors.HEADER_SECONDARY,size:S.default.Sizes.SIZE_12},void 0,"â€¢"),i,G(S.default,{color:S.default.Colors.HEADER_SECONDARY,
size:S.default.Sizes.SIZE_12},void 0,o))),s)}));t.GuildNoticeBody=V;function H(e){var t=e.guildEvent,n=e.channel,r=(0,o.useStateFromStoresArray)([y.default],(function(){return y.default.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),a=(0,i.getChannelIconComponent)(n);return G(V,{onClickCloseIcon:function(){return(0,T.hideLiveChannelNotice)({eventId:null==t?void 0:t.id})},heading:D.default.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t.name,location:n.name,locationIcon:null!=a?G(a,{width:x,height:x,className:L.default.stageIcon}):null},void 0,G($,{channel:n,speakers:r,voiceType:F.VOICE}))}H.displayName="GuildVoiceEventNotice";function B(e){var t=e.guildEvent,n=(0,N.getLocationFromEvent)(t);return null==n?null:G(V,{onClickCloseIcon:function(){return(0,T.hideLiveChannelNotice)({eventId:null==t?void 0:t.id})},heading:D.default.Messages.HAPPENING_NOW,topic:t.name,location:(0,P.guildEventDetailsParser)(n,!0),locationIcon:G(E.default,{width:x,height:x,
className:L.default.stageIcon})},void 0,G(Y,{guildEvent:t}))}B.displayName="GuildExternalEventNotice";function Y(e){var t=e.guildEvent,n=a.useCallback((function(){(0,C.openGuildEventDetails)(t.id)}),[t]);return G(h.default,{fullWidth:!0,className:L.default.joinButton,onClick:n,color:h.default.Colors.GREEN,size:h.default.Sizes.SMALL},void 0,D.default.Messages.SEE_DETAIL)}Y.displayName="SeeDetailButton";function z(e){var t=e.channel,n=e.label;return G(h.default,{fullWidth:!0,className:L.default.joinButton,onClick:function(){if(null!=t&&null!=t.getGuildId()){(0,l.connectAndOpen)(t);(0,u.transitionToGuild)(t.getGuildId(),t.id)}},color:h.default.Colors.GREEN,size:h.default.Sizes.SMALL},void 0,n)}z.displayName="JoinChannelButton";function K(e){var t=e.stageInstance,n=e.channel,r=(0,o.useStateFromStoresObject)([s.default],(function(){
var e=s.default.getMutableParticipants(n.id,d.StageChannelParticipantNamedIndex.SPEAKER),t=s.default.getParticipantCount(n.id,d.StageChannelParticipantNamedIndex.AUDIENCE);return{speakers:e.map((function(e){return e.user})),listenerCount:t}}),[n.id]),a=r.speakers,i=r.listenerCount,u=D.default.Messages.LISTENING_COUNT.format({count:""+i});return G(V,{onClickCloseIcon:function(){return(0,T.hideLiveChannelNotice)({stageId:null==t?void 0:t.id})},heading:D.default.Messages.STAGE_CHANNEL_LIVE_NOW,location:n.name,details:u,detailsIcon:G(g.default,{width:14,height:14,className:L.default.stageIcon}),locationIcon:G(O.default,{width:x,height:x,className:L.default.stageIcon}),topic:t.topic},void 0,G($,{channel:n,speakers:a,voiceType:F.STAGE}))}K.displayName="GuildLiveStageNotice";t.VoiceChannelType=F;!function(e){e[e.VOICE=1]="VOICE";e[e.STAGE=2]="STAGE";e[e.STUDY_ROOM=3]="STUDY_ROOM"}(F||(t.VoiceChannelType=F={}));function $(e){
var t=e.channel,n=e.speakers,r=e.voiceType,i=t.getGuildId(),u=a.useMemo((function(){return n.slice(0,3)}),[n]),l=(0,o.useStateFromStores)([v.default],(function(){return v.default.can(w.Permissions.CONNECT,t)})),s=(0,p.default)(t.id),d=D.default.Messages.JOIN;switch(r){case F.VOICE:d=D.default.Messages.JOIN;break;case F.STAGE:d=D.default.Messages.STAGE_CHANNEL_JOIN_BUTTON;(null==s?void 0:s.speaker)?d=D.default.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=s&&(d=D.default.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);break;case F.STUDY_ROOM:d=D.default.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA;break;default:(0,b.assertNever)(r)}return null==i?null:a.createElement(a.Fragment,null,u.length>0?G("div",{className:L.default.textBlock},void 0,G(I.default,{guildId:i,users:u,showUserPopout:!0,size:I.Sizes.SIZE_16}),G(S.default,{color:S.default.Colors.HEADER_SECONDARY,size:S.default.Sizes.SIZE_12,className:L.default.userNames},void 0,(0,
c.summarizeUsernamesParticipating)(i,u,null==t?void 0:t.id,n.length))):null,l&&null==s&&G(z,{channel:t,label:d}))}var q=a.memo((function(e){var t=e.guild,n=(0,A.useActiveEventOrStageInstanceChannel)(t.id),r=(0,M.useGuildActiveEvent)(t.id),a=(0,o.useStateFromStores)([f.default],(function(){return f.default.getStageInstanceByChannel(null==n?void 0:n.id)}),[n]),i=(0,o.useStateFromStoresObject)([T.default],(function(){return{isStageNoticeHidden:T.default.isLiveChannelNoticeHidden({stageId:null==a?void 0:a.id}),isEventNoticeHidden:T.default.isLiveChannelNoticeHidden({eventId:null==r?void 0:r.id})}}),[a,r]),u=i.isStageNoticeHidden,l=i.isEventNoticeHidden,s=null,d=null!=a&&null!=n&&!u;null==r||l?d&&(s=G(K,{stageInstance:a,channel:n})):r.entity_type===R.GuildScheduledEventEntityTypes.STAGE_INSTANCE&&d?s=G(K,{stageInstance:a,channel:n}):r.entity_type===R.GuildScheduledEventEntityTypes.EXTERNAL?s=G(B,{guildEvent:r}):r.entity_type===R.GuildScheduledEventEntityTypes.VOICE&&null!=n&&(s=G(H,{
guildEvent:r,channel:n}));return s}));t.default=q},176079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(16941)),u=f(n(863771)),l=f(n(971639)),s=f(n(776360)),d=f(n(247001)),c=f(n(178494));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.className,n=e.iconContainerClassName,r=e.icon,f=e.color,p=e.title,y=e.description,h=e.userCount,_=e.onClick;return v(i.default,{className:(0,o.default)(c.default.container,t),onClick:_},void 0,v("div",{style:{backgroundColor:f},className:(0,o.default)(c.default.icon,n)},void 0,r),v("div",{className:c.default.textContainer},void 0,v(l.default,{size:s.default.Sizes.SIZE_16},void 0,p),v(s.default,{size:s.default.Sizes.SIZE_12,color:s.default.Colors.HEADER_SECONDARY,className:c.default.inline},void 0,y),null!=h&&h>0?a.createElement(a.Fragment,null,v(s.default,{size:s.default.Sizes.SIZE_12,color:s.default.Colors.HEADER_SECONDARY,
className:c.default.dot},void 0,"â€¢"),v(s.default,{size:s.default.Sizes.SIZE_12,color:s.default.Colors.HEADER_SECONDARY,className:c.default.inline},void 0,d.default.Messages.GUILD_EVENT_INTERESTED.format({count:h}))):null),v(u.default,{height:16,width:16,className:c.default.caret}))}y.displayName="GuildEventPrompt"},5031:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(818994)),i=f(n(32443)),u=n(194322),l=f(n(176079)),s=n(770348),d=n(371621),c=f(n(247001));function f(e){
return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var m=v(i.default,{height:20,width:20});function g(e){var t=e.className,r=e.guildId,i=a.useContext(o.default);return v(l.default,{className:t,icon:m,color:s.Colors.BRAND_NEW,title:c.default.Messages.SCHEDULE_EVENT,description:c.default.Messages.SCHEDULE_EVENT_DESCRIPTION,onClick:function(){(0,u.openModalLazy)(_(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865),n.e(15198),n.e(8062),n.e(1025),n.e(75659)]).then(n.bind(n,901025));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,y({},e,{guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:s.NOOP_NULL,contextKey:i===s.AppContext.POPOUT?d.POPOUT_MODAL_CONTEXT:d.DEFAULT_MODAL_CONTEXT})}})}
g.displayName="ScheduleStageEventPrompt"},620859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,r=e.channelId,u=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannel(r)}),[r]),_=(0,c.useImminentUpcomingGuildEvents)(r),m=null!=(0,c.useActiveEvent)(r),O=(0,d.useCanCreateEditDeleteEvent)(t,u),b=(0,s.useGuildEventExperiment)(t)[0];if(_.length<1||m||!O||!b)return null;return a.createElement(a.Fragment,null,_.map((function(e){return g(p.default,{icon:I,color:v.Colors.STATUS_GREEN_600,title:y.default.Messages.GUILD_EVENT_START_PROMPT.format({eventName:e.name}),description:y.default.Messages.GUILD_EVENT_START_PROMPT_DESCRIPTION.format({startTime:(0,f.getEventTimeData)(e.scheduled_start_time).startDateTimeString}),onClick:function(){return function(e){(0,l.openModalLazy)(S(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2
;return Promise.all([n.e(40532),n.e(15198),n.e(46734)]).then(n.bind(n,746734));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,E({},t,{event:e}))}));case 5:case"end":return t.stop()}}),t)}))))}(e)},userCount:e.user_count,className:h.default.eventPrompt},e.id)})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=_(n(644263)),u=_(n(32443)),l=n(194322),s=n(59343),d=n(668516),c=n(902399),f=n(834547),p=_(n(176079)),v=n(770348),y=_(n(247001)),h=_(n(407770));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){
O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}var I=g(u.default,{height:20,width:20})},473842:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(818994)),i=n(559133),u=c(n(332282)),l=c(n(176079)),s=n(478036),d=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p(u.default,{height:20,width:20});function y(e){var t=e.className,n=e.channel,r=a.useContext(o.default);return p(l.default,{className:t,icon:v,color:s.Colors.STATUS_GREEN_600,title:d.default.Messages.STAGE_CHANNEL_START_TITLE,description:d.default.Messages.STAGE_CHANNEL_START_SUBTITLE,onClick:function(){(0,i.openStageChannelSettings)(n,r)}})}y.displayName="StartStageChannelEventPrompt"},802337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EmbeddedActivityTutorial=void 0
;var r,a=_(n(667294)),o=n(99261),i=y(n(151097)),u=_(n(956117)),l=n(598671),s=y(n(776360)),d=y(n(865725)),c=y(n(308920)),f=n(770348),p=y(n(247001)),v=y(n(741093));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.guildId,n=e.markAsDismissed,r=(0,o.useWtpEnabled)(t);a.useEffect((function(){c.default.track(f.AnalyticEvents.TOOLTIP_VIEWED,{type:"embedded_activity_discovery_tutorial"})}),[]);var y=r?"https://cdn.discordapp.com/attachments/692870190689550417/938116814309847040/wtp_nux_video_640x360.mp4":"https://cdn.discordapp.com/attachments/887469171804356628/916445380500144148/activities-light-blue-512px.mp4";return m("div",{className:v.default.wrapper},void 0,m("div",{className:v.default.container},void 0,m("div",{className:v.default.content},void 0,m(d.default,{className:v.default.video,src:y,poster:"https://cdn.discordapp.com/attachments/887469171804356628/916446867586416660/activities-video-poster-512.png",width:224,height:126,loop:!0,muted:!0,autoPlay:!0
}),m("div",{className:v.default.header},void 0,m(s.default,{className:v.default.headerText,size:s.default.Sizes.SIZE_16,color:s.default.Colors.CUSTOM},void 0,p.default.Messages.EMBEDDED_ACTIVITY_NOTICE_TITLE),m(l.TextBadge,{text:p.default.Messages.BETA,disableColor:!0,className:v.default.betaTag})),m(s.default,{className:v.default.subheaderText,size:s.default.Sizes.SIZE_12,color:s.default.Colors.CUSTOM},void 0,r?p.default.Messages.EMBEDDED_ACTIVITY_NOTICE_WTP_DESCRIPTION:p.default.Messages.EMBEDDED_ACTIVITY_NOTICE_DESCRIPTION),m("div",{className:v.default.ctaActionWrapper},void 0,m(i.default,{className:v.default.learnMoreLink,href:"https://support.discord.com/hc/articles/4422142836759"},void 0,p.default.Messages.LEARN_MORE),m(u.default,{onClick:function(){n()},look:u.ButtonLooks.FILLED,color:u.default.Colors.BRAND,size:u.default.Sizes.MEDIUM},void 0,p.default.Messages.DISMISS)))))};t.EmbeddedActivityTutorial=g;g.displayName="EmbeddedActivityTutorial"},884960:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(923387),i=C(n(638098)),u=C(n(305081)),l=n(799393),s=C(n(960987)),d=C(n(964285)),c=C(n(142024)),f=C(n(160629)),p=C(n(308920)),v=n(682937),y=n(770348),h=n(583551),_=n(265517),m=n(478036),g=C(n(247001)),E=C(n(636443)),O=C(n(705206)),S=C(n(255359)),I=C(n(162478)),b=C(n(989823));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}
function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(){p.default.track(y.AnalyticEvents.TOOLTIP_VIEWED,{type:_.PremiumUpsellTypes.PREMIUM_PROGRESS_BAR,location:{page:y.AnalyticsPages.GUILD_CHANNEL}})}function M(){p.default.track(y.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:_.PremiumUpsellTypes.PREMIUM_GUILD_MEMBER_PROFILE_TOOLTIP,location:{page:y.AnalyticsPages.GUILD_CHANNEL}})}function N(){p.default.track(y.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:_.PremiumUpsellTypes.INVITE_SPLASH_UPSELL,location:{page:y.AnalyticsPages.GUILD_CHANNEL}})}function R(e){
null!=e&&d.default.open(e.id,y.GuildSettingsSections.OVERVIEW,{section:y.AnalyticsSections.PREMIUM_GUILD_PROGRESS_BAR},y.GuildSettingsSubsections.DISPLAY)}function w(e,t){t&&(0,l.openGuildIdentitySettings)(e,{page:y.AnalyticsPages.GUILD_CHANNEL,section:y.AnalyticsSections.GUILD_HEADER_POPOUT,object:y.AnalyticsObjects.BUTTON_CTA})}function D(e,t){t&&d.default.open(e.id,y.GuildSettingsSections.DISCOVERY)}function L(e){null!=e&&d.default.open(e.id,y.GuildSettingsSections.OVERVIEW,{section:y.AnalyticsSections.PREMIUM_GUILD_INVITE_SPLASH},y.GuildSettingsSubsections.DISPLAY)}function k(e){var t=e.renderPopout,n=e.renderGuildHeaderDropdownButton;return P(f.default,{renderPopout:function(){return P("div",{onClick:function(e){return e.stopPropagation()}},void 0,t)},position:f.default.Positions.BOTTOM,align:f.default.Align.CENTER,animation:f.default.Animation.TRANSLATE,shouldShow:!0},void 0,(function(){return n()}))}k.displayName="GuildHeaderPopout";var j=a.memo((function(e){
var t=e.contentTypes,n=e.theme,r=e.guild,a=e.handleHeaderMenuToggle,l=e.renderGuildHeaderDropdownButton;return P(u.default,{contentTypes:t,groupName:h.DismissibleContentGroupName.GUILD_HEADER_TOOLTIPS},void 0,(function(e){var t=e.content,u=e.markAsDismissed;switch(t){case o.DismissibleContent.GUILD_HEADER_EVENT_UPSELL:return P(k,{renderPopout:P(s.default,{onClick:a,markAsDismissed:u}),renderGuildHeaderDropdownButton:l});case o.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_MEMBER_PROFILE:return P(k,{renderPopout:P(c.default,{onComponentMount:M,header:g.default.Messages.CHANGE_IDENTITY_PREMIUM_GUILD_HEADER_TOOLTIP_TITLE,asset:P("img",{alt:"",src:S.default,className:E.default.tooltipPremiumGuildProfileAsset}),content:g.default.Messages.CHANGE_IDENTITY_PREMIUM_GUILD_HEADER_TOOLTIP_CONTENT,buttonCTA:g.default.Messages.EDUCATION_NEW_FEATURE_TRY_IT,secondaryButtonCTA:g.default.Messages.EDUCATION_NEW_FEATURE_CONFIRM,onClick:function(){return w(r,!0)},onSecondaryClick:function(){return w(r)},
markAsDismissed:u}),renderGuildHeaderDropdownButton:l});case o.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:var d=g.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_TITLE,f=n===m.ThemeTypes.DARK?b.default:I.default;return P(k,{renderPopout:P(c.default,{onComponentMount:A,header:d,asset:P("img",{alt:"",src:f,className:E.default.tooltipPremiumProgressBarAsset}),content:g.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CONTENT.format(),buttonCTA:g.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:g.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return R()},onClick:function(){return R(r)},markAsDismissed:u}),renderGuildHeaderDropdownButton:l});case o.DismissibleContent.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP:return P(k,{renderPopout:P(i.default,{onComponentMount:M,onClick:function(){return D(r,!0)},onSecondaryClick:function(){return D(r)},
markAsDismissed:u}),renderGuildHeaderDropdownButton:l});case o.DismissibleContent.GUILD_HEADER_INVITE_SPLASH:var p=(0,v.isTierUnlocked)(r,y.BoostedGuildTiers.TIER_1)?g.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT.format():g.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT_LOCKED.format({boostCount:(0,v.getNumberOfAppliedBoostsNeededForTier)(r,y.BoostedGuildTiers.TIER_1)}),h=(0,v.isTierUnlocked)(r,y.BoostedGuildTiers.TIER_1)?g.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS:g.default.Messages.PREMIUM_GUILD_BOOST_SERVER;return P(k,{renderPopout:P(c.default,{onComponentMount:N,header:g.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_TITLE,asset:P("img",{alt:"",src:O.default,className:E.default.tooltipPremiumProgressBarAsset}),content:p,buttonCTA:h,secondaryButtonCTA:g.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return L()},onClick:function(){return L(r)},markAsDismissed:u}),
renderGuildHeaderDropdownButton:l});default:return l()}}))}));t.default=j},14638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=je
;var r,a=be(n(667294)),o=n(248088),i=n(536211),u=n(923387),l=n(91817),s=Se(n(636602)),d=n(378158),c=Se(n(562341)),f=Se(n(732716)),p=Se(n(145371)),v=Se(n(235879)),y=n(929659),h=be(n(303798)),_=n(370639),m=Se(n(684769)),g=Se(n(305081)),E=Se(n(982879)),O=n(780815),S=n(799393),I=Se(n(734495)),b=Se(n(195849)),C=n(18485),T=n(157949),P=Se(n(845957)),A=Se(n(491523)),M=n(954481),N=Se(n(348308)),R=Se(n(126515)),w=Se(n(329697)),D=Se(n(527820)),L=Se(n(282619)),k=Se(n(142024)),j=Se(n(423046)),U=Se(n(881454)),G=Se(n(644263)),F=Se(n(917515)),x=Se(n(986711)),W=Se(n(250650)),V=Se(n(140868)),H=Se(n(517286)),B=Se(n(680804)),Y=Se(n(30098)),z=Se(n(122913)),K=Se(n(689389)),$=Se(n(893160)),q=Se(n(563621)),Z=Se(n(871778)),X=Se(n(728429)),Q=Se(n(329669)),J=Se(n(535711)),ee=Se(n(24e4)),te=Se(n(487372)),ne=n(644105),re=be(n(160629)),ae=be(n(730977)),oe=n(57744),ie=n(194322),ue=Se(n(838583)),le=n(42031),se=Se(n(210098)),de=n(802337),ce=Se(n(328831)),fe=Se(n(884960)),pe=Se(n(608568)),ve=Se(n(421797)),ye=n(770348),he=n(7812),_e=n(583551),me=Se(n(247001)),ge=Se(n(636443)),Ee=["onClick"],Oe=["isUnavailable","guild","selectedChannel","enableStudyGroup"]
;function Se(e){return e&&e.__esModule?e:{default:e}}function Ie(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ie=function(e){return e?n:t})(e)}function be(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ie(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Ce(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function Te(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Pe(){Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Pe.apply(this,arguments)}function Ae(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ae(o,r,a,i,u,"next",e)}function u(e){Ae(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Ne(e,t){Ne=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ne(e,t)}var Re=88,we=1e3,De="server-settings",Le={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}},ke=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ne(e,t)}(t,e);function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];(t=e.call.apply(e,[this].concat(i))||this).historyUnlisten=function(){};t.showTimeout=new l.Timeout;t.state={controller:new o.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:Re};t.handleHistoryChange=function(e){null!=e.state&&e.state.shouldShowSubscribeTooltip&&t.showTimeout.start(we,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};t.handleHeaderMenuToggle=function(e){var n=t.props.isHeaderPopoutOpen;e.stopPropagation();(0,O.showGuildHeaderPopout)(!n);t.closeAllHeaderNotices()};t.handleContextMenu=function(e){var r=t.props.guild;null!=r&&(0,d.openContextMenuLazy)(e,Me(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return n.e(18974).then(n.bind(n,418974));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Pe({},e,{guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleHeaderContextMenu=function(e){var r=t.props.guild;null!=r&&(0,d.openContextMenuLazy)(e,Me(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(53734)]).then(n.bind(n,853734));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Pe({},e,{guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.closeAllHeaderNotices=function(){t.handleCloseSubscribeTooltip();t.handleCloseTemplateDirtyTooltip()};t.handleCloseSubscribeTooltip=function(){t.showTimeout.stop();t.state.shouldShowSubscribeTooltip&&t.setState({shouldShowSubscribeTooltip:!1})};t.handleClosePremiumGuildProfileTooltip=function(e){var n=t.props.guild
;!t.state.shouldShowSubscribeTooltip&&t.props.showPremiumGuildMemberProfileUpsell&&e&&null!=n&&(0,S.openGuildIdentitySettings)(n,{page:ye.AnalyticsPages.GUILD_CHANNEL,section:ye.AnalyticsSections.GUILD_HEADER_POPOUT,object:ye.AnalyticsObjects.BUTTON_CTA})};t.handleCloseTemplateDirtyTooltip=function(){var e=t.props,n=e.guild,r=e.showGuildTemplateDirtyTooltip;null!=n&&r&&P.default.hideGuildTemplateDirtyTooltip(n.id)};t.renderMenuPopout=Me(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(11976)]).then(n.bind(n,611976));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){var n=e.closePopout,r=t.props.guild;return null!=r&&Te(a,{onClose:n,guild:r})}));case 5:case"end":return e.stop()}}),e)})));t.renderGuildHeaderUpsellPopout=function(e){
var n=t.props,r=n.showPremiumGuildMemberProfileUpsell,a=n.showEventsUpsell,o=n.showPremiumProgressBarUpsell,i=n.showDiscoveryTooltip,l=n.showInviteSplashUpsell,s=n.guild,d=n.theme;if(null==s)return t.renderGuildHeaderDropdownButton(e);var c=[];a&&!(null==s?void 0:s.hasFeature(ye.GuildFeatures.COMMUNITY))&&c.push(u.DismissibleContent.GUILD_HEADER_EVENT_UPSELL);r&&c.push(u.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_MEMBER_PROFILE);o&&c.push(u.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS);i&&c.push(u.DismissibleContent.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP);l&&c.push(u.DismissibleContent.GUILD_HEADER_INVITE_SPLASH);return 0===c.length?t.renderGuildHeaderDropdownButton(e):Te(fe.default,{contentTypes:c,theme:d,guild:s,handleHeaderMenuToggle:t.handleHeaderMenuToggle,renderGuildHeaderDropdownButton:function(){return t.renderGuildHeaderDropdownButton(e)}})};t.pinBanner=function(e){var n=e.scrollTop;t.setAnimatedValue(n)};return t}t.getDerivedStateFromProps=function(e){
var t=e.guild,n=e.hasChannelNotice;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null};var r=t.prototype;r.componentDidMount=function(){var e,t=this;this.setAnimatedValue(0);s.default.subscribe(ye.ActionTypes.LAYER_PUSH,this.closeAllHeaderNotices);this.historyUnlisten=w.default.addRouteChangeListener(this.handleHistoryChange);(null===(e=w.default.getHistory().location.state)||void 0===e?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(we,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};r.componentWillUnmount=function(){this.showTimeout.stop();this.state.controller.dispose();this.historyUnlisten();s.default.unsubscribe(ye.ActionTypes.LAYER_PUSH,this.closeAllHeaderNotices)};r.getGuildBannerHash=function(){var e=this.props,t=e.guild,n=e.hasChannelNotice;return null==t||n?null:t.banner};r.renderGuildHeaderDropdownButton=function(e){return Te(c.default,{open:e,className:ge.default.dropdown})};r.renderGuildHeaderNotices=function(e){
var t=this,n=this.props,r=n.showGuildTemplateDirtyTooltip,a=n.showGuildHeaderTutorial,o=n.anyLayerOpen,i=this.state.shouldShowSubscribeTooltip;return a?Te("div",{onClick:function(t){return e?null:t.stopPropagation()}},void 0,Te(D.default,{tutorialId:De,position:ne.PopoutPositions.BOTTOM,inlineSpecs:Le},void 0,this.renderGuildHeaderDropdownButton(e))):r?Te(ae.default,{forceOpen:!0,color:ae.TooltipColors.BRAND,position:oe.Positions.BOTTOM,shouldShow:!e&&!o,text:me.default.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,"aria-label":me.default.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP},void 0,(function(){return t.renderGuildHeaderDropdownButton(e)})):o||e?this.renderGuildHeaderDropdownButton(e):i?Te(re.default,{renderPopout:function(){return Te("div",{onClick:function(e){return e.stopPropagation()}},void 0,Te(k.default,{header:me.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_HEADER,content:me.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_TEXT,
buttonCTA:me.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_CLOSE,onClick:t.handleCloseSubscribeTooltip}))},position:re.default.Positions.BOTTOM,align:re.default.Align.CENTER,animation:re.default.Animation.TRANSLATE,shouldShow:!0},void 0,(function(){return t.renderGuildHeaderDropdownButton(e)})):this.renderGuildHeaderUpsellPopout(e)};r.renderGuildHeader=function(){var e=this,t=this.props,n=t.guild,r=t.isGuest,o=t.isHeaderPopoutOpen,i=t.showGuildHeaderTutorial,u=t.showGuildTemplateDirtyTooltip,l=t.isGuildHeaderDismissibleTooltipShown,s=this.state,d=s.controller,c=s.renderBanner,f=s.bannerVisible,p=s.bannerVisibleHeight,v=i||u||l;return null==n?null:Te(re.LazyPopout,{renderPopout:this.renderMenuPopout,position:re.default.Positions.BOTTOM,align:re.default.Align.CENTER,animation:re.default.Animation.SCALE,shouldShow:o,onRequestClose:function(){return(0,O.showGuildHeaderPopout)(!1)}},void 0,(function(t){t.onClick;var i=Ce(t,Ee);return a.createElement(ce.default,Pe({
guild:n,controller:d,renderBanner:c,bannerVisible:f,guildBanner:e.getGuildBannerHash(),onClick:e.handleHeaderMenuToggle,onContextMenu:e.handleHeaderContextMenu,disableBannerAnimation:v,animationOverlayHeight:p},r?null:i),!r&&e.renderGuildHeaderNotices(o))}))};r.setAnimatedValue=function(e){var t=this.props.guild,n=this.state,r=n.controller,a=n.renderBanner,o=n.bannerVisible,i=n.bannerVisibleHeight;if(null!=t&&null!=this.getGuildBannerHash()){(e>=64&&o||e<64&&!o)&&(o=!o);(e>=Re&&!a||e<Re&&a)&&(a=!a);i=Math.max(Re-e,0);a===this.state.renderBanner&&o===this.state.bannerVisible&&i===this.state.bannerVisibleHeight||this.setState({renderBanner:a,bannerVisible:o,bannerVisibleHeight:i});r.update({value:Math.min(1,Math.max(0,1-e/Re)),immediate:!0}).start()}};r.renderChannelList=function(){var e=this.props,t=e.isUnavailable,n=e.guild,r=e.selectedChannel,o=e.enableStudyGroup,i=Ce(e,Oe);return t||null==n?Te(ve.default,{withBannerPadding:null!=n&&null!=this.getGuildBannerHash()
}):n.hasFeature(ye.GuildFeatures.HUB)&&!o?Te("div",{className:ge.default.hubContainer},void 0,Te(N.default,{guild:n,channel:null!=r?r:H.default.getDefaultChannel(n.id)})):a.createElement(se.default,Pe({guild:n},i,{guildBanner:this.getGuildBannerHash(),onScroll:null!=n&&this.getGuildBannerHash()?this.pinBanner:null}))};r.render=function(){var e=this.props,t=e.guild,n=e.guildId,r=e.activitiesBebEnabled,o=e.canShowCoachMarkAtBottom,i=[];r&&o&&i.push(u.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK);return Te("nav",{className:ge.default.container,onContextMenu:this.handleContextMenu,"aria-label":me.default.Messages.GUILD_SIDEBAR_A11Y_LABEL.format({guildName:null!=t?t.toString():""})},void 0,null!=t&&this.renderGuildHeader(),null!=t&&Te(pe.default,{guild:t}),this.renderChannelList(),Te(g.default,{contentTypes:i},void 0,(function(e){var t=e.content,r=e.markAsDismissed;return t===u.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK?Te(de.EmbeddedActivityTutorial,{guildId:n,markAsDismissed:r
}):a.createElement(a.Fragment,null)})))};return t}(a.PureComponent);ke.displayName="GuildSidebar";function je(e){var t,n=e.guildId,r=e.hideSelectedChannel,o=e.selectedChannelId,l=(0,i.useStateFromStores)([Y.default],(function(){return Y.default.getGuild(n)})),s=(0,i.useStateFromStores)([H.default],(function(){return H.default.getChannels(n)})),d=(0,i.useStateFromStores)([V.default],(function(){return V.default.getCategories(n)})),c=(0,i.useStateFromStores)([q.default],(function(){return q.default.getMutedChannels(n)})),g=(0,i.useStateFromStores)([E.default],(function(){return E.default.getFavoriteChannels()})),S=(0,i.useStateFromStores)([te.default,G.default],(function(){if(n!==ye.FAVORITES)return te.default.getVoiceStates(n);var e={};for(var t in g){var r=G.default.getChannel(t);null!=r&&(e[t]=te.default.getVoiceStatesForChannel(r))}return e}),[g,n]),P=(0,i.useStateFromStores)([F.default],(function(){return F.default.getCollapsed()})),N=(0,
i.useStateFromStores)([q.default],(function(){return q.default.isGuildCollapsed(n)})),w=(0,i.useStateFromStores)([B.default],(function(){return B.default.getGuildChangeSentinel(n)})),D=(0,i.useStateFromStores)([x.default],(function(){return x.default.getGuildDimensions(n).scrollTo})),k=(0,i.useStateFromStores)([$.default],(function(){return $.default.getChannelId()})),ne=(0,i.useStateFromStoresArray)([K.default],(function(){return[K.default.getGuildVersion(n),K.default.can(ye.Permissions.MANAGE_GUILD,l)]})),re=ne[0],ae=ne[1],oe=(0,i.useStateFromStores)([U.default],(function(){return U.default.version})),se=(0,i.useStateFromStores)([j.default],(function(){return j.default.isGuest()})),de=(0,i.useStateFromStores)([W.default],(function(){return W.default.isUnavailable(n)})),ce=(0,i.useStateFromStores)([X.default],(function(){return X.default.getCurrentUser()})),fe=(0,i.useStateFromStores)([v.default,Z.default],(function(){return v.default.darkSidebar?ye.ThemeTypes.DARK:Z.default.theme
})),pe=(0,T.useGuildHasLiveChannelNotice)(null!==(t=null==l?void 0:l.id)&&void 0!==t?t:""),ve=(0,y.useBeb)(n),me=(0,m.default)((function(e){return e.currentlyShown.has(u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION)})),ge=a.useState(!me),Ee=ge[0],Oe=ge[1],Se=(0,p.default)(n);a.useEffect((function(){n!==Se&&Oe(!me)}),[n,Se,me]);var Ie=(0,m.default)((function(e){return[he.CHANNEL_NOTICES.some((function(t){return e.currentlyShown.has(t.dismissibleContentType)})),e.currentlyShownGroup.has(_e.DismissibleContentGroupName.GUILD_HEADER_TOOLTIPS)]})),be=Ie[0],Ce=Ie[1],Pe=I.default.useExperiment({guildId:n}).enabled,Ae=(0,i.useStateFromStores)([b.default],(function(){return b.default.isEligible(l)}))&&Pe,Me=(0,i.useStateFromStores)([J.default,ee.default,R.default,Q.default],(function(){return J.default.isVisible(l)||Q.default.isVisible(null!=l?l.id:null)||R.default.isVisible(l)||ee.default.isVisible(l)||pe}))||be||Ae,Ne=(0,C.useAndTriggerEventsUpsellExperiment)(n,!0),Re=(0,
ie.useModalsStore)(ie.hasAnyModalOpenSelector),we=(0,i.useStateFromStores)([z.default],(function(){return z.default.hasLayers()})),Le=(0,i.useStateFromStores)([L.default],(function(){return L.default.shouldShow(De)})),je=ue.default.canUsePremiumGuildMemberAvatar(ce)&&!le.ProcessArgs.isDisallowPopupsSet(),Ue=ae&&!1===(null==l?void 0:l.premiumProgressBarEnabled)&&!le.ProcessArgs.isDisallowPopupsSet(),Ge=(0,_.useLowerMemberCountRequirements)(n),Fe=f.default.useExperiment({guildId:n},{autoTrackExposure:!0}).enabled,xe=(ae||(null==l?void 0:l.premiumTier)===ye.BoostedGuildTiers.NONE)&&Fe&&!le.ProcessArgs.isDisallowPopupsSet(),We=(0,i.useStateFromStores)([A.default,z.default],(function(){return null!=l&&null!=ce&&ae&&!z.default.hasLayers()&&A.default.shouldShowGuildTemplateDirtyTooltip(n)})),Ve=Object.values(G.default.getMutableGuildChannels()).find((function(e){return e.isDirectory()})),He=(0,i.useStateFromStores)([G.default],(function(){return o?G.default.getChannel(o):Ve})),Be=(0,
O.useGuildHeaderPopoutStore)().isPopoutOpen,Ye=(0,M.useHubStudyGroupExperiment)(l).enableStudyGroup,ze=(0,i.useStateFromStoresObject)([h.default],(function(){return(null!=l?h.default.getEmbeddedActivitiesForGuild(l.id):h.NO_ACTIVITIES).reduce((function(e,t){var n,r=t.channelId;e[r]=(null!==(n=e[r])&&void 0!==n?n:0)+1;return e}),{})}));return Te(ke,{guildId:n,hideSelectedChannel:r,guild:l,channels:s,categories:d,mutedChannels:c,scrollToChannel:D,selectedChannelId:r?null:o,selectedChannel:He,selectedVoiceChannelId:k,voiceStates:S,collapsedChannels:P,collapseMuted:N,isGuest:se,isUnavailable:de,theme:fe,user:ce,hasChannelNotice:Me,anyLayerOpen:Re||we,showPremiumGuildMemberProfileUpsell:je,showPremiumProgressBarUpsell:Ue,showInviteSplashUpsell:xe,showGuildHeaderTutorial:Le,showGuildTemplateDirtyTooltip:We,showEventsUpsell:Ne,showDiscoveryTooltip:Ge,guildReadStateSentinel:w,permissionVersion:re,categoryCollapseVersion:oe,isHeaderPopoutOpen:Be,enableStudyGroup:Ye,channelActivityCounts:ze,
isGuildHeaderDismissibleTooltipShown:Ce,activitiesBebEnabled:ve,canShowCoachMarkAtBottom:Ee})}je.displayName="ConnectedGuildSidebar"},608568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(35333)),o=n(954481),i=l(n(199808)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.guild,n=(0,o.useHubStudyGroupExperiment)(t).enableStudyGroup;return t.hasFeature(u.GuildFeatures.HUB)?n?d(i.default,{guild:t}):null:d(a.default,{guild:t})}c.displayName="GuildSubheader"},421797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(101545));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(){return l("div",{className:o.default.spacer})};s.displayName="Spacer";var d=function(){return l("div",{
className:o.default.category})};d.displayName="Category";var c=function(e){var t=e.width;return l("div",{className:o.default.channel},void 0,l("div",{className:o.default.channelIcon}),l("div",{className:o.default.channelName,style:{width:t+"px"}}))};c.displayName="Channel";var f=l(d,{}),p=l(c,{width:100}),v=l(c,{width:74}),y=l(c,{width:100}),h=l(c,{width:70}),_=l(c,{width:112}),m=l(c,{width:175}),g=l(s,{}),E=l(d,{}),O=l(c,{width:100}),S=l(c,{width:74}),I=l(c,{width:100}),b=l(c,{width:70}),C=l(c,{width:112}),T=l(c,{width:56}),P=function(e){var t,n=e.withBannerPadding;return l("div",{className:(0,a.default)(o.default.container,(t={},t[o.default.bannerPadding]=n,t))},void 0,f,p,v,y,h,_,m,g,E,O,S,I,b,C,T)};P.displayName="PlaceholderChannelList";var A=P;t.default=A},491523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(972247)),i=l(n(636602)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){
s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var c="hasSeenGuildTemplatePromotionTooltip",f={},p=!0===o.default.get(c);function v(e){var t,n=e.guildId;f=d({},f,((t={})[n]=!1,t))}var y=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.shouldShowGuildTemplateDirtyTooltip=function(e){var t;return null!==(t=f[e])&&void 0!==t&&t};n.shouldShowGuildTemplatePromotionTooltip=function(){return!p};return t}(a.default.Store))(i.default,((r={})[u.ActionTypes.GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH]=function(e){var t,n=e.guildTemplate;f=d({},f,((t={})[n.source_guild_id]=n.is_dirty||!1,t))},
r[u.ActionTypes.GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE]=function(){o.default.set(c,!0);p=!0},r[u.ActionTypes.GUILD_TEMPLATE_SYNC_SUCCESS]=function(e){var t;f=d({},f,((t={})[e.guildTemplate.source_guild_id]=!1,t))},r[u.ActionTypes.GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE]=v,r[u.ActionTypes.GUILD_TEMPLATE_DELETE_SUCCESS]=v,r));t.default=y},920061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(138864),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(997359)),o=n(919094),i=c(n(562882)),u=c(n(308920)),l=c(n(924117)),s=c(n(233689)),d=n(770348);function c(e){
return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v="template",y=p({},s.default,{openNativeAppModal:function(e){i.default.openNativeAppModal(e,d.RPCCommands.GUILD_TEMPLATE_BROWSER)},openMobileApp:function(e,t){if(!(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)){var n=null!=e?(0,r.getGuildTemplateDynamicLinkTemplate)(e):(0,r.getDefaultDynamicLinkTemplate)(),i=(0,a.generateAttemptId)(),s=(0,a.default)(n,{utmSource:v,fingerprint:t,attemptId:i});u.default.track(d.AnalyticEvents.DEEP_LINK_CLICKED,{fingerprint:(0,o.maybeExtractId)(t),attempt_id:i,source:v,guild_template_code:e});l.default.launch(s,(function(){}))}}});t.default=y},542322:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(368767)),i=p(n(844784)),u=p(n(502546)),l=p(n(790597)),s=p(n(547282)),d=n(878556),c=n(770348),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.channelId,n=(0,a.useStateFromStores)([u.default],(function(){return u.default.getSection(t)})),r=(0,a.useStateFromStores)([l.default],(function(){return l.default.getGuildId()})),p=n===c.ChannelSections.MEMBERS;return y(d.Icon,{tooltip:p?f.default.Messages.MEMBER_LIST_SHOWN:f.default.Messages.MEMBER_LIST_HIDDEN,icon:s.default,onClick:function(){i.default.trackWithMetadata(c.AnalyticEvents.MEMBER_LIST_TOGGLED,{channel_id:t,guild_id:r,member_list_open:!p});o.default.toggleMembersSection()},selected:p})}h.displayName="ChannelMembersButton"},818378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=_(n(770549)),u=_(n(563621)),l=_(n(160629)),s=_(n(91424)),d=_(n(811198)),c=_(n(878556)),f=n(956506),p=_(n(405622)),v=n(770348),y=_(n(247001)),h=_(n(750322));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function O(e){var t=e.channel,n=(0,o.useStateFromStoresArray)([u.default],(function(){return[u.default.isChannelMuted(t.getGuildId(),t.id),u.default.resolvedMessageNotifications(t)]}),[t]),r=n[0],_=n[1],m=a.useState(!1),O=m[0],S=m[1];a.useEffect((function(){var e=function(){return S(!0)};f.ComponentDispatch.subscribe(v.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){f.ComponentDispatch.unsubscribe(v.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var I=function(e){e.shiftKey?i.default.updateChannelOverrideSettings(t.guild_id,t.id,{
muted:!r}):S((function(e){return!e}))},b=y.default.Messages.NOTIFICATION_SETTINGS;return g(l.default,{shouldShow:O,animation:l.default.Animation.NONE,position:l.default.Positions.BOTTOM,align:l.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return S(!1)},renderPopout:function(e){return a.createElement(p.default,E({},e,{channel:t,navId:"channel-context",label:y.default.Messages.CHANNEL_ACTIONS_MENU_LABEL}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(c.default.Icon,E({},e,{onClick:I,tooltip:n?null:b,icon:r||_!==v.UserNotificationSettings.ALL_MESSAGES?d.default:s.default,foreground:r?h.default.strikethrough:null,"aria-label":b,selected:n}))}))}O.displayName="ChannelNotificationSettingsButton"},764423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=h(n(83887)),u=h(n(137438)),l=h(n(191391)),s=h(n(728429)),d=h(n(160629)),c=h(n(126344)),f=n(878556),p=n(956506),v=n(770348),y=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e){var t=e.channel,n=(0,o.useStateFromStores)([u.default,s.default],(function(){var e=s.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!u.default.didAgree(t.getGuildId()))}),[t]),r=a.useState(!1),h=r[0],_=r[1],E=(0,o.useStateFromStores)([l.default],(function(){return l.default.hasUnreadPins(t.id)}),[t]),O=a.useCallback((function(){n||_((function(e){return!e}))}),[n]);a.useEffect((function(){p.ComponentDispatch.subscribe(v.ComponentActions.TOGGLE_CHANNEL_PINS,O);return function(){p.ComponentDispatch.unsubscribe(v.ComponentActions.TOGGLE_CHANNEL_PINS,O)}}),[O]);function S(e){(null==e?void 0:e.shiftKey)||p.ComponentDispatch.dispatch(v.ComponentActions.POPOUT_CLOSE)}return m(d.default,{
shouldShow:h,animation:d.default.Animation.NONE,position:d.default.Positions.BOTTOM,align:d.default.Align.RIGHT,autoInvert:!1,ignoreModalClicks:!0,onRequestClose:function(){return _(!1)},renderPopout:function(e){return a.createElement(i.default,g({},e,{onJump:S,channel:t}))}},void 0,(function(e,t){var r=t.isShown;return a.createElement(f.Icon,g({},e,{onClick:O,tooltip:r?null:y.default.Messages.PINNED_MESSAGES,icon:c.default,"aria-label":y.default.Messages.PINNED_MESSAGES,disabled:n,showBadge:E,selected:r}))}))}E.displayName="ChannelPinsButton";var O=E;t.default=O},92332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(923387),u=w(n(88500)),l=w(n(136873)),s=w(n(825724)),d=w(n(818994)),c=w(n(305081)),f=w(n(493051)),p=w(n(30269)),v=w(n(27245)),y=w(n(956704)),h=w(n(635014)),_=w(n(788739)),m=w(n(290629)),g=w(n(728429)),E=w(n(387692)),O=w(n(730977)),S=w(n(119431)),I=w(n(79027)),b=w(n(878556)),C=n(956506),T=n(951530),P=w(n(740775)),A=n(608165),M=n(770348),N=n(376293),R=w(n(247001));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){k=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return k(e,t)}var j=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;k(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderDismissibleContent=function(e,n,r,a,o,u){if(e||n||null===a||0===a.length||!o)return null;A.VoiceChatUpsellExperiment.trackExposure({});return A.VoiceChatUpsellExperiment.getCurrentConfig({}).showUpsell&&r===i.DismissibleContent.VOICE_CHAT_TOOLTIP?L(P.default,{handleVoiceClick:t.handleVoiceClick,markAsDismissed:u,activeRecipients:a}):null};t.handleStartCall=function(e,n){var r=t.props,a=r.channel,o=r.notFriend,i=r.appContext,l=o?a.getRecipientId():null,s=function(){
return u.default.call(a.id,n,!o&&!a.isManaged()&&e&&!e.shiftKey,l)};n?(0,p.default)(s,i):s()};t.handleJoinCall=function(e){l.default.selectVoiceChannel(t.props.channel.id,e)};t.handleVoiceClick=function(e){var n=t.props,r=n.callUnavailable,a=n.callActive;if(!r)return a?t.handleJoinCall(!1):t.handleStartCall(e,!1)};t.handleStartVideoCall=function(e){t.handleStartCall(e,!0)};t.handleJoinVideoCall=function(){var e=t.props.appContext;(0,p.default)((function(){return t.handleJoinCall(!0)}),e)};t.handleBrowserNotSupported=function(){(0,f.default)()};return t}var n=t.prototype;n.componentDidMount=function(){C.ComponentDispatch.subscribe(M.ComponentActions.CALL_START,this.handleVoiceClick)};n.componentWillUnmount=function(){C.ComponentDispatch.unsubscribe(M.ComponentActions.CALL_START,this.handleVoiceClick)};n.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel,o=e.mode;if(t||n&&o===M.ChannelModes.VOICE)return null
;var i,u=a.isManaged(),l=null,s=!1;if(h.default.supports(N.Features.VIDEO))if(n&&o===M.ChannelModes.VIDEO){i=this.handleJoinVideoCall;l=u?R.default.Messages.CONNECT:R.default.Messages.JOIN_VIDEO_CALL}else{i=this.handleStartVideoCall;l=u?R.default.Messages.CONNECT:R.default.Messages.START_VIDEO_CALL}else{s=!0;i=this.handleBrowserNotSupported;l=R.default.Messages.BROWSER_NOT_SUPPORTED}return L(b.default.Icon,{icon:I.default,onClick:i,disabled:s||r,tooltip:l})};n.renderVoiceCallButton=function(){var e=this,t=this.props,n=t.inCall,r=t.callActive,o=t.callUnavailable,u=t.channel,l=t.activeRecipients,s=t.hasLoadedExperiments;if(n)return null;var d,f=u.isManaged(),p="",v=!1;if(o){p=f?R.default.Messages.VOICE_UNAVAILABLE:R.default.Messages.CALL_UNAVAILABLE;d=O.default.Colors.RED;v=!0}else p=r?f?R.default.Messages.CONNECT:R.default.Messages.JOIN_VOICE_CALL:f?R.default.Messages.CONNECT:R.default.Messages.START_VOICE_CALL;return L(c.default,{contentTypes:[i.DismissibleContent.VOICE_CHAT_TOOLTIP]
},void 0,(function(t){var n=t.content,o=t.markAsDismissed;return a.createElement(a.Fragment,null,L(b.default.Icon,{icon:S.default,onClick:function(t){o();return e.handleVoiceClick(t)},disabled:v,tooltip:p,tooltipColor:d}),e.renderDismissibleContent(v,r,n,l,s,o))}))};n.render=function(){return L(a.Fragment,{},void 0,this.renderVoiceCallButton(),this.renderVideoCallButton())};return t}(a.PureComponent);j.displayName="PrivateChannelCallButton";function U(e){var t=e.channel,n=(0,o.useStateFromStores)([g.default],(function(){return g.default.getCurrentUser()})),r=(0,o.useStateFromStores)([y.default],(function(){return y.default.hasLoadedExperiments})),i=(0,o.useStateFromStores)([s.default],(function(){return s.default.getMode(t.id)})),u=(0,o.useStateFromStores)([E.default],(function(){return E.default.isInChannel(t.id)})),l=(0,o.useStateFromStoresObject)([v.default],(function(){return{callActive:v.default.isCallActive(t.id),callUnavailable:v.default.isCallUnavailable(t.id)}
})),c=l.callActive,f=l.callUnavailable,p=t.getRecipientId(),h=t.type===M.ChannelTypes.DM&&null!=p&&!m.default.isFriend(p),O=a.useContext(d.default),S=(0,o.useStateFromStoresArray)([g.default],(function(){return null!=t?(0,T.getRecipients)(t.recipients,g.default):[]})),I=(0,o.useStateFromStoresArray)([_.default],(function(){if(null!=t&&null!==S){if(null!=n){var e=S.findIndex((function(e){return e.id===n.id}));e>=0&&S.splice(e,1)}return S.filter((function(e){return!e.bot&&_.default.getStatus(e.id)===M.StatusTypes.ONLINE}))}return[]})),b=a.useState(null),C=b[0],P=b[1];a.useEffect((function(){null===C&&(null==S?void 0:S.length)>0&&P(I)}),[S,I,C,P]);return L(j,{channel:t,mode:i,inCall:u,callActive:c,callUnavailable:f,notFriend:h,activeRecipients:C,hasLoadedExperiments:r,appContext:O})}U.displayName="ConnectedPrivateChannelCallButton"},740775:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(556470),o=f(n(142024)),i=f(n(308920)),u=n(770348),l=n(583551),s=f(n(247001)),d=f(n(511314)),c=f(n(961565));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){if(0===e.length)return null;var t=e.length,n=e[0].username;switch(t){case 1:return s.default.Messages.VOICE_NUDGE_DESCRIPTION_ONE_USER.format({firstRecipient:n});case 2:return s.default.Messages.VOICE_NUDGE_DESCRIPTION_TWO_USERS.format({firstRecipient:n,secondRecipient:e[1].username});default:return s.default.Messages.VOICE_NUDGE_DESCRIPTION_MANY_USERS.format({firstRecipient:n,remaining:t-1})}},h=function(e){var t=e.handleVoiceClick,n=e.markAsDismissed,r=e.activeRecipients,f=(0,a.useAnalyticsContext)();if(0===r.length)return null;return v("div",{className:d.default.upsellContainer},void 0,v(o.default,{onComponentMount:function(){i.default.track(u.AnalyticEvents.TOOLTIP_VIEWED,{type:"voice_upsell",location:f.location})},header:s.default.Messages.VOICE_NUDGE_TITLE,asset:v("img",{
alt:s.default.Messages.VOICE_NUDGE_GRAPHIC_ALT,src:c.default,className:d.default.upsellImage}),content:y(r),buttonCTA:s.default.Messages.VOICE_NUDGE_START,secondaryButtonCTA:s.default.Messages.VOICE_NUDGE_DISMISS,onClick:function(e){t(e);n(l.ContentDismissActionType.PRIMARY)},onSecondaryClick:function(){n(l.ContentDismissActionType.DISMISS)},markAsDismissed:n}))};h.displayName="VoiceUpsell";var _=h;t.default=_},608165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VoiceChatUpsellExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-02_voice_chat_upsell",label:"show voice chat upsell in DMs",defaultConfig:{showUpsell:!1},treatments:[{id:1,label:"show upsell",config:{showUpsell:!0}}]});t.VoiceChatUpsellExperiment=r},789620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(278352)),i=n(439142),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var s={init:function(){a.default.subscribe(u.ActionTypes.VOICE_CHANNEL_SELECT,(function(e){null==e.channelId&&o.hideHotspot(i.HotspotLocations.VOICE_PANEL_INTRODUCTION)}))}};t.default=s},954481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useHubStudyGroupExperiment=t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505),o=n(770348);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var u=(0,a.createExperiment)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]});t.useHubStudyGroupExperiment=function(e){var t;r.useEffect((function(){null!=e&&e.hasFeature(o.GuildFeatures.HUB)&&u.trackExposure({guildId:e.id})}),[e]);return u.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{disable:null==e||!e.hasFeature(o.GuildFeatures.HUB)
})};var l=u;t.default=l},215371:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-08_hubs_in_organic_onboarding",label:"Hub Email Connection in New User Onboarding",defaultConfig:{showHubsInOnboarding:!1},treatments:[{id:1,label:"Show email connection step in onboarding",config:{showHubsInOnboarding:!0}}]});t.default=r},241813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=n(536211),o=c(n(689626)),i=c(n(81026)),u=c(n(876874)),l=c(n(728429)),s=n(770348),d=n(460703);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p=function(e){var t=(0,a.useStateFromStores)([i.default],(function(){return(null==e?void 0:e.hasFeature(s.GuildFeatures.HUB))?i.default.hasViewedPrompt(d.GuildPrompts.REAL_NAME_PROMPT,e.id):null})),n=(0,a.useStateFromStores)([l.default],(function(){return l.default.getCurrentUser()})),c=(0,a.useStateFromStores)([u.default],(function(){return null!=(null==e?void 0:e.id)&&null!=n?u.default.getMember(null==e?void 0:e.id,n.id):null})),f=null!=(null==c?void 0:c.nick);r.useEffect((function(){f&&null!=e&&!1===t&&o.default.viewPrompt(d.GuildPrompts.REAL_NAME_PROMPT,e.id)}),[f,e,t]);return!1===t&&!f};t.default=p},404922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(956117)),i=n(194322),u=d(n(776360)),l=d(n(247001)),s=d(n(773022));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){
f(o,r,a,i,u,"throw",e)}i(void 0)}))}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.hasHub;return v("div",{className:s.default.container},void 0,v("div",{className:s.default.iconContainer},void 0,v("div",{className:s.default.icon})),v(u.default,{strong:!0,color:u.default.Colors.HEADER_PRIMARY,size:u.default.Sizes.SIZE_20,className:s.default.header},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_ADD_HEADER:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_HEADER),v(u.default,{color:u.default.Colors.HEADER_SECONDARY,size:u.default.Sizes.SIZE_14,className:s.default.description
},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_ADD_DESCRIPTION:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_DESCRIPTION),v("div",{className:s.default.gap}),v(o.default,{size:o.default.Sizes.LARGE,color:t?o.default.Colors.GREY:o.default.Colors.GREEN,onClick:function(){return(0,i.openModalLazy)(p(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,v(u.default,{size:u.default.Sizes.SIZE_14,className:s.default.addButton,color:u.default.Colors.CUSTOM},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_ANOTHER:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_MY_SCHOOOL)))};y.displayName="HubDiscoveryAddHubCard";var h=y;t.default=h},562200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=f(n(415275)),i=f(n(871778)),u=f(n(2022)),l=f(n(971639)),s=f(n(404922)),d=f(n(247001)),c=f(n(258199));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h=v(s.default,{hasHub:!0}),_=v(s.default,{hasHub:!1}),m=function(e){var t=e.guilds,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.theme})),r=t.map((function(e){return v(u.default,{className:c.default.guildCard,onView:function(){return o.default.transitionToGuildSync(e.id)},guild:y({},e,{presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0}),theme:n},e.id)}));return v("section",{className:c.default.guildListSection},void 0,t.length>0?v("div",{},void 0,v(l.default,{className:c.default.title,
size:l.default.Sizes.SIZE_20},void 0,d.default.Messages.YOUR_HUB),v("div",{className:c.default.guildList},void 0,r,h)):v("div",{className:c.default.guildList},void 0,_))};m.displayName="HubDiscoveryGuildList";var g=m;t.default=g},666895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(6505),i=p(n(652566)),u=p(n(252004)),l=p(n(97751)),s=p(n(776360)),d=n(227445),c=p(n(247001)),f=p(n(596964));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=y(u.default,{}),_=function(e){var t=e.handleCategorySelect,n=e.shouldDisplaySelectedCategory,r=e.currentCategoryId,u=(0,a.useStateFromStores)([i.default],(function(){return i.default.hasHotspot(o.HotspotLocations.HUB_NEW)}));return y(l.default,{avatar:h,name:c.default.Messages.HUB_SCHOOL_HUBS,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){t(d.DISCORD_HUB_ID);(0,o.hideHotspot)(o.HotspotLocations.HUB_NEW)},wrapContent:!0,
selected:n&&d.DISCORD_HUB_ID===r,className:f.default.categoryItem,selectedClassName:f.default.selectedCategoryItem,innerClassName:f.default.itemInner},d.DISCORD_HUB_ID,u&&y("div",{className:f.default.new},void 0,y(s.default,{strong:!0,color:s.default.Colors.CUSTOM,size:s.default.Sizes.SIZE_12,className:f.default.newText},void 0,c.default.Messages.NEW)))};_.displayName="HubDiscoveryListItem";var m=_;t.default=m},39365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=y(n(971639)),i=y(n(776360)),u=y(n(582945)),l=n(465537),s=y(n(283642)),d=y(n(562200)),c=n(227445),f=y(n(247001)),p=y(n(250926)),v=y(n(237018));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.loadId,n=(0,s.default)();a.useEffect((function(){(0,l.trackDiscoveryViewed)(t,[],[],c.DISCORD_HUB_ID)}),[t]);return _(u.default,{className:p.default.scroller},void 0,_("div",{className:p.default.viewWrapper
},void 0,_("div",{className:p.default.headerContainer},void 0,_("img",{alt:"",className:p.default.headerImage,src:v.default}),_("div",{className:p.default.headerContent},void 0,_(o.default,{className:p.default.headerText,size:i.default.Sizes.SIZE_24},void 0,f.default.Messages.HUB_DIRECTORY_SEARCH_TITLE),_(i.default,{className:p.default.headerDescription,size:i.default.Sizes.SIZE_16,color:i.default.Colors.CUSTOM},void 0,f.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE))),_(d.default,{guilds:n}),_("div",{className:p.default.divider}),_(i.default,{className:p.default.footerDescription,size:i.default.Sizes.SIZE_14,color:i.default.Colors.HEADER_SECONDARY},void 0,f.default.Messages.HUB_DISCOVERY_FOOTER_DESCRIPTION)))};m.displayName="HubDiscoveryPage";var g=m;t.default=g},529295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.HubEmailConnectionRoute=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=h(n(23170)),u=n(139982),l=h(n(30098)),s=h(n(795741)),d=h(n(194815)),c=n(549186),f=n(376022),p=n(770348),v=n(99043),y=h(n(400110));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.guildId,n=e.inviteCode,r=a.useState(v.WaveStates.INITIAL),h=r[0],_=r[1],g=a.useState(null!=n),E=g[0],O=g[1];a.useEffect((function(){null!=n&&i.default.resolveInvite(n,"Hub").finally((function(){return O(!1)}))}),[n]);var S=(0,o.useStateFromStores)([s.default],(function(){return n?s.default.getInvite(n):null})),I=(0,o.useStateFromStores)([l.default],(function(){return l.default.getGuild(t)}));a.useEffect((function(){null!=I&&(0,u.transitionTo)(p.Routes.CHANNEL(t))}),[I,t]);var b=a.useCallback((function(e){_((function(t){return Math.max(t,e)}))}),[]),C=(0,c.getArtForPath)();return m("div",{className:y.default.page},void 0,m(d.default,{embedded:!0,splash:C,waveState:h,showLogo:!1,updateWaveState:b},void 0,m("div",{className:y.default.dragRegion}),m("div",{className:y.default.contentWrapper
},void 0,!E&&m(f.HubEmailConnectionModalView,{invite:S}))))};t.HubEmailConnectionRoute=g;g.displayName="HubEmailConnectionRoute";var E=g;t.default=E},185836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(918667)),i=n(194322),u=n(770348),l=d(n(247001)),s=d(n(140561));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,u,"next",e)}function u(e){p(o,r,a,i,u,"throw",e)}i(void 0)}))}}function y(e){var t=e.guild,r=e.markAsDismissed;return f(o.default,{guild:t,onDismissed:r,onClick:function(){(0,i.openModalLazy)(v(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))},message:l.default.Messages.HUB_LINK_CHANNEL_NOTICE_BODY,cta:l.default.Messages.LEARN_MORE,trackingSource:u.ChannelNoticeCtaSources.HUB_LINK_NOTICE,type:u.ChannelNoticeTypes.HUB_LINK,image:s.default})}y.displayName="HubLinkChannelNotice"},283642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,a.useStateFromStores)([o.default],(function(){var e=o.default.getGuilds();return Object.entries(e).filter((function(e){e[0];return e[1].hasFeature(i.GuildFeatures.HUB)})).map((function(e){e[0];return e[1]}))}))};var r,a=n(536211),o=(r=n(30098))&&r.__esModule?r:{default:r},i=n(770348)},199808:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;y(n(667294))
;var r,a=n(248088),o=n(536211),i=n(6505),u=y(n(517286)),l=p(n(689389)),s=p(n(365397)),d=p(n(782256)),c=n(864227),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.guild,n=(0,o.useStateFromStores)([u.default],(function(){return u.default.getChannels(t.id)[u.GUILD_VOCAL_CHANNELS_KEY][0]})),r=(0,o.useStateFromStores)([l.default],(function(){return null!=n&&l.default.can(f.Permissions.CONNECT,n.channel)}));return t.hasFeature(f.GuildFeatures.HUB)?null==n?null:r?h(m,{channel:n.channel}):null:null};_.displayName="HubStudyRoomNoticeGuard";var m=function(e){var t=e.channel,n=(0,o.useStateFromStores)([i.HotspotStore],(function(){return i.HotspotStore.hasHotspot(i.HotspotLocations.HUB_STUDY_ROOM_NOTICE)})),r=(0,c.useConnectedInCurrentHub)(t.guild_id),u=(0,a.useSpring)({maxHeight:r?0:300,overflow:"hidden",delay:400});return h(a.animated.div,{style:u},void 0,n?h(s.default,{channel:t}):h(d.default,{name:"ðŸ“šâ˜• "+t.name,
channel:t}))};m.displayName="HubStudyRoomNotice";var g=_;t.default=g},365397:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(294184)),o=n(6505),i=n(139982),u=n(637356),l=p(n(956117)),s=p(n(16941)),d=p(n(259530)),c=p(n(247001)),f=p(n(76889));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.channel;return y("div",{className:(0,a.default)(f.default.channelNotice,f.default.hubStudyGroup)},void 0,y(s.default,{onClick:function(){(0,o.hideHotspot)(o.HotspotLocations.HUB_STUDY_ROOM_NOTICE)},className:f.default.close,"aria-label":c.default.Messages.DISMISS},void 0,y(d.default,{className:f.default.closeIcon})),y("div",{className:f.default.message},void 0,y("div",{className:f.default.title},void 0,c.default.Messages.HUB_STUDY_ROOM_NOTICE_TITLE),y("div",{className:f.default.description
},void 0,c.default.Messages.HUB_STUDY_ROOM_NOTICE_DESCRIPTION),y(l.default,{className:f.default.btn,onClick:function(){(0,o.hideHotspot)(o.HotspotLocations.HUB_STUDY_ROOM_NOTICE);if(null!=t&&null!=t.getGuildId()){(0,u.connectAndOpen)(t);(0,i.transitionToGuild)(t.getGuildId(),t.id)}},color:l.default.Colors.GREEN},void 0,c.default.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA)))};h.displayName="HubStudyRoomNoticeOnboard";var _=h;t.default=_},782256:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=n(341186),i=n(513696),u=d(n(487372)),l=d(n(247001)),s=d(n(692657));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.name,n=e.channel,r=(0,a.useStateFromStoresArray)([u.default],(function(){return u.default.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),d=(0,o.getChannelIconComponent)(n);return f(i.GuildNoticeBody,{heading:l.default.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t,
location:l.default.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=d?f(d,{width:16,height:16,className:s.default.icon}):null},void 0,f(i.LiveVoiceOrStageChannelNotice,{channel:n,speakers:r,voiceType:i.VoiceChannelType.STUDY_ROOM}))}p.displayName="HubStudyRoomNoticeVoice";var v=p;t.default=v},810928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(213847)),u=p(n(429130)),l=p(n(908306)),s=p(n(670729)),d=n(770348),c=p(n(627962)),f=["enabled","imageClassName"]
;function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h=((r={})[d.ThemeTypes.DARK]=d.Colors.STATUS_GREY_500,r[d.ThemeTypes.LIGHT]=d.Colors.STATUS_GREY_600,r);function _(e){var t,n,r=e.enabled,d=e.imageClassName,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f),v=(0,i.default)(),_={height:18,width:18,color:h[v]};return a.createElement(s.default,y({className:(0,o.default)((t={},t[c.default.avatarUploader]=r,t[c.default.avatarUploaderDisabled]=!r,t)),imageClassName:(0,o.default)(d,c.default.avatarUploaderInnerSquare,(n={},
n[c.default.avatarUploaderInnerSquareDisabled]=!r,n)),icon:null!=p.image&&""!==p.image?a.createElement(u.default,_):a.createElement(l.default,_),iconClassName:(0,o.default)(c.default.avatarUploadIcon,c.default.hideDefaultIcon),showIcon:!0,showIconDisabled:!0,hideSize:!0},p))}_.displayName="BannerUploader"},32735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.processImage=d;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=u(n(707842)),o=n(164101),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(e,t,n){!function(e,t){if(null!=e){var n=new FileReader;n.onload=function(n){var r;"string"==typeof(null===(r=n.target)||void 0===r?void 0:r.result)&&t(n.target.result,e)};n.readAsDataURL(e)}}(e,(function(r){var a=new Image;a.src=r;a.onload=function(){t(r,e)};a.onerror=function(){n()}}))}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];(t=e.call.apply(e,[this].concat(a))||this)._ref=r.createRef();t._isMounted=!1;t.handleFileChange=function(e){var n=t.props,r=n.onFileSizeError,a=n.maxFileSizeBytes;e.stopPropagation();e.preventDefault();if(null!=e.currentTarget.files)for(var o=0;o<e.currentTarget.files.length;o++){
var i=e.currentTarget.files[o];i.size>a?null==r||r(a):d(i,t.handleFileRead,t.handleFileError)}};t.handleFileRead=function(e,n){var r=t.props.onChange;t._isMounted&&r(e,n)};t.handleFileError=function(){(0,o.openUploadError)({title:i.default.Messages.PREMIUM_ALERT_ERROR_TITLE,help:i.default.Messages.UNABLE_TO_PROCESS_IMAGE})};return t}var n=t.prototype;n.componentDidMount=function(){this._isMounted=!0};n.activateUploadDialogue=function(){var e;null===(e=this._ref.current)||void 0===e||e.activateUploadDialogue()};n.render=function(){var e=this.props,t=e.multiple,n=e.disabled,o=e.className,u=e.tabIndex,l=e["aria-label"],s=e.filters;return r.createElement(a.default,{ref:this._ref,onChange:this.handleFileChange,filters:null!=s?s:[{name:i.default.Messages.IMAGES,extensions:["jpg","jpeg","png","gif"]}],multiple:t,disabled:n,className:o,tabIndex:u,"aria-label":l})};return t}(r.PureComponent);c.displayName="ImageInput";c.defaultProps={multiple:!0,tabIndex:-1,maxFileSizeBytes:1/0};var f=c
;t.default=f},670729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ImageUploaderIcon=E;t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(294184)),i=y(n(441143)),u=y(n(314234)),l=y(n(151097)),s=y(n(16941)),d=n(8916),c=y(n(32735)),f=n(770348),p=y(n(247001)),v=y(n(307436));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.className,n=e.icon,r=void 0===n?null:n;return g("div",{className:(0,o.default)(v.default.imageUploaderIcon,t)},void 0,r)}E.displayName="ImageUploaderIcon";var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).inputRef=a.createRef();t.handleRemove=function(){t.props.onChange(null)};return t}var n=t.prototype;n.handleExternalFileChange=function(e){(0,i.default)(null!=this.inputRef.current,"ImageInputRef asked to handleExternalFileChange when not mounted");this.inputRef.current.handleFileChange(e)};n.render=function(){var e,t,n,r,i=this.props,y=i.image,h=i.hint,m=void 0===h?p.default.Messages.CHANGE_AVATAR:h,O=i.name,S=i.makeURL,I=i.disabled,b=i.onChange,C=i.showIcon,T=i.showIconDisabled,P=i.className,A=i.imageClassName,M=i.iconClassName,N=i.icon,R=i.hideSize,w=i.imageStyle,D=i.showRemoveButton,L=i.maxFileSizeBytes,k=i.onFileSizeError,j=i.onOpenImageSelectModal;(e=null!=y&&/^data:/.test(y)?y:S(y))?t='url("'+e+'")':null!=O&&(n=g("div",{className:v.default.imageUploaderAcronym},void 0,(0,d.getAcronym)(O)));if(I)return g("div",{className:(0,
o.default)(v.default.imageUploader,v.default.disabled,P)},void 0,g("div",{className:(0,o.default)(v.default.imageUploaderInner,A),style:_({},w,{backgroundImage:t})},void 0,n,T&&g("div",{className:(0,o.default)(v.default.imageUploaderIcon,v.default.imageUploaderIconDisabled,M)},void 0,N)));null!=y?r=g(l.default,{className:v.default.removeButton,onClick:this.handleRemove},void 0,p.default.Messages.REMOVE):R||(r=g("small",{className:v.default.sizeInfo},void 0,p.default.Messages.MINIMUM_SIZE.format({size:f.AVATAR_SIZE})));return g("div",{className:(0,o.default)(v.default.imageUploader,P)},void 0,g(u.default,{within:!0},void 0,g("div",{className:(0,o.default)(v.default.imageUploaderInner,A),style:_({},w,{backgroundImage:t})},void 0,g("span",{"aria-hidden":!0},void 0,n),m&&g("div",{className:v.default.imageUploaderHint,"aria-hidden":"true"},void 0,m),null!=j?g(s.default,{className:v.default.fileInput,"aria-label":null!=m?m:p.default.Messages.CHANGE_AVATAR,onClick:j
}):a.createElement(c.default,{ref:this.inputRef,onChange:b,className:v.default.fileInput,"aria-label":null!=m?m:p.default.Messages.CHANGE_AVATAR,tabIndex:0,maxFileSizeBytes:L,onFileSizeError:k}),C&&g(E,{className:M,icon:N}))),D?r:null)};return t}(a.PureComponent);O.displayName="ImageUploader";O.defaultProps={name:"",makeURL:function(e){return e},disabled:!1,showIcon:!1,hideSize:!1,showRemoveButton:!0,maxFileSizeBytes:1/0,icon:null};var S=O;t.default=S},936747:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(636602)),a=i(n(308920));n(497655);var o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}function s(e){
return d.apply(this,arguments)}function d(){return(d=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(93212)]).then(n.bind(n,693212));case 2:r=e.sent;(0,r.openInteractionModal)(t);a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"interaction_modal",application_id:t.application.id});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c={init:function(){r.default.subscribe(o.ActionTypes.INTERACTION_MODAL_CREATE,s)},terminate:function(){r.default.unsubscribe(o.ActionTypes.INTERACTION_MODAL_CREATE,s)}};t.default=c},497655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.InteractionModalState=void 0;var r,a,o,i,u,l,s,d=_(n(441143)),c=_(n(536211)),f=_(n(636602)),p=_(n(786345)),v=n(81069),y=n(741464),h=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return m(e,t)}t.InteractionModalState=a;!function(e){e[e.IN_FLIGHT=0]="IN_FLIGHT";e[e.ERRORED=1]="ERRORED";e[e.SUCCEEDED=2]="SUCCEEDED"}(a||(t.InteractionModalState=a={}));var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getModalState=function(e){return e!==o?null:i};return t}(c.default.Store))(f.default,((r={})[h.ActionTypes.LOGOUT]=function(){o=null;i=null;u=null;l=null;s=null;return!0},r[h.ActionTypes.INTERACTION_MODAL_CREATE]=function(e){if(e.nonce===s){p.default.deleteMessage(l,u,!0);u=null;l=null;s=null}return!1},r[h.ActionTypes.INTERACTION_QUEUE]=function(e){var t=e.messageId,n=e.nonce,r=e.data;switch(r.interactionType){case v.InteractionTypes.APPLICATION_COMMAND:u=t;l=r.channelId;s=n;return!1;case v.InteractionTypes.MODAL_SUBMIT:(0,d.default)(null==o||i===a.ERRORED||i===a.SUCCEEDED,"cannot submit multiple modals at once");o=n
;i=a.IN_FLIGHT;setTimeout((function(){o===n&&i===a.IN_FLIGHT&&(0,y.setFailed)(n)}),1e4);return!0;default:return!1}},r[h.ActionTypes.INTERACTION_SUCCESS]=function(e){var t=e.nonce;if(null==t||t!==o)return!1;i=a.SUCCEEDED;return!0},r[h.ActionTypes.INTERACTION_FAILURE]=function(e){var t=e.nonce;if(null==t||t!==o)return!1;i=a.ERRORED;return!0},r));t.default=g},419523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=S(n(636602)),o=S(n(740207)),i=S(n(390557)),u=n(123516),l=S(n(105988)),s=S(n(177230)),d=n(747868),c=S(n(937196)),f=n(139982),p=n(845634),v=S(n(607209)),y=S(n(635014)),h=S(n(663303)),_=S(n(728429)),m=S(n(81636)),g=S(n(945771)),E=n(770348),O=n(376293);function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var b=((r={})[E.GlobalKeybindActions.TOGGLE_PRIORITY_SPEAKER]={onTrigger:function(){},keyEvents:{}},r[E.GlobalKeybindActions.UNASSIGNED]={
onTrigger:function(){},keyEvents:{}},r[E.GlobalKeybindActions.PUSH_TO_TALK]={onTrigger:function(e,t){if(y.default.getMode(t)===E.InputModes.PUSH_TO_TALK){b[E.GlobalKeybindActions.PUSH_TO_TALK].isPressed=e;y.default.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!1)}),t)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[E.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY]={onTrigger:function(e){if(y.default.getMode()===E.InputModes.PUSH_TO_TALK){b[E.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY].isPressed=e;y.default.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!0)}),O.MediaEngineContextTypes.DEFAULT)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[E.GlobalKeybindActions.PUSH_TO_MUTE]={onTrigger:function(e){if(y.default.getMode()===E.InputModes.VOICE_ACTIVITY&&!y.default.isSelfDeaf()){b[E.GlobalKeybindActions.PUSH_TO_MUTE].isPressed=e;o.default.setTemporarySelfMute(e)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},
r[E.GlobalKeybindActions.TOGGLE_MUTE]={onTrigger:function(){return o.default.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.TOGGLE_DEAFEN]={onTrigger:function(){o.default.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.TOGGLE_VOICE_MODE]={onTrigger:function(){var e=y.default.getMode()===E.InputModes.PUSH_TO_TALK?E.InputModes.VOICE_ACTIVITY:E.InputModes.PUSH_TO_TALK;o.default.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.TOGGLE_OVERLAY]={onTrigger:function(){var e=m.default.enabled;i.default.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK]={onTrigger:function(e){var t=m.default.getFocusedPID();null!=t&&(m.default.isReady(t)||m.default.isCrashed(t))&&(e?i.default.setUILocked(!g.default.isUILocked(t),t):i.default.setInputLocked(!m.default.isInputLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}},r[E.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]={
onTrigger:function(){var e=m.default.getFocusedPID();null!=e&&(null!=e||!1)&&g.default.isPinned(E.OverlayWidgets.TEXT)&&m.default.isReady(e)&&m.default.isInputLocked(e)&&i.default.activateRegion(E.OverlayActiveRegions.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING]={onTrigger:function(){var e=_.default.getCurrentUser();if(null!=e){var t=v.default.getActiveStreamForUser(e.id);if(null!=t&&e.id===t.ownerId)return(0,u.stopStream)((0,d.encodeStreamKey)(t));(0,c.default)()}},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.TOGGLE_STREAMER_MODE]={onTrigger:function(){l.default.setEnabled(!h.default.enabled)},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.NAVIGATE_BACK]={onTrigger:function(){return(0,f.back)()},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.NAVIGATE_FORWARD]={onTrigger:function(){return(0,f.forward)()},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.SOUNDBOARD]={onTrigger:function(){
return(0,p.openSoundboardWindow)(!0)},keyEvents:{keyup:!1,keydown:!0}},r[E.GlobalKeybindActions.SOUNDBOARD_HOLD]={onTrigger:function(e){e?(0,p.openSoundboardWindow)(!1):(0,p.closeSoundboardWindow)()},keyEvents:{keyup:!0,keydown:!0}},r),C=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.wait((function(){return a.default.dispatch({type:E.ActionTypes.KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS,keybinds:b})}))};n._terminate=function(){};return t}(s.default));t.default=C},778885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=I(n(667294)),o=O(n(294184)),i=n(536211),u=O(n(415275)),l=O(n(678875)),s=n(139982),d=O(n(30098)),c=O(n(790597)),f=O(n(956117)),p=O(n(889167)),v=O(n(776360)),y=I(n(465537)),h=O(n(930409)),_=n(770348),m=O(n(247001)),g=O(n(5459)),E=O(n(944659));function O(e){
return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}var P=function(){var e=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuildId()}),[]),t=(0,i.useStateFromStores)([d.default],(function(){return d.default.getGuild(e)}),[e]),n=(0,i.useStateFromStores)([h.default],(function(){return h.default.getHistorySnapshot()}),[]),r=a.useState(!1),O=r[0],S=r[1];if(null==t)return null;var I=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);e.prev=1;e.next=4;return u.default.joinGuild(t.id,{source:_.JoinGuildSources.NOTICE_BAR});case 4:r=e.sent
;y.trackGuildJoinClicked(t.id);t.hasVerificationGate()&&null!=(null===(n=r.body)||void 0===n?void 0:n.member_verification_form)&&(0,l.default)(t.id);e.next=12;break;case 9:e.prev=9;e.t0=e.catch(1);S(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return b("div",{className:(0,o.default)(g.default.notice,E.default.notice)},void 0,b(f.default,{look:f.default.Looks.OUTLINED,color:f.default.Colors.WHITE,size:f.default.Sizes.NONE,className:(0,o.default)(g.default.button,g.default.back),innerClassName:g.default.iconButton,onClick:function(){var e=(0,s.getHistory)();null!=n&&null!=n.location?(0,s.replaceWith)(T({},n.location)):e.goBack()}},void 0,b(p.default,{width:16,height:16,className:g.default.arrow}),m.default.Messages.BACK),b(v.default,{
className:g.default.header},void 0,m.default.Messages.LURKER_MODE_NAG_BAR_HEADER),b(f.default,{className:g.default.button,look:f.default.Looks.OUTLINED,color:f.default.Colors.WHITE,size:f.default.Sizes.NONE,submitting:O,onClick:I},void 0,m.default.Messages.LURKER_MODE_NAG_BAR_BUTTON.format({guild:t.name})))};P.displayName="LurkerModeNotice";var A=P;t.default=A},316200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=u(n(636602)),o=u(n(177230)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).clearErrorTimeout=new r.Timeout;t.handleNoiseCancellationError=function(){
t.clearErrorTimeout.start(3e3,(function(){return a.default.dispatch({type:i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR_RESET})}))};return t}var n=t.prototype;n._initialize=function(){a.default.subscribe(i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR,this.handleNoiseCancellationError)};n._terminate=function(){this.clearErrorTimeout.stop();a.default.unsubscribe(i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR,this.handleNoiseCancellationError)};return t}(o.default));t.default=s},999607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(118777)),i=u(n(353326));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){return e.toFixed(0)+"%"},c=a.forwardRef((function(e,t){var n=e.value,r=e.minValue,u=void 0===r?0:r,l=e.maxValue,c=void 0===l?100:l,f=e.onChange,p=e.renderValue,v=void 0===p?d:p,y=e["aria-label"],h=a.useRef(null)
;a.useImperativeHandle(t,(function(){return{focus:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.focus()},blur:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.blur()},activate:function(){return!1}}}),[]);return s("div",{className:i.default.sliderContainer},void 0,a.createElement(o.default,{ref:h,mini:!0,handleSize:16,className:i.default.slider,initialValue:n,minValue:u,maxValue:c,onValueChange:f,asValueChanges:f,onValueRender:v,orientation:"horizontal","aria-label":y}))}));t.default=c},960736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MessageNoticeBanner=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(157358));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.bannerIcon,n=e.bannerHeader,r=e.bannerSubtext,i=e.containerStyles,u=e.headerStyles,s=e.children;return l("div",{className:o.default.spamBanner},void 0,l("div",{className:(0,a.default)(o.default.bannerTextContainer,i)
},void 0,"string"==typeof t?l("img",{src:t,alt:"",className:o.default.bannerIcon}):t,l("div",{className:o.default.bannerText},void 0,l("div",{className:(0,a.default)(o.default.bannerHeader,u)},void 0,n),l("div",{className:o.default.bannerSubtext},void 0,r))),l("div",{className:o.default.actionButtons},void 0,s))}s.displayName="MessageNoticeBanner"},486030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=c(n(667294)),a=s(n(636602)),o=s(n(177230)),i=c(n(108101)),u=n(194322),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this)._openReportMessageModal=function(e){var t=e.channel,n=e.message;(0,u.openModal)((function(e){return r.createElement(i.default,f({channel:t,message:n},e))}),{modalKey:i.REPORT_MESSAGE_MODAL_KEY})};return t}var n=t.prototype
;n._initialize=function(){a.default.subscribe(l.ActionTypes.REPORT_MESSAGE_MODAL_OPEN,this._openReportMessageModal)};n._terminate=function(){a.default.unsubscribe(l.ActionTypes.REPORT_MESSAGE_MODAL_OPEN,this._openReportMessageModal)};return t}(o.default));t.default=v},590886:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.removeAccount=function(e){o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_REMOVE_ACCOUNT,userId:e})};t.switchAccount=function(e){var t=r.default.getToken(e);if(null==t){o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE,userId:e});return}o.default.dispatch({type:d.ActionTypes.LOGOUT,isSwitchingAccount:!0});i.default.loginToken(t,!0);(0,u.transitionTo)(d.Routes.ME)};t.validateMultiAccountTokens=function(){var e=l.default.getId();s.default.getUsers().forEach(function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var i,u,l,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.id
;if(u=r.default.getToken(i)){t.next=5;break}o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE,userId:i});return t.abrupt("return");case 5:o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST,userId:i});t.prev=6;t.next=9;return a.default.get({url:d.Endpoints.ME,headers:{authorization:u},retries:3});case 9:l=t.sent;t.next=17;break;case 12:t.prev=12;t.t0=t.catch(6);s=401===(null===t.t0||void 0===t.t0?void 0:t.t0.status)||403===(null===t.t0||void 0===t.t0?void 0:t.t0.status);o.default.dispatch({type:s?d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS,userId:i});return t.abrupt("return");case 17:o.default.dispatch({type:e===i?d.ActionTypes.CURRENT_USER_UPDATE:d.ActionTypes.USER_UPDATE,user:l.body});o.default.dispatch({type:d.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS,userId:i});case 19:case"end":return t.stop()}}),t,null,[[6,12]])})),function(){var e=this,n=arguments
;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}())};var r=c(n(653795)),a=c(n(118915)),o=c(n(636602)),i=c(n(939949)),u=n(139982),l=c(n(423046)),s=c(n(915574)),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}},393742:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useMultiAccountUsers=function(){var e=(0,a.useStateFromStoresObject)([u.default],(function(){return{isLoading:u.default.getIsValidatingUsers(),multiAccountUsers:u.default.getUsers()}}));r.useEffect((function(){o.default.wait((function(){i.validateMultiAccountTokens()}))}),[]);return e};var r=d(n(667294)),a=n(536211),o=l(n(636602)),i=d(n(590886)),u=l(n(915574));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}},359150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){
var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}var l=i("rect",{width:232,height:72,rx:36,fill:"#fff"}),s=i("g",{
clipPath:"url(#prefix__clip0_1283_59574)"},void 0,i("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint0_linear_1283_59574)"}),i("path",{d:"M37.243 35.366l3.455-22.103a3.098 3.098 0 013.217-2.68 3.157 3.157 0 013.038 3.634l-3.395 22.876-6.315-1.727z",fill:"#E66CA5"}),i("path",{d:"M40.936 31.315l2.979-13.881a.476.476 0 01.536-.358c.238.06.417.239.357.477l-1.906 13.583-1.966.179z",fill:"#F085B7"}),i("path",{d:"M40.698 13.264a3.157 3.157 0 011.132-2.026c-.536 3.634-1.55 10.068-2.979 20.792l-1.132.178 2.979-18.944z",fill:"#FFABBB"}),i("path",{d:"M18.357 93.928L9.897 52.94a.894.894 0 01.835-1.073h4.17a.953.953 0 01.894.715l8.578 41.345h-6.017z",fill:"#6E2B17"}),i("path",{d:"M39.745 55.442H14.068v4.522h25.677v-4.522z",fill:"#6E2B17"}),i("path",{d:"M25.923 12.549a3.932 3.932 0 00-2.264 4.885l6.434 18.826 8.281-2.443-7.387-19.064a3.932 3.932 0 00-5.064-2.204z",fill:"#E66CA5"}),i("path",{
d:"M32.298 31.553l3.276-.477-4.527-11.26a1.191 1.191 0 00-1.728-.655 1.251 1.251 0 00-.655 1.49l3.634 10.902z",fill:"#F085B7"}),i("path",{d:"M30.51 31.553l-6.374-17.515a3.992 3.992 0 00-.477 3.396l4.885 14.357 1.966-.238z",fill:"#FFA3B5"}),i("path",{d:"M46.319 28.902l-24.281 3.154a6.374 6.374 0 00-5.5 7.142l.022.171a6.374 6.374 0 007.142 5.5l24.281-3.153a6.375 6.375 0 005.5-7.142l-.022-.172a6.374 6.374 0 00-7.142-5.5z",fill:"#FF85AB"}),i("path",{d:"M27.294 66.702c-1.49-1.31-2.86-2.562-3.158-3.098-.298-.536.179-.596.953-.894.775-.298 1.31.655 2.085 2.145.775 1.49 1.43 3.038.12 1.847z",fill:"#F2C591"}),i("path",{d:"M47.608 50.915L25.864 54.37c-1.43 1.25-1.55 1.549-2.562 2.442-2.92 2.562-3.694 4.647-3.753 6.911-.179 3.157.119 3.038-.537 4.17-.655 1.132-1.31 1.55-.714 3.158a8.28 8.28 0 001.787 2.74H54.4c7.685-8.996.715-16.323-6.792-22.876z",fill:"#F7E5BC"}),i("path",{
d:"M50.826 73.791H27.77s.12-2.025.239-7.208-.894-8.758-4.707-9.77c.775-.775 1.609-1.61 2.562-2.443l21.745-3.396c1.43 1.251 2.86 2.502 4.17 3.813a93.885 93.885 0 01-.953 19.004z",fill:"#1F3A70"}),i("path",{d:"M47.609 50.974h-.298l-.298.358a58.619 58.619 0 01-3.455 9.472s.119 1.191 1.727-1.132a25.974 25.974 0 003.694-7.506l-1.37-1.192zM28.306 54.37c4.23 5.064 5.66 6.256 7.209 7.268 1.549 1.013.238-.536-1.37-2.919a313.091 313.091 0 01-3.515-5.362l-2.324 1.013z",fill:"#172E5C"}),i("path",{d:"M29.974 57.349s-.178.417-1.131 1.013c-.954.595-1.132.893-1.251.715a5.184 5.184 0 00-3.634-2.92c.595-.655 1.25-1.25 1.966-1.906 3.276 1.37 4.05 3.098 4.05 3.098z",fill:"#244AB0"}),i("path",{d:"M45.702 50.915l-4.409 16.442-11.2-15.906 15.609-.536z",fill:"#D4BF9B"}),i("path",{d:"M36.17 56.693l8.4 2.205-3.157 5.004-5.243-6.255c-.715-.834-1.37-1.311 0-.954z",fill:"#CCAC89"}),i("path",{d:"M32.536 54.072l10.247 1.37c1.132.12 1.191-1.131 1.787-3.574l-11.08.834-.954 1.37z",fill:"#DE5D98"}),i("path",{
d:"M48.85 39.874L23.86 43.12a6.016 6.016 0 00-5.192 6.739 6.016 6.016 0 006.741 5.189l24.99-3.246a6.016 6.016 0 005.193-6.739 6.016 6.016 0 00-6.742-5.189z",fill:"#FF85AB"}),i("path",{d:"M50.17 51.808a6.136 6.136 0 005.421-6.493 6.017 6.017 0 00-4.05-5.183 6.492 6.492 0 002.025-5.54v-.18a6.256 6.256 0 00-7.09-5.48l-19.719 2.561c4.23 2.92 4.23 5.422 3.515 10.188-.05.726.116 1.452.477 2.085a9.353 9.353 0 01-1.013 10.723l20.434-2.68z",fill:"#F06EA8"}),i("path",{d:"M47.31 67.417l-4.11 3.217a.596.596 0 01-.894-.12L37.6 64.2a.715.715 0 01.12-.894l4.17-3.217a.655.655 0 01.893.12l4.647 6.314a.594.594 0 01-.12.894zM53.923 67.476l-4.945-.357a.476.476 0 01-.416-.417l.357-8.281a.476.476 0 01.477-.417l4.944.357a.476.476 0 01.417.477l-.357 8.221a.477.477 0 01-.477.417z",fill:"#BA4E5D"}),i("path",{d:"M54.061 61.886l-2.09-2.446-2.59 2.213 2.089 2.446 2.591-2.213z",fill:"#AD3B4B"}),i("path",{
d:"M53.983 66.344a.417.417 0 00.298-.536l-1.907-7.566-2.978-.238a.477.477 0 00-.477.417l-.357 8.28v.12a.417.417 0 00.357.12l5.064-.597z",fill:"#872C39"}),i("path",{d:"M53.328 66.285l-5.004.595a.477.477 0 01-.477-.298l-2.026-8.042a.36.36 0 01.187-.444.358.358 0 01.17-.033l5.005-.655a.476.476 0 01.477.298l2.025 8.042a.417.417 0 01-.357.537z",fill:"#BA4E5D"}),i("path",{d:"M51.773 61.16L49.2 59.23l-2.046 2.725 2.573 1.931 2.046-2.725zM44.153 63.485h-3.217v3.407h3.217v-3.407z",fill:"#AD3B4B"}),i("path",{d:"M50.35 65.153l-3.337-7.209-.834.12a.358.358 0 00-.358.476l2.026 7.983 2.204-.774a.477.477 0 00.298-.596zM42.783 60.208a.655.655 0 00-.894-.119l-1.549 1.192 3.217 7.03a.358.358 0 00.477.178l3.276-1.072a.596.596 0 00.12-.894l-4.647-6.315z",fill:"#872C39"}),i("path",{d:"M49.753 66.106l-5.42 1.787a.476.476 0 01-.537-.238L40.34 60.15c-.12-.239 0-.477.297-.596L46 57.766a.477.477 0 01.536.238l3.456 7.506a.414.414 0 01-.082.504.417.417 0 01-.157.092z",fill:"#BA4E5D"}),i("path",{
d:"M51.48 62.949c2.026 1.012 4.826 2.68 4.826 2.68a3.575 3.575 0 011.668 2.8v.537a3.574 3.574 0 01-3.514 3.693c-.12.06-.239 0-.358 0a3.277 3.277 0 01-2.383-1.37 20.37 20.37 0 00-2.145-2.502c-.417-.417-1.548-1.073-1.906-1.43-1.191-1.31-.953-1.906 0-3.396s1.549-2.144 3.813-1.012z",fill:"#F57FB5"}),i("path",{d:"M37.71 41.344c.518-.407.459-1.344-.131-2.094-.59-.75-1.488-1.028-2.005-.621-.517.407-.458 1.345.132 2.094.59.75 1.488 1.028 2.005.621zM47.629 38.217c.16-.87-.207-1.668-.82-1.78-.613-.113-1.239.502-1.399 1.372-.16.871.207 1.668.82 1.78.613.113 1.239-.502 1.399-1.372z",fill:"#1E1C2B"}),i("path",{d:"M40.757 43.468l1.55 1.013a2.025 2.025 0 002.918-.834l.477-1.013",stroke:"#BA4173",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round"}),i("path",{d:"M22.051 43.647c-1.43-.358-3.157-.834-3.872-.894a6.554 6.554 0 002.502 1.787l-.239.239 3.694-.18c1.31-.178.775-.297-2.085-.952z",fill:"#F071AB"}),i("path",{
d:"M20.676 36.013c.937-1.015 1.383-2.128.996-2.485-.387-.357-1.46.177-2.397 1.192-.937 1.016-1.383 2.129-.996 2.486.387.356 1.46-.177 2.397-1.193z",fill:"#FFA1BD"}),i("path",{d:"M20.443 67.357l3.276-1.37c.655-.238.06-.477-1.43-1.132-1.489-.655-1.787-.894-1.906.417-.12 1.31-.596 2.323.06 2.085z",fill:"#FAD596"}),i("path",{d:"M28.544 66.642c.656-3.336.596-4.23.834-4.289.239-.06.834.775 1.311 1.787.477 1.013-2.145 2.502-2.145 2.502z",fill:"#172E5C"}),i("path",{d:"M57.974 68.43a3.573 3.573 0 00-1.668-2.8s-2.264-1.37-4.17-2.324a12.57 12.57 0 00-2.74 3.575 3.756 3.756 0 00-.477 1.37l.715.536a26.082 26.082 0 012.145 2.502 3.455 3.455 0 001.668 1.251c.805.23 1.663.188 2.442-.119a3.635 3.635 0 002.085-3.574v-.417z",fill:"#F073AB"}),i("path",{d:"M47.65 61.933l-2.874-1.446-1.53 3.045 2.873 1.445 1.531-3.044z",fill:"#AD3B4B"}),i("path",{d:"M12.4 53.476a2.204 2.204 0 100-4.408 2.204 2.204 0 000 4.408z",fill:"#6E2B17"})),d=i("g",{opacity:.5,fill:"#4F5660"},void 0,i("circle",{cx:82,cy:36,r:2
}),i("circle",{cx:90,cy:36,r:2}),i("circle",{cx:98,cy:36,r:2})),c=i("g",{clipPath:"url(#prefix__clip1_1283_59574)",fill:"#4F5660"},void 0,i("path",{d:"M121.04 25.2l-8.16.12c-.48 0-.72.72-.36 1.08l1.56 1.44c.48.48.48 1.2 0 1.68l-1.68 1.8c-1.32 1.44-1.32 3.72.12 5.04.48.48 1.2.48 1.68 0l2.52-2.64c.96-.96 2.4-.96 3.36 0l.72.6c.36.36 1.08.12.96-.48l-.12-8.04c0-.36-.24-.6-.6-.6zM110.72 47.4l8.16-.12c.48 0 .84-.72.36-1.08l-1.56-1.44a1.16 1.16 0 010-1.68l1.68-1.68c1.44-1.44 1.32-3.72-.12-5.04a1.16 1.16 0 00-1.68 0L115.04 39c-.96.96-2.4.96-3.36 0l-.72-.72c-.36-.36-.96-.12-.96.48l.12 8.04c0 .36.36.6.6.6z"})),f=i("g",{opacity:.5,fill:"#4F5660"},void 0,i("circle",{cx:134,cy:36,r:2}),i("circle",{cx:142,cy:36,r:2}),i("circle",{cx:150,cy:36,r:2})),p=i("g",{clipPath:"url(#prefix__clip2_1283_59574)"},void 0,i("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint1_linear_1283_59574)"}),i("path",{d:"M197.886 21.806c1.902-7.234 2.816-8.517 7.188.815l-7.188-.815z",fill:"#D4E1FF"}),i("path",{
d:"M246.129 126.042c-5.929 2.098-21.615-.692-23.097-4.568-1.482-3.876 12.845-54.809 17.637-57.13 4.793-2.32 18.897 2.05 22.627 15.9 3.73 13.85-3.902 14.789-3.902 14.789s2.371 20.244 2.717 22.417c.346 2.173 1.556 5.95-2.717 6.419-4.274.469-7.115 0-13.265 2.173z",fill:"#4D90E8"}),i("path",{d:"M179.878 37.261l-.173.149c2.618 2.469 6.596 8.813 12.647 8.493 0 0 4.891 8.937 10.153 7.95 5.262-.988 9.164-8.395 9.164-8.395a27.582 27.582 0 002.989-8.197c-.074-.666-.321-1.185-.79-1.506-3.755-2.493-31.248-.493-33.99 1.506z",fill:"#1C1B29"}),i("path",{d:"M187.857 18.942l5.508 1.481a12.878 12.878 0 015.188-1.036c8.398 0 12.869 6.814 12.869 15.183 0 8.37-4.471 15.184-12.869 15.184-8.399 0-12.845-6.814-12.845-15.184a21.9 21.9 0 01.296-3.679c.569-3.21.418-6.508-.445-9.653a1.879 1.879 0 012.298-2.296z",fill:"#B3CAFF"}),i("path",{
d:"M211.126 38.2c-4.076 1.802-8.275-.1-12.326-2.42-4.422-2.543-7.263-8.987-8.473-11.036-1.21-2.05-2.94-2.444-4.125-5.431a1.852 1.852 0 00-.642 1.925 21.983 21.983 0 01.444 9.654 21.9 21.9 0 00-.296 3.678c0 8.37 4.471 15.184 12.845 15.184 7.139 0 11.437-4.938 12.573-11.555z",fill:"#8DAEF7"}),i("path",{d:"M210.385 35.705c0 6.518-3.878 11.802-8.646 11.802-4.767 0-8.621-5.284-8.621-11.802 0-10.764 6.694-1.95 11.462-1.95 4.767 0 5.928-7.283 5.805 1.95z",fill:"#FCFDFF"}),i("path",{d:"M201.882 41.99c.463-.039.785-.687.722-1.448-.064-.761-.491-1.346-.953-1.308-.462.04-.785.688-.721 1.448.064.761.49 1.347.952 1.308zM207.557 40.729c.138-.751-.12-1.428-.577-1.511-.456-.084-.938.457-1.076 1.208-.137.75.121 1.427.577 1.511.456.084.938-.457 1.076-1.208z",fill:"#1C1B29"}),i("path",{d:"M194.007 60.84s-5.755 4.369-11.288 2.073a.914.914 0 01-.544-1.086c.519-1.68 2.495-5.654 9.584-5.259 9.017.518 2.248 4.271 2.248 4.271z",fill:"#A62D69"}),i("path",{
d:"M192.352 53.21s-1.778-4.444-9.312-3.26a.868.868 0 00-.685.545.855.855 0 00.141.863 20.874 20.874 0 0011.091 6.617c8.004 1.728-1.235-4.765-1.235-4.765z",fill:"#A62D69"}),i("path",{d:"M193.785 57.728c-.321 3.16-5.41 3.284-6.052-.69-.642-3.976 2.297-4.593 4.397-3.284 2.1 1.308 1.655 3.974 1.655 3.974z",fill:"#79A0F7"}),i("path",{d:"M214.658 37.261z",fill:"#DE548C"}),i("path",{
d:"M226.639 116.734c-3.508.741-14.006-9.258-14.006-9.258 2.89 9.085 3.384 11.801 3.878 14.146.494 2.346.197 2.815 0 4.469-.198 1.654-.198 1.605.79 3.679.988 2.073 1.631 3.53 1.828 4.592a5.839 5.839 0 01-.074 1.851h-44.142s-.223-.987.716-3.728c.939-2.74 3.088-5.011 4.273-6.74 1.186-1.728 1.112-1.555.791-2.271-1.482-3.506.914-2.74 1.927-7.999 1.012-5.259 1.334-30.343 3.581-40.588 2.248-10.246 5.682-12.666 5.929-21.134-4.175-3.9-14.525-14.048-12.425-16.344 2.371 2.222 9.485 3.309 15.29 3.26a2.42 2.42 0 012.322 1.629c.988 2.987 3.483 8.888 7.411 8.122 3.928-.765 6.842-7.777 7.658-10.32a2.54 2.54 0 011.012-1.358 4.324 4.324 0 001.26-1.48c.544 4.863-7.534 17.75-7.534 17.75s2.001 17.48 6.003 23.232c4.001 5.753 15.241 5.753 15.512 11.234.272 5.48 1.483 26.515-2 27.256z",fill:"#BD4070"}),i("path",{
d:"M192.698 42.742c-2.915-.173-6.842-.667-13.141-3.802 1.012 3.678 9.041 11.48 12.573 14.813a24.5 24.5 0 01-1.408 7.703c3.186 4.518 7.04 1.58 7.732 14.27.296 5.407 4.273 12.591 8.423 20.368 4.15 7.777 4.718-6.518 4.545-13.554-.099-3.827-.864-8.567-1.68-13.085-1.753-6.839-2.618-14.443-2.618-14.443s5.657-9.036 7.188-14.813c-.386.24-.688.594-.864 1.012a106.604 106.604 0 01-5.138 10.098c-1.952 3.284-5.583 4.913-9.758-1.555-4.174-6.469-2.717-6.814-5.854-7.012z",fill:"#A12C66"}),i("path",{d:"M209.298 82.837c-1.087-.223-2.248-1.605-6.151-4.222 0 0-.173-3.308-4.693-2.889 0 0-1.828-4.74-3.335-8.986-1.507-4.247-5.434-1.852-6.25 2.468-1.827 9.826-2.47 28.022.742 34.515 1.877 3.802 3.705 4.592 10.547 6.543 1.482.716 4.743-4.716 6.373-13.382 2.174-11.53 2.767-12.196 2.767-14.047z",fill:"#BD4070"}),i("path",{d:"M205.984 24.434c.285-.416-.442-1.41-1.624-2.218-1.182-.809-2.371-1.127-2.656-.71-.285.415.442 1.409 1.624 2.217 1.182.81 2.371 1.128 2.656.711z",fill:"#D4E1FF"}),i("path",{
d:"M194.526 30.645c4.348 2.098 5.855 4.765 9.338 4.666 3.483-.099 4.841-1.778 6.249-4.024-.568-1.235-2.124 2.468-5.533 2.468-3.409 0-7.855-4.567-10.054-3.11z",fill:"#8DAEF7"}),i("path",{d:"M196.774 67.233c2.495 3.506-.864-7.036-.864-7.036h-4.768c-.642 2.197-1.531 4.172-2.47 6.567 1.433-3.605 4.471-4.592 8.102.469z",fill:"#A12C66"}),i("path",{d:"M224.959 53.136l1.853-.815c.049-.024.049-.074 0-.074l-1.853-.84h-.025l-.839-1.85c0-.05-.05-.05-.075 0l-.815 1.85h-.024l-1.878.84c-.025 0-.025.05 0 .074l1.878.815h.024l.815 1.876h.075l.839-1.876h.025z",fill:"#A1F7D7"})),v=i("defs",{},void 0,i("clipPath",{id:"prefix__clip0_1283_59574"},void 0,i("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"#fff"})),i("clipPath",{id:"prefix__clip1_1283_59574"},void 0,i("path",{fill:"#fff",transform:"translate(110 25.2)",d:"M0 0h11.76v22.2H0z"})),i("clipPath",{id:"prefix__clip2_1283_59574"},void 0,i("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"#fff"})),i("linearGradient",{id:"prefix__paint0_linear_1283_59574",
x1:36,y1:64.254,x2:36,y2:24.141,gradientUnits:"userSpaceOnUse"},void 0,i("stop",{stopColor:"#7196FF"}),i("stop",{offset:1,stopColor:"#2A5EE8"})),i("linearGradient",{id:"prefix__paint1_linear_1283_59574",x1:196,y1:64.254,x2:196,y2:24.141,gradientUnits:"userSpaceOnUse"},void 0,i("stop",{stopColor:"#7196FF"}),i("stop",{offset:1,stopColor:"#2A5EE8"})));function y(e){return a.createElement("svg",u({width:232,height:72,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l,s,d,c,f,p,v)}y.displayName="MultiAccountWelcomeIcon"},719637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(972247)),i=v(n(956117)),u=v(n(776360)),l=v(n(308920)),s=v(n(359150)),d=n(198622),c=n(770348),f=v(n(247001)),p=v(n(342983));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){o.default.set(d.MULTIACCOUNT_TOOLTIP_SEEN_KEY,"true");e();l.default.track(c.AnalyticEvents.UPSELL_CLICKED,{type:"multi_account_cta_tooltip",
action:"dismiss"})}function m(e){var t=e.markAsDismissed;a.useEffect((function(){l.default.track(c.AnalyticEvents.UPSELL_VIEWED,{type:"multi_account_cta_tooltip"});return function(){_(t);window.removeEventListener("keydown",n)}}),[]);var n=function(e){e.keyCode===c.KeyboardKeys.ESCAPE&&_(t)};window.addEventListener("keydown",n);return h("div",{className:p.default.container},void 0,h(s.default,{className:p.default.icon}),h(u.default,{className:p.default.title},void 0,f.default.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_TITLE),h(u.default,{size:u.default.Sizes.SIZE_14,className:p.default.subTitle},void 0,f.default.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_SUBTITLE.format({maxAltAccounts:d.MAX_ACCOUNTS-1})),h(i.default,{look:i.default.Looks.INVERTED,fullWidth:!0,onClick:function(){return _(t)}},void 0,f.default.Messages.GOT_IT),h("div",{className:p.default.pointer}))}m.displayName="MultiAccountCTATooltip"},241505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(){(0,i.openModalLazy)(c(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(25108)]).then(n.bind(n,825108));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){o.default.dispatch({type:l.ActionTypes.CLEAR_AUTHENTICATION_ERRORS});o.default.dispatch({type:l.ActionTypes.LOGIN_RESET,isMultiAccount:!0})},modalKey:u.SWITCH_ACCOUNTS_MODAL_KEY})};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(636602))&&r.__esModule?r:{default:r},i=n(194322),u=n(198622),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}},678620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useMultiAccountMenuItems=function(){var e=(0,o.useStateFromStores)([s.default],(function(){return s.default.getCurrentUser()})),t=(0,o.useStateFromStores)([l.default],(function(){return l.default.hidePersonalInformation})),n=(0,_.useMultiAccountUsers)().multiAccountUsers,r=n.map((function(n){
var r=new u.default(n),a=r.id===(null==e?void 0:e.id),o=n.tokenStatus===h.MultiAccountTokenStatus.INVALID,l=t?null:"#"+r.discriminator;return C(i.MenuItem,{id:r.id,focusedClassName:O.default.focused,label:function(){return C("div",{className:O.default.userMenuItem},void 0,C(f.default,{src:r.getAvatarURL(void 0,40),size:f.default.Sizes.SIZE_24,"aria-label":n.username}),C("div",{className:O.default.userMenuUsername},void 0,C(p.default,{className:O.default.userMenuText},void 0,r.toString()),C(p.default,{className:O.default.userMenuDiscriminator},void 0,l)),a&&C(d.default,{color:g.Colors.BRAND_500,backgroundColor:g.Colors.WHITE,width:18,height:18,className:O.default.activeIcon}),o&&C(c.default,{color:g.Colors.STATUS_RED,backgroundColor:g.Colors.WHITE,width:15,height:15,className:O.default.activeIcon}))},action:function(){o?(0,m.default)():function(t){if(t!==(null==e?void 0:e.id)){v.default.track(g.AnalyticEvents.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{
section:g.AnalyticsSections.PROFILE_POPOUT}});y.switchAccount(t)}}(r.id)}},r.id)}));r.push(a.createElement(a.Fragment,null,T,C(i.MenuItem,{id:"manage-accounts",label:E.default.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNTS,action:m.default})));return r};var r,a=b(n(667294)),o=n(536211),i=n(145122),u=S(n(759027)),l=S(n(663303)),s=S(n(728429)),d=S(n(474026)),c=S(n(417184)),f=S(n(628551)),p=S(n(776360)),v=S(n(308920)),y=b(n(590886)),h=n(915574),_=n(393742),m=S(n(241505)),g=n(770348),E=S(n(247001)),O=S(n(519276));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=C(i.MenuSeparator,{})},594570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ICON_SIZE=void 0;t.ICON_SIZE=64},737050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mount=function(){a.default.dispatch({type:o.ActionTypes.NOW_PLAYING_MOUNTED})};t.unmount=function(){a.default.dispatch({type:o.ActionTypes.NOW_PLAYING_UNMOUNTED})};var r,a=(r=n(636602))&&r.__esModule?r:{
default:r},o=n(770348)},4865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,i.useStateFromStoresObject)([c.default,s.default,d.default],(function(){return{nowPlayingCards:c.default.nowPlayingCards,loaded:c.default.loaded,needsRefresh:s.default.needsRefresh(),fetching:s.default.getFetching(),currentUser:d.default.getCurrentUser()}})),t=e.nowPlayingCards,n=e.loaded,r=e.needsRefresh,o=e.fetching,l=e.currentUser;a.useEffect((function(){u.default.wait((function(){return h.mount()}));return function(){return u.default.wait((function(){return h.unmount()}))}}),[null==l?void 0:l.id]);a.useEffect((function(){r&&!o&&N()}),[r,o]);var f=null;if(!n)return A("div",{className:I.default.emptyCard},void 0,R);f=t.length>0?t.map((function(e){var t=e.party;return A(M,{party:t},t.id)})):A("div",{className:I.default.emptyCard},void 0,A(v.default,{tag:v.default.Tags.H5,size:v.default.Sizes.SIZE_16,className:I.default.emptyHeader
},void 0,S.default.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER),A(y.default,{color:y.default.Colors.CUSTOM,className:I.default.emptyText},void 0,S.default.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY));return a.createElement(a.Fragment,null,f)};var r,a=T(n(667294)),o=b(n(496486)),i=n(536211),u=b(n(636602)),l=T(n(314022)),s=b(n(538983)),d=b(n(728429)),c=b(n(730655)),f=b(n(160629)),p=b(n(80828)),v=b(n(971639)),y=b(n(776360)),h=T(n(737050)),_=b(n(133260)),m=b(n(317134)),g=b(n(863946)),E=b(n(854923)),O=b(n(884809)),S=b(n(247001)),I=b(n(399978));function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=(0,O.default)((function(e){var t=e.party,n=e.onUserContextMenu,r=e.onChannelContextMenu,o=A(m.default,{party:t,onUserContextMenu:n
}),i=A(_.default,{party:t,onChannelContextMenu:r}),u=A("div",{},void 0,o,i);return null!=o||null!=i?A(f.default,{position:f.default.Positions.LEFT,renderPopout:function(e){var n=e.closePopout;return A(E.default,{party:t,close:n})},spacing:8},void 0,(function(e,t){var n=t.isShown;return a.createElement(g.default,P({},e,{className:I.default.itemCard,active:n}),u)})):null})),N=o.default.throttle((function(){return l.fetchUserAffinities(!1)}),3e5),R=A(p.default,{})},133260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.party,n=e.onChannelContextMenu,r=t.voiceChannels,y=t.currentActivities,h=t.partiedMembers,_=t.applicationStreams,O=t.guildContext,S=[],I=function(e){var t,n,r=S.length;if(0!==r){var a=S[r-1],o=""+(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:""),i=(""+(null!==(n=null==a?void 0:a.key)&&void 0!==n?n:"")).startsWith("game")&&o.startsWith("rich-presence");S.push(g(f.default.Separator,{inset:i},"sep-"+o));S.push(e)
}else S.push(e)};r.length>0&&r.forEach((function(e){var t=e.members,r=e.channel,a=e.guild;I(g(f.default.VoiceSection,{guild:a,channel:r,members:t,partySize:E(t),onChannelContextMenu:n,onGuildClick:function(){var e=s.default.getChannelId(a.id);(0,l.transitionToGuild)(a.id,e)}},"voice-"+r.id))}));for(var b,C=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.currentActivities);!(b=C()).done;){var T=b.value.activity;if(null!=T){var P=c.createBody(T);if(null!=P){I(P);break}}}_.length>0&&_.forEach((function(e){var t=e.stream,n=e.streamUser,r=e.activity;I(g(f.default.ApplicationStreamingSection,{guildId:null==O?void 0:O.id,user:n,activity:r,applicationStream:t,onPreviewClick:function(){a.default.selectVoiceChannel(t.channelId);(0,o.watchStreamAndTransitionToStream)(t)}},"application-stream-"+t.ownerId))}));y.forEach((function(e,t){var n=e.activity,a=e.game,o=e.playingMembers,l=e.activityUser;if(null==n||null==n.type)return null;if(y.length>1&&n.type===v.ActivityTypes.PLAYING&&!(0,i.hasRichActivity)(n)&&null!=a)I(g(f.default.GameSection,{icon:a.getIconURL(p.ICON_SIZE),name:a.name,partySize:{knownSize:o.length,unknownSize:0,totalSize:o.length},members:o
},"game-"+(n.session_id||t)+"-"+(n.application_id||t)));else if((0,u.default)(n)){var s,c=new Set(o.map((function(e){return e.id}))),_=null===(s=r.find((function(e){return null!=e})))||void 0===s?void 0:s.channel;null!=_&&I(g(f.default.EmbeddedActivitySection,{activity:n,participants:c,channel:_,guildId:_.guild_id},"embedded-activity-"+n.application_id))}else if(null==n.assets&&!(0,i.hasRichActivity)(n)||n.type!==v.ActivityTypes.PLAYING)if((0,i.isStreaming)(n)){var m=r.length>0&&r[0].members.length>1,E=o.length>1;I(g(f.default.TwitchSection,{guildId:null==O?void 0:O.id,activity:n,user:m||E?l:null,getAssetImage:d.getAssetImage},"streaming-"+(n.session_id||t)))}else(0,i.isListeningOnSpotify)(n)?I(g(f.default.SpotifySection,{activity:n,isSolo:1===h.length,partySize:{knownSize:o.length,unknownSize:0,totalSize:o.length},getAssetImage:d.getAssetImage,members:o},"spotify-"+(n.session_id||t)+"-"+l.id)):(0,i.isOnXbox)(n)&&I(g(f.default.XboxSection,{title:a.name
},"xbox-"+(n.session_id||t)));else I(g(f.default.RichPresenceSection,{activity:n,getAssetImage:d.getAssetImage},"rich-presence-"+(n.session_id||t)+"-"+l.id))}));return S.length>0?g(f.default.Body,{},void 0,S):null};_(n(667294));var r,a=y(n(136873)),o=n(123516),i=n(144166),u=y(n(762605)),l=n(139982),s=y(n(211136)),d=n(698243),c=_(n(101047)),f=y(n(863946)),p=n(594570),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){var n,r=e.length,a=0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var o=t.party.size;a=Math.max(o[0]-e.length,0);n=o[1]}else n=r+a;return{knownSize:r,unknownSize:a,totalSize:n}}},101047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createBody=function(e){var t,n=e.application_id;if(!n)return;var r=c[n]
;if(null!=(null==r?void 0:r.body)&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))){var a=r.body;return d("section",{className:l.default.section},"delegate-"+n,d(a,{activity:e}))}};t.createHeader=function(e){var t,n=e.application_id;if(!n)return;var r=c[n];if(null!=r&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e)))return r.createHeader(e)};t.shouldShowActivity=function(e){var t,n=e.application_id;if(!n)return!0;var r=c[n];return null==r||!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a,o,i=n(248414),u=n(808961),l=(r=n(885836))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=((a={})[u.STAGE_APPLICATION_ID]=new i.StageChannelNowPlayingDelegate,a)},317134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;v(n(667294));var r,a=f(n(441143)),o=n(144166),i=f(n(73393)),u=v(n(101047)),l=f(n(863946)),s=n(594570),d=n(770348),c=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function h(e){var t=e.party,r=e.onUserContextMenu,f=t.priorityMembers,p=t.guildContext,v=f[0],h=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=new Set(t.map((function(e){return e.user.id}))),a=n.filter((function(e){return!r.has(e.id)})),o=t[0].user.toString(),i=null!=t[1]?t[1].user.toString():null!=a[0]?a[0].toString():null;switch(n.length){case 1:return o;case 2:return c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:o,user2:i});default:return c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:o,user2:i,extras:n.length-2})}}(t),_=function(e){var t=e.priorityMembers,r=e.partiedMembers,f=e.voiceChannels,p=e.currentActivities,v=t.length,h=v+(r.length-v)===1,_=p[0];if(h&&null!=_){var m=_.activity,g=_.game,E=_.startedPlayingTime;if(null==m)return{subtitle:null,icon:null};var O=u.createHeader(m);if(null!=O)return O;switch(m.type){case d.ActivityTypes.PLAYING:return(0,o.isOnXbox)(m)?{
subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:y(l.default.Header.Icon,{src:l.default.Header.Icon.Src.XBOX})}:{subtitle:y(i.default,{start:E,location:i.default.Locations.ACTIVITY_FEED_NEW,messageProps:{name:m.name}}),icon:null!=g?y(l.default.Header.Icon,{src:null!=g.getIconURL(s.ICON_SIZE)?g.getIconURL(s.ICON_SIZE):n(534413)}):null};case d.ActivityTypes.STREAMING:return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=g&&null!=g.getIconURL(s.ICON_SIZE)?y(l.default.Header.Icon,{src:g.getIconURL(s.ICON_SIZE)}):null};case d.ActivityTypes.LISTENING:return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:y(l.default.Header.Icon,{src:l.default.Header.Icon.Src.SPOTIFY})};case d.ActivityTypes.WATCHING:return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=g&&null!=g.getIconURL(s.ICON_SIZE)?y(l.default.Header.Icon,{src:g.getIconURL(s.ICON_SIZE)}):null};default:return{
subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}if(0===p.length){if(f.length>0)return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};var S=p[0];if(null!=S){var I=S.activity;if(null!=I){var b=u.createHeader(I);if(null!=b)return b}if(null!=I&&I.type===d.ActivityTypes.LISTENING)return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:y(l.default.Header.Icon,{src:l.default.Header.Icon.Src.SPOTIFY})}}}else if(1===p.length){var C=p.find((function(e){return null!=e.activity}));if(null==C)throw new Error("Invalid Activity State - AF 2.0: No activity");var T=C.activity,P=C.game,A=C.startedPlayingTime;(0,a.default)(null!=T,"Activity was null somehow");return{subtitle:y(i.default,{start:A,location:i.default.Locations.ACTIVITY_FEED_NEW,messageProps:{name:T.name}}),icon:null!=P&&null!=P.getIconURL(s.ICON_SIZE)?y(l.default.Header.Icon,{src:P.getIconURL(s.ICON_SIZE)}):null}}return{
subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:y(l.default.Header.Icon,{src:l.default.Header.Icon.Src.MULTIPLE})}}(t),m=_.subtitle,g=_.icon;return y(l.default.Header,{priorityUser:v,guildId:null==p?void 0:p.id,title:h,subtitle:m,icon:g,onContextMenu:function(e){return r(e,v.user)}})}h.displayName="NowPlayingHeader"},863946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=q(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=$(n(294184)),i=$(n(213192)),u=n(536211),l=$(n(675060)),s=n(556470),d=$(n(155502)),c=$(n(309994)),f=$(n(93392)),p=$(n(853177)),v=$(n(969015)),y=$(n(319879)),h=$(n(663953)),_=$(n(93879)),m=$(n(205990)),g=$(n(818994)),E=$(n(678928)),O=$(n(314234)),S=$(n(645923)),I=n(830543),b=$(n(423046)),C=$(n(288356)),T=$(n(728429)),P=$(n(974661)),A=$(n(956117)),M=$(n(16941)),N=$(n(562475)),R=$(n(73393)),w=$(n(427370)),D=$(n(803949)),L=$(n(11888)),k=$(n(303213)),j=$(n(149982)),U=$(n(628551)),G=$(n(776360)),F=$(n(528175)),x=n(698243),W=n(71246),V=$(n(316681)),H=n(770348),B=n(418173),Y=$(n(247001)),z=$(n(885836)),K=["children","className"];function $(e){return e&&e.__esModule?e:{default:e}}function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(q=function(e){return e?n:t})(e)}function Z(){Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return Z.apply(this,arguments)}function X(e,t){X=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return X(e,t)}function Q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var J=64,ee=160,te=[14,14,12,12,10,8,6],ne=function(e,t){void 0===t&&(t=null);return Q(G.default,{className:(0,o.default)(z.default.sectionTitle,z.default.textContent,t),size:G.default.Sizes.SIZE_14},void 0,e)};ne.displayName="renderSectionTitle";var re=function(e,t){void 0===t&&(t=null);return Q(G.default,{className:(0,o.default)(z.default.textContent,t),size:G.default.Sizes.SIZE_12},void 0,e)};re.displayName="renderSectionText";var ae=(0,
l.default)((function(e){var t=e.message;return Q("div",{className:z.default.timestamp},void 0,t)})),oe=function(e){var t=e.children;return Q("section",{className:z.default.section},void 0,t)};oe.displayName="Section";var ie=function(e){var t,n=e.inset,r=e.className;return Q("div",{className:(0,o.default)(z.default.separator,(t={},t[z.default.inset]=n,t),r)})};ie.displayName="Separator";var ue=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;X(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.renderTimePlayed=function(){var e,t=this.props.activity,n=t.timestamps;if(null==n||!(0,p.default)(t)||(0,v.default)(t))return null;e=(0,f.default)(t)?Q(ae,{timestamps:n}):Q(R.default,{start:n.start,end:n.end,location:R.default.Locations.USER_ACTIVITY,className:z.default.playTime});return re(e)};r.render=function(){var e,t=this.props,r=t.activity,a=r.assets,i=r.details,u=r.state,l=r.application_id,s=t.getAssetImage
;return Q(oe,{},void 0,Q("div",{className:z.default.activitySection},void 0,null!=a&&0!==Object.keys(a).length?Q("div",{className:z.default.activitySectionAssets},void 0,Q("img",{alt:a.large_text||"",src:s(l,a.large_image,[ee,ee]),className:(0,o.default)(z.default.largeImage,(e={},e[z.default.largeImageMask]=null!=a.small_image,e))}),null!=a.small_image?Q("img",{alt:a.small_text||"",src:s(l,a.small_image,[J,J]),className:z.default.smallImage}):null):Q("div",{className:z.default.activitySectionAssets},void 0,Q("img",{alt:"",src:n(534413),className:z.default.largeImage})),Q("div",{},void 0,ne(i||Y.default.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=u?re(u):null,this.renderTimePlayed())))};return t}(a.Component);ue.displayName="RichPresenceSection";var le=Q("div",{}),se=function(e){var t,n=e.activity,r=n.assets,a=n.details,i=n.state,u=n.application_id,l=e.partySize,s=e.members,d=e.isSolo,c=e.getAssetImage;return Q(oe,{},void 0,Q("div",{className:z.default.spotifySection
},void 0,null!=r?Q("div",{className:z.default.activitySectionAssets},void 0,Q("img",{alt:r.large_text||"",src:c(u,r.large_image,[ee,ee]),className:(0,o.default)(z.default.largeImage,(t={},t[z.default.largeImageMask]=null!=r.small_image,t))}),d?null:Q(L.default,{className:z.default.smallImage,color:H.Colors.SPOTIFY})):le,Q("div",{},void 0,null!=a?ne(a):null,null!=i?re(i):null),Q(V.default,{minAvatarsShown:d?2:1,partySize:l,members:s})))};se.displayName="SpotifySection";var de=function(e){var t,r,a=e.activity,i=e.user,u=e.getAssetImage,l=e.guildId,s=a.name,f=a.details,p=a.assets,v=a.application_id;null!=p&&(0,y.default)(a)&&(r=Q(P.default,{className:z.default.twitchSectionPreviewWrapper,aspectRatio:16/9},void 0,Q(M.default,{href:(0,c.default)(a),tag:"a",target:"_blank"},void 0,Q("img",{alt:p.large_text||"",src:u(v,p.large_image,[900,500]),className:z.default.twitchSectionPreview}),Q("img",{src:n(182105),className:z.default.twitchSectionPlayButton,alt:""}))))
;return Q(oe,{},void 0,Q("div",{className:(0,o.default)((t={},t[z.default.twitchSectionSimple]=null==i,t[z.default.twitchSectionFull]=null!=i,t))},void 0,Q("img",{alt:"",src:d.default.get(H.PlatformTypes.TWITCH).icon.lightSVG,className:z.default.twitchSectionIcon}),Q("div",{},void 0,ne(s),null!=f?re(f):null),null!=i?Q(U.default,{src:i.getAvatarURL(l,24),"aria-label":i.username,className:z.default.twitchSectionAvatar,size:U.default.Sizes.SIZE_24}):null),r)};de.displayName="TwitchSection";var ce=function(e){var t,n=e.guild,r=e.channel,i=e.onGuildClick,u=e.partySize,l=e.members,s=e.onChannelContextMenu,d=a.useRef(null),c=(0,E.default)(r,!0);return Q(oe,{},void 0,a.createElement("div",{className:z.default.voiceSection,ref:d,onContextMenu:function(e){return s(e,r)}},Q(M.default,{onClick:i,"aria-hidden":!0,tabIndex:-1},void 0,Q("div",{className:z.default.voiceSectionAssets},void 0,null!=n.getIconURL(32)?Q("img",{alt:"",src:n.getIconURL(32)||void 0,className:(0,
o.default)(z.default.voiceSectionGuildImage,z.default.largeImageMask)}):Q("div",{className:z.default.voiceSectionNoGuildImageWrapper},void 0,Q("div",{className:z.default.voiceSectionNoGuildImage,style:{fontSize:null!==(t=te[n.acronym.length])&&void 0!==t?t:te[te.length-1]}},void 0,n.acronym)),Q("div",{className:z.default.voiceSectionIconWrapper},void 0,Q(j.default,{className:z.default.voiceSectionIcon})))),Q(M.default,{onClick:i,focusProps:{ringTarget:d}},void 0,Q("div",{className:z.default.voiceSectionDetails},void 0,ne(n.toString(),z.default.voiceSectionText),re(c,z.default.voiceSectionText))),Q(V.default,{partySize:u,members:l,guildId:n.id})))};ce.displayName="VoiceSection";var fe=function(e){var t=e.title;return Q(oe,{},void 0,Q("div",{className:z.default.xboxSection},void 0,Q(k.default,{className:z.default.xboxSectionIcon}),Q("div",{className:z.default.xboxSectionDetails},void 0,ne(t),re(Y.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX))))};fe.displayName="XboxSection"
;var pe=function(e){var t=e.icon,n=e.name,r=e.partySize,a=e.members;return Q(oe,{},void 0,Q("div",{className:z.default.gameSection},void 0,null!=t?Q("img",{alt:"",src:t,className:z.default.gameSectionIcon}):null,Q("div",{},void 0,ne(n),re(Y.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:r.totalSize}))),Q(V.default,{partySize:r,members:a})))};pe.displayName="GameSection";var ve=function(e){var t=e.activity,n=e.user,r=e.applicationStream,a=e.onPreviewClick,o=e.guildId,i=Q(P.default,{className:z.default.applicationStreamingPreviewWrapper,aspectRatio:16/9},void 0,Q(M.default,{onClick:a,className:z.default.applicationStreamingPreviewSize},void 0,Q(S.default,{stream:r,className:z.default.applicationStreamingPreviewSize}),Q("div",{className:z.default.applicationStreamingHoverWrapper},void 0,Q("div",{className:z.default.applicationStreamingHoverText},void 0,Y.default.Messages.WATCH_STREAM)))),u=(0,h.default)(t,r)||Y.default.Messages.SHARING_SCREEN
;return Q(oe,{},void 0,Q("div",{className:z.default.applicationStreamingSection},void 0,Q(U.default,{size:U.default.Sizes.SIZE_32,src:n.getAvatarURL(o,32),"aria-label":n.username,className:z.default.applicationStreamingAvatar}),Q("div",{},void 0,ne(n.toString()),re(u)),Q(F.default,{size:F.default.Sizes.SMALL})),i)};ve.displayName="ApplicationStreamingSection";var ye=function(e){var t,n=e.activity,r=e.channel,o=e.guildId,i=e.participants,l=(0,_.default)(),d=a.useContext(g.default),c=a.useState(null),f=c[0],p=c[1];a.useEffect((function(){n.application_id&&(0,x.getAssetIds)(n.application_id,["embedded_background"]).then((function(e){var t=e[0];return p(t)}))}),[n.application_id]);var v=(0,u.useStateFromStoresArray)([T.default,b.default],(function(){return Array.from(i).map((function(e){return b.default.getId()===e?null:T.default.getUser(e)})).filter(W.isNotNullish)})),y=(0,s.useAnalyticsContext)(),h=C.default.getGame(null!==(t=null==n?void 0:n.application_id)&&void 0!==t?t:"")
;if(null==h)return null;var E=null!=n.created_at&&n.created_at>0?{start:n.created_at}:void 0,O=(0,x.getAssetImage)(h.id,f,300);return Q(oe,{},void 0,Q("div",{className:z.default.embeddedActivityTopRow},void 0,Q(N.default,{game:h,size:N.default.Sizes.XSMALL}),Q("div",{className:z.default.embeddedActivityName},void 0,Q(G.default,{strong:!0},void 0,h.name)),null!=E?Q("div",{className:z.default.embeddedActivityTimeElapsed},void 0,Q(G.default,{color:G.default.Colors.MUTED},void 0,Q(ae,{timestamps:E}))):null),Q(P.default,{aspectRatio:16/9},void 0,Q("div",{className:z.default.embeddedActivityPlayerContainer},void 0,O?Q("img",{src:O,alt:h.name,className:z.default.embeddedActivityImage}):null,Q("div",{className:z.default.embeddedActivityImageOverlay},void 0,Q(I.Avatars,{compact:!0,users:v,guildId:null!=o?o:null}),Q("div",{className:z.default.embeddedActivityJoinWrapper},void 0,Q(A.default,{size:A.default.Sizes.SMALL,onClick:function(e){e.stopPropagation();(0,
m.default)(n,!0,l,r.id,B.ActivityIntent.PLAY,y.location,d)}},void 0,Y.default.Messages.JOIN))))))};ye.displayName="EmbeddedActivitySection";var he=(0,i.default)({XBOX:null,SPOTIFY:null,MULTIPLE:null}),_e=function(e){var t,n=e.src,r=e.onClick,a=e.onContextMenu;switch(n){case he.XBOX:t=Q(k.default,{className:z.default.headerIcon,color:H.Colors.PRIMARY_DARK_300});break;case he.SPOTIFY:t=Q(L.default,{className:z.default.headerIcon,color:H.Colors.SPOTIFY});break;case he.MULTIPLE:t=Q("div",{className:z.default.multipleIconWrapper},void 0,Q(D.default,{className:(0,o.default)(z.default.headerIcon,z.default.multipleIcon),color:H.Colors.PRIMARY_DARK_300}));break;default:t=Q("img",{src:n||void 0,alt:"",className:z.default.headerIcon})}return null!=r||null!=a?Q(M.default,{onClick:r,className:(0,o.default)(null!=r?z.default.clickableIcon:""),onContextMenu:a},void 0,t):t};_e.Src=he;var me=function(e){var t=e.priorityUser,n=e.title,r=e.subtitle,a=e.icon,i=e.onContextMenu,u=e.guildId
;return Q("header",{className:null!=a?z.default.headerFull:z.default.headerSimple},void 0,Q(U.default,{src:t.user.getAvatarURL(u,32),"aria-label":t.user.username,size:U.default.Sizes.SIZE_32,className:z.default.headerAvatar,status:t.status,onContextMenu:i}),Q("div",{className:z.default.headerDetails},void 0,Q(G.default,{className:(0,o.default)(z.default.sectionTitle,z.default.textContent),size:G.default.Sizes.SIZE_16},void 0,n),Q(G.default,{color:G.default.Colors.HEADER_SECONDARY,className:z.default.textContent},void 0,r)),null!=a?a:null)};me.displayName="NowPlayingHeader";me.Icon=_e;var ge=function(e){var t=e.children;return Q(w.default,{inset:!0,padded:!1,className:z.default.body},void 0,t)};ge.displayName="NowPlayingBody";var Ee=function(e){var t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,K);return Q(O.default,{},void 0,a.createElement(w.default,Z({className:(0,
o.default)(n,z.default.wrapper),padded:!0},r),t))};Ee.displayName="NowPlayingItem";Ee.Header=me;Ee.Body=ge;Ee.Separator=ie;Ee.VoiceSection=ce;Ee.GameSection=pe;Ee.RichPresenceSection=ue;Ee.XboxSection=fe;Ee.SpotifySection=se;Ee.TwitchSection=de;Ee.ApplicationStreamingSection=ve;Ee.EmbeddedActivitySection=ye;var Oe=Ee;t.default=Oe},352636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=y(n(284382)),i=n(6505),u=y(n(717681)),l=y(n(8549)),s=y(n(971639)),d=y(n(582945)),c=y(n(4865)),f=n(770348),p=y(n(247001)),v=y(n(716875));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=_(c.default,{});function g(){var e=(0,a.useStateFromStores)([l.default],(function(){return l.default.hasConsented(f.Consents.PERSONALIZATION)})),t=(0,a.useStateFromStores)([i.HotspotStore],(function(){
return i.HotspotStore.hasHotspot(i.HotspotLocations.NOW_PLAYING_CONSENT_CARD)}));return _(o.default,{section:f.AnalyticsSections.ACTIVE_NOW_COLUMN},void 0,_("div",{className:v.default.container},void 0,_(d.default,{className:v.default.scroller},void 0,_(s.default,{tag:s.default.Tags.H3,size:s.default.Sizes.SIZE_20,className:v.default.header},void 0,p.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE),!e&&t?_(u.default,{className:v.default.consentCard}):null,m)))}g.displayName="NowPlayingSidebar"},316681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(496486)),i=y(n(257175)),u=y(n(711195)),l=y(n(414068)),s=y(n(160629)),d=y(n(298408)),c=y(n(628551)),f=n(71246),p=n(770348),v=y(n(877001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.member,n=e.empty,r=e.analyticsContext,o=e.guildId;if(n)return m("div",{className:v.default.partyMemberEmpty});if(null==t)return m("div",{className:v.default.partyMemberUnknown},void 0,m(d.default,{className:v.default.partyMemberUnknownIcon}));var i={location:_({},r.location,{object:p.AnalyticsObjects.AVATAR})};return m("div",{className:v.default.partyMemberKnown},void 0,m(s.default,{preload:function(){return(0,u.default)(t.id,t.getAvatarURL(o,80),{guildId:o})},renderPopout:function(e){return a.createElement(l.default,_({},e,{userId:t.id,analyticsParams:i}))},position:s.default.Positions.LEFT},void 0,(function(e){return a.createElement(c.default,_({},e,{src:t.getAvatarURL(o,24),"aria-label":t.username,size:c.default.Sizes.SIZE_24,className:v.default.partyMember}))})))};g.displayName="PartyMember";var E=(0,i.default)(g),O=function(e){
var t=e.partySize,n=e.members,r=e.minAvatarsShown,a=void 0===r?1:r,i=e.maxAvatarsShown,u=void 0===i?2:i,l=e.guildId,s=t.unknownSize,d=t.totalSize,c=t.knownSize;if(d<a)return null;for(var p=(0,o.default)(n).filter(f.isNotNullish).take(u).map((function(e){return m(E,{member:e,guildId:l},e.id)})).value(),y=0;y<s&&p.length<u;y++)p.push(m(E,{guildId:l},"unknown-member-"+y));for(var h=d-c-s,_=0;_<h&&p.length<u;_++)p.push(m(E,{empty:!0,guildId:l},"empty-member-"+_));var g=Math.max(Math.min(d-p.length,99),0);if(1===g){var O=n[u];p.push(m(E,{member:O,guildId:l},O.id))}return m("div",{className:v.default.wrapper},void 0,m("div",{className:v.default.partyMembers},void 0,p,g>1?m("div",{className:v.default.partyMemberOverflow},void 0,"+",g):null))};O.displayName="PartyAvatars";var S=O;t.default=S},854923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;v(n(667294))
;var r,a=v(n(145122)),o=f(n(729661)),i=f(n(984399)),u=f(n(485820)),l=f(n(602613)),s=f(n(709037)),d=f(n(568235)),c=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.party,n=e.close,r=e.onSelect,f=(0,u.default)(t),p=(0,d.default)(t),v=(0,s.default)(t),h=(0,l.default)(t),_=(0,o.default)(t),m=(0,i.default)(t);return y(a.default,{navId:"now-playing-menu",onClose:n,"aria-label":c.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onSelect:r},void 0,f,y(a.MenuGroup,{},void 0,p,v),y(a.MenuGroup,{},void 0,h),y(a.MenuGroup,{},void 0,_),m)}h.displayName="NowPlayingCardMenu"},27916:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NowPlayingUnknownMemberMenuItem=f;t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(294184)),o=l(n(252149)),i=l(n(628551)),u=l(n(446926));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.user,n=e.status,r=e.isFocused,a=e.guildId;return d("div",{
className:u.default.memberItem},void 0,d(i.default,{src:t.getAvatarURL(a,24),className:u.default.avatar,"aria-label":t.username,size:i.default.Sizes.SIZE_24,status:n,statusColor:r?"currentColor":void 0}),d(o.default,{user:t,hideDiscriminator:!0}))}c.displayName="NowPlayingMemberMenuItem";function f(e){var t=e.label;return d("div",{className:u.default.memberItem},void 0,d("div",{className:(0,a.default)(u.default.avatar,u.default.unknown)}),d("div",{},void 0,t))}f.displayName="NowPlayingUnknownMemberMenuItem"},729661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t,n=e.currentActivities.length>1,r=D(e),i=function(e){var t=e.currentActivities,n=a.useContext(E.AnalyticsContext);return(0,o.useStateFromStoresArray)([m.default,_.default,p.default,g.default,h.default],(function(){return t.filter((function(e){return!(0,f.default)(e.activity)})).map((function(e){var t=e.activity,r=e.game,a=_.default.getActiveLibraryApplication(r.id)
;return N({},e,{libraryApplication:a,canJoin:null!=t&&(0,c.default)(t,I.ActivityFlags.JOIN)&&t.type===I.ActivityTypes.PLAYING,canPlay:(0,O.isLaunchable)(_.default,p.default,g.default,h.default,r.id,null!=a?a.branchId:null),isLaunching:p.default.launchingGames.has(r.id),isRunning:m.default.getRunningVerifiedApplicationIds().includes(r.id),location:n.location})}))}),[t])}(e),u=[],l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i);!(t=l()).done;){var s=t.value,d=s.activity;null!=d&&null!=d.type&&u.push(L(s,n),k(s,n))}return[r].concat(u)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=C(n(312260)),u=C(n(136873)),l=C(n(226800)),s=C(n(155502)),d=n(144166),c=C(n(351093)),f=C(n(762605)),p=C(n(703124)),v=n(145122),y=C(n(513266)),h=C(n(504762)),_=C(n(191839)),m=C(n(834162)),g=C(n(432310)),E=n(308920),O=n(539331),S=n(409873),I=n(770348),b=C(n(247001));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){A(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=s.default.get(I.PlatformTypes.XBOX).name;function D(e){var t=e.currentActivities,n=(0,o.useStateFromStores)([y.default],(function(){return y.default.getAccounts().some((function(e){return e.type===s.default.get(I.PlatformTypes.XBOX).type}))})),r=t.some((function(e){var t=e.activity;return(0,d.isOnXbox)(t)}));return n||!r?null:R(v.MenuItem,{id:"xbox-connect",action:function(){return l.default.open(I.UserSettingsSections.CONNECTIONS)},
label:b.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:w})})}D.displayName="useXboxConnectItem";function L(e,t){var n=e.canJoin,r=e.activity,a=e.activityUser;if(!n||null==r)return null;function o(){return(o=M(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return i.default.sendActivityInviteUser({type:I.ActivityActionTypes.JOIN_REQUEST,userId:a.id,activity:r,location:I.AnalyticsLocations.PROFILE_POPOUT});case 4:null!=(t=e.sent)&&u.default.selectPrivateChannel(t.id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return R(v.MenuItem,{id:"join-"+r.session_id,label:t?b.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:a.toString()}):b.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN,action:function(){return o.apply(this,arguments)}})}L.displayName="renderAskToJoinItem";function k(e,t){
var n=e.activity,r=e.game,a=e.libraryApplication,o=e.location,i=e.canPlay,u=e.isRunning,l=e.isLaunching;if(!i||null==n)return null;var s=u?b.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:r.name}):l?b.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:r.name}):void 0;return R(v.MenuItem,{id:"play-"+n.session_id,action:function(){(0,S.playApplication)(r.id,a,{analyticsParams:{location:N({},o,{object:I.AnalyticsObjects.LIST_ITEM})}})},label:t?b.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:r.name}):b.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,subtext:s})}k.displayName="renderPlayGameItem"},984399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=e.currentActivities,a=e.guildContext,u=new Set(t.map((function(e){return e.user.id}))),l=n.filter((function(e){return!u.has(e.id)})),s=o.useMemo((function(){
var e=r.flatMap((function(e){return e.playingMembers})).map((function(e){return e.id}));return n.filter((function(t){return!e.includes(t.id)}))}),[n,r]);if(r.length<=1&&0===s.length){var c,f;return p(i.MenuGroup,{label:n.length>1?d.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:n.length}):void 0},void 0,_(t,l,n.length,null!==(c=null===(f=r[0])||void 0===f?void 0:f.activity)&&void 0!==c?c:void 0,null==a?void 0:a.id))}var v=r.map((function(e){var n=e.playingMembers,r=e.game,o=e.activity,l=new Set(n.map((function(e){return e.id})));return p(i.MenuGroup,{label:r.name+" - "+n.length},void 0,_(t.filter((function(e){var t=e.user;return l.has(t.id)})),n.filter((function(e){return!u.has(e.id)})),n.length,null!=o?o:void 0,null==a?void 0:a.id))})),y=s.map((function(e){return e.id})),h=p(i.MenuGroup,{label:d.default.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER+" - "+s.length},void 0,_(t.filter((function(e){var t=e.user;return y.includes(t.id)
})),s.filter((function(e){return!u.has(e.id)})),s.length,void 0,null==a?void 0:a.id));return[].concat(v,[h])};var r,a,o=f(n(667294)),i=n(145122),u=n(910992),l=f(n(27916)),s=n(770348),d=(r=n(247001))&&r.__esModule?r:{default:r};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{
done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,a){for(var c,f=[],h=function(){var e=c.value,t=e.user,n=e.status;f.push(p(i.MenuItem,{id:t.id,keepItemStyles:!0,render:function(e){return o.createElement(l.default,v({},e,{user:t,status:n,guildId:a}))},action:function(){return(0,u.openUserProfileModal)({userId:t.id,analyticsLocation:{section:s.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},_=y(e);!(c=_()).done;)h();for(var m,g=function(){var e=m.value;f.push(p(i.MenuItem,{id:e.id,keepItemStyles:!0,render:function(t){return o.createElement(l.default,v({},t,{user:e,guildId:a}))},action:function(){return(0,u.openUserProfileModal)({userId:e.id,analyticsLocation:{
section:s.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},E=y(t);!(m=E()).done;)g();var O=n-f.length;O>0&&f.push(p(i.MenuItem,{id:"unknown-members-"+(null==r?void 0:r.session_id),render:function(e){return o.createElement(l.NowPlayingUnknownMemberMenuItem,v({},e,{label:d.default.Messages.GAME_FEED_UNKNOWN_PLAYERS.format({count:O})}))}}));return f}},485820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=f(n(709403)),i=f(n(844784)),u=n(145122),l=n(540671),s=n(308920),d=n(770348),c=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t){void 0===t&&(t=!1)
;var n=e.priorityMembers,r=e.partiedMembers,f=a.useContext(s.AnalyticsContext),p=n.map((function(e){return e.user.id})),h=1===r.length&&1===n.length,_=n.length-r.length>0;if(!((h||t)&&!_)||0===p.length)return null;return v(u.MenuItem,{id:"message",action:function(){o.default.openPrivateChannel(p).then((function(t){return i.default.trackWithMetadata(d.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,y({source:y({},f.location,{object:d.AnalyticsObjects.LIST_ITEM}),channel_id:t,recipient_id:"string"==typeof p?p:p[0],af_recently_played:!1},(0,l.getPartyMetadata)(e)))}))},label:c.default.Messages.SEND_DM})}h.displayName="useNowPlayingMessageItem"},602613:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.currentActivities,n=e.isSpotifyActivity,r=t[0],o=(0,a.default)(null==r?void 0:r.activity,null==r?void 0:r.activityUser);return n?o:null};var r,a=(r=n(619476))&&r.__esModule?r:{default:r}},709037:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e.applicationStreams.map((function(e){var t=e.stream,n=e.streamUser;return d(i.MenuItem,{id:"spectate-"+t.ownerId,action:function(){a.default.selectVoiceChannel(t.channelId);(0,o.watchStreamAndTransitionToStream)(t)},label:u.default.Messages.WATCH_USER_STREAM.format({streamerName:n.toString()})})}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(136873)),o=n(123516),i=n(145122),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},568235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a.useContext(p.AnalyticsContext),n=e.voiceChannels[0],r=(0,o.useStateFromStores)([d.default],(function(){return null!=n&&d.default.can(v.Permissions.CONNECT,n.channel)}));if(null==n)return null;return[m(l.MenuItem,{id:"join-voice",action:function(){var r=c.default.getChannelId(n.guild.id);(0,s.transitionToGuild)(n.guild.id,r);i.default.selectVoiceChannel(n.channel.id)
;u.default.trackWithMetadata(v.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,g({source:g({},t.location,{object:v.AnalyticsObjects.LIST_ITEM}),guild_id:n.guild.id,channel_id:n.channel.id},(0,f.getPartyMetadata)(e)))},label:y.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL,disabled:!r}),m(l.MenuItem,{id:"goto-server",action:function(){var r=c.default.getChannelId(n.guild.id);(0,s.transitionToGuild)(n.guild.id,r);u.default.trackWithMetadata(v.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,g({source:g({},t.location,{object:v.AnalyticsObjects.LIST_ITEM}),guild_id:n.guild.id,af_recently_played:!1},(0,f.getPartyMetadata)(e)))},label:y.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER})]};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=h(n(136873)),u=h(n(844784)),l=n(145122),s=n(139982),d=h(n(689389)),c=h(n(211136)),f=n(540671),p=n(308920),v=n(770348),y=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){
g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}},884809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,i.default)(function(t){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(i,t);function i(){return t.apply(this,arguments)||this}var l=i.prototype;l.render=function(){return r.createElement(e,f({},this.props,{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))};l.handleMessageUser=function(e,t){return a.default.openPrivateChannel(t.id)};l.handleUserContextMenu=function(e,t,a){(0,o.openContextMenuLazy)(e,c(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,f({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:a})};l.handleGuildContextMenu=function(e,t){(0,o.openContextMenuLazy)(e,c(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(53734)]).then(n.bind(n,853734));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,f({},e,{guild:t}))}));case 5:case"end":return e.stop()}}),e)}))))};l.handleChannelContextMenu=function(e,t){var a=u.default.getGuild(t.getGuildId());if(null==a)return null;(0,o.openContextMenuLazy)(e,c(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(14560),n.e(44700)]).then(n.bind(n,44700));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return r.createElement(i,f({},e,{channel:t,guild:a}))}));case 5:case"end":return e.stop()}}),e)}))))};return i}(r.Component))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(709403)),o=n(378158),i=l(n(257175)),u=l(n(30098));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}},520310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setNewUser=function(e){a.default.wait((function(){return a.default.dispatch({type:o.ActionTypes.NUF_NEW_USER,newUserType:e})}))};t.setNewUserFlowCompleted=function(){a.default.wait((function(){return a.default.dispatch({type:o.ActionTypes.NUF_COMPLETE})}))};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},
754949:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NewUserTypes=t.NUF_VALUE_PROPS_MODAL_KEY=t.NUF_NOTIFICATION_MODAL_KEY=t.NUF_IN_APP_EDUCATION_KEY=t.NUF_EMAIL_CONNECTION_MODAL_KEY=t.NUF_DISCOVERABILITY_MODAL_KEY=void 0;var n;t.NewUserTypes=n;!function(e){e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED";e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(n||(t.NewUserTypes=n={}));t.NUF_NOTIFICATION_MODAL_KEY="nuf-notification-modal-key";t.NUF_DISCOVERABILITY_MODAL_KEY="nuf-discoverability-modal-key";t.NUF_IN_APP_EDUCATION_KEY="nuf-in-app-education-modal-key";t.NUF_EMAIL_CONNECTION_MODAL_KEY="nuf-email-connection-modal-key";t.NUF_VALUE_PROPS_MODAL_KEY="nuf-value-props-modal-key"},322033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){
return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=null;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){var t;s=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null};n.getType=function(){return s};n.getState=function(){return{type:s}};return t}(a.default.PersistedStore);d.persistKey="nuf";var c=new d(o.default,((r={})[i.ActionTypes.NUF_NEW_USER]=function(e){var t=e.newUserType;s=t},r[i.ActionTypes.NUF_COMPLETE]=function(){s=null},r));t.default=c},763840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NUF_MODAL_KEY=t.NUFSlides=void 0;var n;t.NUFSlides=n;!function(e){e.AGE_GATE="age-gate";e.CHOOSE_TEMPLATE="choose-template";e.CUSTOMIZE_GUILD="customize-server";e.CHANNEL_PROMPT="channel-prompt";e.JOIN_GUILD="join-server"
;e.CREATION_INTENT="creation-intent";e.COMPLETE="complete"}(n||(t.NUFSlides=n={}));t.NUF_MODAL_KEY="nuf-refresh-modal"},900996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=A(n(636602)),i=A(n(177230)),u=N(n(160866)),l=N(n(583490)),s=A(n(678875)),d=A(n(215371)),c=A(n(885986)),f=n(508079),p=N(n(131629)),v=A(n(250650)),y=A(n(30098)),h=A(n(790597)),_=A(n(728429)),m=n(194322),g=N(n(71246)),E=n(864489),O=N(n(520310)),S=A(n(322033)),I=n(754949),b=n(763840),C=n(770348),T=n(27577),P=n(33989);function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}function k(){null!=r&&(0,m.closeModal)(r)}var j=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}(t,e)
;function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){o.default.subscribe(C.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);o.default.subscribe(C.ActionTypes.LOGOUT,k)};i._terminate=function(){o.default.unsubscribe(C.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);o.default.unsubscribe(C.ActionTypes.LOGOUT,k)};i.handleConnectionOpen=function(){var e=S.default.getType();if(null!=e){switch(e){case I.NewUserTypes.INVITE_UNCLAIMED:c.default.flowStart(P.FlowType.INVITE,P.RegistrationSteps.NUF_STARTED);break;case I.NewUserTypes.ORGANIC_REGISTERED:c.default.flowStart(P.FlowType.ORGANIC,P.RegistrationSteps.NUF_STARTED);break;case I.NewUserTypes.MARKETING_UNCLAIMED:c.default.flowStart(P.FlowType.ORGANIC_MARKETING,P.RegistrationSteps.NUF_STARTED)}var t=!1,o=h.default.getGuildId();if(e===I.NewUserTypes.INVITE_UNCLAIMED){var i=y.default.getGuild(o);if(null==i?void 0:i.hasVerificationGate()){t=!0;(0,f.fetchWelcomeScreen)(i.id)}}var A=function(){
return 0===v.default.totalGuilds&&!E.isPlatformEmbedded},M=u.userNeedsAgeGate(),N=!1;if(e===I.NewUserTypes.ORGANIC_REGISTERED){var w=d.default.getCurrentConfig({}).showHubsInOnboarding;d.default.trackExposure({});N=w}!function(e){var t=function(){O.setNewUserFlowCompleted();c.default.flowStep(P.FlowType.ANY,P.RegistrationSteps.NUF_COMPLETE,!0)};[].concat(e).reverse().forEach((function(e){var n=t;t=function(){e.predicate()?e.open(n):n()}}));t()}([{key:"Hub Email Connection",open:function(e){return(0,m.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,R({},e,{isNUXFlow:!0}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:C.NOOP,onCloseCallback:e})},predicate:function(){return N&&!T.CONFERENCE_MODE_ENABLED}},{key:"Unified NUF Modal",
open:function(e){return L.apply(this,arguments)},predicate:function(){return A()&&!T.CONFERENCE_MODE_ENABLED}},{key:"New User Age Gate",open:l.openNewUserAgeGateModal,predicate:function(){return M&&!A()&&!T.CONFERENCE_MODE_ENABLED}},{key:"Claim Account Modal",open:function(e){return l.openClaimAccountModal(E.isPlatformEmbedded,e)},predicate:function(){var e;return!t&&null!=_.default.getCurrentUser()&&!(null===(e=_.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!T.CONFERENCE_MODE_ENABLED}},{key:"Verification Gate with Claim Account",open:function(e){return(0,s.default)(o,e)},predicate:function(){var e;return t&&!(null===(e=_.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!T.CONFERENCE_MODE_ENABLED}},{key:"Guild Welcome Modal",open:function(e){return(0,m.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(58095).then(n.bind(n,365760));case 2:t=e.sent
;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,R({},e,{guildId:o}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:e})},predicate:function(){return null!=o&&null!=p.default.get(o)&&p.default.get(o)!==p.NO_WELCOME_SCREEN}}])}function L(){return(L=D(regeneratorRuntime.mark((function e(t){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(e){switch(e){case b.NUFSlides.AGE_GATE:c.default.flowStep(P.FlowType.ANY,P.RegistrationSteps.AGE_GATE);break;case b.NUFSlides.CHOOSE_TEMPLATE:c.default.flowStep(P.FlowType.ANY,P.CreateGuildSteps.GUILD_TEMPLATES);break;case b.NUFSlides.CUSTOMIZE_GUILD:c.default.flowStep(P.FlowType.ANY,P.CreateGuildSteps.GUILD_CREATE);break;case b.NUFSlides.CHANNEL_PROMPT:c.default.flowStep(P.FlowType.ANY,P.CreateGuildSteps.CHANNEL_PROMPT);break;case b.NUFSlides.JOIN_GUILD:c.default.flowStep(P.FlowType.ANY,P.CreateGuildSteps.JOIN_GUILD);break;case b.NUFSlides.CREATION_INTENT:
c.default.flowStep(P.FlowType.ANY,P.CreateGuildSteps.CREATION_INTENT);break;case b.NUFSlides.COMPLETE:c.default.flowStep(P.FlowType.ANY,P.CreateGuildSteps.SUCCESS);break;case null:break;default:g.assertNever(e)}};e.next=3;return(0,m.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62884),n.e(69156),n.e(91948)]).then(n.bind(n,91948));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,R({},e,{onSlideChange:o}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:C.NOOP,onCloseCallback:t,modalKey:r});case 3:r=e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}};return t}(i.default));t.default=j},61045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.STATUS_HEADER_HEIGHT=t.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD=t.PEOPLE_LIST_ITEM_HEIGHT=void 0
;t.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD=64;t.PEOPLE_LIST_ITEM_HEIGHT=62;t.STATUS_HEADER_HEIGHT=24},334200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=d(n(294184)),u=d(n(16941)),l=d(n(730977)),s=d(n(969261));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.DENY=1]="DENY";e[e.DEFAULT=2]="DEFAULT"}(a||(a={}));function v(e){var t=e.icon,n=e.tooltip,r=e.onClick,d=e.actionType,c=void 0===d?a.DEFAULT:d,v=e.shouldHighlight;return p(l.default,{text:n},void 0,(function(e){var l;return o.createElement(u.default,f({},e,{"aria-label":n,onClick:r,className:(0,i.default)(s.default.actionButton,(l={},l[s.default.actionAccept]=c===a.ACCEPT,l[s.default.actionDeny]=c===a.DENY,
l[s.default.highlight]=v,l))}),p(t,{className:s.default.icon}))}))}v.displayName="ActionButton";v.ActionTypes=a;var y=v;t.default=y},518319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(184608)),i=n(688388),u=c(n(767695)),l=n(770348),s=c(n(247001)),d=c(n(184338));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p(o.default,{});function y(){return p("header",{className:d.default.header},void 0,p(i.FormTitle,{tag:i.FormTitle.Tags.H2,className:d.default.title},void 0,s.default.Messages.ADD_FRIEND),v)}y.displayName="AddFriendHeader";var h=p(y,{});function _(){return p(a.Fragment,{},void 0,h,p("div",{className:d.default.emptyState},void 0,p(u.default,{type:l.FriendsSections.ADD_FRIEND})))}_.displayName="AddFriend";var m=_;t.default=m},89411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(237923)),i=n(910992),u=y(n(523356)),l=n(308920),s=y(n(334200)),d=y(n(906507)),c=y(n(739148)),f=n(770348),p=y(n(247001)),v=y(n(685904));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.user,n=e.key,r=e.isFocused,y=a.useContext(l.AnalyticsContext),h=function(e){e.stopPropagation();o.default.removeRelationship(t.id,{location:"Friends"})};return _(d.default,{isFocused:r,onClick:function(){return(0,i.openUserProfileModal)({userId:t.id,analyticsLocation:y.location})},user:t},n,(function(e){return _("div",{className:v.default.listItemContents},void 0,_(c.default,{user:t,hovered:e,status:f.StatusTypes.UNKNOWN,subText:p.default.Messages.BLOCKED}),_(s.default,{icon:u.default,actionType:s.default.ActionTypes.DENY,tooltip:p.default.Messages.UNBLOCK,onClick:h,shouldHighlight:e}))}))}m.displayName="BlockedRow"},717681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=h(n(294184)),o=n(642230),i=h(n(226800)),u=n(278352),l=h(n(956117)),s=h(n(427370)),d=h(n(971639)),c=h(n(776360)),f=n(770348),p=n(439142),v=h(n(247001)),y=h(n(95898));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.className;return m(s.default,{className:(0,a.default)(y.default.card,t)},void 0,m(d.default,{size:d.default.Sizes.SIZE_16,className:y.default.header},void 0,v.default.Messages.NOW_PLAYING_GDPR_HEADER),m(c.default,{size:d.default.Sizes.SIZE_14},void 0,v.default.Messages.NOW_PLAYING_GDPR_BODY.format({onPrivacyClick:function(){return i.default.open(f.UserSettingsSections.PRIVACY_AND_SAFETY)}})),m("div",{className:y.default.buttonContainer},void 0,m(l.default,{size:l.default.Sizes.SMALL,onClick:function(){return(0,o.setConsents)([f.Consents.PERSONALIZATION],[])}},void 0,v.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES),m(l.default,{color:l.default.Colors.PRIMARY,size:l.default.Sizes.SMALL,onClick:function(){return(0,
u.hideHotspot)(p.HotspotLocations.NOW_PLAYING_CONSENT_CARD)},look:l.default.Looks.LINK},void 0,v.default.Messages.NO_THANKS)))}g.displayName="ConsentCard"},724603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=A(n(496486)),i=n(536211),u=A(n(709403)),l=n(378158),s=A(n(237923)),d=N(n(145122)),c=n(139982),f=A(n(644263)),p=A(n(635014)),v=A(n(37985)),y=A(n(301927)),h=A(n(502197)),_=n(194322),m=A(n(776360)),g=A(n(334200)),E=A(n(906507)),O=A(n(666561)),S=A(n(739148)),I=n(770348),b=n(474477),C=n(376293),T=A(n(247001)),P=A(n(684753));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function L(e){var t=e.user,n=e.onSelect;var r=function(){s.default.removeRelationship(t.id,{location:"Friends"})},o=(0,i.useStateFromStores)([p.default],(function(){return p.default.supports(C.Features.VIDEO)}));return D(d.default,{navId:"friend-row","aria-label":T.default.Messages.USER_ACTIONS_MENU_LABEL,onClose:l.closeContextMenu,onSelect:n},void 0,o?D(d.MenuItem,{id:"start-video-call",label:T.default.Messages.START_VIDEO_CALL,action:function(){u.default.openPrivateChannel(t.id,!0,!0)}}):null,D(d.MenuItem,{id:"start-voice-call",label:T.default.Messages.START_VOICE_CALL,action:function(){u.default.openPrivateChannel(t.id,!0)}}),D(d.MenuItem,{id:"remove-friend",label:T.default.Messages.REMOVE_FRIEND,action:function(){(0,_.openModal)((function(e){return a.createElement(h.default,w({header:T.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.toString()}),confirmText:T.default.Messages.REMOVE_FRIEND,cancelText:T.default.Messages.CANCEL,onConfirm:r},e),D(m.default,{
size:m.default.Sizes.SIZE_16},void 0,T.default.Messages.REMOVE_FRIEND_BODY.format({name:t.toString()})))}))},color:b.MenuItemColor.DANGER}))}L.displayName="ActionsPopout";var k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).peopleListItemRef=a.createRef();t.state={isActiveRow:!1};t.handleOpenPrivateChannel=function(e){var n=t.props.user;e.stopPropagation();var r=o.default.find(f.default.getMutablePrivateChannels(),(function(e){return e.type===I.ChannelTypes.DM&&e.getRecipientId()===n.id}));null!=r?(0,c.transitionTo)(I.Routes.CHANNEL(I.ME,r.id)):u.default.openPrivateChannel(n.id)};t.handleOpenActionsMenu=function(e){var n=t.props.user;(0,l.openContextMenu)(e,(function(e){return a.createElement(L,w({},e,{user:n}))}),{onClose:function(){t.setState({isActiveRow:!1})}});t.setState({isActiveRow:!0})}
;return t}var n=t.prototype;n.componentWillLeave=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)};n.componentWillEnter=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)};n.render=function(){var e=this,t=this.props,n=t.user,r=t.isFocused,o=t.activities,i=t.applicationStream,u=t.status,s=t.isMobile,d=this.state.isActiveRow;return a.createElement(E.default,{ref:this.peopleListItemRef,isFocused:r,isActive:d,user:n,onOtherHover:function(){return d?null:(0,l.closeContextMenu)()},onClick:this.handleOpenPrivateChannel},(function(t){return D("div",{className:P.default.listItemContents},void 0,D(S.default,{user:n,status:u,isMobile:s,subText:D(O.default,{hovered:t,activities:o,applicationStream:i,status:u}),hovered:t}),D("div",{className:P.default.actions},void 0,D(g.default,{icon:v.default,tooltip:T.default.Messages.SEND_DM,onClick:e.handleOpenPrivateChannel,shouldHighlight:t
}),D(g.default,{icon:y.default,tooltip:T.default.Messages.MORE,onClick:e.handleOpenActionsMenu,shouldHighlight:t})))}))};return t}(a.PureComponent);k.displayName="FriendRow";var j=k;t.default=j},767695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.FriendsSearchStatus=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=v(n(74854)),u=v(n(536211)),l=v(n(871778)),s=v(n(956117)),d=v(n(737705)),c=n(770348),f=v(n(247001)),p=v(n(303649));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.FriendsSearchStatus=a;!function(e){e.SECTION_NO_RESULTS="SECTION_NO_RESULTS"}(a||(t.FriendsSearchStatus=a={}));var m=Object.freeze({SECTION_ALL:{lightSrc:n(607603),darkSrc:n(74700),width:376,height:162,renderContent:function(e){return _(o.Fragment,{},void 0,_(d.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_ALL}),_(s.default,{
className:p.default.button,onClick:e},void 0,f.default.Messages.ADD_FRIEND))}},SECTION_ONLINE:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return _(d.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_ONLINE})}},SECTION_BLOCKED:{lightSrc:n(399898),darkSrc:n(492623),width:433,height:232,renderContent:function(){return _(d.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_BLOCKED})}},SECTION_PENDING:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return _(d.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_PENDING})}},SECTION_SUGGESTIONS:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return _(d.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_SUGGESTIONS})}},SECTION_NO_RESULTS:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return _(d.default.Text,{note:f.default.Messages.FRIEND_REQUEST_NO_RESULTS_FOUND})}}})
;var g=function(e){var t=e.theme,n=f.default.Messages.FRIENDS_EMPTY_STATE_ALL,r=m.SECTION_ALL;return _(o.Fragment,{},void 0,_(d.default,{theme:t},void 0,_(d.default.Image,{width:r.width,height:r.height,lightSrc:r.lightSrc,darkSrc:r.darkSrc}),_(d.default.Text,{note:n})))};g.displayName="AddFriendEmpty";var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={opacity:new i.default.Value(1)};t.componentWillEnter=function(e){t.state.opacity.setValue(0);i.default.timing(t.state.opacity,{toValue:1,duration:250}).start(e)};t.componentWillLeave=function(e){i.default.timing(t.state.opacity,{toValue:0,duration:250}).start(e)};return t}t.prototype.render=function(){var e=this.props,t=e.type,n=e.onClick,r=e.theme,o={opacity:this.state.opacity},u=function(e){switch(e){case c.FriendsSections.ADD_FRIEND:
case c.FriendsSections.ALL:return m.SECTION_ALL;case c.FriendsSections.ONLINE:return m.SECTION_ONLINE;case c.FriendsSections.PENDING:return m.SECTION_PENDING;case c.FriendsSections.SUGGESTIONS:return m.SECTION_SUGGESTIONS;case c.FriendsSections.BLOCKED:return m.SECTION_BLOCKED;case a.SECTION_NO_RESULTS:return m.SECTION_NO_RESULTS;default:throw new Error("FriendsEmptyState: Invalid empty state")}}(t);return t===c.FriendsSections.ADD_FRIEND?_(i.default.div,{className:p.default.friendsEmpty,style:o},void 0,_(g,{theme:r})):_(i.default.div,{className:p.default.friendsEmpty,style:o},void 0,_(d.default,{theme:r},void 0,_(d.default.Image,{width:u.width,height:u.height,lightSrc:u.lightSrc,darkSrc:u.darkSrc}),u.renderContent(n)))};return t}(o.PureComponent);E.displayName="FriendsEmptyState";var O=u.default.connectStores([l.default],(function(){return{theme:l.default.theme}}),{forwardRef:!0})(E);t.default=O},539417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(237923)),i=n(910992),u=h(n(992193)),l=h(n(259530)),s=n(308920),d=h(n(334200)),c=h(n(906507)),f=h(n(739148)),p=n(770348),v=h(n(247001)),y=h(n(679396));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.user,n=e.type,r=e.status,h=e.isFocused,_=a.useContext(s.AnalyticsContext),g=function(e){e.stopPropagation();o.default.removeRelationship(t.id,{location:"Friends"})},E=function(e){e.stopPropagation();o.default.addRelationship(t.id,{location:"Friends"})},O=r===p.StatusTypes.OFFLINE?p.StatusTypes.UNKNOWN:r,S=n===p.RelationshipTypes.PENDING_INCOMING?v.default.Messages.INCOMING_FRIEND_REQUEST:v.default.Messages.OUTGOING_FRIEND_REQUEST;return m(c.default,{isFocused:h,user:t,onClick:function(){return(0,i.openUserProfileModal)({userId:t.id,analyticsLocation:_.location})}},void 0,(function(e){var r=n===p.RelationshipTypes.PENDING_INCOMING?a.createElement(a.Fragment,null,m(d.default,{icon:u.default,
actionType:d.default.ActionTypes.ACCEPT,tooltip:v.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:E,shouldHighlight:e}),m(d.default,{icon:l.default,actionType:d.default.ActionTypes.DENY,tooltip:v.default.Messages.FRIEND_REQUEST_IGNORE,onClick:g,shouldHighlight:e})):m(d.default,{icon:l.default,actionType:d.default.ActionTypes.DENY,tooltip:v.default.Messages.FRIEND_REQUEST_CANCEL,onClick:g,shouldHighlight:e});return m("div",{className:y.default.listItemContents},void 0,m(f.default,{user:t,hovered:e,status:O,subText:S,className:y.default.userInfo}),m("div",{className:y.default.actions},void 0,r))}))}g.displayName="PendingRow"},424359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=T(n(667294)),o=b(n(294184)),i=n(536211),u=b(n(99694)),l=b(n(284382)),s=b(n(235879)),d=b(n(290629)),c=b(n(801745)),f=b(n(949898)),p=b(n(665759)),v=b(n(89411)),y=b(n(724603)),h=T(n(767695)),_=b(n(539417)),m=b(n(662632)),g=b(n(634634)),E=b(n(67993)),O=n(770348),S=b(n(247001)),I=b(n(65234));function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function M(e){var t=e.sectionFilter,n=(0,i.useStateFromStoresObject)([c.default],(function(){return c.default.getState()})),r=n.rows,b=n.section,C=(0,i.useStateFromStores)([f.default],(function(){return f.default.isFocused()})),T=(0,i.useStateFromStores)([d.default],(function(){return d.default.getRelationshipCount()})),M=a.useState((function(){
for(var e={},t=0,n=Object.values(O.FriendsSections);t<n.length;t++){e[n[t]]=""}return e})),N=M[0],R=M[1];var w=a.useCallback((function(e){var n;R(A({},N,((n={})[t]=e,n)))}),[N,t]),D=a.useCallback((function(){var e;R(A({},N,((e={})[t]="",e)))}),[N,t]),L=r.filter(t,N[t]);if(0===L.length&&""===N[t])return P("div",{className:I.default.emptyStateContainer},void 0,P(h.default,{type:t,onClick:function(){u.default.setSection(O.FriendsSections.ADD_FRIEND)}},b));var k=[L],j=0===L.length&&""!==N[t];return P(l.default,{section:O.AnalyticsSections.FRIENDS_LIST},void 0,P(p.default,{className:(0,o.default)(I.default.searchBar,j?I.default.searchEmptyState:null),query:N[t],onChange:w,onClear:D,size:p.default.Sizes.MEDIUM}),P("div",{className:I.default.SectionTitle},void 0,P(g.default,{title:function(){var e=L.length;switch(t){case O.FriendsSections.ONLINE:return S.default.Messages.FRIENDS_ONLINE_HEADER.format({online:e.toString()});case O.FriendsSections.PENDING:
return S.default.Messages.FRIENDS_PENDING_HEADER.format({count:e.toString()});case O.FriendsSections.SUGGESTIONS:return S.default.Messages.FRIENDS_FRIEND_SUGGESTIONS_HEADER.format({count:e.toString()});case O.FriendsSections.BLOCKED:return S.default.Messages.FRIENDS_BLOCKED_HEADER.format({count:e.toString()});default:return S.default.Messages.FRIENDS_ALL_HEADER.format({count:e.toString()})}}()})),j?P("div",{className:I.default.emptyStateContainer},void 0,P(h.default,{type:h.FriendsSearchStatus.SECTION_NO_RESULTS},b)):P(m.default,{relationshipCount:T,statusSections:k,renderRow:function(e){switch(t){case O.FriendsSections.BLOCKED:return a.createElement(v.default,A({},e,{isFocused:C}));case O.FriendsSections.PENDING:return a.createElement(_.default,A({},e,{isFocused:C}));case O.FriendsSections.SUGGESTIONS:return a.createElement(E.default,A({},e,{isFocused:C}));case O.FriendsSections.ONLINE:case O.FriendsSections.ALL:default:return a.createElement(y.default,A({},e,{isFocused:C}))}},
searchQuery:N[t],useReducedMotion:s.default.useReducedMotion}))}M.displayName="PeopleList";var N=M;t.default=N},906507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(74854)),u=n(798628),l=n(378158),s=f(n(314234)),d=n(61045),c=f(n(833151));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return m(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).state={height:new i.default.Value(d.PEOPLE_LIST_ITEM_HEIGHT),opacity:new i.default.Value(1),hovered:!1,isContextMenuActive:!1};t.handleMouseEnter=function(){var e=t.props,n=e.isFocused,r=e.isActive,a=e.onOtherHover,o=t.state.isContextMenuActive;t.setState({hovered:n});!n||r||o||null==a||a()};t.handleMouseLeave=function(){t.setState({hovered:!1})};t.handleContextMenu=function(e,r){t.setState({isContextMenuActive:!0});(0,l.openContextMenuLazy)(e,_(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){
return a.createElement(o,y({},e,{user:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:function(){t.setState({isContextMenuActive:!1})}})};return t}var r=t.prototype;r.componentWillLeave=function(e){i.default.parallel([i.default.timing(this.state.opacity,{toValue:0,duration:200}),i.default.timing(this.state.height,{toValue:0,duration:200})]).start(e)};r.componentWillEnter=function(e){this.state.opacity.setValue(0);this.state.height.setValue(0);i.default.parallel([i.default.timing(this.state.opacity,{toValue:1,duration:200}),i.default.timing(this.state.height,{toValue:d.PEOPLE_LIST_ITEM_HEIGHT,duration:200})]).start(e)};r.render=function(){var e=this,t=this.state,n=t.height,r=t.opacity,l=t.hovered,d=t.isContextMenuActive,f=this.props,p=f.children,h=f.user,_=f.onClick,m=f.isActive;return v(u.ListNavigatorItem,{id:h.id},void 0,(function(t){var u;return v(s.default,{offset:{left:-8,right:-8}},void 0,a.createElement(i.default.div,y({className:(0,
o.default)(c.default.peopleListItem,(u={},u[c.default.active]=m||d,u)),onContextMenu:function(t){return e.handleContextMenu(t,h)},onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onClick:null!=_?_:void 0,style:{height:n,opacity:r}},t),p(l||m||d)))}))};return t}(a.PureComponent);g.displayName="PeopleListItem";var E=g;t.default=E},662632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.relationshipCount,n=e.statusSections,r=e.renderRow,u=e.searchQuery,l=e.useReducedMotion;return t>=i.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD?s(a.default,{statusSections:n,renderRow:r,searchQuery:u}):s(o.default,{statusSections:n,renderRow:r,searchQuery:u,useReducedMotion:l})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(390389)),o=u(n(104889)),i=n(61045);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},390389:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=v(n(667294)),o=v(n(798628)),i=n(536211),u=f(n(235879)),l=n(521358),s=n(61045),d=f(n(65234)),c=["ref"];function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function _(e){var t=e.statusSections,n=e.renderRow,r=e.searchQuery,f=function(e){return 0===t[e].length?0:s.STATUS_HEADER_HEIGHT+16},p=function(e){var r=e.section,a=e.row,o=t[r];if(null==o||null==a)return null;var i=o[a];return null==i?null:n(i)},v=(0,i.useStateFromStores)([u.default],(function(){return u.default.keyboardModeEnabled})),_=a.useRef(null),m=a.useCallback((function(){return new Promise((function(e){var t=_.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))
}),[]),g=a.useCallback((function(){return new Promise((function(e){var t=_.current;if(null==t)return e();t.scrollToBottom({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),E=a.useCallback((function(e){var t=document.querySelector(e),n=_.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:function(){return null==t?void 0:t.focus()}})}),[]),O=(0,o.default)({id:"people-list",isEnabled:v,scrollToStart:m,scrollToEnd:g,setFocus:E});return y(o.ListNavigatorProvider,{navigator:O},void 0,y(o.ListNavigatorContainer,{},void 0,(function(e){var n=e.ref,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c);return a.createElement(l.ListAuto,h({ref:function(e){var t;_.current=e;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},sectionHeight:f,renderRow:p,rowHeight:s.PEOPLE_LIST_ITEM_HEIGHT,sections:t.map((function(e){
return""!==r&&0===e.length?e.length+1:e.length})),className:d.default.peopleList},o))})))}_.displayName="PeopleListSectionedLazy";var m=_;t.default=m},104889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=v(n(667294)),o=v(n(798628)),i=n(536211),u=f(n(550024)),l=f(n(235879)),s=n(582945),d=f(n(65234)),c=["ref"];function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(){
y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){
var t=e.statusSections,n=e.renderRow,r=e.searchQuery,f=e.useReducedMotion,p=(0,i.useStateFromStores)([l.default],(function(){return l.default.keyboardModeEnabled})),v=(0,o.default)({id:"people",isEnabled:p,scrollToStart:function(){return m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},scrollToEnd:function(){return m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}),_=t.map((function(e,t){return f||""!==r?h("div",{},t,e.map(n)):h(u.default,{transitionAppear:!1,component:"div"},t,e.map(n))}));return h(o.ListNavigatorProvider,{navigator:v},void 0,h(o.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c)
;return a.createElement(s.ScrollerAuto,y({ref:t,className:d.default.peopleList},n),_)})))}g.displayName="PeopleListSectionedNonLazy";var E=g;t.default=E},547403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=C(n(667294)),o=n(370405),i=n(536211),u=C(n(588136)),l=I(n(99694)),s=I(n(677520)),d=I(n(463024)),c=I(n(992634)),f=I(n(352636)),p=n(887299),v=I(n(801745)),y=C(n(186465)),h=I(n(652047)),_=n(598671),m=I(n(518319)),g=I(n(424359)),E=n(770348),O=I(n(247001)),S=I(n(342894));function I(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=T(d.default.Divider,{});function A(){return T("div",{className:S.default.inviteToolbar},void 0,T(c.default,{tooltip:O.default.Messages.NEW_GROUP_DM}),P)}A.displayName="HeaderToolbar";var M=T(o.Helmet,{title:"Discord"}),N=T(A,{}),R=T(d.default.Icon,{icon:h.default,"aria-hidden":!0}),w=T(d.default.Divider,{}),D=T(m.default,{}),L=T(f.default,{})
;function k(e){var t=e.initialSection;a.useEffect((function(){u.setHomeLink(E.Routes.FRIENDS);(0,p.trackAppUIViewed)("friends")}));a.useEffect((function(){null!=t&&l.default.setInitialSection(t)}),[t]);var n=(0,i.useStateFromStoresObject)([v.default],(function(){return v.default.getState()})),r=n.section,o=n.pendingCount,c=(0,i.useStateFromStoresObject)([s.default],(function(){return s.default.getSuggestionCount()}));return T("div",{className:S.default.container},void 0,M,T(d.default,{toolbar:N},void 0,R,T(d.default.Title,{},void 0,O.default.Messages.FRIENDS),w,T(y.default,{"aria-label":O.default.Messages.FRIENDS,selectedItem:r,type:y.Types.TOP_PILL,onItemSelect:function(e){l.default.setSection(e)},className:S.default.tabBar},void 0,T(y.Item,{id:E.FriendsSections.ONLINE,className:S.default.item},void 0,O.default.Messages.FRIENDS_SECTION_ONLINE),T(y.Item,{id:E.FriendsSections.ALL,className:S.default.item},void 0,O.default.Messages.FRIENDS_SECTION_ALL),T(y.Item,{
id:E.FriendsSections.PENDING,className:S.default.item,"aria-label":O.default.Messages.FRIENDS_SECTION_PENDING},void 0,O.default.Messages.FRIENDS_SECTION_PENDING,o>0?T(_.NumberBadge,{count:o,className:S.default.badge,style:{paddingRight:0}}):null),c>0?T(y.Item,{id:E.FriendsSections.SUGGESTIONS,className:S.default.item,"aria-label":O.default.Messages.FRIENDS_SECTION_SUGGESTIONS},void 0,O.default.Messages.FRIENDS_SECTION_SUGGESTIONS,T(_.NumberBadge,{count:c,className:S.default.badge,style:{paddingRight:0}})):null,T(y.Item,{id:E.FriendsSections.BLOCKED,className:S.default.item},void 0,O.default.Messages.BLOCKED),T(y.Item,{"aria-label":O.default.Messages.FRIENDS_SECTION_ADD_FRIEND,className:S.default.item,color:E.Colors.STATUS_GREEN_600,id:E.FriendsSections.ADD_FRIEND},void 0,T("span",{"aria-hidden":"true"},void 0,O.default.Messages.FRIENDS_SECTION_ADD_FRIEND)))),T("div",{className:S.default.tabBody},void 0,T(y.Panel,{id:r,className:S.default.peopleColumn
},void 0,r===E.FriendsSections.ADD_FRIEND?D:T(g.default,{sectionFilter:r})),T("div",{className:S.default.nowPlayingColumn},void 0,L)))}k.displayName="PeoplePage";var j=k;t.default=j},634634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(325908)),o=i(n(858162));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.title;return l(a.default,{className:o.default.title},void 0,t)}s.displayName="SectionTitle"},666561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(433473)),o=n(873838),i=u(n(78080));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.hovered,n=e.activities,r=e.applicationStream,u=e.status;return n.length>0?s(a.default,{className:i.default.activity,textClassName:i.default.text,emojiClassName:i.default.customStatusEmoji,activities:n,applicationStream:r,
animate:t}):s("div",{className:i.default.text},void 0,(0,o.humanizeStatus)(u))};t.default=d},67993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(237923)),i=_(n(651473)),u=n(910992),l=_(n(992193)),s=_(n(259530)),d=n(308920),c=_(n(334200)),f=_(n(906507)),p=_(n(739148)),v=n(770348),y=_(n(247001)),h=_(n(380625));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}
function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.user,n=e.nickname,r=e.status,_=e.isFocused,m=a.useContext(d.AnalyticsContext),E=function(e){null==e||e.stopPropagation();o.default.addRelationship(t.id,{location:"Friends"},void 0,void 0,!0)},O=function(e){null==e||e.stopPropagation();i.default.ignore(t.id)},S=r===v.StatusTypes.OFFLINE?v.StatusTypes.UNKNOWN:r;return g(f.default,{isFocused:_,user:t,onClick:function(){return(0,u.openUserProfileModal)({userId:t.id,analyticsLocation:m.location})}},void 0,(function(e){var r=a.createElement(a.Fragment,null,g(c.default,{icon:l.default,
actionType:c.default.ActionTypes.ACCEPT,tooltip:y.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:E,shouldHighlight:e}),g(c.default,{icon:s.default,actionType:c.default.ActionTypes.DENY,tooltip:y.default.Messages.FRIEND_REQUEST_IGNORE,onClick:O,shouldHighlight:e}));return g("div",{className:h.default.listItemContents},void 0,g(p.default,{user:t,hovered:e,status:S,subText:n,className:h.default.userInfo}),g("div",{className:h.default.actions},void 0,r))}))}E.displayName="SuggestionRow"},739148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(294184)),o=n(536211),i=d(n(252149)),u=d(n(435160)),l=d(n(290629)),s=d(n(107793));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t,n=e.user,r=e.hovered,d=e.subText,c=e.status,p=e.isMobile,v=e.className,y=(0,o.useStateFromStores)([l.default],(function(){return l.default.getNickname(n.id)}));return f("div",{className:(0,a.default)(s.default.userInfo,v,(t={},
t[s.default.hovered]=r,t))},void 0,f(u.default,{user:n,className:s.default.avatar,animate:r,status:c,isMobile:p}),f("div",{className:s.default.text},void 0,f(i.default,{nick:y,user:n,className:s.default.discordTag,usernameClass:s.default.username,discriminatorClass:s.default.discriminator,botClass:s.default.botTag}),f("div",{className:s.default.subtext},void 0,d)))}p.displayName="UserInfo";var v=p;t.default=v},864062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=s(n(536211)),i=s(n(636602)),u=n(497806),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c=(0,u.getDefaultCountryCode)();function f(e){var t,n=e.countryCode;null!=n&&(c=null!==(t=(0,u.getCountryCodeByAlpha2)(n))&&void 0!==t?t:(0,u.getDefaultCountryCode)())}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e)
;function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(a=e.selectedCountryCode)};n.getUserAgnosticState=function(){return{selectedCountryCode:a}};n.getCountryCode=function(){return null!=a?a:c};return t}(o.default.DeviceSettingsStore);p.persistKey="PhoneStore";var v=new p(i.default,((r={})[l.ActionTypes.PHONE_SET_COUNTRY_CODE]=function(e){var t=e.countryCode;a=t},r[l.ActionTypes.CONNECTION_OPEN]=f,r[l.ActionTypes.SET_LOCATION_METADATA]=f,r));t.default=v},89320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=D(n(667294)),o=R(n(294184)),i=R(n(441143)),u=n(473727),l=n(536211),s=R(n(450365)),d=R(n(662906)),c=R(n(367267)),f=R(n(240938)),p=R(n(788242)),v=R(n(235879)),y=R(n(339634)),h=R(n(569951)),_=R(n(463739)),m=R(n(564208)),g=R(n(871778)),E=R(n(949898)),O=n(248685),S=n(194322),I=D(n(499458)),b=n(272544),C=n(864489),T=n(518802),P=R(n(902305)),A=n(770348),M=n(371621),N=R(n(736972))
;function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return k.apply(this,arguments)}function j(e,t){j=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return j(e,t)}var U=L(b.MaskLibrary,{}),G=L(I.default,{}),F=L(O.AppLayerContainer,{}),x=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;j(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).rootRef=a.createRef();t.handleBlur=function(){var e,n;null===(e=(n=t.props).onBlur)||void 0===e||e.call(n)};t.handleContextMenu=function(e){e.preventDefault()};return t}var n=t.prototype;n.componentDidMount=function(){var e=this.props.guestWindow,t=e.document
;null==t.querySelector("title")&&null!=t.head&&t.head.appendChild(t.createElement("title"));this.updateTitle();this.updateFontScale();this.updateLocale();e.addEventListener("blur",this.handleBlur);t.addEventListener("contextmenu",this.handleContextMenu,!0)};n.componentDidUpdate=function(e){var t=this.props,n=t.title,r=t.fontScale,a=t.locale;e.title!==n&&this.updateTitle();e.fontScale!==r&&this.updateFontScale();e.locale!==a&&this.updateLocale()};n.componentWillUnmount=function(){var e=this.props.guestWindow,t=e.document;e.removeEventListener("blur",this.handleBlur);t.removeEventListener("contextmenu",this.handleContextMenu,!0);S.useModalsStore.setState((function(e){var t;return k({},e,((t={})[M.POPOUT_MODAL_CONTEXT]=[],t))}))};n.updateLocale=function(){var e=this.props,t=e.locale,n=e.guestWindow.document.documentElement;(0,i.default)(null!=n,"Window document element was null");n.lang=t};n.updateTitle=function(){var e=this.props,t=e.title,n=e.guestWindow.document.querySelector("title")
;null!=n&&(n.innerText=t)};n.updateFontScale=function(){var e=this.props,t=e.fontScale,n=e.guestWindow.document.documentElement;(0,i.default)(null!=n,"Window document element was null");n.style.fontSize=t+"%"};n.render=function(){var e=this.props,t=e.theme,n=e.focused,r=e.appFocused,i=e.children,l=e.windowKey,p=e.mouseModeEnabled,v=e.keyboardModeEnabled,h=e.reducedMotionEnabled,_=e.fontScaleClass,g=e.saturation,E=e.withTitleBar,S=(0,C.getPlatform)(),b=(0,o.default)(_,{"mouse-mode":p,"reduce-motion":h,"full-motion":!h,"keyboard-mode":v,"app-focused":n||r,"low-saturation":g<=.4});return L(u.BrowserRouter,{},void 0,a.createElement("div",{"data-popout-root":!0,ref:this.rootRef,className:(0,o.default)((0,T.getThemeClass)(t),(0,y.default)(),b)},L(m.default,{containerRef:this.rootRef},void 0,L(s.default,{},void 0,L(d.default,{},void 0,U,L(O.AppLayerProvider,{},void 0,L(I.ModalProvider,{contextKey:M.POPOUT_MODAL_CONTEXT},void 0,L("div",{className:N.default.popout
},void 0,E&&null!=S?L(c.default,{appContext:A.AppContext.POPOUT,focused:n,type:S,windowKey:l,macOSFrame:!0}):null,L("div",{className:N.default.content},void 0,i)),G,L(f.default,{context:A.AppContext.POPOUT}),F)))))))};return t}(a.Component);x.displayName="PopoutWindow";x.defaultProps={withTitleBar:!0};function W(e,t){var n=(0,l.useStateFromStoresObject)([P.default],(function(){return{guestWindow:P.default.getWindow(e.windowKey),focused:P.default.getWindowFocused(e.windowKey)}})),r=n.guestWindow,o=n.focused;(0,i.default)(null!=r,"Missing guestWindow reference");var u=(0,l.useStateFromStores)([E.default],(function(){return E.default.isFocused()})),s=(0,l.useStateFromStoresObject)([g.default],(function(){return{locale:g.default.locale,theme:g.default.theme}})),d=s.locale,c=s.theme,f=(0,l.useStateFromStoresObject)([v.default],(function(){return{fontScale:v.default.fontScale,keyboardModeEnabled:v.default.keyboardModeEnabled,reducedMotionEnabled:v.default.useReducedMotion,
fontScaleClass:v.default.fontScaleClass,saturation:v.default.saturation}})),p=f.fontScale,y=f.keyboardModeEnabled,m=f.reducedMotionEnabled,O=f.fontScaleClass,S=f.saturation;(0,h.default)(r,!1);var I=(0,_.default)(r,o);return null==r?null:a.createElement(x,k({ref:t},e,{guestWindow:r,focused:o,appFocused:u,locale:d,theme:c,fontScale:p,keyboardModeEnabled:y,mouseModeEnabled:I,reducedMotionEnabled:m,fontScaleClass:O,saturation:S}))}W.displayName="ConnectedPopoutWindow";var V=(0,p.default)(a.forwardRef(W));t.default=V},885159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;c(n(667294));var r,a=s(n(636602)),o=s(n(177230)),i=n(329117),u=c(n(8475)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=(0,i.makeLazy)({createPromise:function(){return n.e(41446).then(n.bind(n,209354))},webpackId:209354,name:"PopoutWindowChannelCall"}),y=(0,
i.makeLazy)({createPromise:function(){return n.e(38634).then(n.bind(n,224287))},webpackId:224287,name:"PopoutWindowStageChannelCall"}),h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(l.ActionTypes.CHANNEL_CALL_POPOUT_WINDOW_OPEN,this.handleOpenChannelCallPopout)};n._terminate=function(){a.default.unsubscribe(l.ActionTypes.CHANNEL_CALL_POPOUT_WINDOW_OPEN,this.handleOpenChannelCallPopout)};n.handleOpenChannelCallPopout=function(e){var t=e.channel;u.open(l.PopoutWindowKeys.CHANNEL_CALL_POPOUT,(function(e){return t.isGuildStageVoice()?f(y,{windowKey:e,channel:t}):f(v,{windowKey:e,channel:t})}),{defaultWidth:854,defaultHeight:480})};return t}(o.default));t.default=h},554147:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=s(n(74854)),a=s(n(636602)),o=s(n(177230)),i=n(581525),u=s(n(902305)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleMainWindowFocus=function(e){e.focused&&t.injectWindowAnimationFrame(window)};t.handlePopoutWindowChange=function(){var e=u.default.getWindowKeys().find((function(e){return u.default.getWindowFocused(e)}));if(null==e)return t.injectWindowAnimationFrame(window);var n=u.default.getWindow(e);if(null==n||n.closed)return t.injectWindowAnimationFrame(window);t.injectWindowAnimationFrame(n)};return t}var n=t.prototype;n._initialize=function(){u.default.addChangeListener(this.handlePopoutWindowChange)
;a.default.subscribe(l.ActionTypes.WINDOW_FOCUS,this.handleMainWindowFocus)};n._terminate=function(){u.default.removeChangeListener(this.handlePopoutWindowChange);a.default.unsubscribe(l.ActionTypes.WINDOW_FOCUS,this.handleMainWindowFocus);this.injectWindowAnimationFrame(window)};n.injectWindowAnimationFrame=function(e){var t=function(t){return e.requestAnimationFrame(t)},n=function(t){return e.cancelAnimationFrame(t)};r.default.inject.RequestAnimationFrame(t);r.default.inject.CancelAnimationFrame(n);i.frameLoop.setRAF(t,n)};return t}(o.default));t.default=c},401039:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PromotionPreviewExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-06_preview_promotions",label:"Promotions Preview",defaultConfig:{previewEnabled:!1},treatments:[{id:1,label:"Preview Enabled",config:{previewEnabled:!0}}]});t.PromotionPreviewExperiment=r},496357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r=p(n(636602)),a=n(832635),o=n(851792),i=p(n(177230)),u=p(n(697952)),l=p(n(146771)),s=p(n(47969)),d=n(685677),c=n(265517),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var _=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).maybeFetchSubscriptions=function(){var e=y(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:if(null==t.user.premium_type){e.next=9;break}if(l.default.hasFetchedSubscriptions()){e.next=5;break}e.next=5;return(0,a.fetchSubscriptions)();case 5:if(null!=(null==(n=l.default.getPremiumSubscription())?void 0:n.paymentSourceId)||s.default.applicationIdsFetched.has(f.PREMIUM_SUBSCRIPTION_APPLICATION)){e.next=9;break}e.next=9;return(0,o.fetchUserEntitlementsForApplication)(f.PREMIUM_SUBSCRIPTION_APPLICATION);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.maybeFetchMostRecentSubscription=function(e){var t=e.user;null==t.premium_type&&null!=t.purchased_flags&&((0,d.hasFlag)(t.purchased_flags,c.PurchasedFlags.PREMIUM_TIER_1)||(0,d.hasFlag)(t.purchased_flags,c.PurchasedFlags.PREMIUM_TIER_2))&&(0,a.fetchMostRecentSubscription)()};t.maybeFetchCountryCode=function(){var e=y(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
if(null==n.user.premium_type){e.next=4;break}e.next=4;return t.fetchCountryCode();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.fetchCountryCode=y(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,a.fetchIpCountryCode)();case 2:if(null==(t=u.default.ipCountryCode)||f.LocalizedPricingCountryCodes.includes(t)){e.next=6;break}e.next=6;return(0,a.fetchPaymentSources)();case 6:case"end":return e.stop()}}),e)})));return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(f.ActionTypes.CONNECTION_OPEN,this.maybeFetchSubscriptions);r.default.subscribe(f.ActionTypes.CONNECTION_OPEN,this.maybeFetchCountryCode);r.default.subscribe(f.ActionTypes.CONNECTION_OPEN,this.maybeFetchMostRecentSubscription)};n._terminate=function(){r.default.unsubscribe(f.ActionTypes.CONNECTION_OPEN,this.maybeFetchSubscriptions)
;r.default.unsubscribe(f.ActionTypes.CONNECTION_OPEN,this.maybeFetchCountryCode);r.default.unsubscribe(f.ActionTypes.CONNECTION_OPEN,this.maybeFetchMostRecentSubscription)};return t}(i.default));t.default=_},745108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.fetchActiveOutboundPromotions=p;var r=d(n(118915)),a=d(n(636602)),o=n(851792),i=d(n(871778)),u=n(401039),l=d(n(297143)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function p(){return v.apply(this,arguments)}function v(){return(v=f(regeneratorRuntime.mark((function e(){var t,n,d,c,f,p,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:if(!l.default.isFetchingActiveOutboundPromotions){e.next=2;break}return e.abrupt("return");case 2:e.prev=2;a.default.dispatch({type:s.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH});t=u.PromotionPreviewExperiment.getCurrentConfig({}).previewEnabled?s.Endpoints.OUTBOUND_PROMOTIONS_PREVIEW:s.Endpoints.OUTBOUND_PROMOTIONS;e.next=7;return r.default.get({url:t,query:{locale:i.default.locale},oldFormErrors:!0});case 7:n=e.sent;d=n.body;c=l.default.consumedInboundPromotionId;if(l.default.hasFetchedConsumedInboundPromotionId){e.next=16;break}e.next=13;return(0,o.fetchUserEntitlementsForApplication)(s.PREMIUM_SUBSCRIPTION_APPLICATION,!1);case 13:p=e.sent;v=p.find((function(e){return null!=e.promotion_id&&!0===e.consumed}));c=null!==(f=null==v?void 0:v.promotion_id)&&void 0!==f?f:null;case 16:a.default.dispatch({type:s.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH_SUCCESS,activeOutboundPromotions:d,consumedInboundPromotionId:c});e.next=22;break;case 19:e.prev=19;e.t0=e.catch(2)
;a.default.dispatch({type:s.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH_FAIL});case 22:case"end":return e.stop()}}),e,null,[[2,19]])})))).apply(this,arguments)}var y={fetchActiveOutboundPromotions:p,dismissOutboundPromotionNotice:function(){a.default.dispatch({type:s.ActionTypes.OUTBOUND_PROMOTION_NOTICE_DISMISS})},markOutboundPromotionsSeen:function(){a.default.dispatch({type:s.ActionTypes.OUTBOUND_PROMOTIONS_SEEN})}};t.default=y},110210:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=n(745108),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){
r.default.subscribe(i.ActionTypes.CONNECTION_OPEN,this.maybeFetchActiveOutboundPromotions)};n._terminate=function(){r.default.unsubscribe(i.ActionTypes.CONNECTION_OPEN,this.maybeFetchActiveOutboundPromotions)};n.maybeFetchActiveOutboundPromotions=function(e){e.user.premium_type===i.PremiumTypes.TIER_2&&(0,o.fetchActiveOutboundPromotions)()};return t}(a.default));t.default=s},877454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;v(n(667294));var r,a=f(n(683767)),o=f(n(41024)),i=v(n(177101)),u=n(152960),l=n(62638),s=n(770348),d=f(n(247001)),c=f(n(202192));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.dismissCurrentNotice,n=(0,u.usePremiumTrialOffer)(),r=(0,a.default)(null!=n&&null!=n.expires_at?Date.parse(n.expires_at):0);return null==n||null==n.expires_at||Object.values(r).every((function(e){return 0===e}))?null:y(i.default,{
color:i.NoticeColors.PREMIUM_TIER_2},void 0,y(i.NoticeCloseButton,{onClick:t}),y(o.default,{className:c.default.premiumIcon}),r.days>0?d.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_DAYS.format({days:r.days}):r.hours>0?d.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_HOURS.format({hours:r.hours}):d.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_MINUTES.format({minutes:Math.max(r.minutes,1)}),y(i.NoticeButton,{onClick:function(){(0,l.openPremiumSelectPlanModal)({trialId:n.trial_id,subscriptionTier:s.PremiumSubscriptionSKUs.TIER_2,analyticsObject:{page:s.AnalyticsPages.IN_APP,section:s.AnalyticsSections.NOTIFICATION_BAR,object:s.AnalyticsObjects.BUTTON_CTA}})}},void 0,d.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_CTA))};h.displayName="PremiumTier2TrialEndingNotice";var _=h;t.default=_},216920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(636602)),o=n(825185),i=p(n(177230)),u=n(799393),l=p(n(728429)),s=n(194322),d=p(n(838583)),c=n(770348),f=n(173708);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){a.default.subscribe(c.ActionTypes.PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL,this.maybeOpenProfilePreviewModal)};i._terminate=function(){a.default.unsubscribe(c.ActionTypes.PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL,this.maybeOpenProfilePreviewModal)};i.maybeOpenProfilePreviewModal=function(e){
var t=e.imageSrc,a=e.file,i=e.uploadType,c=e.guildId,p=null!=c?u.setPendingAvatar:o.setPendingAvatar,v=null!=c?u.setPendingBanner:o.setPendingBanner,h=l.default.getCurrentUser();if(i===f.UploadTypes.AVATAR){if(d.default.canUploadAnimatedAvatar(h)||"image/gif"!==a.type){p(t);return}(0,s.openModalLazy)(_(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7888)]).then(n.bind(n,7888));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,y({avatarSrc:t,onSubscribe:function(){return p(t)}},e))}));case 5:case"end":return e.stop()}}),e)}))))}else if(i===f.UploadTypes.BANNER){if(d.default.canUsePremiumProfileCustomization(h)){v(t);return}(0,s.openModalLazy)(_(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(7888)]).then(n.bind(n,7888));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,y({bannerSrc:t,onSubscribe:function(){return v(t)}},e))}));case 5:case"end":return e.stop()}}),e)}))))}};return t}(i.default));t.default=g},126515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(536211)),o=f(n(972247)),i=f(n(636602)),u=f(n(311492)),l=f(n(30098)),s=f(n(689389)),d=n(732978),c=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v="publicUpsellChannelNoticeGuilds",y=new Set;var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e;this.waitFor(s.default,l.default,u.default)
;this.syncWith([s.default,l.default,u.default],c.NOOP);y=null!==(e=new Set(o.default.get(v)))&&void 0!==e?e:new Set};n.isVisible=function(e){if(null!=e){var t=u.default.getMemberCount(e.id);return!y.has(e.id)&&null!=t&&t>=d.COMMUNITY_UPSELL_MINIMUM_GUILD_SIZE&&s.default.can(c.Permissions.ADMINISTRATOR,e)&&!e.hasFeature(c.GuildFeatures.COMMUNITY)}};return t}(a.default.Store))(i.default,((r={})[c.ActionTypes.PUBLIC_UPSELL_NOTICE_DISMISS]=function(e){var t=e.guildId;if(!y.has(t)){y.add(t);o.default.set(v,y);return!0}},r));t.default=h},666280:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=c(n(918667)),u=c(n(964285)),l=n(770348),s=c(n(247001)),d=c(n(864244));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.guild,n=a.useCallback((function(){(0,o.hideEnablePublicGuildUpsellNotice)(t.id)}),[t.id]);return p(i.default,{guild:t,onDismissed:n,onClick:function(){
return u.default.open(t.id,l.GuildSettingsSections.COMMUNITY)},message:s.default.Messages.NOTICE_ENABLE_PUBLIC_GUILD_UPSELL_MESSAGE,trackingSource:l.ChannelNoticeCtaSources.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:l.ChannelNoticeTypes.PUBLIC_UPSELL,image:d.default,cta:s.default.Messages.LEARN_MORE})};v.displayName="EnablePublicGuildUpsellNotice";var y=v;t.default=y},348612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(522731)),i=n(770348);function u(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e){e.relationship.type===i.RelationshipTypes.PENDING_INCOMING&&o.showPendingNotification(e.relationship.user)}function s(e){var t=e.user;o.showAcceptedNotification(t)}var d={init:function(){a.default.subscribe(i.ActionTypes.RELATIONSHIP_ADD,l);a.default.subscribe(i.ActionTypes.FRIEND_REQUEST_ACCEPTED,s)}};t.default=d},861798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VALIDATE_SOCKET_THROTTLERS=t.VALIDATE_SOCKET_PERIOD_MS=t.VALIDATE_SOCKET_CALLS_PER_PERIOD_LOW=t.VALIDATE_SOCKET_CALLS_PER_PERIOD_HIGH=void 0;t.computeActivityFlags=function(e,t){void 0===t&&(t=!1);var n=e.instance,r=e.secrets,a=e.party,o=0;n&&(o|=b.ActivityFlags.INSTANCE);(null==r?void 0:r.join)&&(o|=b.ActivityFlags.JOIN);if(t){o|=b.ActivityFlags.EMBEDDED;return o|=b.ActivityFlags.PARTY_PRIVACY_VOICE_CHANNEL}
if((null==a?void 0:a.privacy)===b.ActivityPartyPrivacy.PUBLIC||u.default.get("ACTIVITIES_FORCE_PUBLIC")){f.AllowActivityPartyPrivacyFriends.getSetting()&&(o|=b.ActivityFlags.PARTY_PRIVACY_FRIENDS);f.AllowActivityPartyPrivacyVoiceChannel.getSetting()&&(o|=b.ActivityFlags.PARTY_PRIVACY_VOICE_CHANNEL)}return o};t.containsSameValues=function(e,t){return r.default.isEqual(e,r.default.pick(t,Object.keys(e)))};t.fetchApplicationsRPC=function(e,t,n){return o.default.get({url:b.Endpoints.APPLICATION_RPC(t),oldFormErrors:!0,retries:3}).then((function(r){var a=r.body,o=a.rpc_origins,i=a.id,u=a.name,l=a.icon,d=a.cover_image,c=a.flags;if("string"==typeof n)if(e.transport===b.TransportTypes.POST_MESSAGE){var f=(0,s.default)(t);if(null==f||!L(n,[f]))throw new S.default(b.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin")}else if(!L(n,o))throw new S.default(b.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin");e.application={id:i,name:u,icon:l,coverImage:d,flags:c}}),(function(){
throw new S.default(b.RPCCloseCodes.INVALID_CLIENTID,"Invalid Client ID")}))};t.getDeprecatedVoiceSettingsWithShortcut=function(e){var t=y.default.getSettings(),n=function(e){return Object.values(e).sort((function(e,t){return e.index-t.index})).map((function(e){return{id:e.id,name:e.name}}))},r=e(t);return{input:{available_devices:n(y.default.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(y.default.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,threshold:t.modeOptions.threshold,shortcut:r,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}};t.getRemoteIconURL=D;t.getVoiceConnectionState=function(e){switch(e){case b.RTCConnectionStates.RTC_CONNECTED:case b.RTCConnectionStates.RTC_CONNECTING:
case b.RTCConnectionStates.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}};t.getVoiceSettingsWithShortcut=function(e,t){var n=y.default.getSettings(e),r=t(n);return{input_mode:{type:n.mode,shortcut:r},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}};t.hasMessageReadPermission=function(e,t,n){var r=v.default.getGuild(e.getGuildId());return(null!=r?r.getApplicationId():e.getApplicationId())===t||n.indexOf(b.OAuth2Scopes.MESSAGES_READ)>-1};t.isMatchingOrigin=function(e){if(null==e)return!1;var t,n=window.location.origin;if(e===n)return!0;try{t=a.default.parse(e).hostname}catch(e){return!1}if(window.location.hostname===t&&"localhost"===t)return!0;if(null!=e.match("staging"))return!1;if(M.test(e)&&M.test(n))return!0;return!1};t.processSocketThrottlers=function(e,t){return U.apply(this,arguments)};t.transformChannel=function(e,t){var n=[],r=e.getGuildId()
;[b.ChannelTypes.GUILD_CATEGORY].concat(p.GUILD_VOCAL_CHANNEL_TYPES).includes(e.type)||n.push(new Promise((function(t){h.default.whenReady(e.id,(function(){return t()}));l.default.fetchMessages({channelId:e.id,limit:b.MAX_MESSAGES_PER_CHANNEL})})));return Promise.all(n).then((function(){var n,a=(!e.isNSFW()||!0===(null===(n=m.default.getCurrentUser())||void 0===n?void 0:n.nsfwAllowed))&&t?h.default.getMessages(e.id).toArray().map(k):[],o=Object.values(g.default.getVoiceStatesForChannel(e.id)).map((function(t){return j(r,e.id,t)}));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:r,position:e.position,messages:a,voice_states:o}}))};t.transformInternalTextMessage=k;t.transformRelationship=function(e,t,n){var r=m.default.getUser(t);return{type:e,user:null!=r?(0,I.default)(r):null,presence:{status:_.default.getStatus(t),activity:null!=n?_.default.getApplicationActivity(t,n):_.default.getPrimaryActivity(t)}}};t.transformVoiceState=j
;t.validateActivityInvite=function(e,t,n){if(e===b.ActivityActionTypes.JOIN)return null!=t&&null!=t.id&&null!=n.join;return!1};t.validateApplication=function(e){if(null==e.id)throw new S.default(b.RPCErrors.INVALID_COMMAND,"Invalid application")};t.validateOrigin=L;t.validateOriginAndUpdateSocket=function(e,t){null==t&&(e.authorization.scopes=[b.RPC_LOCAL_SCOPE])};t.validatePostMessageTransport=function(e){if(e!==b.TransportTypes.POST_MESSAGE)throw new S.default(b.RPCErrors.INVALID_COMMAND,'command not available from "'+e+" transport")};var r=C(n(496486)),a=C(n(608575)),o=C(n(118915)),i=C(n(229354)),u=C(n(972247)),l=C(n(786345)),s=C(n(525917)),d=C(n(268389)),c=n(907932),f=n(894826),p=n(567186),v=C(n(30098)),y=C(n(635014)),h=C(n(201292)),_=C(n(788739)),m=C(n(728429)),g=C(n(387692)),E=C(n(29652)),O=C(n(827513)),S=C(n(248369)),I=C(n(838641)),b=n(770348);function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}var A=function(){var e=b.API_HOST.split(":")[0];if(!e.includes("."))return e;var t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),M=new RegExp("^"+O.default.escape("https://")+"(?:[a-z]+\\.)?("+O.default.escape(A)+"|discordapp.com|discord.com)$");t.VALIDATE_SOCKET_CALLS_PER_PERIOD_LOW=2;t.VALIDATE_SOCKET_CALLS_PER_PERIOD_HIGH=60;var N=6e4;t.VALIDATE_SOCKET_PERIOD_MS=N;var R={};t.VALIDATE_SOCKET_THROTTLERS=R;function w(e){"customEmoji"===e.type&&(e.type="emoji");"emoji"===e.type&&e.src&&(e.src=D(e.src));Array.isArray(e.content)&&(e.content=e.content.map(w));return e}function D(e){return/^http/.test(e)?e:location.protocol+"//"+location.host+("/"===e.charAt(0)?"":"/")+e}function L(e,t){void 0===t&&(t=[]);return t.indexOf(e)>-1
}function k(e){var t=d.default.parseToAST(e.content,!0,{channelId:e.channel_id}).map(w),n=(0,c.getMessageAuthor)(e),r=n.colorString,a=n.nick;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:a,author_color:r,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:e.author?(0,I.default)(e.author):void 0,pinned:e.pinned,type:e.type}}function j(e,t,n){var r=n.mute,a=n.deaf,o=n.selfMute,i=n.selfDeaf,u=n.suppress,l=n.userId,s=m.default.getUser(l);if(null==s)throw new Error("Invalid user id: "+l);return{nick:E.default.getName(e,t,s),mute:y.default.isLocalMute(s.id),volume:y.default.getLocalVolume(s.id),pan:y.default.getLocalPan(s.id),voice_state:{mute:r,deaf:a,self_mute:o,self_deaf:i,suppress:u},user:(0,I.default)(s)}}function U(){
return(U=P(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(r=R[t])){a=n?2:60;r=new i.default(a,N);R[t]=r}e.next=4;return r.process();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},676606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n={HANDSHAKE:0,FRAME:1,CLOSE:2,HELLO:3};t.default=n},318671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a({},e);(function(e){var t=e;return"object"==typeof t.args&&"string"==typeof t.cmd})(t)&&(t=function(e){if(e.cmd===r.RPCCommands.AUTHENTICATE)return a({},e,{args:a({},e.args,{access_token:o})});return a({},e)}(t));(function(e){var t=e;return"object"==typeof t.data&&"string"==typeof t.cmd})(t)&&(t=function(e){if(e.cmd===r.RPCCommands.AUTHENTICATE)return a({},e,{data:a({},e.data,{access_token:o})});return a({},e)}(t));return t};var r=n(770348)
;function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}var o="<removed>"},682644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=C(n(496486)),a=n(536211),o=C(n(636602)),i=C(n(644263)),u=C(n(876874)),l=C(n(319111)),s=C(n(361585)),d=C(n(635014)),c=C(n(788739)),f=C(n(893160)),p=C(n(290629)),v=C(n(211136)),y=C(n(538983)),h=C(n(728429)),_=C(n(387692)),m=C(n(308920)),g=n(71246),E=n(864489),O=n(861798),S=C(n(838641)),I=n(770348),b=n(376293);function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=function(){function e(e){this.rpcServer=e.server;this.transports=e.transports;this.rpcCommandHandlers=e.commands;this.rpcEventHandlers=e.events;this.stores=e.stores;this.registerTransportsForEmbeddedPlatform=e.registerTransportsForEmbeddedPlatform}var t=e.prototype;t.loadServer=function(){E.isPlatformEmbedded&&this.registerTransportsForEmbeddedPlatform();for(var e,t=T(this.transports);!(e=t()).done;){var n=e.value
;this.rpcServer.registerTransport(n)}for(var r=this.rpcCommandHandlers,a=0,o=Object.entries(r);a<o.length;a++){var i=o[a],u=i[0],l=i[1];this.rpcServer.setCommandHandler(u,l)}for(var s=this.rpcEventHandlers,d=0,c=Object.entries(s);d<c.length;d++){var f=c[d],p=f[0],v=f[1];this.rpcServer.setEventHandler(p,v)}};t.init=function(){var e=this;this.rpcServer.getCurrentUser=function(){return h.default.getCurrentUser()};this.rpcServer.onConnect=function(e){o.default.dirtyDispatch({type:I.ActionTypes.RPC_APP_CONNECTED,socketId:e.id,application:e.application});m.default.track(I.AnalyticEvents.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})};this.rpcServer.onDisconnect=function(e,t){o.default.dirtyDispatch({type:I.ActionTypes.RPC_APP_DISCONNECTED,socketId:e.id,application:e.application,reason:t})};var t=[i.default,u.default,c.default,_.default,d.default,f.default];new a.BatchedStoreListener(t.concat(this.stores),(function(){return e.rpcServer.updateSubscriptions()
})).attach("RPCServerManager");o.default.subscribe(I.ActionTypes.MESSAGE_CREATE,(function(t){return e.handleMessage(t)}));o.default.subscribe(I.ActionTypes.MESSAGE_UPDATE,(function(t){return e.handleMessage(t)}));o.default.subscribe(I.ActionTypes.MESSAGE_DELETE,(function(t){return e.handleMessage(t)}));o.default.subscribe(I.ActionTypes.SPEAKING,(function(t){return e.handleSpeaking(t)}));o.default.subscribe(I.ActionTypes.OAUTH2_TOKEN_REVOKE,(function(t){return e.handleOAuth2TokenRevoke(t)}));o.default.subscribe(I.ActionTypes.GUILD_CREATE,(function(t){return e.handleGuildCreate(t)}));o.default.subscribe(I.ActionTypes.CHANNEL_CREATE,(function(t){return e.handleChannelCreate(t)}));o.default.subscribe(I.ActionTypes.LOGOUT,(function(){return e.handleLogout()}));o.default.subscribe(I.ActionTypes.VOICE_CHANNEL_SELECT,(function(t){return e.handleVoiceChannelSelect(t)}));o.default.subscribe(I.ActionTypes.RPC_NOTIFICATION_CREATE,(function(t){return e.handleNotificationCreate(t)}))
;o.default.subscribe(I.ActionTypes.ACTIVITY_JOIN,(function(t){return e.handleActivityJoin(t)}));o.default.subscribe(I.ActionTypes.RELATIONSHIP_ADD,(function(t){return e.handleRelationshipAdd(t)}));o.default.subscribe(I.ActionTypes.RELATIONSHIP_REMOVE,(function(t){return e.handleRelationshipRemove(t)}));o.default.subscribe(I.ActionTypes.PRESENCE_UPDATE,(function(t){return e.handlePresenceUpdate(t)}));o.default.subscribe(I.ActionTypes.PRESENCES_REPLACE,(function(){return e.handlePresencesReplace()}));o.default.subscribe(I.ActionTypes.LOBBY_UPDATE,(function(t){return e.handleLobbyUpdate(t)}));o.default.subscribe(I.ActionTypes.LOBBY_DELETE,(function(t){return e.handleLobbyDelete(t)}));o.default.subscribe(I.ActionTypes.LOBBY_MEMBER_CONNECT,(function(t){return e.handleLobbyMemberConnect(t)}));o.default.subscribe(I.ActionTypes.LOBBY_MEMBER_UPDATE,(function(t){return e.handleLobbyMemberUpdate(t)}));o.default.subscribe(I.ActionTypes.LOBBY_MEMBER_DISCONNECT,(function(t){
return e.handleLobbyMemberDisconnect(t)}));o.default.subscribe(I.ActionTypes.LOBBY_MESSAGE,(function(t){return e.handleLobbyMessage(t)}));o.default.subscribe(I.ActionTypes.ENTITLEMENT_CREATE,(function(t){return e.handleEntitlementCreate(t)}));o.default.subscribe(I.ActionTypes.ENTITLEMENT_DELETE,(function(t){return e.handleEntitlementDelete(t)}));o.default.subscribe(I.ActionTypes.USER_ACHIEVEMENT_UPDATE,(function(t){return e.handleUserAchievementUpdate(t)}))};t.handleMessage=function(e){e.type===I.ActionTypes.MESSAGE_CREATE&&this.handleActivityMessage(e);var t,n,r,a=null;switch(e.type){case I.ActionTypes.MESSAGE_CREATE:if("SENDING"===e.message.state)return;t=I.RPCEvents.MESSAGE_CREATE;n=e.channelId;r=e.message;a=""+t+e.message.id;break;case I.ActionTypes.MESSAGE_UPDATE:t=I.RPCEvents.MESSAGE_UPDATE;n=e.message.channel_id;r=e.message;break;case I.ActionTypes.MESSAGE_DELETE:t=I.RPCEvents.MESSAGE_DELETE;n=e.channelId;r={id:e.id};a=""+t+e.id;break;default:return(0,g.assertNever)(e)}
n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,O.transformInternalTextMessage)(r)},a)};t.handleSpeaking=function(e){var t=this,n=0!==e.speakingFlags?I.RPCEvents.SPEAKING_START:I.RPCEvents.SPEAKING_STOP;if(e.context===b.MediaEngineContextTypes.DEFAULT){var r=v.default.getVoiceChannelId();if(null!=r){var a=i.default.getChannel(r);if(null==a)return;var o=_.default.getVoiceState(a.getGuildId(),e.userId);if(null==o)return;this.rpcServer.dispatchToSubscriptions(n,{channel_id:o.channelId},{channel_id:o.channelId,user_id:e.userId})}}else s.default.getLobbyIdsForUser(e.userId).forEach((function(r){var a=l.default.getLobby(r);null!=a&&a.application_id===e.context&&t.rpcServer.dispatchToSubscriptions(n,{},{lobby_id:r,user_id:e.userId})}))};t.handleVoiceChannelSelect=function(e){var t=e.guildId,n=e.channelId;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})};t.handleNotificationCreate=function(e){
var t=e.channelId,n=e.message,r=e.icon,a=e.title,o=e.body;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,O.transformInternalTextMessage)(n),icon_url:null!=r?(0,O.getRemoteIconURL)(r):null,title:a,body:o})};t.handleActivityJoin=function(e){var t=e.applicationId,n=e.secret,r=e.intent,a={secret:n};e.embedded&&(a.intent=r);this.rpcServer.dispatchToSubscriptions(I.RPCEvents.ACTIVITY_JOIN,(function(e){return e.socket.application.id===t}),a);this.rpcServer.dispatchToSubscriptions(I.RPCEvents.GAME_JOIN,(function(e){return e.socket.application.id===t}),a)};t.handleActivityMessage=function(e){var t=e.channelId,n=e.message,r=n.application,a=n.activity;if(null!=r&&null!=a&&null!=a.party_id){var o=h.default.getUser(n.author.id);if(null!=o){var i=h.default.getCurrentUser();if(null!=i&&o.id!==i.id){var u=a.type===I.ActivityActionTypes.JOIN_REQUEST?c.default.getApplicationActivity(i.id,r.id):c.default.getApplicationActivity(o.id,r.id)
;if(null!=u&&null!=u.party&&u.party.id===a.party_id){var l=u.application_id;switch(a.type){case I.ActivityActionTypes.JOIN:this.rpcServer.dispatchToSubscriptions(I.RPCEvents.ACTIVITY_INVITE,(function(e){return e.socket.application.id===l}),{user:(0,S.default)(o),activity:u,type:a.type,channel_id:t,message_id:n.id});break;case I.ActivityActionTypes.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(I.RPCEvents.ACTIVITY_JOIN_REQUEST,(function(e){return e.socket.application.id===l}),{user:(0,S.default)(o)})}}}}}};t.handleOAuth2TokenRevoke=function(e){var t=e.accessToken;this.rpcServer.sockets.forEach((function(e){e.authorization.accessToken===t&&e.close(I.RPCCloseCodes.TOKEN_REVOKED,"Token revoked")}))};t.handleGuildCreate=function(e){var t=e.guild,n=t.id,r=t.name;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.GUILD_CREATE,{},{id:n,name:r})};t.handleChannelCreate=function(e){var t=e.channel,n=t.id,r=t.name,a=t.type
;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.CHANNEL_CREATE,{},{id:n,name:r,type:a})};t.handleLogout=function(){this.rpcServer.sockets.forEach((function(e){return e.close(I.RPCCloseCodes.CLOSE_NORMAL,"User logout")}))};t.handleRelationshipAdd=function(e){var t=e.relationship,n=t.id,r=t.type;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.RELATIONSHIP_UPDATE,{},(0,O.transformRelationship)(r,n))};t.handleRelationshipRemove=function(e){var t=e.relationship.id;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.RELATIONSHIP_UPDATE,{},(0,O.transformRelationship)(I.RelationshipTypes.NONE,t))};t.handlePresenceUpdate=function(e){var t=e.guildId,n=e.user.id;if(null==t){var r=p.default.getRelationshipType(n);r===I.RelationshipTypes.NONE&&y.default.getUserAffinitiesUserIds().has(n)&&(r=I.RelationshipTypes.IMPLICIT);r!==I.RelationshipTypes.NONE&&this.rpcServer.dispatchToSubscriptions(I.RPCEvents.RELATIONSHIP_UPDATE,{},(0,O.transformRelationship)(r,n))}}
;t.handlePresencesReplace=function(){var e=this;r.default.forEach(p.default.getRelationships(),(function(t,n){e.rpcServer.dispatchToSubscriptions(I.RPCEvents.RELATIONSHIP_UPDATE,{},(0,O.transformRelationship)(t,n))}))};t.handleLobbyUpdate=function(e){var t=e.lobby;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.LOBBY_UPDATE,{},t)};t.handleLobbyDelete=function(e){var t=e.lobbyId;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.LOBBY_DELETE,{},{id:t})};t.handleLobbyMemberConnect=function(e){var t=e.lobbyId,n=e.member;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.LOBBY_MEMBER_CONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMemberUpdate=function(e){var t=e.lobbyId,n=e.member;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.LOBBY_MEMBER_UPDATE,{},{lobby_id:t,member:n})};t.handleLobbyMemberDisconnect=function(e){var t=e.lobbyId,n=e.member;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.LOBBY_MEMBER_DISCONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMessage=function(e){
var t=e.lobbyId,n=e.senderId,r=e.data;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.LOBBY_MESSAGE,{},{lobby_id:t,sender_id:n,data:r})};t.handleEntitlementCreate=function(e){var t=e.entitlement;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.ENTITLEMENT_CREATE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleEntitlementDelete=function(e){var t=e.entitlement;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.ENTITLEMENT_DELETE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleUserAchievementUpdate=function(e){var t=e.userAchievement,n=t.application_id;this.rpcServer.dispatchToSubscriptions(I.RPCEvents.USER_ACHIEVEMENT_UPDATE,(function(e){return e.socket.application.id===n}),{user_achievement:t})};return e}();t.default=A},964125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n;return(n={})[p.RPCCommands.AUTHENTICATE]={handler:function(n){
var a=n.socket,o=n.args.access_token;if(null==o&&a.transport===p.TransportTypes.IPC){var u=a.application.id;if(null==u)throw new f.default(p.RPCErrors.INVALID_COMMAND,"No application.");var l=p.OAuth2Scopes.IDENTIFY,s=function(){return g({client_id:u,scope:l,response_type:"token"},e,t).then((function(e){if(null==e)throw new f.default(p.RPCErrors.UNKNOWN_ERROR,"Unknown error occurred");var t=e.split(/#|\?/),n=r.default.parse(t[t.length-1]);if(null!=n.error){var o;throw new f.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Error: "+n.error+": "+(null!==(o=n.error_description)&&void 0!==o?o:"unknown error"))}!function(e,t,n,r){var a,o=null!==(a=i.default.get(m))&&void 0!==a?a:{};o[e]={accessToken:t,scope:n,expires:Date.now()+r};i.default.set(m,o)}(u,n.access_token,n.scope,n.expires_in);return O(a,n.access_token)}))};o=function(e,t){var n=i.default.get(m);if(null!=n&&null!=n[e]){var r=n[e];if(!(r.scope!==t||r.expires<=Date.now()))return r.accessToken;delete n[e];i.default.set(m,n)}}(u,l)
;return null!=o?O(a,o).catch((function(){!function(e){var t,n=null!==(t=i.default.get(m))&&void 0!==t?t:{};delete n[e];i.default.set(m,n)}(u);return s()})):s()}if(null==o)throw new f.default(p.RPCErrors.INVALID_TOKEN,"No access token provided");return O(a,o)}},n[p.RPCCommands.AUTHORIZE]={handler:function(n){var a=n.socket,i=n.args,u=i.client_id;if(!u)throw new f.default(p.RPCErrors.INVALID_CLIENTID,"No client id provided");if(a.authorization.accessToken)throw new f.default(p.RPCErrors.INVALID_COMMAND,"Already authenticated");if(a.authorization.authing)throw new f.default(p.RPCErrors.INVALID_COMMAND,"Already authing");a.authorization.authing=!0;return o.default.get({url:p.Endpoints.APPLICATION_RPC(u),oldFormErrors:!0}).then((function(n){var r=n.body;if(a.application.id!==r.id)throw new f.default(p.RPCErrors.INVALID_CLIENTID,"Application does not match the connection's");var o=i.scopes||i.scope;delete i.scopes;return g(y({},i,{scope:o}),e,t)}),(function(){
throw new f.default(p.RPCErrors.INVALID_CLIENTID,"Invalid client id: "+u)})).then((function(e){a.authorization.authing=!1;if(null==e)throw new f.default(p.RPCErrors.UNKNOWN_ERROR,"Unknown error occurred");var t=r.default.parse(e.split("?")[1].split("#")[0]);if(null!=t.error){var n;throw new f.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Error: "+t.error+": "+(null!==(n=t.error_description)&&void 0!==n?n:"unknown error"))}return{code:t.code}})).catch((function(e){a.authorization.authing=!1;throw e}))}},n};var r=v(n(817673)),a=v(n(267258)),o=v(n(118915)),i=v(n(972247)),u=v(n(636602)),l=n(552720),s=n(830608),d=v(n(728429)),c=v(n(656016)),f=v(n(248369)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var m="CachedTokens";function g(e,t,n){return E.apply(this,arguments)}function E(){return(E=_(regeneratorRuntime.mark((function e(t,n,r){var o,i,u,v,y,h,_,m,g,E,O,S,I,b,C,T,P,A,M;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.client_id,i=t.response_type,u=void 0===i?"code":i,v=t.redirect_uri,y=t.code_challenge,h=t.code_challenge_method,_=t.state,m=t.scope,g=t.permissions,E=t.guild_id,O=t.channel_id,S=t.prompt,I=t.disable_guild_select;if(null!=o){e.next=3;break}throw new f.default(p.RPCErrors.OAUTH2_ERROR,"No Client ID provided");case 3:if(null==v){e.next=5;break}throw new f.default(p.RPCErrors.OAUTH2_ERROR,"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");case 5:b=[]
;"string"==typeof m?b=m.split(" ").filter((function(e){return e.length>0})):Array.isArray(m)&&(b=m);if(null!=d.default.getCurrentUser()){e.next=10;break}throw new f.default(p.RPCErrors.OAUTH2_ERROR,"Client is not logged in");case 10:e.prev=10;e.next=13;return(0,l.fetchAuthorization)(o,b,u,v,y,h,_);case 13:C=e.sent;e.next=20;break;case 16:e.prev=16;e.t0=e.catch(10);T=e.t0.body;throw new f.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Authorization Error: "+(T.message||"Unknown Error"));case 20:if(S!==s.OAuth2Prompts.NONE||null==C||!C.authorized){e.next=32;break}e.prev=21;e.next=24;return(0,l.authorize)(!0,o,b,u,v,y,h,_);case 24:P=e.sent;return e.abrupt("return",P.location);case 28:e.prev=28;e.t1=e.catch(21);A=e.t1.body;throw new f.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Authorize Error: "+(A.message||"Unknown Error"));case 32:null==r||r(C.application);M=c.default.NONE;try{M=a.default.deserialize(null!=g?g:0)}catch(e){}return e.abrupt("return",n(o,C,b,M,u,v,y,h,_,E,O,S,I));case 36:case"end":
return e.stop()}}),e,null,[[10,16],[21,28]])})))).apply(this,arguments)}function O(e,t){if(e.authorization.accessToken)throw new f.default(p.RPCErrors.INVALID_COMMAND,"Already authenticated");if(e.authorization.authing)throw new f.default(p.RPCErrors.INVALID_COMMAND,"Already authenticating");e.authorization.authing=!0;return o.default.get({url:p.Endpoints.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer "+t},oldFormErrors:!0}).then((function(n){e.authorization.authing=!1;var r=n.body,a=r.application,o=r.user,i=r.scopes,l=r.expires;if(e.application.id!==a.id)throw new f.default(p.RPCErrors.INVALID_CLIENTID,"Application does not match the connection's");var s=d.default.getCurrentUser();if(null==s||!o||s.id!==o.id)throw new f.default(p.RPCErrors.INVALID_TOKEN,"Token does not match current user");e.authorization.scopes=[].concat(e.authorization.scopes,i,[p.RPC_AUTHENTICATED_SCOPE]);e.authorization.accessToken=t;e.authorization.expires=new Date(l);u.default.dispatch({
type:p.ActionTypes.RPC_APP_AUTHENTICATED,socketId:e.id,application:e.application});return y({},n.body,{access_token:t})}),(function(){throw new f.default(p.RPCErrors.INVALID_TOKEN,"Invalid access token: "+t)})).catch((function(t){e.authorization.authing=!1;throw t}))}},311809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=s(n(94047)),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var d=((o={})[l.RPCCommands.SET_USER_ACHIEVEMENT]={scope:(r={},r[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],r),validation:function(e){return e.object().required().keys({achievement_id:e.string().min(2).max(128),percent_complete:e.number().min(0).max(100).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.achievement_id,a=n.percent_complete,o=t.application.id;if(null==o)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return i.default.setUserAchievement(o,r,a).catch((function(e){
var t=e.status,n=e.body;switch(t){case 429:throw new u.default(l.RPCErrors.RATE_LIMITED,"You are being rate limited.");case 403:throw null!=n&&n.code===l.AbortCodes.USER_NOT_AUTHORIZED_FOR_APPLICATION?new u.default(l.RPCErrors.UNAUTHORIZED_FOR_ACHIEVEMENT,"Not authorized to update this achievement."):new u.default(l.RPCErrors.UNKNOWN_ERROR,"Unknown error from API. status="+t+".");default:throw new u.default(l.RPCErrors.UNKNOWN_ERROR,"Unknown error from API. status="+t+".")}})).then((function(){return null}))}},o[l.RPCCommands.GET_USER_ACHIEVEMENTS]={scope:(a={},a[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],a),handler:function(e){var t=e.socket.application.id;if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return i.default.fetchForApplication(t).then((function(e){return e||[]}))}},o);t.default=d},421700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i=n(360307),u=(r=n(248369))&&r.__esModule?r:{default:r},l=n(770348),s=n(376293);var d=((o={})[l.RPCCommands.SET_CERTIFIED_DEVICES]={scope:(a={},a[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],a),validation:function(e){return e.object().required().keys({devices:e.array().items(e.object().keys({type:e.string().required().valid([s.DeviceTypes.AUDIO_INPUT,s.DeviceTypes.AUDIO_OUTPUT,s.DeviceTypes.VIDEO_INPUT]),id:e.string().required().min(1),vendor:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),model:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))})},handler:function(e){var t=e.socket,n=e.args.devices;if(null==t.application.id)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");(0,
i.setCertifiedDevices)(t.application.id,n.map((function(e){return{type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter((function(e){return n.some((function(t){return t.id===e}))})),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute}})))}},o);t.default=d},588648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=E(n(496486)),i=E(n(23170)),u=E(n(136873)),l=n(139982),s=n(567186),d=E(n(644263)),c=E(n(30098)),f=E(n(689389)),p=E(n(211136)),v=E(n(387692)),y=n(319986),h=E(n(248369)),_=n(861798),m=n(770348),g=["channel_id"];function E(e){return e&&e.__esModule?e:{default:e}}var O=((a={})[m.RPCCommands.GET_CHANNEL]={scope:m.OAuth2Scopes.RPC,handler:function(e){var t=e.args.channel_id,n=e.socket,r=d.default.getChannel(t);if(null==r)throw new h.default(m.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return(0,
_.transformChannel)(r,(0,_.hasMessageReadPermission)(r,n.application.id,n.authorization.scopes))}},a[m.RPCCommands.GET_CHANNELS]={scope:m.OAuth2Scopes.RPC,handler:function(e){var t=e.args.guild_id,n=o.default.values(d.default.getMutableGuildAndPrivateChannels());if(t){var r=c.default.getGuild(t);if(null==r)throw new h.default(m.RPCErrors.INVALID_GUILD,"Invalid guild id: "+t);n=n.filter((function(e){return e.guild_id===r.id}))}return{channels:n.filter((function(e){return f.default.can(m.Permissions.VIEW_CHANNEL,e)})).map((function(e){return{id:e.id,name:e.name,type:e.type}}))}}},a[m.RPCCommands.SELECT_VOICE_CHANNEL]={scope:m.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60),force:e.boolean()})},handler:function(e){var t=e.server,n=e.socket,r=e.args,a=r.channel_id,o=r.timeout,i=void 0===o?0:o,l=r.force,g=void 0!==l&&l;if(!a){u.default.selectVoiceChannel(null);return null}
var E=p.default.getVoiceChannelId();if(E&&E!==a&&!1===g)throw new h.default(m.RPCErrors.SELECT_VOICE_FORCE_REQUIRED,"User is already joined to a voice channel.");return t.storeWait(n,(function(){return d.default.getChannel(a)}),i).catch((function(){throw new h.default(m.RPCErrors.SELECT_CHANNEL_TIMED_OUT,"Request to select voice channel timed out.")})).then((function(e){if(null==e)throw new h.default(m.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+a);if(!(0,s.isVoiceChannel)(e.type))throw new h.default(m.RPCErrors.INVALID_CHANNEL,"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,_.transformChannel)(e,(0,_.hasMessageReadPermission)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=e[0],n=e[1];if(n.guild_id){if((0,y.isChannelFull)(t,v.default,c.default))throw new h.default(m.RPCErrors.INVALID_CHANNEL,"Channel is full")
;if(!f.default.can(m.Permissions.CONNECT,t))throw new h.default(m.RPCErrors.INVALID_PERMISSIONS,"Connect permission required to join channel")}u.default.selectVoiceChannel(t.id);return n}))}},a[m.RPCCommands.GET_SELECTED_VOICE_CHANNEL]={scope:(r={},r[m.RPC_SCOPE_CONFIG.ANY]=[m.OAuth2Scopes.RPC,m.OAuth2Scopes.RPC_VOICE_READ],r),handler:function(e){var t=e.socket,n=p.default.getVoiceChannelId(),r=null!=n?d.default.getChannel(n):null;return null!=r?(0,_.transformChannel)(r,(0,_.hasMessageReadPermission)(r,t.application.id,t.authorization.scopes)):null}},a[m.RPCCommands.SELECT_TEXT_CHANNEL]={scope:m.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.server,n=e.socket,r=e.args,a=r.channel_id,o=r.timeout,i=void 0===o?0:o;if(!a){(0,l.transitionTo)(m.Routes.ME);return null}return t.storeWait(n,(function(){return d.default.getChannel(a)}),i).catch((function(){
throw new h.default(m.RPCErrors.SELECT_CHANNEL_TIMED_OUT,"Request to select text channel timed out.")})).then((function(e){if(null==e)throw new h.default(m.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+a);if(!(0,s.isTextChannel)(e.type))throw new h.default(m.RPCErrors.INVALID_CHANNEL,"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,_.transformChannel)(e,(0,_.hasMessageReadPermission)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=e[0],n=e[1];if(n.guild_id&&!f.default.can(m.Permissions.VIEW_CHANNEL,t))throw new h.default(m.RPCErrors.INVALID_CHANNEL,"No permission to see channel");n.guild_id?(0,l.replaceWith)(m.Routes.CHANNEL(n.guild_id,t.id)):u.default.selectPrivateChannel(t.id);return n}))}},a[m.RPCCommands.CREATE_CHANNEL_INVITE]={scope:m.OAuth2Scopes.RPC,handler:function(e){var t=e.args,n=t.channel_id,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}
return a}(t,g);return i.default.createInvite(n,r,"RPC").catch((function(){throw new h.default(m.RPCErrors.INVALID_PERMISSIONS,"Unable to generate an invite for "+n+". Does this user have permissions?")}))}},a);t.default=O},148400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(636602)),o=u(n(248369)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[i.RPCCommands.SET_CONFIG]={scope:i.RPC_AUTHENTICATED_SCOPE,validation:function(e){return e.object().required().keys({use_interactive_pip:e.boolean()})},handler:function(e){var t=e.socket,n=e.args.use_interactive_pip;if(t.transport!==i.TransportTypes.POST_MESSAGE)throw new o.default(i.RPCErrors.INVALID_COMMAND,'command not available from "'+t.transport+" transport");if(null==t.application.id)throw new o.default(i.RPCErrors.INVALID_COMMAND,"invalid application");a.default.dispatch({type:i.ActionTypes.EMBEDDED_ACTIVITY_SET_CONFIG,applicationId:t.application.id,
config:{useInteractivePIP:n}});return Promise.resolve({use_interactive_pip:n})}},r);t.default=l},985918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.crossPlatformCommands=void 0;var r=_(n(311809)),a=_(n(421700)),o=_(n(588648)),i=_(n(148400)),u=_(n(701302)),l=_(n(490305)),s=_(n(220928)),d=_(n(219995)),c=_(n(506979)),f=_(n(819016)),p=_(n(839777)),v=_(n(855566)),y=_(n(511502)),h=_(n(663148));function _(e){return e&&e.__esModule?e:{default:e}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var g=m({},r.default,{},a.default,{},o.default,{},i.default,{},u.default,{},l.default,{},s.default,{},d.default,{},c.default,{},f.default,{},p.default,{},v.default,{},h.default,{},y.default);t.crossPlatformCommands=g},701302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=l(n(496486)),o=l(n(30098)),i=l(n(248369)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.RPCCommands.GET_GUILD]={scope:u.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.socket,n=e.server,r=e.args,a=r.guild_id,l=r.timeout,s=void 0===l?0:l;return n.storeWait(t,(function(){return o.default.getGuild(a)}),s).catch((function(){throw new i.default(u.RPCErrors.GET_GUILD_TIMED_OUT,"Request to get guild timed out.")})).then((function(e){var t;if(null==e)throw new i.default(u.RPCErrors.INVALID_GUILD,"Invalid guild id: "+a);return{id:e.id,name:e.name,icon_url:null!==(t=e.getIconURL(128))&&void 0!==t?t:null,members:[],vanity_url_code:e.vanityURLCode}}))}},r[u.RPCCommands.GET_GUILDS]={scope:u.OAuth2Scopes.RPC,handler:function(){var e=o.default.getGuilds();return{guilds:a.default.map(e,(function(e){return{id:e.id,name:e.name,
icon_url:e.getIconURL(128)}}))}}},r);t.default=s},490305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(728429)),o=s(n(692711)),i=n(175235),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var d=((r={})[l.RPCCommands.GET_IMAGE]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({type:e.string().required().valid(["user"]),id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])})},handler:function(e){var t,n=e.args,r=n.type,s=n.id,d=n.format,c=void 0===d?"png":d,f=n.size,p=void 0===f?128:f;if("user"===r){var v=a.default.getUser(s);if(null==v)throw new u.default(l.RPCErrors.INVALID_USER,"Invalid user id: "+s);t=o.default.getUserAvatarURL(v,c,p);var y=window.GLOBAL_ENV.CDN_HOST;null!=y&&-1!==t.indexOf(y)&&(t+="&_=")}if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No valid type.")
;return fetch(t).then((function(e){return e.blob()})).then((function(e){return(0,i.readFileAsBase64)(e)})).then((function(e){return{data_url:e}}))}},r);t.default=d},220928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(165551)),o=n(262710),i=n(864489),u=d(n(248369)),l=n(861798),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}var c=((r={})[s.RPCCommands.OPEN_EXTERNAL_LINK]={validation:function(e){return e.object().required().keys({url:e.string().required()})},handler:function(e){var t=e.socket,n=e.args.url;(0,l.validatePostMessageTransport)(t.transport);try{var r=new URL(n);i.isPlatformEmbedded&&a.default.focus(null,!0);(0,o.handleClick)({href:r.toString()})}catch(e){throw new u.default(s.RPCErrors.INVALID_COMMAND,"Invalid URL: "+n)}}},r);t.default=c},219995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(24794);n(226720)
;var a,o,i,u,l,s,d,c,f,p=n(319111),v=(a=n(248369))&&a.__esModule?a:{default:a},y=n(770348);function h(e){if(e instanceof p.LobbyError)switch(e.code){case y.LobbyErrors.FULL:throw new v.default(y.RPCErrors.LOBBY_FULL,"Lobby is full.");case y.LobbyErrors.INVALID_SECRET:throw new v.default(y.RPCErrors.INVALID_LOBBY_SECRET,"Lobby secret is invalid.");case y.LobbyErrors.NOT_FOUND:throw new v.default(y.RPCErrors.INVALID_LOBBY,"Lobby does not exist.");case y.LobbyErrors.SERVICE_UNAVAILABLE:throw new v.default(y.RPCErrors.SERVICE_UNAVAILABLE,"Lobby service is unavailable.");case y.LobbyErrors.ALREADY_CONNECTING:throw new v.default(y.RPCErrors.INVALID_COMMAND,"Already connecting to lobby.");default:throw new v.default(y.RPCErrors.UNKNOWN_ERROR,"Unknown error has occured.")}throw e}var _=((f={})[y.RPCCommands.CREATE_LOBBY]={scope:(o={},o[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],o),validation:function(e){return e.object().required().keys({type:e.number().valid(Object.values(y.LobbyTypes)),
capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t=e.socket,n=e.args,a=n.type,o=n.capacity,i=n.locked,u=n.metadata;if(null==t.application.id)throw new v.default(y.RPCErrors.INVALID_COMMAND,"No application.");return(0,r.createLobby)(t.id,t.application.id,{type:a,capacity:o,locked:i,metadata:u}).catch(h)}},f[y.RPCCommands.UPDATE_LOBBY]={scope:(i={},i[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],i),validation:function(e){return e.object().required().keys({id:e.string().required(),type:e.number().valid(Object.values(y.LobbyTypes)),owner_id:e.string(),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t=e.args,n=t.id,a=t.type,o=t.owner_id,i=t.capacity,u=t.locked,l=t.metadata;return(0,r.updateLobby)(n,{type:a,owner_id:o,capacity:i,locked:u,metadata:l}).catch(h)}},f[y.RPCCommands.DELETE_LOBBY]={scope:(u={},u[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],u),validation:function(e){return e.object().required().keys({
id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,r.deleteLobby)(t).catch(h)}},f[y.RPCCommands.UPDATE_LOBBY_MEMBER]={scope:(l={},l[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],l),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),user_id:e.string().required(),metadata:e.object()})},handler:function(e){var t=e.args,n=t.lobby_id,a=t.user_id,o=t.metadata;return(0,r.updateLobbyMember)(n,a,{metadata:o}).catch(h)}},f[y.RPCCommands.CONNECT_TO_LOBBY]={scope:(s={},s[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],s),validation:function(e){return e.object().required().keys({id:e.string().required(),secret:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,a=n.id,o=n.secret;return(0,r.connect)(t.id,a,o).catch(h)}},f[y.RPCCommands.DISCONNECT_FROM_LOBBY]={scope:(d={},d[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],d),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){
var t=e.args.id;(0,r.disconnect)(t)}},f[y.RPCCommands.SEND_TO_LOBBY]={scope:(c={},c[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],c),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),data:e.string().required()})},handler:function(e){var t=e.args,n=t.lobby_id,a=t.data;return(0,r.send)(n,a).catch(h)}},f[y.RPCCommands.SEARCH_LOBBIES]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({filter:e.array().items(e.object().keys({key:e.string().required(),comparison:e.number().required(),cast:e.number().required(),value:e.string().required()})),sort:e.array().items(e.object().keys({key:e.string().required(),cast:e.number().required(),near_value:e.string()})),limit:e.number(),distance:e.number()})},handler:function(e){var t=e.socket,n=e.args,a=n.filter,o=n.sort,i=n.limit,u=n.distance;return(0,r.search)({application_id:t.application.id,filter:a,sort:o,limit:i,distance:u}).catch(h)}},f[y.RPCCommands.CONNECT_TO_LOBBY_VOICE]={
scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.voiceConnect)(t)}},f[y.RPCCommands.DISCONNECT_FROM_LOBBY_VOICE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.voiceDisconnect)(t)}},f);t.default=_},506979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(118915)),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[i.RPCCommands.GET_NETWORKING_CONFIG]={scope:i.RPC_LOCAL_SCOPE,handler:function(){return Promise.all([a.default.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3}).then((function(e){return e.body.address})),a.default.post({url:i.Endpoints.NETWORKING_TOKEN,retries:3,oldFormErrors:!0}).then((function(e){return e.body.token}))]).then((function(e){return{
address:e[0],token:e[1]}}))}},r[i.RPCCommands.NETWORKING_SYSTEM_METRICS]={scope:i.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;o.default.track(i.AnalyticEvents.NETWORKING_SYSTEM_METRICS,n)}},r[i.RPCCommands.NETWORKING_PEER_METRICS]={scope:i.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;o.default.track(i.AnalyticEvents.NETWORKING_PEER_METRICS,n)}},r[i.RPCCommands.NETWORKING_CREATE_TOKEN]={scope:i.RPC_LOCAL_SCOPE,handler:function(){return a.default.post({url:i.Endpoints.NETWORKING_TOKEN,retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}},r);t.default=l},819016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(496486)),o=d(n(290629)),i=d(n(538983)),u=d(n(728429)),l=n(861798),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var f=((r={})[s.RPCCommands.GET_RELATIONSHIPS]={scope:s.RPC_LOCAL_SCOPE,handler:function(){var e=c({},o.default.getRelationships());i.default.getUserAffinitiesUserIds().forEach((function(t){null==e[t]&&null!=u.default.getUser(t)&&(e[t]=s.RelationshipTypes.IMPLICIT)}));return{relationships:a.default.map(e,(function(e,t){return(0,l.transformRelationship)(e,t)}))}}},r);t.default=f},839777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=f(n(496486)),i=f(n(636602)),u=f(n(308920)),l=n(698243),s=f(n(248369)),d=n(861798),c=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}var p=["349134787773988865"],v=((a={})[c.RPCCommands.SET_ACTIVITY]={scope:(r={},r[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_ACTIVITIES_WRITE,c.RPC_LOCAL_SCOPE],r),validation:function(e){
return e.object().required().keys({pid:e.number().min(0),activity:e.object().keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:e.object().keys({start:e.number().min(1),end:e.number().min(1)}),assets:e.object().keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),small_text:e.string().min(2).max(128)}),party:e.object().keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(1)).length(2),privacy:e.number().default(c.ActivityPartyPrivacy.PRIVATE).valid([c.ActivityPartyPrivacy.PRIVATE,c.ActivityPartyPrivacy.PUBLIC])}),secrets:e.object().keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),game_session_id:e.string().max(128),buttons:e.array().items(e.object().keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),
supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(c.ActivityTypes.PLAYING).valid(c.ActivityTypes.PLAYING,c.ActivityTypes.WATCHING)}).allow(null)})},handler:function(e){var t,n=e.socket,r=e.args,a=r.pid,f=r.activity,v=e.isSocketConnected;if(![c.TransportTypes.IPC,c.TransportTypes.WEBSOCKET,c.TransportTypes.POST_MESSAGE].includes(n.transport))throw new s.default(c.RPCErrors.INVALID_COMMAND,'command not available from "'+n.transport+'" transport');if(null==a&&c.TransportTypes.IPC===n.transport)throw new s.default(c.RPCErrors.INVALID_COMMAND,"nonzero pid required");if(null==f){i.default.dispatch({type:c.ActionTypes.LOCAL_ACTIVITY_UPDATE,socketId:n.id,pid:a,activity:f});return Promise.resolve(f)}f.name=n.application.name;f.application_id=n.application.id;var y=n.transport===c.TransportTypes.POST_MESSAGE,h=(0,d.computeActivityFlags)(f,y);h>0&&(f.flags=h);delete f.instance;null===(t=f.party)||void 0===t||delete t.privacy
;var _=f.game_session_id;delete f.game_session_id;var m,g=f.assets,E=f.party,O=f.secrets,S=f.timestamps,I=f.buttons,b=f.type;(null==b||b!==c.ActivityTypes.PLAYING&&!y)&&(f.type=c.ActivityTypes.PLAYING);if(null!=O){var C=o.default.values(O).filter((function(e){return!!e}));if(null!=E&&o.default.intersection(C,[E.id]).length>0&&!p.includes(n.application.id))throw new s.default(c.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets cannot match the party id");if(o.default.uniq(C).length<C.length)throw new s.default(c.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets must be unique");if(null!=I)throw new s.default(c.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets cannot currently be sent with buttons")}if(null!=I){f.metadata={button_urls:I.map((function(e){return e.url}))};f.buttons=I.map((function(e){return e.label}))}if(null!=S)for(var T=0,P=Object.keys(S);T<P.length;T++){var A=P[T];Date.now().toString().length-S[A].toString().length>2&&(S[A]=Math.floor(1e3*S[A]))}if(null==g)m=Promise.resolve([]);else{
if(null==n.application||null==n.application.id)throw new Error;m=(0,l.getAssetIds)(n.application.id,[g.large_image,g.small_image])}return m.then((function(e){var t=e[0],r=e[1];if(null!=g){null!=t?g.large_image=t:delete g.large_image;null!=r?g.small_image=r:delete g.small_image}if(v()){i.default.dispatch({type:c.ActionTypes.LOCAL_ACTIVITY_UPDATE,socketId:n.id,pid:a,activity:f,activitySessionId:_});var o=f.secrets,l=f.party,s={application_id:n.application.id,type:f.type};if(null!=o){s.has_match_secret=!!o.match;s.has_join_secret=!!o.join}null!=g&&(s.has_images=!(!g.large_image&&!g.small_image));if(null!=l){s.party_max=null!=l.size?l.size[1]:void 0;s.party_id=l.id}null!=_&&(s.activity_session_id=_);u.default.track(c.AnalyticEvents.ACTIVITY_UPDATED,s);return f}}))}},a);t.default=v},855566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(248369)),o=u(n(424062)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}
var l=((r={})[i.RPCCommands.SUBSCRIBE]={handler:function(e){var t=e.server,n=e.socket,r=e.evt,u=e.args;return new Promise((function(e){var l=t.events[r];if(null==l)throw new a.default(i.RPCErrors.INVALID_EVENT,"Invalid event: "+r);if(!(0,o.default)(n.authorization.scopes,l.scope))throw new a.default(i.RPCErrors.INVALID_PERMISSIONS,"Not authenticated or invalid scope");var s=l.handler({args:u,socket:n});setImmediate((function(){return t.addSubscription(n,r,u,s)}));e({evt:r})}))}},r[i.RPCCommands.UNSUBSCRIBE]={handler:function(e){var t=e.server,n=e.socket,r=e.evt,o=e.args;if(null==t.events[r])throw new a.default(i.RPCErrors.INVALID_EVENT,"Invalid event: "+r);t.removeSubscription(n,r,o);return{evt:r}}},r);t.default=l},511502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=(r=n(871778))&&r.__esModule?r:{default:r},i=n(770348);var u=((a={})[i.RPCCommands.USER_SETTINGS_GET_LOCALE]={scope:i.OAuth2Scopes.IDENTIFY,handler:function(){return{
locale:o.default.locale}}},a);t.default=u},663148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(483559),o=l(n(248369)),i=l(n(838641)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.RPCCommands.GET_USER]={scope:u.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,a.getUser)(t).then(i.default).catch((function(){throw new o.default(u.RPCErrors.INVALID_USER,"Invalid user id: "+t)}))}},r);t.default=s},655369:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r;return(r={})[o.RPCEvents.VOICE_SETTINGS_UPDATE]={scope:(n={},n[o.RPC_SCOPE_CONFIG.ANY]=[o.OAuth2Scopes.RPC,o.OAuth2Scopes.RPC_VOICE_READ],n),handler:function(){return function(t){var n=t.prevState,r=t.dispatch,o=e();a.default.isEqual(o,n)||r(o);return o}}},r[o.RPCEvents.VOICE_SETTINGS_UPDATE_2]={
scope:o.RPC_LOCAL_SCOPE,handler:function(e){var n=e.socket;return function(e){var r=e.prevState,o=e.dispatch;if(null==n.application.id)return r;var i=t(n.application.id);a.default.isEqual(i,r)||o(i);return i}}},r};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(770348)},768050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l,s,d,c,f,p,v,y,h,_,m,g,E,O,S,I,b,C,T=G(n(496486)),P=G(n(389726)),A=G(n(644263)),M=G(n(30098)),N=G(n(319111)),R=G(n(893160)),w=G(n(728429)),D=G(n(387692)),L=G(n(248369)),k=n(861798),j=G(n(838641)),U=n(770348);function G(e){return e&&e.__esModule?e:{default:e}}function F(e){var t,n=e.args.channel_id,r=e.socket,a=A.default.getChannel(n);if(null==a||!(0,k.hasMessageReadPermission)(a,r.application.id,r.authorization.scopes))throw new L.default(U.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+n)
;if(a.isNSFW()&&!0!==(null===(t=w.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed))throw new L.default(U.RPCErrors.INVALID_CHANNEL,"Invalid nsfw channel id: "+a.id)}function x(e){var t=e.args,n=t.lobby_id,r=t.channel_id;if(null!=r){if(null==A.default.getChannel(r))throw new L.default(U.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+r)}if(null!=n){if(null==N.default.getLobby(n))throw new L.default(U.RPCErrors.INVALID_LOBBY,"Invalid lobby id: "+n)}}var W=((C={})[U.RPCEvents.GUILD_STATUS]={scope:U.OAuth2Scopes.RPC,handler:function(e){var t=e.args.guild_id;if(null==M.default.getGuild(t))throw new L.default(U.RPCErrors.INVALID_GUILD,"Invalid guild id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=M.default.getGuild(t);if(null!=a){var o={guild:{id:a.id,name:a.name,icon_url:a.getIconURL(128)||null},online:0};T.default.isEqual(n,o)||r(o);return o}}}},C[U.RPCEvents.VOICE_STATE_CREATE]={scope:(r={},
r[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_VOICE_READ],r),handler:function(e){var t=e.args.channel_id;if(null==A.default.getChannel(t))throw new L.default(U.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=A.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(D.default.getVoiceStatesForChannel(a.id));if(n){T.default.differenceBy(i,n,(function(e){return e.userId})).forEach((function(e){return r((0,k.transformVoiceState)(o,a.id,e))}))}return i}}}},C[U.RPCEvents.VOICE_STATE_DELETE]={scope:(a={},a[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_VOICE_READ],a),handler:function(e){var t=e.args.channel_id;if(null==A.default.getChannel(t))throw new L.default(U.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=A.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(D.default.getVoiceStatesForChannel(a.id))
;T.default.differenceBy(n,i,(function(e){return e.userId})).forEach((function(e){return r((0,k.transformVoiceState)(o,a.id,e))}));return i}}}},C[U.RPCEvents.VOICE_STATE_UPDATE]={scope:(o={},o[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_VOICE_READ],o),handler:function(e){var t=e.args.channel_id;if(null==A.default.getChannel(t))throw new L.default(U.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=A.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(D.default.getVoiceStatesForChannel(a.id)).map((function(e){return(0,k.transformVoiceState)(o,a.id,e)}));T.default.differenceWith(i,n,T.default.isEqual).forEach((function(e){return r(e)}));return i}}}},C[U.RPCEvents.VOICE_CONNECTION_STATUS]={scope:(i={},i[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_VOICE_READ],i),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={state:(0,
k.getVoiceConnectionState)(R.default.getState()),hostname:R.default.getHostname(),pings:R.default.getPings(),average_ping:R.default.getAveragePing(),last_ping:R.default.getLastPing()};T.default.isEqual(r,t)||n(r);return r}}},C[U.RPCEvents.MESSAGE_CREATE]={scope:U.OAuth2Scopes.RPC,handler:F},C[U.RPCEvents.MESSAGE_UPDATE]={scope:U.OAuth2Scopes.RPC,handler:F},C[U.RPCEvents.MESSAGE_DELETE]={scope:U.OAuth2Scopes.RPC,handler:F},C[U.RPCEvents.SPEAKING_START]=((u={})[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_VOICE_READ,U.RPC_LOCAL_SCOPE],u.handler=x,u),C[U.RPCEvents.SPEAKING_STOP]=((l={})[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_VOICE_READ,U.RPC_LOCAL_SCOPE],l.handler=x,l),C[U.RPCEvents.GUILD_CREATE]={scope:U.OAuth2Scopes.RPC,handler:function(){}},C[U.RPCEvents.CHANNEL_CREATE]={scope:U.OAuth2Scopes.RPC,handler:function(){}},C[U.RPCEvents.GAME_JOIN]={scope:(s={},s[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.RPC_LOCAL_SCOPE],s),handler:function(){}},
C[U.RPCEvents.GAME_SPECTATE]={scope:(d={},d[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.RPC_LOCAL_SCOPE],d),handler:function(){}},C[U.RPCEvents.ACTIVITY_JOIN]={scope:(c={},c[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],c),handler:function(){}},C[U.RPCEvents.ACTIVITY_JOIN_REQUEST]={scope:(f={},f[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.RPC_LOCAL_SCOPE],f),handler:function(){}},C[U.RPCEvents.ACTIVITY_SPECTATE]={scope:(p={},p[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],p),handler:function(){}},C[U.RPCEvents.ACTIVITY_INVITE]={scope:(v={},v[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.RPC_LOCAL_SCOPE],v),handler:function(){}},C[U.RPCEvents.VOICE_CHANNEL_SELECT]={scope:U.OAuth2Scopes.RPC,handler:function(){}},C[U.RPCEvents.NOTIFICATION_CREATE]={scope:(y={},y[U.RPC_SCOPE_CONFIG.ALL]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_NOTIFICATIONS_READ],y),handler:function(){}},
C[U.RPCEvents.RELATIONSHIP_UPDATE]={scope:U.RPC_LOCAL_SCOPE,handler:function(){}},C[U.RPCEvents.CURRENT_USER_UPDATE]={scope:(h={},h[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_LOCAL_SCOPE,U.OAuth2Scopes.IDENTIFY],h),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={currentUser:w.default.getCurrentUser()};null==r.currentUser||null!=t&&(0,P.default)(r,t)||n((0,j.default)(r.currentUser));return r}}},C[U.RPCEvents.LOBBY_UPDATE]={scope:(_={},_[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],_),handler:function(){}},C[U.RPCEvents.LOBBY_DELETE]={scope:(m={},m[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],m),handler:function(){}},C[U.RPCEvents.LOBBY_MEMBER_CONNECT]={scope:(g={},g[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],g),handler:function(){}},C[U.RPCEvents.LOBBY_MEMBER_UPDATE]={scope:(E={},E[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],E),handler:function(){}},
C[U.RPCEvents.LOBBY_MEMBER_DISCONNECT]={scope:(O={},O[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],O),handler:function(){}},C[U.RPCEvents.LOBBY_MESSAGE]={scope:(S={},S[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],S),handler:function(){}},C[U.RPCEvents.ENTITLEMENT_CREATE]={scope:(I={},I[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_LOCAL_SCOPE,U.RPC_AUTHENTICATED_SCOPE],I),handler:function(){}},C[U.RPCEvents.ENTITLEMENT_DELETE]={scope:(b={},b[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_LOCAL_SCOPE,U.RPC_AUTHENTICATED_SCOPE],b),handler:function(){}},C[U.RPCEvents.USER_ACHIEVEMENT_UPDATE]={scope:U.RPC_LOCAL_SCOPE,handler:function(){}},C);t.default=W},641402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(496486)),a=i(n(248369)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){this.transport=e;this.version=t;this.encoding=n;this.id=r.default.uniqueId();this.authorization={
authing:!1,scopes:[],accessToken:null,expires:new Date(0)};this.application={id:null,name:null,icon:null};if(null==t||t>o.RPC_VERSION||t<1)throw new a.default(o.RPCCloseCodes.INVALID_VERSION,"Invalid Version: "+t)}},524650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(248369)),a=u(n(676606)),o=u(n(641402)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(t,n,a,o,u,l,s,d){var c;c=e.call(this,i.TransportTypes.POST_MESSAGE,o,u)||this;if(-1===["etf","json"].indexOf(u))throw new r.default(i.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+u);if("etf"===u)throw new r.default(i.RPCCloseCodes.INVALID_ENCODING,"Erlpack cannot be used on this client");c.origin=t;c.postMessageToRPCClient=n;c.frameId=a;c.logger=l
;c.postClose=s;c.onSendingToRPCClient=d;return c}var n=t.prototype;n.send=function(e){var t;null===(t=this.onSendingToRPCClient)||void 0===t||t.call(this,e,this.id);this.postMessageToRPCClient([a.default.FRAME,e],this.origin)};n.close=function(e,t){this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient)};return t}(o.default);t.default=s},478370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(717187)),a=n(956506),o=l(n(248369)),i=l(n(676606)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}
var f=new Map,p=new Set,v=function(e,t,n){n([i.default.CLOSE,t],e)},y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(t,r,i,l){var s;(s=e.call(this)||this).disconnectSocket=function(e,t,n){var r,a;void 0===n&&(n=!1);s.emit("disconnect",e,n?void 0:t);e.close(t.code,null!==(r=t.message)&&void 0!==r?r:"Unknown");var o=(null!==(a=Array.from(f.entries()).find((function(t){t[0];return t[1]===e})))&&void 0!==a?a:[null,null])[0];null!=o&&f.delete(o)};s.handleIFrameMount=function(e){var t=e.id;p.add(t)};s.handleIFrameUnmount=function(e){var t,n=e.id;p.delete(n);var r=null!==(t=Array.from(f.entries()).find((function(e){e[0];return e[1].frameId===n})))&&void 0!==t?t:[null,null],a=r[0],o=r[1];if(null!=o&&null!=a){s.disconnectSocket(o,{code:u.RPCCloseCodes.CLOSE_NORMAL,message:"iFrame gone"},!0);f.delete(a)}};s.handleMessage=function(e,t,n){var r=f.get(t);try{s.routeEvent(r,t,e,n)}catch(e){null!=r?s.disconnectSocket(r,{code:e.code,
message:e.message},!0):v(t,{code:e.code,message:e.message},n)}};s.handleFrame=function(e,t,n){var r,a,i;if(e!==t.origin)throw new o.default(u.RPCCloseCodes.INVALID_ORIGIN,"Origin has changed");try{i="string"==typeof n?JSON.parse(n):n}catch(e){throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Payload not recognized encoding")}null===(r=(a=s).onFrameHandled)||void 0===r||r.call(a,i,s.logger,t);s.emit("request",t,i)};s.handleHandshake=function(){var e=d(regeneratorRuntime.mark((function e(t,r,a){var i,l,d,c,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(54533).then(n.t.bind(n,197683,23));case 2:i=e.sent.default;e.prev=3;i.assert(r,i.object().required().keys({v:i.number().min(1).max(1).required(),encoding:i.string().equal("json").optional(),client_id:i.string().required(),frame_id:i.string().required()}));e.next=10;break;case 7:e.prev=7;e.t0=e.catch(3);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,e.t0.message);case 10:
d=(l=r).frame_id;if(!!p.has(d)){e.next=16;break}s.logger.error("Unrecognized frame ID "+d);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Unrecognized frame ID "+d);case 16:e.prev=16;c=s.createPostMessageProxySocket(t,a,d,Number(l.v),null!==(y=l.encoding)&&void 0!==y?y:"json",s.logger,v);e.next=24;break;case 20:e.prev=20;e.t1=e.catch(16);s.logger.error("Error opening window socket "+e.t1);throw e.t1;case 24:s.logger.info("Socket Opened: "+c.id);e.prev=25;e.next=28;return s.validateSocketClient(c,t,l.client_id);case 28:if(p.has(d)){e.next=31;break}s.logger.error("Frame ID "+d+" no longer exists");throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Unrecognized frame ID "+d);case 31:f.set(t,c);p.delete(d);s.emit("connect",c);s.logger.info("Socket Validated: "+c.id);e.next=41;break;case 37:e.prev=37;e.t2=e.catch(25);s.logger.info("Socket Closed: "+c.id+", "+e.t2.message);throw e.t2;case 41:case"end":return e.stop()}}),e,null,[[3,7],[16,20],[25,37]])})));return function(t,n,r){
return e.apply(this,arguments)}}();s.handleClose=function(){var e=d(regeneratorRuntime.mark((function e(t,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(54533).then(n.t.bind(n,197683,23));case 2:a=e.sent.default;e.prev=3;a.assert(r,a.object().required().unknown(!0).keys({code:a.number().valid(Object.values(u.RPCCloseCodes)).required(),message:a.string().optional()}));e.next=10;break;case 7:e.prev=7;e.t0=e.catch(3);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,e.t0.message);case 10:i=r;s.disconnectSocket(t,i);case 12:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t,n){return e.apply(this,arguments)}}();a.ComponentDispatch.subscribe(u.ComponentActions.IFRAME_MOUNT,s.handleIFrameMount);a.ComponentDispatch.subscribe(u.ComponentActions.IFRAME_UNMOUNT,s.handleIFrameUnmount);s.validateSocketClient=t;s.logger=r;s.createPostMessageProxySocket=i;s.onFrameHandled=l;return s}
t.prototype.routeEvent=function(e,t,n,r){if(!Array.isArray(n))throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Protocol error");var a=n,l=a[0],s=a[1];switch(l){case i.default.HANDSHAKE:if(null!=e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Already connected");return this.handleHandshake(t,s,r);case i.default.FRAME:if(null==e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Not connected");return this.handleFrame(t,e,s);case i.default.CLOSE:if(null==e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Not connected");return this.handleClose(e,s);default:throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Invalid opcode")}};return t}(r.default);t.default=y},542490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=_(n(945771)),a=_(n(922629)),o=n(985918),i=_(n(768050)),u=_(n(43889)),l=_(n(267735)),s=n(766552),d=_(n(406266)),c=_(n(180450)),f=_(n(594875)),p=_(n(965443)),v=_(n(572110)),y=_(n(261469)),h=_(n(632303))
;function _(e){return e&&e.__esModule?e:{default:e}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var g=m({},o.crossPlatformCommands,{},d.default,{},c.default,{},f.default,{},p.default,{},v.default,{},h.default,{},y.default,{},u.default.authCommands),E=m({},i.default,{},s.overlayEventHandlers,{},u.default.voiceSettingsEvents);var O={server:l.default,commands:g,events:E,stores:[r.default],transports:[u.default.postMessageTransport],registerTransportsForEmbeddedPlatform:function(){a.default.ensureModule("discord_rpc").then((function(){for(var e=0,t=[n(444287).Z,n(650801).Z];e<t.length;e++){var r=t[e];l.default.registerTransport(r)}}))}};t.default=O},43889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(192367),a=i(n(81436)),o=i(n(593621));function i(e){return e&&e.__esModule?e:{
default:e}}var u={authCommands:a.default,voiceSettingsEvents:r.voiceSettingsEventHandlers,postMessageTransport:o.default};t.default=u},766552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.overlayEventHandlers=void 0;var r,a=s(n(496486)),o=s(n(191839)),i=s(n(81636)),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var d=((r={})[l.RPCEvents.OVERLAY_UPDATE]={scope:l.RPC_LOCAL_SCOPE,handler:function(e){var t=e.args.pid,n=e.socket;if("number"!=typeof t||t<10)throw new u.default(l.RPCErrors.INVALID_EVENT,"Invalid pid");return function(e){var r=e.prevState,u=e.dispatch,l=i.default.enabled,s=!0,d=n.application.id;if(null!=d){var c=o.default.getActiveLibraryApplication(d);null!=c&&(l=l&&c.isOverlayEnabled());s=i.default.isInputLocked(t)}var f={enabled:l,locked:s};a.default.isEqual(f,r)||u(f);return f}}},r);t.overlayEventHandlers=d},192367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.voiceSettingsEventHandlers=void 0;var r,a=(r=n(655369))&&r.__esModule?r:{default:r},o=n(367983);var i=(0,a.default)(o.getDeprecatedVoiceSettings,o.getVoiceSettings);t.voiceSettingsEventHandlers=i},367983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getVoiceSettings=t.getDeprecatedVoiceSettings=void 0;t.unlockOverlay=function(e){if(a.default.isReady(e)){r.default.setLocked(!1,e);return{lock:function(){r.default.setLocked(!0,e)},context:s.AppContext.OVERLAY}}o.default.focus(null,!0);return{lock:function(){o.default.setForegroundProcess(e)},context:s.AppContext.APP}};t.validateSocketClient=void 0;t.validateTransportType=function(e){if(s.TransportTypes.IPC!==e&&s.TransportTypes.POST_MESSAGE!==e)throw new u.default(s.RPCErrors.INVALID_COMMAND,"Invalid transport.")};var r=d(n(390557)),a=d(n(81636)),o=d(n(922629)),i=n(339943),u=d(n(248369)),l=n(861798),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var f=["207646673902501888"];var p=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,l.validateOriginAndUpdateSocket)(t,n);if(r||!(0,l.isMatchingOrigin)(n)){e.next=6;break}t.authorization.scopes=[s.RPC_PRIVATE_SCOPE,s.RPC_PRIVATE_LIMITED_SCOPE];return e.abrupt("return",Promise.resolve());case 6:if(r){e.next=8;break}return e.abrupt("return",Promise.reject(new u.default(s.RPCCloseCodes.INVALID_CLIENTID,"No Client ID Specified")));case 8:a=o.default.releaseChannel!==s.PublicReleaseChannels.CANARY&&!f.includes(r)&&t.transport!==s.TransportTypes.POST_MESSAGE;e.next=11;return(0,l.processSocketThrottlers)(r,a);case 11:return e.abrupt("return",(0,l.fetchApplicationsRPC)(t,r,n));case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();t.validateSocketClient=p;t.getDeprecatedVoiceSettings=function(){return(0,l.getDeprecatedVoiceSettingsWithShortcut)((function(e){var t=[];null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=function(e){return e.map((function(e){var t;return{type:e[0],code:e[1],name:null!==(t=(0,i.codeToKey)(e))&&void 0!==t?t:"unknown"}}))}(e.modeOptions.shortcut));return t}))};t.getVoiceSettings=function(e){return(0,l.getVoiceSettingsWithShortcut)(e,(function(e){var t="";null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,i.toString)(e.modeOptions.shortcut));return t}))}},804135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(682644)),a=o(n(542490));function o(e){return e&&e.__esModule?e:{default:e}}var i=new r.default(a.default);t.default=i},406266:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),d=N(n(312260)),c=n(557782),f=N(n(234161)),p=n(508510),v=N(n(767766)),y=n(689575),h=N(n(902305)),_=N(n(644263)),m=N(n(30098)),g=N(n(423086)),E=N(n(689389)),O=N(n(211136)),S=N(n(690445)),I=n(194322),b=n(245838),C=N(n(248369)),T=n(861798),P=n(367983),A=n(770348),M=n(371621);function N(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t
})(e)}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}function k(e,t,n,r,a){return j.apply(this,arguments)}function j(){return(j=L(regeneratorRuntime.mark((function e(t,n,r,a,o){var i,u,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===o&&(o="");if(null!=(i=g.default.getApplicationActivity(n))&&null!=i.secrets&&(0,T.validateActivityInvite)(a,i.party,i.secrets)){e.next=4;break}
throw new C.default(A.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");case 4:if(!(u=(0,v.default)(i,S.default))){e.next=8;break}l=(0,P.unlockOverlay)(t),s=l.lock;return e.abrupt("return",(0,c.openModal)(i,u).then((function(){s();throw new C.default(A.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")})));case 8:e.next=10;return d.default.sendActivityInviteUser({userId:r,type:a,activity:i,content:o,location:"In-Game Invite"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=((l={})[A.RPCCommands.SEND_ACTIVITY_JOIN_INVITE]={scope:(r={},r[A.RPC_SCOPE_CONFIG.ANY]=[A.OAuth2Scopes.RPC,A.RPC_LOCAL_SCOPE],r),handler:function(e){var t=e.socket,n=e.args,r=n.user_id,a=n.pid,o=t.application.id;if(null==o)throw new C.default(A.RPCErrors.INVALID_COMMAND,"No application.");return k(a,o,r,A.ActivityActionTypes.JOIN)}},
l[A.RPCCommands.CLOSE_ACTIVITY_JOIN_REQUEST]={scope:(a={},a[A.RPC_SCOPE_CONFIG.ANY]=[A.OAuth2Scopes.RPC,A.RPC_LOCAL_SCOPE],a),handler:function(e){var t=e.args.user_id,n=_.default.getDMFromUserId(t);null!=n&&(0,p.ack)(n,!0,!0)}},l[A.RPCCommands.ACTIVITY_INVITE_USER]={scope:(o={},o[A.RPC_SCOPE_CONFIG.ANY]=[A.OAuth2Scopes.RPC,A.RPC_LOCAL_SCOPE],o),validation:function(e){return e.object().required().keys({user_id:e.string().required(),type:e.number().required().valid([A.ActivityActionTypes.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.user_id,o=n.content,i=n.pid,u=t.application.id;if(null==u)throw new C.default(A.RPCErrors.INVALID_COMMAND,"No application.");return k(i,u,a,r,o)}},l[A.RPCCommands.ACCEPT_ACTIVITY_INVITE]={scope:(i={},i[A.RPC_SCOPE_CONFIG.ANY]=[A.OAuth2Scopes.RPC,A.RPC_LOCAL_SCOPE],i),validation:function(e){return e.object().required().keys({
type:e.number().required().valid([A.ActivityActionTypes.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.user_id,o=n.session_id,i=n.channel_id,u=n.message_id,l=t.application.id;if(null==l)throw new C.default(A.RPCErrors.INVALID_COMMAND,"No application.");var s=Promise.resolve(!1);if(r===A.ActivityActionTypes.JOIN)s=f.default.join(a,o,l,i,u);return s.then((function(e){if(!e)throw new C.default(A.RPCErrors.INVALID_INVITE,"Invite is expired or invalid.")}))}},l[A.RPCCommands.OPEN_INVITE_DIALOG]={scope:(u={},u[A.RPC_SCOPE_CONFIG.ANY]=[A.OAuth2Scopes.RPC,A.RPC_LOCAL_SCOPE],u),handler:function(e){var t,r,a=e.socket,o=O.default.getVoiceChannelId(),i=_.default.getChannel(o);if(null==i)throw new C.default(A.RPCErrors.INVALID_CHANNEL,"Invalid channel "+o);var u=m.default.getGuild(i.getGuildId())
;if(null==u)throw new C.default(A.RPCErrors.INVALID_CHANNEL,"Invalid guild "+i.getGuildId());if(!(0,y.canViewInviteModal)(E.default,u,i))throw new C.default(A.RPCErrors.INVALID_PERMISSIONS,"No invite permissions for "+o);var l=h.default.getWindow(A.PopoutWindowKeys.CHANNEL_CALL_POPOUT);(null===(t=l)||void 0===t?void 0:t.closed)&&(l=null);var d=null!=l?A.AppContext.POPOUT:A.AppContext.APP;(0,b.exitFullScreen)({},void 0,null===(r=l)||void 0===r?void 0:r.document);(0,I.openModalLazy)(L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return s.createElement(r,w({},e,{guild:u,channel:i,applicationId:a.application.id,analyticsLocation:A.AnalyticsLocations.ACTIVITY_RPC,source:A.InstantInviteSources.ACTIVITY_INVITE}))}));case 5:case"end":return e.stop()}}),e)}))),{
contextKey:d===A.AppContext.POPOUT?M.POPOUT_MODAL_CONTEXT:M.DEFAULT_MODAL_CONTEXT})}},l);t.default=U},180450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=S(n(118915)),i=n(91817),u=n(851792),l=S(n(644263)),s=S(n(288356)),d=S(n(211136)),c=S(n(728429)),f=S(n(47969)),p=S(n(424099)),v=n(194322),y=S(n(308920)),h=n(685677),_=S(n(922629)),m=S(n(248369)),g=n(861798),E=n(770348),O=n(418173);function S(e){return e&&e.__esModule?e:{default:e}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}
i(void 0)}))}}function T(e,t){var n=f.default.isEntitledToSku(c.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,u.fetchUserEntitlementsForApplication)(t).then((function(){return!0===f.default.isEntitledToSku(c.default.getCurrentUser(),e,t)}))}var P=((a={})[E.RPCCommands.VALIDATE_APPLICATION]={scope:E.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;try{if(null==t)throw new m.default(E.RPCErrors.INVALID_COMMAND,"No application.");var r=s.default.getGame(t);if(null==r)throw new m.default(E.RPCErrors.INVALID_ENTITLEMENT,"SKU does not exist.");var a=r.primarySkuId;if(null==a)throw new m.default(E.RPCErrors.INVALID_ENTITLEMENT,"SKU does not exist.");return Promise.race([T(a,r.id).then((function(e){if(!e)throw new m.default(E.RPCErrors.INVALID_ENTITLEMENT,"User does not have entitlement.")})),(0,i.timeoutPromise)(1e4).then((function(){throw new m.default(E.RPCErrors.INVALID_ENTITLEMENT,"Timed out fetching entitlement.")}))])}catch(e){
if(e.code===E.RPCErrors.INVALID_ENTITLEMENT){_.default.focus(null,!0);(0,v.openModalLazy)(C(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65526)]).then(n.bind(n,865526));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return React.createElement(a,I({},e,{applicationId:t}))}));case 5:case"end":return e.stop()}}),e)}))))}throw e}}},a[E.RPCCommands.GET_ENTITLEMENT_TICKET]={scope:E.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;if(null==t)throw new m.default(E.RPCErrors.INVALID_COMMAND,"No application.");return o.default.post({url:E.Endpoints.ENTITLEMENT_TICKET(t),body:{test_mode:p.default.inTestModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body})).catch((function(e){_.default.focus(null,!0);(0,v.openModalLazy)(C(regeneratorRuntime.mark((function e(){var r,a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65526)]).then(n.bind(n,865526));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return React.createElement(a,I({},e,{applicationId:t}))}));case 5:case"end":return e.stop()}}),e)}))));throw e}))}},a[E.RPCCommands.GET_ACTIVITY_JOIN_TICKET]=((r={})[E.RPC_SCOPE_CONFIG.ANY]=[E.OAuth2Scopes.RPC,E.RPC_AUTHENTICATED_SCOPE],r.handler=function(e){var t=e.socket;(0,g.validatePostMessageTransport)(t.transport);(0,g.validateApplication)(t.application);var n=t.application.id;if(!O.JOIN_TICKET_EMBEDDED_APPS.has(n))throw new m.default(E.RPCErrors.INVALID_COMMAND,"This application cannot access this API");var r=l.default.getChannel(d.default.getVoiceChannelId()),a=null==r?void 0:r.getGuildId();if(null==r||null==a)throw new m.default(E.RPCErrors.INVALID_COMMAND,"Invalid channel");return o.default.post({url:E.Endpoints.ACTIVITY_JOIN_TICKET(n,a,r.id),retries:2,
oldFormErrors:!0}).then((function(e){return e.body})).catch((function(e){throw e}))},r),a[E.RPCCommands.SEND_GENERIC_EVENT]={scope:E.RPC_AUTHENTICATED_SCOPE,handler:function(){console.warn("The SEND_GENERIC_EVENT api has been deprecated.")}},a[E.RPCCommands.SEND_ANALYTICS_EVENT]={validation:function(e){return e.object().required().keys({event_name:e.string().required(),event_properties:e.object().required()})},handler:function(e){var t,n=e.socket,r=e.args,a=r.event_name,o=r.event_properties;(0,g.validatePostMessageTransport)(n.transport);(0,g.validateApplication)(n.application);var i=n.application.id,u=l.default.getChannel(d.default.getVoiceChannelId()),c=null==u?void 0:u.getGuildId();if(null==u||null==c)throw new m.default(E.RPCErrors.INVALID_COMMAND,"Invalid channel");var f=s.default.getGame(i);if(!(0,
h.hasFlag)(null!==(t=null==f?void 0:f.flags)&&void 0!==t?t:0,E.ApplicationFlags.EMBEDDED_FIRST_PARTY))throw new m.default(E.RPCErrors.INVALID_COMMAND,"This application cannot access this API");y.default.track(a,I({},o,{activity_application_id:i,activity_guild_id:c}))}},a[E.RPCCommands.GET_APPLICATION_TICKET]={scope:E.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;if(null==t)throw new m.default(E.RPCErrors.INVALID_COMMAND,"No application.");return o.default.post({url:E.Endpoints.APPLICATION_TICKET(t),body:{test_mode:p.default.inTestModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body}))}},a);t.default=P},81436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=f(n(480831)),o=n(94066),i=n(194322),u=n(864489),l=f(n(922629)),s=f(n(964125)),d=n(770348),c=n(371621);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y=(0,s.default)((function(e,t,n,u,l,s,d,f,p,y,h,_,m){var g="OAuth2Authorize_"+e+"_"+y+"_"+h;return new Promise((function(E){var O=function(e){E(e)};(0,i.openModal)((function(a){return r.createElement(o.OAuth2AuthorizeModal,v({},a,{authorization:t,clientId:e,
scopes:null!=n?n:[],callback:O,responseType:l,redirectUri:s,codeChallenge:d,codeChallengeMethod:f,state:p,permissions:u,guildId:y,channelId:h,prompt:_,disableGuildSelect:"boolean"==typeof m?m:"true"===m}))}),{modalKey:g,onCloseRequest:function(){(0,i.closeModal)(g);E(void 0)}},(0,a.default)(t.application)?c.POPOUT_MODAL_CONTEXT:c.DEFAULT_MODAL_CONTEXT)}))}),(function(e){if(u.isPlatformEmbedded){var t=(0,a.default)(e)?d.PopoutWindowKeys.CHANNEL_CALL_POPOUT:null;(0,u.isWindows)()?l.default.minimize(t):l.default.restore(t);l.default.focus(t)}}));t.default=y},594875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=h(n(636602)),o=n(557782),i=h(n(23170)),u=h(n(390557)),l=h(n(767766)),s=h(n(423086)),d=h(n(690445)),c=n(194322),f=h(n(248369)),p=n(861798),v=n(367983),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}var E=((r={})[y.RPCCommands.SET_OVERLAY_LOCKED]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.locked,r=t.pid;if(null==e.socket.application.id)throw new f.default(y.RPCErrors.INVALID_COMMAND,"No application.");u.default.setLocked(n,r)}},r[y.RPCCommands.OPEN_OVERLAY_ACTIVITY_INVITE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({type:e.number().required().valid([y.ActivityActionTypes.JOIN]),
pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.pid,i=t.application.id;if(null==i)throw new f.default(y.RPCErrors.INVALID_COMMAND,"No application.");var u=s.default.getApplicationActivity(i);if(null==u||null==u.secrets||!(0,p.validateActivityInvite)(r,u.party,u.secrets))throw new f.default(y.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");var c=(0,v.unlockOverlay)(a).lock,h=(0,l.default)(u,d.default);return(0,o.openModal)(u,h).then((function(){c();if(h)throw new f.default(y.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")}))}},r[y.RPCCommands.OPEN_OVERLAY_GUILD_INVITE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({code:e.string().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.code,r=t.pid
;if(null==e.socket.application.id)throw new f.default(y.RPCErrors.INVALID_COMMAND,"No application.");return i.default.resolveInvite(n,"Game SDK").then((function(e){var t=e.invite,n=e.code;if(null==t)throw new f.default(y.RPCErrors.INVALID_INVITE,"Invalid invite id: "+n);var o=(0,v.unlockOverlay)(r),i=o.context,u=o.lock;return new Promise((function(e){a.default.dispatch({type:y.ActionTypes.INVITE_MODAL_OPEN,invite:t,code:n,context:i,resolve:e})})).then(u)}))}},r[y.RPCCommands.OPEN_OVERLAY_VOICE_SETTINGS]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({pid:e.number().min(0).required()})},handler:function(e){var t=e.args.pid,r=e.socket,a=r.application.id;if(null==a)throw new f.default(y.RPCErrors.INVALID_COMMAND,"No application.");var o=(0,v.unlockOverlay)(t).lock;return new Promise((function(e){(0,c.openModalLazy)(g(regeneratorRuntime.mark((function t(){var i,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2
;return Promise.all([n.e(40532),n.e(15560)]).then(n.bind(n,215560));case 2:i=t.sent;u=i.default;return t.abrupt("return",(function(t){return React.createElement(u,_({},t,{mediaEngineContext:a,title:r.application.name,onClose:function(){t.onClose();o();e()}}))}));case 5:case"end":return t.stop()}}),t)}))))}))}},r);t.default=E},965443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(919094),i=O(n(636602)),u=n(832635),l=n(241889),s=O(n(861315)),d=O(n(740852)),c=O(n(23170)),f=O(n(920061)),p=n(139982),v=O(n(728429)),y=n(194322),h=O(n(308920)),_=O(n(608417)),m=O(n(922629)),g=O(n(248369)),E=n(770348);function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e,t){
null!=e&&h.default.track(E.AnalyticEvents.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,o.extractId)(e),link_type:t})}var P=((r={})[E.RPCCommands.INVITE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){return C(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.args.code;t.next=3;return c.default.resolveInvite(n,"Desktop Modal");case 3:r=t.sent;if(null!=(a=r.invite)){t.next=7;break}throw new g.default(E.RPCErrors.INVALID_INVITE,"Invalid invite id: "+n);case 7:i.default.dispatch({type:E.ActionTypes.INVITE_MODAL_OPEN,invite:a,code:n,context:E.AppContext.APP});return t.abrupt("return",{invite:a,code:n});case 9:case"end":return t.stop()}}),t)})))()}},r[E.RPCCommands.GUILD_TEMPLATE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){return C(regeneratorRuntime.mark((function t(){var r,o,i;return regeneratorRuntime.wrap((function(t){
for(;;)switch(t.prev=t.next){case 0:r=e.args.code;if(null!=v.default.getCurrentUser()){t.next=3;break}return t.abrupt("return");case 3:t.next=5;return f.default.resolveGuildTemplate(r);case 5:o=t.sent;if(null!=(i=o.guildTemplate)){t.next=9;break}throw new g.default(E.RPCErrors.INVALID_GUILD_TEMPLATE,"Invalid guild template id: "+r);case 9:m.default.focus();(0,y.openModalLazy)(C(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(5141),n.e(4053)]).then(n.bind(n,704053));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,I({},e,{guildTemplate:i}))}));case 5:case"end":return e.stop()}}),e)}))));return t.abrupt("return",{guildTemplate:i,code:r});case 12:case"end":return t.stop()}}),t)})))()}},r[E.RPCCommands.GIFT_CODE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args.code;return new Promise((function(e,r){
i.default.wait((function(){d.default.resolveGiftCode(t,!0,!0).then((function(r){var o=r.giftCode;m.default.focus();h.default.track(E.AnalyticEvents.OPEN_MODAL,{type:"gift_accept",location:E.DIRECT_ANALYTICS_LOCATION});(0,y.openModalLazy)(C(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(9199)]).then(n.bind(n,109199));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,I({code:t},e))}));case 5:case"end":return e.stop()}}),e)}))));e({giftCode:o})})).catch((function(){return r(new g.default(E.RPCErrors.INVALID_GIFT_CODE,"Invalid gift code: "+t))}))}))}))}},r[E.RPCCommands.DEEP_LINK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.type,r=t.params;m.default.focus();switch(n){case E.RPCDeepLinks.USER_SETTINGS:if(null!=r){(0,p.replaceWith)(E.Routes.SETTINGS(r.section,r.subsection))
;T(r.fingerprint,E.DynamicLinkType.SETTINGS)}break;case E.RPCDeepLinks.CHANGELOG:if(null!=r){(0,p.replaceWith)(_.default.formatPathWithQuery(E.Routes.CHANGELOGS(r.date),r.query));T(r.fingerprint,E.DynamicLinkType.CHANGELOG)}break;case E.RPCDeepLinks.LIBRARY:(0,p.replaceWith)(E.Routes.APPLICATION_LIBRARY);null!=r&&T(r.fingerprint,E.DynamicLinkType.LIBRARY);break;case E.RPCDeepLinks.STORE_HOME:(0,p.replaceWith)(E.Routes.APPLICATION_STORE);null!=r&&T(r.fingerprint,E.DynamicLinkType.STORE);break;case E.RPCDeepLinks.STORE_LISTING:if(null!=r){(0,p.replaceWith)(E.Routes.APPLICATION_STORE_LISTING_SKU(r.skuId,r.slug));T(r.fingerprint,E.DynamicLinkType.STORE)}}}},r[E.RPCCommands.BROWSER_HANDOFF]={scope:E.RPC_PRIVATE_LIMITED_SCOPE,handler:function(e){var t=e.args,n=t.handoffToken,r=t.fingerprint;m.default.focus(null,!0);(0,l.handoffEnd)(n,r)}},r[E.RPCCommands.CONNECTIONS_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.providerType,r=t.code,a=t.openid_params,o=t.state
;return s.default.callback(n,{code:r,openid_params:a,state:o})}},r[E.RPCCommands.BRAINTREE_POPUP_BRIDGE_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.state,r=t.path,a=t.query;return(0,u.popupBridgeCallback)({paymentSourceType:E.PaymentSourceTypes.PAYPAL,state:n,path:r,query:a})}},r[E.RPCCommands.BILLING_POPUP_BRIDGE_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.state,r=t.path,a=t.query,o=t.payment_source_type;return(0,u.popupBridgeCallback)({paymentSourceType:o,state:n,path:r,query:a})}},r);t.default=P},572110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l=g(n(851792)),s=g(n(723420)),d=g(n(376543)),c=n(168558),f=_(n(231765)),p=_(n(424099)),v=_(n(248369)),y=n(367983),h=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e){if(null==e)return{lock:h.NOOP_NULL,context:h.AppContext.APP};var t=(0,y.unlockOverlay)(e);return{lock:t.lock,context:t.context}}function O(e,t){var n={planId:h.SubscriptionPlans.PREMIUM_MONTH_TIER_2,analyticsLocation:t};switch(e){case h.AppContext.APP:return f.default.openPremiumPaymentModalInApp(n);case h.AppContext.OVERLAY:return f.default.openPremiumPaymentModalInOverlay(n);default:throw new Error("Unexpected app context: "+e)}}
var S=((u={})[h.RPCCommands.START_PURCHASE]=((r={})[h.RPC_SCOPE_CONFIG.ANY]=[h.RPC_AUTHENTICATED_SCOPE,h.RPC_LOCAL_SCOPE],r.validation=function(e){return e.object().required().keys({sku_id:e.string().required(),pid:e.number().min(0)})},r.handler=function(e){var t=e.socket,n=e.args,r=n.sku_id,a=n.pid;(0,y.validateTransportType)(t.transport);var o=t.application.id;if(null==o)throw new v.default(h.RPCErrors.INVALID_COMMAND,"No application.");var i=E(t.transport!==h.TransportTypes.POST_MESSAGE?a:null),u=i.lock,l=i.context,s={page:h.AnalyticsPages.IN_APP};return(0,c.openIAPPurchaseModal)(o,r,(function(){return O(l,s)}),s,l).then((function(e){u();return e}),(function(e){u();if(null!=e)throw new v.default(h.RPCErrors.PURCHASE_ERROR,e);throw new v.default(h.RPCErrors.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))},r),u[h.RPCCommands.GET_SKUS]=((a={})[h.RPC_SCOPE_CONFIG.ANY]=[h.RPC_AUTHENTICATED_SCOPE,h.RPC_LOCAL_SCOPE],a.handler=function(e){var t=e.socket;(0,
y.validateTransportType)(t.transport);var n=t.application.id;if(null==n)throw new v.default(h.RPCErrors.INVALID_COMMAND,"No application.");return p.default.inTestModeForApplication(n)?s.fetchSKUsForApplication(n).then((function(e){return e.filter((function(e){return null!=e.price}))})):d.fetchAllStoreListingsForApplication(n).then((function(e){return(null!=e?e:[]).map((function(e){return e.sku})).filter((function(e){return null!=e.price}))}))},a),u[h.RPCCommands.START_PREMIUM_PURCHASE]=((o={})[h.RPC_SCOPE_CONFIG.ANY]=[h.RPC_AUTHENTICATED_SCOPE,h.RPC_LOCAL_SCOPE],o.validation=function(e){return e.object().keys({pid:e.number().min(0)})},o.handler=function(e){var t=e.socket,n=e.args.pid;(0,y.validateTransportType)(t.transport);if(null==t.application.id)throw new v.default(h.RPCErrors.INVALID_COMMAND,"No application.");var r=E(t.transport!==h.TransportTypes.POST_MESSAGE?n:null),a=r.lock;return O(r.context,{page:h.AnalyticsPages.IN_APP}).then((function(){a()}),(function(e){a()
;if(null!=e)throw new v.default(h.RPCErrors.PURCHASE_ERROR,e);throw new v.default(h.RPCErrors.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))},o),u[h.RPCCommands.GET_ENTITLEMENTS]=((i={})[h.RPC_SCOPE_CONFIG.ANY]=[h.RPC_AUTHENTICATED_SCOPE,h.RPC_LOCAL_SCOPE],i.handler=function(e){var t=e.socket;(0,y.validateTransportType)(t.transport);var n=t.application.id;if(null==n)throw new v.default(h.RPCErrors.INVALID_COMMAND,"No application.");return l.fetchUserEntitlementsForApplication(n).then((function(e){return null!=e?e:[]}))},i),u);t.default=S},261469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(740207)),o=s(n(635014)),i=n(339943),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.application.id;if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return t}var c=((r={})[l.RPCCommands.SET_VOICE_SETTINGS_2]={scope:l.RPC_LOCAL_SCOPE,
validation:function(e){return e.object().required().keys({input_mode:e.object().keys({type:e.string().valid(Object.keys(l.InputModes)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.input_mode,u=n.self_mute,l=n.self_deaf,s=d(t);null!=r&&a.default.setMode(r.type,{shortcut:(0,i.toCombo)(r.shortcut)},s);null!=u&&u!==o.default.isSelfMute(s)&&a.default.toggleSelfMute(s);null!=l&&l!==o.default.isSelfDeaf(s)&&a.default.toggleSelfDeaf(s)}},r[l.RPCCommands.SET_USER_VOICE_SETTINGS_2]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.user_id,i=n.mute,u=n.volume,l=d(t);null!=i&&i!==o.default.isLocalMute(r,l)&&a.default.toggleLocalMute(r,l);null!=u&&a.default.setLocalVolume(r,u,l)}},r);t.default=c},632303:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u=p(n(740207)),l=p(n(635014)),s=p(n(728429)),d=p(n(248369)),c=n(367983),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}var v=((i={})[f.RPCCommands.SET_USER_VOICE_SETTINGS]={scope:(r={},r[f.RPC_SCOPE_CONFIG.ANY]=[f.OAuth2Scopes.RPC,f.OAuth2Scopes.RPC_VOICE_WRITE],r),validation:function(e){return e.object().required().keys({user_id:e.string().required(),pan:e.object().keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.user_id,r=t.pan,a=t.volume,o=t.mute,i=s.default.getCurrentUser();if(null==s.default.getUser(n)||(null==i?void 0:i.id)===n)throw new d.default(f.RPCErrors.INVALID_USER,"Invalid user id: "+n);null!=r&&u.default.setLocalPan(n,r.left,r.right);null!=a&&u.default.setLocalVolume(n,a);if(null!=o){var c=l.default.isLocalMute(n)
;(c&&!o||!c&&o)&&u.default.toggleLocalMute(n)}return{user_id:n,pan:l.default.getLocalPan(n),volume:l.default.getLocalVolume(n),mute:l.default.isLocalMute(n)}}},i[f.RPCCommands.GET_VOICE_SETTINGS]={scope:(a={},a[f.RPC_SCOPE_CONFIG.ANY]=[f.OAuth2Scopes.RPC,f.OAuth2Scopes.RPC_VOICE_READ],a),handler:function(){return(0,c.getDeprecatedVoiceSettings)()}},i[f.RPCCommands.SET_VOICE_SETTINGS]={scope:(o={},o[f.RPC_SCOPE_CONFIG.ANY]=[f.OAuth2Scopes.RPC,f.OAuth2Scopes.RPC_VOICE_WRITE],o),validation:function(e){return e.object().required().keys({input:e.object().keys({device_id:e.string().valid(Object.keys(l.default.getInputDevices())),volume:e.number().min(0).max(100)}),output:e.object().keys({device_id:e.string().valid(Object.keys(l.default.getOutputDevices())),volume:e.number().min(0).max(200)}),mode:e.object().keys({type:e.string().valid(Object.keys(f.InputModes)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items(e.object().keys({
type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.input,r=t.output,a=t.mode,o=t.automatic_gain_control,i=t.echo_cancellation,s=t.noise_suppression,d=t.qos,f=t.silence_warning,p=t.deaf,v=t.mute;if(n){null!=n.device_id&&u.default.setInputDevice(n.device_id);null!=n.volume&&u.default.setInputVolume(n.volume)}if(r){null!=r.device_id&&u.default.setOutputDevice(r.device_id);null!=r.volume&&u.default.setOutputVolume(r.volume)}if(a){var y=l.default.getMode(),h=l.default.getModeOptions();null!=a.type&&(y=a.type);null!=a.auto_threshold&&(h.autoThreshold=a.auto_threshold);null!=a.threshold&&(h.threshold=a.threshold);null!=a.shortcut&&(h.shortcut=a.shortcut.map((function(e){return[e.type,e.code]})))
;null!=a.delay&&(h.delay=a.delay);u.default.setMode(y,h)}null!=o&&u.default.setAutomaticGainControl(o);null!=i&&u.default.setEchoCancellation(i);null!=s&&u.default.setNoiseSuppression(s);null!=d&&u.default.setQoS(d);null!=f&&u.default.setSilenceWarning(f);if(null!=p){var _=l.default.isSelfDeaf();(_&&!p||!_&&p)&&u.default.toggleSelfDeaf()}if(null!=v){var m=l.default.isSelfMute();(m&&!v||!m&&v)&&u.default.toggleSelfMute()}return(0,c.getDeprecatedVoiceSettings)()}},i);t.default=v},650801:(e,t,n)=>{"use strict";({value:!0});t.Z=void 0;var r=n(348764),a=f(n(717187)),o=f(n(496486)),i=f(n(791548)),u=f(n(922629)),l=f(n(318671)),s=f(n(641402)),d=n(367983),c=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y,h=u.default.requireModule("discord_rpc").RPCIPC,_=new i.default("RPCServer:IPC"),m={
HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function g(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function E(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function O(e){return new Promise((function(t,n){"string"==typeof e&&(e=h.net.createConnection(e));e.pause();e.on("readable",(function(){try{I(e)}catch(t){e.end(S(m.CLOSE,{code:1003,message:t.message}));e.destroy()}}));var r=function(){try{e.end();e.destroy()}catch(e){}},a=Promise.race([new Promise((function(t){return e.on("error",(function(){return t()}))})),new Promise((function(t,n){e.on("pong",(function(){return n(new Error("socket responded with pong"))}))})),new Promise((function(e,t){setTimeout((function(){return t(new Error("socket alive timeout"))}),1e3)}))]).then((function(){r()}),(function(e){r();throw e}));e.write(S(m.PING,o.default.uniqueId()));return a.then(t,n)}))}function S(e,t){t=JSON.stringify(t);var n=r.Buffer.byteLength(t),a=r.Buffer.alloc(8+n)
;a.writeInt32LE(e,0);a.writeInt32LE(n,4);a.write(t,8,n);return function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}(a)}function I(e){var t=e.read(8);if(t){var n=(t=r.Buffer.from(t)).readInt32LE(0),a=t.readInt32LE(4);if(!Object.values(m).includes(n)||a<0)throw new Error("protocol error");if(!(t=e.read(a)))throw new Error("data size does not match what was received");t=r.Buffer.from(t);var o=JSON.parse(t.toString());switch(n){case m.PING:e.emit("ping",o);e.write(S(m.PONG,o));break;case m.PONG:e.emit("pong",o);break;case m.HANDSHAKE:if(E(e))throw new Error("already did handshake");g(e,!0);e.emit("handshake",o);break;case m.FRAME:if(!E(e))throw new Error("did not handshake");e.emit("request",o);break;case m.CLOSE:e.end();e.destroy()}I(e)}}var b=function(e){p(t,e);function t(t,n,r){var a;(a=e.call(this,"ipc",n,r)||this)._socket=t;return a}var n=t.prototype;n.send=function(e){_.info("Socket Emit: "+this.id,(0,l.default)(e));this._socket.write(S(m.FRAME,e))}
;n.close=function(e,t){this._socket.end(S(m.CLOSE,{code:e,message:t}));this._socket.destroy()};return t}(s.default),C=new(function(e){p(t,e);function t(){var t;t=e.call(this)||this;(y=h.net.createServer((function(e){return t.handleConnection(e)}))).on("error",(function(e){return _.error("Error: "+e.message)}));h.getAvailableSocket(O).then((function(e){y.listen(e,(function(){("function"==typeof y.listening?y.listening():y.listening)&&_.info("Starting on "+y.address())}))}));return t}t.prototype.handleConnection=function(e){var t=this;g(e,!1);e.pause();e.on("readable",(function(){try{I(e)}catch(t){e.end(S(m.CLOSE,{code:c.RPCCloseCodes.CLOSE_UNSUPPORTED,message:t.message}));e.destroy()}}));e.once("handshake",(function(n){var r,a=n.client_id,o=+n.v;try{r=new b(e,o,"json")}catch(t){e.end(S(m.CLOSE,{code:t.code,message:t.message}));e.destroy();return}_.info("Socket Opened: "+r.id);e.on("error",(function(e){return _.error("Socket Error: "+e.message)}));e.on("close",(function(){
_.info("Socket Close: "+r.id);t.emit("disconnect",r)}));(0,d.validateSocketClient)(r,null,a).then((function(){e.on("request",(function(e){_.info("Socket Message: "+r.id,(0,l.default)(e));t.emit("request",r,e)}));t.emit("connect",r)})).catch((function(e){var t=e.code,n=e.message;return r.close(t,n)}))}))};return t}(a.default));t.Z=C},444287:(e,t,n)=>{"use strict";var r=n(348764).Buffer;({value:!0});t.Z=void 0;var a,o=m(n(717187)),i=m(n(496486)),u=m(n(817673)),l=m(n(608575)),s=m(n(636602)),d=m(n(791548)),c=m(n(909243)),f=m(n(922629)),p=m(n(248369)),v=m(n(318671)),y=m(n(641402)),h=n(367983),_=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}try{a=f.default.requireModule("discord_erlpack")}catch(e){try{a=f.default.requireModule("erlpack")}catch(e){}}var S,I=f.default.requireModule("discord_rpc").RPCWebSocket,b=window.GLOBAL_ENV.MARKETING_ENDPOINT,C=new d.default("RPCServer:WSS"),T=[];function P(e){return"function"==typeof e?e():e}function A(e){void 0===e&&(e=0);var t=e>0?void 0:function(){if(P(S.listening)){var e=S.address().port;C.info("Starting on "+e);s.default.dispatch({type:_.ActionTypes.RPC_SERVER_READY,port:e})}};S.listen(_.RPC_STARTING_PORT+e%_.RPC_PORT_RANGE,"127.0.0.1",t)}function M(e,t,n,a,o){void 0===a&&(a=200);void 0===o&&(o={});var i=P(e.headers).origin?{"Access-Control-Allow-Origin":P(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":["Content-Type","Authorization"].join(", ")}:{}
;n=n?JSON.stringify(n):"";a=200!==a||n.length?a:204;t.setHeader("Content-Length",r.byteLength(n));t.setHeader("Content-Type","application/json");t.writeHead(a,O({},o,{},i));t.end(n)}function N(e,t,n,r,a){void 0===a&&(a=0);M(e,t,{code:a,message:r},n)}var R=function(e){g(t,e);function t(t,n,r){var o;o=e.call(this,"ws",n,r)||this;if(-1===["etf","json"].indexOf(r))throw new p.default(_.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+r);if("etf"===r&&null==a)throw new p.default(_.RPCCloseCodes.INVALID_ENCODING,"Erlpack cannot be used on this client");o._socket=t;return o}var n=t.prototype;n.send=function(e){(c.default.isLoggingOverlayEvents||e.cmd!==_.RPCCommands.OVERLAY&&e.evt!==_.RPCEvents.OVERLAY)&&C.info("Socket Emit: "+this.id,(0,v.default)(e));null!=a&&"etf"===this.encoding?this._socket.send(a.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))};n.close=function(e,t){this._socket.close(e,t)};return t}(y.default),w=function(e){g(t,e);function t(t,n,r,a){var o
;o=e.call(this,"http",r,a)||this;if("json"!==a)throw new p.default(_.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+a);o._sendCallback=t;o._closeCallback=n;return o}var n=t.prototype;n.send=function(e){(c.default.isLoggingOverlayEvents||e.cmd!==_.RPCCommands.OVERLAY)&&C.info("Socket Emit: "+this.id,e);this._sendCallback(e)};n.close=function(e,t){this._closeCallback(t,e)};return t}(y.default),D=new(function(e){g(t,e);function t(){var t;t=e.call(this)||this;var n=0;(S=I.http.createServer()).on("error",(function(e){C.error("Error: "+e.message);("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout((function(){return A(++n)}),1e3)}));S.on("request",t.handleRequest.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)));A(n);var r={instanceId:S.instanceId||0,server:S};new I.ws.Server(r).on("connection",(function(e){return t.handleConnection(e)}));return t}var n=t.prototype
;n.handleRequest=function(e,t){var n=this,r=P(e.url).split("?"),a=r[0],o=r[1],i=P(e.method);if("/rpc"!==a||"OPTIONS"!==i){var s="POST"===i;if("/rpc"!==a||"GET"!==i&&!s)N(e,t,404,"Not Found");else{var d=u.default.parse(o),c=s?P(e.headers)["content-type"].split("/")[1]:"json",f=function(){var e=l.default.parse(d.callback),n=e.protocol,r=e.host;n===location.protocol&&r===location.host?t.setHeader("Location",d.callback):t.setHeader("Location",b);t.writeHead(301);t.end()},p=new w(s?M.bind(null,e,t):f,s?N.bind(null,e,t,400):f,+d.v,c);if(s)(0,h.validateSocketClient)(p,P(e.headers).origin,d.client_id).then((function(){var r="";e.on("data",(function(e){return r+=e}));e.on("error",(function(){return N(e,t,500,"Internal Server Error")}));e.on("end",(function(){return n.handleMessage(p,r)}))})).catch((function(e){var t=e.code,n=e.message;return p.close(t,n)}));else{p.authorization.scopes=[_.RPC_PRIVATE_LIMITED_SCOPE];this.handleMessage(p,decodeURIComponent(d.payload))}}}else M(e,t,{body:""})}
;n.handleConnection=function(e){var t,n=this,r=u.default.parse(P(e.upgradeReq).url.split("?")[1]),a=P(e.upgradeReq).headers.origin||"";try{t=new R(e,+r.v,r.encoding||"json")}catch(t){e.close(t.code,t.message);return}C.info("Socket Opened: "+t.id);e.on("error",(function(e){return C.error("WS Error: "+e.message)}));e.on("close",(function(e,r){C.info("Socket Closed: "+t.id+", code "+e+", message "+r);i.default.remove(T,(function(e){return e===t}));n.emit("disconnect",t)}));(0,h.validateSocketClient)(t,a,r.client_id).then((function(){T.push(t);e.on("message",(function(e){return n.handleMessage(t,e)}));n.emit("connect",t)})).catch((function(e){var n=e.code,r=e.message;return t.close(n,r)}))};n.handleMessage=function(e,t){var n;try{if(null!=a&&"etf"===e.encoding)n=a.unpack(t);else{if("string"!=typeof t)throw new Error;n=JSON.parse(t)}}catch(t){e.close(_.RPCCloseCodes.CLOSE_UNSUPPORTED,"Payload not "+e.encoding);return}
(c.default.isLoggingOverlayEvents||n.cmd!==_.RPCCommands.OVERLAY)&&C.info("Socket Message: "+e.id,(0,v.default)(n));this.emit("request",e,n)};return t}(o.default));t.Z=D},593621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(791548)),a=d(n(909243)),o=d(n(318671)),i=d(n(478370)),u=n(367983),l=d(n(176829)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}var c=new r.default("RPCServer:PostMessage"),f=function(e,t,n){(a.default.isLoggingOverlayEvents||e.cmd!==s.RPCCommands.OVERLAY)&&t.info("Socket Message: "+n.id,(0,o.default)(e))};var p=function(){var e=new i.default(u.validateSocketClient,c,l.default,f);window.addEventListener("message",(function(t){if(window!==t.source)if(null!=t.source&&null!=t.source.postMessage){var n=t.source,r=t.data,a=t.origin;e.handleMessage(r,a,(function(e,t){n.postMessage(e,t)}))}else c.error("Unknown event source")}));return e}();t.default=p},176829:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(909243)),a=u(n(318671)),o=u(n(524650)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n,u,l,s,d){return new o.default(e,t,n,u,l,s,d,(function(e,t){(r.default.isLoggingOverlayEvents||e.cmd!==i.RPCCommands.OVERLAY&&e.evt!==i.RPCEvents.OVERLAY)&&s.info("Socket Emit: "+t,(0,a.default)(e))}))};t.default=l},478910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(21774),i=n(770348);var u={init:function(){a.default.subscribe(i.ActionTypes.USER_SETTINGS_UPDATE,o.refreshSearchTokens);a.default.subscribe(i.ActionTypes.I18N_LOAD_SUCCESS,o.refreshSearchTokens)}};t.default=u},626643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useStateFromStores)([l.default],(function(){var t=l.default.getQuery(e),n=l.default.getRawResults(e)
;if(null==t||null==n)return[];var r=(0,a.createASTHighlighter)(t.content||"");return n.map((function(e){return e.map((function(e){var t=(0,o.createMessageRecord)(e);return t.isSearchHit?t.set("customRenderedContent",(0,i.default)(t,{postProcessor:r})):t}))}))}),[e]),n=(0,r.useStateFromStoresArray)([u.default],(function(){var e=0;return[t.map((function(t){return t.filter((function(t){var n=u.default.isBlocked(t.author.id);n&&t.isSearchHit&&e++;return!n||t.isSearchHit}))})),e]}),[t]),s=n[0],d=n[1];return{searchResults:s,blockCount:d}};var r=n(536211),a=n(697255),o=n(202929),i=s(n(116518)),u=s(n(290629)),l=s(n(205982));function s(e){return e&&e.__esModule?e:{default:e}}},326648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(151097)),i=v(n(80828)),u=v(n(186465)),l=v(n(730977)),s=v(n(776360)),d=v(n(550270)),c=n(770348),f=v(n(247001)),p=v(n(794097));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.searchMode,n=e.searchByMode;return _("header",{className:p.default.searchHeader},void 0,a.createElement(g,e),_(u.default,{orientation:"horizontal",className:p.default.searchHeaderTabList,selectedItem:t,onItemSelect:n},void 0,_(u.default.Item,{id:c.SearchModes.NEWEST},void 0,f.default.Messages.SEARCH_NEWEST_SHORT),_(u.default.Item,{id:c.SearchModes.OLDEST},void 0,f.default.Messages.SEARCH_OLDEST_SHORT),_(u.default.Item,{id:c.SearchModes.MOST_RELEVANT},void 0,f.default.Messages.SEARCH_MOST_RELEVANT_SHORT)))}m.displayName="SearchHeader";function g(e){var t,n=e.isSearching,r=e.isIndexing,o=e.documentsIndexed;(r||n)&&(t=_("div",{className:p.default.spinnerWrapper},void 0,_(i.default,{type:i.default.Type.SPINNING_CIRCLE,
className:p.default.spinner,itemClassName:p.default.spinnerPath})));var u=r&&!n;return _("div",{className:p.default.totalResults,role:"status"},void 0,u?_(l.default,{text:f.default.Messages.SEARCH_STILL_INDEXING_HINT.format({count:o})},void 0,(function(n){return a.createElement("div",h({className:p.default.totalResultsWrapper},n),a.createElement(E,e),t)})):a.createElement(E,e),u?null:t)}g.displayName="TotalContent";function E(e){var t=e.isSearching,n=e.isIndexing,r=e.totalResults;if(t)return _(s.default,{size:s.default.Sizes.SIZE_16,color:s.default.Colors.HEADER_PRIMARY},void 0,f.default.Messages.SEARCHING);if(n)return _(s.default,{size:s.default.Sizes.SIZE_16},void 0,_(o.default,{className:p.default.helpdeskLink,href:d.default.getArticleURL(c.HelpdeskArticles.SEARCH_INDEXING)},void 0,f.default.Messages.STILL_INDEXING));var a=r.toLocaleString();return _(s.default,{size:s.default.Sizes.SIZE_16,color:s.default.Colors.HEADER_PRIMARY},void 0,f.default.Messages.TOTAL_RESULTS.format({count:a
}))}},301929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(668281)),o=i(n(574628));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.changePage,n=e.offset,r=e.totalResults,i=e.pageLength,u=Math.floor(n/i)+1;return l("div",{className:o.default.container},void 0,l(a.default,{currentPage:u,totalCount:r,pageSize:i,onPageChange:t,maxVisiblePages:5}))}s.displayName="SearchPagination"},458517:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(496486)),i=n(378158),u=p(n(314234)),l=p(n(2914)),s=p(n(644263)),d=p(n(16941)),c=p(n(247001)),f=p(n(248556));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}
function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}function E(e,t){var n,r=null===(n=window)||void 0===n?void 0:n.getSelection();if(null!=r&&!r.isCollapsed)return!0;if(null==e||null==t)return!1;for(;e instanceof Element&&e!==t;){var a=e.tagName;if("A"===a||"IMG"===a||"BUTTON"===a)return!0;e=e.parentNode}return!1}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).containerRef=a.createRef();t.hitRef=a.createRef();t.handleContextMenu=function(e,t){
var r=s.default.getChannel(t.channel_id);if(null!=r){e.stopPropagation();(0,i.openContextMenuLazy)(e,m(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(56530),n.e(25496)]).then(n.bind(n,925496));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,h({},e,{message:t,channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))}};t.jumpTo=function(e){if(null!=e){e.preventDefault();e.stopPropagation()}var n=t.props,r=n.onJump,a=n.result.find((function(e){return e.isSearchHit}));null!=a&&r(a)};t.handleMessageClick=function(e){E(e.target,t.containerRef.current)?e.stopPropagation():t.jumpTo(e)};return t}t.prototype.render=function(){var e=this,t=this.props,n=t.result,r=t.listItemProps,i=t.searchOffset,p=t.index,v=t.totalResults,_=o.default.find(n,(function(e){return e.isSearchHit}));if(null==_)return null;var m=s.default.getChannel(_.channel_id)
;if(null==m)return null;var g="search-result-"+_.id;return y(u.default,{ringTarget:this.hitRef,ringClassName:f.default.searchResultFocusRing,offset:4},void 0,a.createElement("li",h({className:f.default.container},r,{"aria-posinset":1+i+p,"aria-setsize":v,"aria-labelledby":g}),y(d.default,{tabIndex:-1,onClick:this.handleMessageClick,innerRef:this.containerRef,className:f.default.searchResult,focusProps:{enabled:!1}},void 0,a.createElement("div",{ref:this.hitRef,className:f.default.message,key:_.id},y(l.default,{id:g,message:_,channel:m,onContextMenu:function(t){return e.handleContextMenu(t,_)},animateAvatar:!1,subscribeToComponentDispatch:!1}))),y("div",{className:f.default.buttonsContainer,"aria-hidden":!0},void 0,y(d.default,{className:f.default.button,onClick:this.jumpTo},void 0,c.default.Messages.JUMP))))};return t}(a.PureComponent);t.default=O;O.displayName="SearchResult"},315021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.search,n=e.searchId,r=e.renderEmbeds,w=e.scrollTo,D=e.searchResults,L=e.blockCount,U=t.offset,G=t.totalResults,F=t.isSearching,x=t.showBlockedResults,W=h.RenderSpoilers.useSetting(),V=a.useCallback((function(e){e!==O.default.getChannelId()&&u.default.transitionToInviteChannelSync(e)}),[]),H=a.useCallback((function(e){F||s.changePage(n,e-1)}),[n,F]),B=a.useCallback((function(e){if(e.blocked)i.default.show({title:N.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:N.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:N.default.Messages.OKAY});else{var t=_.default.getChannel(e.channel_id),r=null!=t?t.getGuildId():null;l.default.trackJump(e.channel_id,e.id,"Search Results",{search_id:E.default.getAnalyticsId(n)});(0,y.transitionTo)(M.Routes.CHANNEL(r,e.channel_id,e.id))}}),[n]),Y=a.useMemo((function(){if(null==D)return[];var e,t=0;return D.reduce((function(n,r){var a=r.find((function(e){return e.isSearchHit}))
;if(!x&&null!=a&&g.default.isBlocked(a.author.id))return n;var o=_.default.getChannel(r[0].channel_id);if(null==o)return n;e&&e===o.id||n.push({channel:o,results:[],startIndex:t});t+=1;n[n.length-1].results.push(r);e=null==o?void 0:o.id;return n}),[])}),[D,x]),z=a.useRef([]),K=Y.reduce((function(e,t){return e+1+t.results.length}),0),$=a.useCallback((function(e,t){if(d.default.keyboardModeEnabled){var n=z.current,r=null!=t?n[t]:void 0;if(null!=r&&null!=r.hitRef.current){var a=r.hitRef.current.getClientRects()[0],o=a.top-.5*a.height;w(o,!1,(function(){var t;null===(t=document.getElementById(e))||void 0===t||t.focus()}))}}}),[w]),q=a.useCallback((function(e){var t=z.current[e];null==t||t.jumpTo()}),[]),Z=(0,o.useListNavigator)({navId:"search-results",itemCount:K,focusedIndex:0,setFocus:$,onSelect:q}),X=Y.map((function(e){var t,o=e.channel,i=e.results,u=e.startIndex,l=null!=o?(0,c.computeChannelName)(o,S.default,g.default,!1):"???",s=null!==(t=(0,
f.default)(o))&&void 0!==t?t:C.default,d=m.default.can(M.Permissions.MANAGE_MESSAGES,o);return j(b.SpoilerDisplayContext.Provider,{value:(0,v.default)(W,d)},void 0,j("ul",{role:"group",className:R.default.searchResultGroup,"aria-label":l},o.id+"-"+u,j(I.default,{onClick:function(){return V(o.id)}},void 0,j(T.default,{className:R.default.channelName,size:T.default.Sizes.SIZE_16,color:T.default.Colors.HEADER_PRIMARY},void 0,j(s,{className:R.default.channelNameIcon,width:16,height:16}),j("span",{},void 0,l))),i.map((function(e,t){var o=u+t;return a.createElement(A.default,{ref:function(e){return z.current[o]=e},totalResults:G,scrollTo:w,searchId:n,renderEmbeds:r,searchOffset:U,pageResultsLength:i.length,result:e,index:o,key:"search-result-"+o,onJump:B,listItemProps:Z.getItemProps({index:o})})}))))}));X.push();var Q=a.useRef(null);a.useLayoutEffect((function(){var e;null===(e=Q.current)||void 0===e||e.focus()}),[D]);var J=(0,p.useFocusJumpSection)()
;return a.createElement(a.Fragment,null,a.createElement("div",k({ref:Q},Z.getContainerProps(),J,{"aria-busy":F}),X),L>0?j(I.default,{tag:"div",className:R.default.resultsBlocked,onClick:function(){return s.setShowBlockedResults(n,!x)}},void 0,j("div",{className:R.default.resultsBlockedImage}),j("div",{className:R.default.resultsBlockedText},void 0,x?N.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:L}):N.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:L}))):null,!F&&j(P.default,{changePage:H,offset:U,totalResults:G,pageLength:M.SEARCH_PAGE_SIZE}))};var r,a=L(n(667294)),o=n(515664),i=w(n(190040)),u=w(n(23170)),l=w(n(786345)),s=L(n(896846)),d=w(n(235879)),c=n(678928),f=w(n(786661)),p=n(632123),v=w(n(916372)),y=n(139982),h=n(894826),_=w(n(644263)),m=w(n(689389)),g=w(n(290629)),E=w(n(205982)),O=w(n(211136)),S=w(n(728429)),I=w(n(16941)),b=n(364767),C=w(n(562796)),T=w(n(776360)),P=w(n(301929)),A=w(n(458517)),M=n(770348),N=w(n(247001)),R=w(n(464999))
;function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return k.apply(this,arguments)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},225379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=k;var r,a=T(n(667294)),o=b(n(294184)),i=b(n(496486)),u=n(536211),l=b(n(23170)),s=T(n(896846)),d=b(n(844784)),c=n(894826),f=b(n(205982)),p=b(n(211136)),v=b(n(871778)),y=b(n(49465)),h=b(n(235742)),_=n(956506),m=b(n(626643)),g=b(n(326648)),E=b(n(315021)),O=n(770348),S=b(n(247001)),I=b(n(22542));function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;N(e,t)}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}var R=function(e){M(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).autoAnalytics=function(e){void 0===e&&(e=null);if(null!=t.props.searchAnalyticsId){var n=0,r=0,a=0,o=0;null!=t.props.searchResults&&(0,i.default)(t.props.searchResults).flatten().filter((function(e){return e.isSearchHit})).forEach((function(e){if(null!=e.content&&""!==e.content){n++;/https?:\/\/[^\s]+/.test(e.content)&&o++}null!=e.embeds&&e.embeds.length>0&&a++;null!=e.attachments&&e.attachments.length>0&&r++}));d.default.trackWithMetadata(O.AnalyticEvents.SEARCH_RESULT_VIEWED,{search_type:t.props.searchType,search_id:t.props.searchAnalyticsId,prev_search_id:e!==t.props.searchAnalyticsId?e:null,is_error:t.props.searchHasError,limit:t.props.searchLimit,offset:t.props.searchOffset,
page:Math.floor(t.props.searchOffset/t.props.searchLimit)+1,total_results:t.props.searchTotalResults,page_results:null!=t.props.searchResults?t.props.searchResults.length:null,is_indexing:t.props.searchIsIndexing,page_num_messages:n,page_num_links:o,page_num_embeds:a,page_num_attach:r})}};return t}var n=t.prototype;n.componentDidMount=function(){this.autoAnalytics()};n.componentDidUpdate=function(e){this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)};n.render=function(){return null};return t}(a.Component);R.displayName="SearchResultsViewedAutoAnalytics";var w=function(e){var t=e.children;return A("div",{className:I.default.emptyResultsWrap},void 0,A("div",{className:I.default.emptyResultsContent},void 0,t))};w.displayName="EmptyResults";var D=A(y.default,{}),L=function(e){M(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
;(t=e.call.apply(e,[this].concat(r))||this).state={searchMode:O.SearchModes.NEWEST};t.scrollerRef=a.createRef();t.scrollTo=function(e,n,r){var a=t.scrollerRef.current;if(null!=a){var o=a.getScrollerState().scrollTop-e;a.scrollTo({to:o,animate:n,callback:r})}};t.selectChannel=function(e){e!==p.default.getChannelId()&&l.default.transitionToInviteChannelSync(e)};t.searchPrevious=function(){var e=t.props,n=e.searchId;e.search.isSearching||s.searchPreviousPage(n)};t.searchNext=function(){var e=t.props,n=e.searchId;e.search.isSearching||s.searchNextPage(n)};t.handleSearchResultsClose=function(){var e=t.props.searchId;s.clearSearchState(e)};t.searchByMode=function(e){var n=t.props,r=n.searchId,a=n.search.isSearching;if(e!==t.state.searchMode&&!a){d.default.trackWithMetadata(O.AnalyticEvents.SEARCH_RESULT_SORT_CHANGED,{search_id:f.default.getAnalyticsId(r),new_sort_type:e});s.searchByMode(r,e);t.setState({searchMode:e})}};t.toggleShowBlockedMessages=function(){
var e=t.props,n=e.searchId,r=e.search.showBlockedResults;s.setShowBlockedResults(n,!r)};t.renderHeader=function(){var e=t.state.searchMode,n=t.props.search,r=n.totalResults,a=n.isSearching,o=n.isHistoricalIndexing,i=n.documentsIndexed;return A(g.default,{searchMode:e,searchByMode:t.searchByMode,totalResults:r,isSearching:a,isIndexing:o,documentsIndexed:i})};t.renderIndexing=function(){var e=f.default.getSearchType(t.props.searchId)===O.SearchTypes.GUILD?S.default.Messages.SEARCH_GUILD_STILL_INDEXING:S.default.Messages.SEARCH_DM_STILL_INDEXING;return A(w,{},void 0,D,A("div",{className:(I.default.emptyResultsText,I.default.stillIndexing)},void 0,e))};t.renderNoResults=function(){var e,n,r=t.props.search.showNoResultsAlt,a=r?S.default.Messages.SEARCH_NO_RESULTS_ALT:S.default.Messages.SEARCH_NO_RESULTS;return A(w,{},void 0,A("div",{className:(0,o.default)(I.default.noResultsImage,(e={},e[I.default.alt]=r,e))}),A("div",{className:(0,
o.default)(I.default.emptyResultsText,I.default.noResults,(n={},n[I.default.alt]=r,n))},void 0,a))};t.renderError=function(){return A(w,{},void 0,A("div",{className:I.default.errorImage}),A("div",{className:(0,o.default)(I.default.emptyResultsText,I.default.errorMessage)},void 0,S.default.Messages.SEARCH_ERROR))};t.renderContent=function(){var e=t.props,n=e.searchResults,r=e.blockCount,a=t.props.search,o=a.totalResults,i=a.isSearching,u=a.isIndexing;return a.hasError?t.renderError():u?t.renderIndexing():i?null:o>0?A(E.default,{search:t.props.search,searchResults:n,blockCount:r,searchId:t.props.searchId,renderEmbeds:t.props.renderEmbeds,scrollTo:t.scrollTo}):t.renderNoResults()};return t}var n=t.prototype;n.componentDidMount=function(){_.ComponentDispatch.subscribe(O.ComponentActions.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};n.componentWillUnmount=function(){_.ComponentDispatch.unsubscribe(O.ComponentActions.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)}
;n.componentDidUpdate=function(e){var t=e.search;if(this.props.search.showBlockedResults!==t.showBlockedResults){var n=this.scrollerRef.current;if(null==n)return;n.scrollToBottom()}};n.render=function(){var e=this.props,t=e.searchAnalyticsId,n=e.searchType,r=e.searchResults,o=this.props.search,i=o.offset,u=o.hasError,l=o.totalResults,s=o.isHistoricalIndexing;return A("section",{className:I.default.searchResultsWrap,"aria-label":S.default.Messages.SEARCH_RESULTS_SECTION_LABEL},void 0,this.renderHeader(),a.createElement(h.default,{ref:this.scrollerRef,className:I.default.scroller},this.renderContent()),A(R,{searchType:n,searchAnalyticsId:t,searchResults:r,searchOffset:i,searchLimit:O.SEARCH_PAGE_SIZE,searchHasError:u,searchTotalResults:l,searchIsIndexing:s}))};return t}(a.PureComponent);L.displayName="SearchResults";function k(e){var t=e.searchId;return a.createElement(L,P({searchId:t},(0,u.useStateFromStoresObject)([f.default],(function(){return{search:f.default.getResultsState(t),
searchAnalyticsId:f.default.getAnalyticsId(t),searchType:f.default.getSearchType()}}),[t]),(0,m.default)(t),{renderEmbeds:c.RenderEmbeds.useSetting(),developerMode:c.DeveloperMode.useSetting()},(0,u.useStateFromStoresObject)([v.default],(function(){return{theme:v.default.theme}}))))}k.displayName="ConnectedSearchResults"},394444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.UserSettingsManager=void 0;var r=l(n(636602)),a=l(n(929031)),o=l(n(177230)),i=l(n(871778)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=!1,c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(u.ActionTypes.CONNECTION_OPEN,this.setVerifyTimezone)
;r.default.subscribe(u.ActionTypes.CONNECTION_OPEN_SUPPLEMENTAL,this.maybeShowChangeLanguageToast);r.default.subscribe(u.ActionTypes.OVERLAY_INITIALIZE,this.setVerifyTimezone);r.default.subscribe(u.ActionTypes.USER_SETTINGS_UPDATE,this.ensureTimezoneUpdated)};n.maybeShowChangeLanguageToast=function(){};n._terminate=function(){r.default.unsubscribe(u.ActionTypes.CONNECTION_OPEN,this.setVerifyTimezone);r.default.unsubscribe(u.ActionTypes.OVERLAY_INITIALIZE,this.setVerifyTimezone);r.default.unsubscribe(u.ActionTypes.USER_SETTINGS_UPDATE,this.ensureTimezoneUpdated)};n.setVerifyTimezone=function(){d=!0};n.ensureTimezoneUpdated=function(){if(d){d=!1;var e=(new Date).getTimezoneOffset();i.default.timezoneOffset!==e&&setImmediate((function(){return a.default.updateRemoteSettings({timezoneOffset:e})}))}};return t}(o.default);t.UserSettingsManager=c;var f=new c;t.default=f},546914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=i(n(636602)),a=i(n(786345)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={openChannelAsSidebar:function(e){var t=e.channelId,n=e.messageId,i=e.baseChannelId;r.default.dispatch({type:o.ActionTypes.SIDEBAR_VIEW_CHANNEL,baseChannelId:i,channelId:t});a.default.jumpToMessage({channelId:t,messageId:n,flash:!0})},closeChannelSidebar:function(e){r.default.dirtyDispatch({type:o.ActionTypes.SIDEBAR_CLOSE,baseChannelId:e})}};t.default=u},625483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useState)(null),t=e[0],n=e[1],r=(0,a.useRef)(null),u=(0,a.useCallback)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.default.v4();r.current=a;n(t);e.prev=3;e.next=6;return i.playSound(t);case 6:e.prev=6;r.current===a&&n(null);return e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[3,,6,9]])})),function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[]);return{playSound:u,playingSoundId:t}};var r,a=n(667294),o=(r=n(468811))&&r.__esModule?r:{default:r},i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(948924));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}},845634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.closeSoundboardWindow=O;t.openSoundboardWindow=function(e){return E.apply(this,arguments)};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=c(n(89320)),o=n(8475),i=c(n(893160)),u=c(n(922629)),l=c(n(176719)),s=n(770348),d=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}var _={width:372,height:316,resizable:!1,movable:!1,alwaysOnTop:!0,frame:!1,transparent:!0,
hasShadow:!1,skipTaskbar:!0,menubar:!0,backgroundColor:"#00000000"},m=_.width-40,g=_.height-40;function E(){return(E=h(regeneratorRuntime.mark((function e(t){var n,r,c,f,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.default.getGuildId(),r=v(l.default,{guildId:n,width:m,height:g,keepOpen:t,onClose:O});if(null!=n){e.next=3;break}return e.abrupt("return");case 3:e.next=5;return u.default.invoke("GET_MOUSE_COORDINATES");case 5:c=e.sent;f=c.x;y=c.y;(0,o.open)(s.PopoutWindowKeys.SOUNDBOARD,(function(e){return v(a.default,{windowKey:e,withTitleBar:!1,title:d.default.Messages.SOUNDBOARD_POPOUT_WINDOW_TITLE,onBlur:O},void 0,r)}),p({},_,{left:f-_.width/2,top:y-_.height/2}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){(0,o.close)(s.PopoutWindowKeys.SOUNDBOARD)}},751037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=P
;var r,a=O(n(667294)),o=g(n(294184)),i=n(536211),u=g(n(16941)),l=g(n(80828)),s=n(688388),d=g(n(118138)),c=g(n(155393)),f=n(194322),p=g(n(776360)),v=O(n(948924)),y=g(n(637193)),h=g(n(625483)),_=g(n(247001)),m=g(n(883740));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=C(l.default,{});function P(e){var t=e.guildId,n=(0,i.useStateFromStores)([y.default],(function(){return y.default.getSoundsForGuild(t)
})),r=(0,i.useStateFromStores)([y.default],(function(){return y.default.getIsFetchingSoundsForGuild(t)})),o=(0,h.default)(),u=o.playSound,l=o.playingSoundId;a.useEffect((function(){v.fetchSoundsForGuild(t)}),[t]);return C("div",{className:m.default.root},void 0,C(s.FormTitle,{},void 0,_.default.Messages.GUILD_SETTINGS_SOUNDBOARD),r?T:C(A,{guildId:t,onPlay:u,playingSoundId:l,sounds:n}))}P.displayName="SoundboardPopout";function A(e){var t=e.sounds,n=e.guildId,r=e.onPlay,a=e.playingSoundId;return C("div",{className:m.default.soundGrid},void 0,t.map((function(e){return C(M,{playing:a===e.id,sound:e,onPlay:function(){return r(e.id)}},e.id)})),C(N,{guildId:n}))}A.displayName="SoundGrid";function M(e){var t,n=e.onPlay,r=e.sound,a=e.playing;return C(u.default,{className:(0,o.default)(m.default.soundButton,(t={},t[m.default.playing]=a,t)),onClick:n},void 0,C(p.default,{size:p.default.Sizes.SIZE_12,color:p.default.Colors.HEADER_PRIMARY},void 0,r.name),C("div",{className:m.default.buttonOverlay
},void 0,C(d.default,{className:m.default.playIcon})))}M.displayName="SoundButton";function N(e){var t=e.guildId;return C(u.default,{className:m.default.soundAddButton,onClick:function(){(0,f.openModalLazy)(b(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65026)]).then(n.bind(n,465026));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,S({},e,{guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,C(c.default,{className:m.default.soundAddIcon}),C(p.default,{size:p.default.Sizes.SIZE_12,color:p.default.Colors.HEADER_PRIMARY},void 0,_.default.Messages.SOUNDBOARD_SOUND_ADD_SOUND),C("div",{className:m.default.buttonOverlay}))}N.displayName="SoundUploadButton"},176719:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b
;var r,a=h(n(667294)),o=v(n(294184)),i=n(536211),u=v(n(16941)),l=v(n(971639)),s=n(262045),d=h(n(948924)),c=v(n(637193)),f=v(n(625483)),p=v(n(524779));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=[{x:1,y:.5},{x:.88,y:.8},{x:.5,y:1},{x:.11,y:.8},{x:0,y:.5},{x:.11,y:.21},{x:.5,y:0},{x:.88,y:.21}];function O(e,t,n){var r=e*t;return e>.5?r-n:e<.5?r:r-n/2}var S=g("filter",{id:"soundboard-wheel-background-shadow",x:"0",y:"0",width:"288",height:"288",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},void 0,g("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),g("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",
result:"hardAlpha"}),g("feOffset",{dy:"8"}),g("feGaussianBlur",{stdDeviation:"8"}),g("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),g("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_489_60382"}),g("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_489_60382",result:"shape"}));function I(e){var t=e.wheelWidth,n=e.wheelHeight,r=e.itemWidth,o=e.itemHeight,i=e.showDeadZoneIndicator,u=e.onItemSelect,l=e.children,d=a.useRef([]),c=a.useRef(!0),f=function(e){u(null);c.current=e},v={x:t/2,y:n/2},y=l.map((function(e,i){var u=E[i];if(null==u)throw new Error("Too many items supplied "+l.length+" expected max of "+E.length);var s=O(u.x,t,r),c=O(u.y,n,o);return a.createElement("div",{ref:function(e){return d.current[i]=e},key:i,className:p.default.chatWheelItem,style:{left:s,top:c,width:r,height:o}},e)}));return g("div",{className:p.default.chatWheel,style:{width:t,height:n},onMouseMove:function(e){if(!c.current){for(var r={x:e.clientX,y:e.clientY},a=(0,
s.extendLineSegment)(v,r,Math.max(t,n)),o=0;o<d.current.length;o++){var i=d.current[o];if(null!=i){var l=i.getBoundingClientRect();if((0,s.doesLineSegmentIntersectRectangle)(v,a,l)){u(o);return}}}u(null)}}},void 0,g("svg",{className:p.default.chatWheelBackground,viewBox:"0 0 288 288",xmlns:"http://www.w3.org/2000/svg"},void 0,S,g("g",{filter:"url(#soundboard-wheel-background-shadow)"},void 0,g("circle",{className:p.default.chatWheelBackground,cx:"144",cy:"144",r:"103.68",strokeWidth:"40.32"}),i&&g("circle",{className:p.default.chatWheelDeadZone,onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},cx:"144",cy:"144",r:"28.8"}))),y)}I.displayName="ChatWheel";function b(e){var t=e.guildId,n=e.width,r=e.height,s=e.keepOpen,v=e.onClose,y=(0,i.useStateFromStores)([c.default],(function(){return c.default.getSoundsForGuild(t)})),h=(0,f.default)().playSound,_=a.useRef(null),E=a.useState(null),O=E[0],S=E[1];a.useEffect((function(){function e(){
return(e=m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return d.fetchSoundsForGuild(t);case 2:0===e.sent.length&&v();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,v]);a.useEffect((function(){return function(){var e=_.current;s||null==e||h(e)}}),[s,h]);var b=function(e){_.current=e;S(e)};return 0===y.length?null:g(I,{wheelWidth:n,wheelHeight:r,itemWidth:96,itemHeight:52,showDeadZoneIndicator:s,activeItem:O,onItemSelect:function(e){if(null!=e){var t=y[e];null!=t&&b(t.id)}else b(null)}},void 0,y.map((function(e){var t;return g(u.default,{className:(0,o.default)(p.default.soundButton,(t={},t[p.default.soundButtonActive]=O===e.id,t)),onClick:function(){return function(e){h(e);v()}(e.id)}},e.id,g(l.default,{},void 0,e.name))})))}b.displayName="SoundboardWheel"},619476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e,t,n){var r=(0,a.useStateFromStores)([u.default,i.default],(function(){return null!=t?(0,s.default)(u.default,i.default,t,e):void 0}),[e,t]);if(null==r||null==e||null==t)return null;var v=r.isCurrentUser||r.notPlayable||r.playingSameTrack,y=r.isCurrentUser||r.syncingWithUser||r.syncingWithParty;return[h(o.MenuItem,{id:"spotify-play-"+e.session_id,action:function(){return(0,c.default)(r,f.SpotifyActionTypes.USER_ACTIVITY_PLAY,n)},label:p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_PLAY_ON_SPOTIFY,subtext:v?(0,l.default)(r,f.SpotifyActionTypes.USER_ACTIVITY_PLAY):void 0,disabled:v}),r.canPlaySpotify?h(o.MenuItem,{id:"spotify-sync-"+e.session_id,action:function(){return(0,d.default)(r,f.SpotifyActionTypes.USER_ACTIVITY_SYNC,n)},label:p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_LISTEN_ALONG,subtext:y?(0,l.default)(r,f.SpotifyActionTypes.USER_ACTIVITY_SYNC):void 0,disabled:y}):null]};!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(145122),i=v(n(423046)),u=v(n(146411)),l=v(n(601715)),s=v(n(985923)),d=v(n(909630)),c=v(n(669790)),f=n(673810),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},1430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.audienceAckRequestToSpeak=E;t.editStage=function(e,t,n){return I.apply(this,arguments)};t.endStage=function(e){return b.apply(this,arguments)};t.inviteUserToStage=function(e,t){var n=e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n,t),body:{suppress:!1,request_to_speak_timestamp:(new Date).toISOString(),channel_id:e.id}})};t.moveSelfToAudience=function(e){var t=null==e?void 0:e.getGuildId();(0,r.default)(null!=t,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(t),body:{suppress:!0,channel_id:e.id,self_video:!1,self_stream:!1}})};t.moveUserToAudience=function(e,t){if(null==t||null==e)return;var n=t.getGuildId();(0,
r.default)(null!=n,"This channel cannot be guildless.");O(t,e.id,!0);return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n,e.id),body:{suppress:!0,channel_id:t.id,self_video:!1,self_stream:!1}})};t.removeUserFromChannel=function(e,t){var n=null==t?void 0:t.getGuildId();if(null==n||null==e)return;u.default.setChannel(n,e.id,null)};t.setEveryoneRolePermissionAllowed=function(e,t,n){var o=e.getGuildId();(0,r.default)(null!=o,"Channel cannot be guildless");var u=e.permissionOverwrites[o],s=g({id:o,type:l.PermissionOverwriteType.ROLE,allow:c.default.NONE,deny:c.default.NONE},u);if(n){s.allow=a.default.add(s.allow,t);s.deny=a.default.remove(s.deny,t)}else{s.allow=a.default.remove(s.allow,t);s.deny=a.default.add(s.deny,t)}i.default.updatePermissionOverwrite(e.id,s)};t.setUserSuppress=O;t.startStage=function(e,t,n,r){return S.apply(this,arguments)};t.toggleRequestToSpeak=function(e,t){var n=e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");t&&(0,
s.trackWithMetadata)(y.AnalyticEvents.REQUEST_TO_SPEAK_INITIATED,g({},(0,f.getStageChannelMetadata)(e)));return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n),body:{request_to_speak_timestamp:t?(new Date).toISOString():null,channel_id:e.id}})};var r=h(n(441143)),a=h(n(267258)),o=h(n(118915)),i=h(n(709403)),u=h(n(415275)),l=n(81069),s=n(844784),d=h(n(387692)),c=h(n(656016)),f=n(411315),p=n(169769),v=n(104144),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return g.apply(this,arguments)}function E(e,t){var n=null==e?void 0:e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");var a=d.default.getVoiceStateForChannel(e.id);(0,v.getAudienceRequestToSpeakState)(a)!==v.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK||t||(0,s.trackWithMetadata)(y.AnalyticEvents.PROMOTED_TO_SPEAKER,g({},(0,f.getStageChannelMetadata)(e)));return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n),body:{suppress:t,request_to_speak_timestamp:null,channel_id:e.id}})}function O(e,t,n){var a=e.getGuildId();(0,r.default)(null!=a,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(a,t),body:{suppress:n,channel_id:e.id}})}function S(){return(S=m(regeneratorRuntime.mark((function e(t,n,r,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return(0,p.startStageInstance)(t.id,n,r,a)
;case 4:o=e.sent;E(t,!1);return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=m(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return(0,p.updateStageInstance)(t.id,n,r);case 4:a=e.sent;return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=m(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,p.endStageInstance)(t.id);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},685810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.participantMemberInfo=function(e){var t;if((0,a.isNewUser)(e.user))return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_TO_DISCORD
;var n=null===(t=e.member)||void 0===t?void 0:t.joinedAt;if(null==n)return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NON_MEMBER;if(null!=e.member&&e.member.roles.length>0){var r,i;return null!==(r=null===(i=e.role)||void 0===i?void 0:i.name)&&void 0!==r?r:o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER_ROLES}if((new Date).getTime()-Date.parse(n)<864e5)return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_MEMBER;return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER};var r,a=n(873838),o=(r=n(247001))&&r.__esModule?r:{default:r}},411315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fillChunk=function(e,t,n){var a=(0,r.chunk)(e,t),o=null!=n?n:t;return a.reduce((function(e,t){if(o<=t.length)return[].concat(e,[t]);var n=[].concat(t,new Array(o-t.length).fill(null));return[].concat(e,[n])}),[])};t.getRemoveModeratorTooltipHint=function(e,t){switch(e){case d.RowType.OWNER:
return c.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_OWNER;case d.RowType.ADMINISTRATOR:return c.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_ADMINISTRATOR;case d.RowType.MEMBER:case d.RowType.ROLE:return t?c.default.Messages.CHANNEL_PERMISSIONS_CANNOT_REMOVE_PERMISSIONS:c.default.Messages.CHANNEL_PERMISSIONS_REMOVE_MODERATOR_TOOLTIP;case d.RowType.EMPTY_STATE:return null}};t.getStageChannelMetadata=function(e){var t=u.default.getStageInstanceByChannel(e.id);return{channel_id:e.id,guild_id:e.guild_id,topic:null==t?void 0:t.topic,media_session_id:a.default.getMediaSessionId(),request_to_speak_state:i.default.canEveryoneRole(s.Permissions.REQUEST_TO_SPEAK,e)?l.RequestToSpeakPermissionStates.EVERYONE:l.RequestToSpeakPermissionStates.NO_ONE,stage_instance_id:null==t?void 0:t.id}};t.isVersionEqual=function(e,t){var n=e[1],r=t[1];return n===r};t.summarizeUsernamesParticipating=function(e,t,n,r){var a=t[0],i=o.default.getName(e,n,a),u=null!=r?r:t.length
;if(1===u&&null!=a)return i;if(null==a)return c.default.Messages.SPEAKING_COUNT.format({count:u});return c.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:i,count:u-1})};t.summarizeUsernamesParticipatingWithSpeakerNickname=function(e,t,n){var r=null!=n?n:e.length;if(1===r&&null!=t)return t;if(null==t)return c.default.Messages.SPEAKING_COUNT.format({count:r});return c.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:t,count:r-1})};var r=n(496486),a=f(n(893160)),o=f(n(29652)),i=f(n(656016)),u=f(n(217964)),l=n(808961),s=n(770348),d=n(739889),c=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}},342716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=v(n(636602)),a=v(n(740207)),o=n(123516),i=v(n(177230)),u=n(747868),l=v(n(607209)),s=v(n(423046)),d=v(n(644263)),c=v(n(635014)),f=n(104144),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return y(e,t)}var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).handleVoiceStateUpdates=function(e){var n=e.voiceStates,r=s.default.getId();n.forEach((function(e){var n;if(e.userId===r){if(null===(n=d.default.getChannel(e.channelId))||void 0===n?void 0:n.isGuildStageVoice()){if(!((0,f.getAudienceRequestToSpeakState)(e)===f.RequestToSpeakStates.ON_STAGE)){t.handleStopStream(e);t.handleStopUserVideo()}}}}))};t.handleStopStream=function(e){var t=l.default.getActiveStreamForUser(e.userId);null!=t&&(0,o.stopStream)((0,u.encodeStreamKey)(t),!1)};t.handleStopUserVideo=function(){c.default.isVideoEnabled()&&a.default.setVideoEnabled(!1)};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(p.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)}
;n._terminate=function(){r.default.unsubscribe(p.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};return t}(i.default));t.default=h},169769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.endStageInstance=function(e){return a.default.delete(o.Endpoints.STAGE_INSTANCE(e))};t.startStageInstance=function(e,t,n,r,a){return l.apply(this,arguments)};t.updateStageInstance=function(e,t,n){return s.apply(this,arguments)};var r,a=(r=n(118915))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){i(o,r,a,u,l,"next",e)}function l(e){i(o,r,a,u,l,"throw",e)}u(void 0)}))}}function l(){return(l=u(regeneratorRuntime.mark((function e(t,n,r,i,u){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return a.default.post({url:o.Endpoints.STAGE_INSTANCES,body:{channel_id:t,topic:n,privacy_level:r,guild_scheduled_event_id:u,send_start_notification:i}});case 2:l=e.sent;return e.abrupt("return",l.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=u(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.patch({url:o.Endpoints.STAGE_INSTANCE(t),body:{topic:n,privacy_level:r}});case 2:i=e.sent;return e.abrupt("return",i.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},913687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(!e.isGuildStageVoice())return!1;if(!u.default.isLive(e.id))return!1;var t=r.default.getId();if(!i.default.isModerator(t,e.id))return!1;var n=a.default.getMutableParticipants(e.id,o.StageChannelParticipantNamedIndex.MODERATOR);if(n.length<=1)return!0
;if(!i.default.isSpeaker(t,e.id))return!1;return n.filter((function(e){return e.id!==t&&e.speaker})).length<=0};var r=l(n(423046)),a=l(n(897191)),o=n(921867),i=l(n(258079)),u=l(n(217964));function l(e){return e&&e.__esModule?e:{default:e}}},530877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getId()}));return(0,i.default)(t,e)===i.RequestToSpeakStates.ON_STAGE};var r,a=n(536211),o=(r=n(423046))&&r.__esModule?r:{default:r},i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(104144));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},724571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,r.useStateFromStores)([a.default,o.default,i.default],(function(){var t=a.default.getId();return o.default.getVoiceChannelId()===e?i.default.getPermissionsForUser(t,e):null}),[e])};var r=n(536211),a=u(n(423046)),o=u(n(211136)),i=u(n(258079));function u(e){return e&&e.__esModule?e:{default:e}}},902477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useRequestToSpeakPermission=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getChannel(e)}),[e]),n=i.default.canEveryoneRole(l.Permissions.REQUEST_TO_SPEAK,t),s=r.useState(n),d=s[0],c=s[1];r.useEffect((function(){n!==d&&c(n)}),[n]);return[d,function(e){if(null!=t){c(e);(0,
u.setEveryoneRolePermissionAllowed)(t,l.Permissions.REQUEST_TO_SPEAK,e)}}]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=s(n(644263)),i=s(n(656016)),u=n(1430),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}},945544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useStageChannelParticipantsList=h;t.useStageChannelParticipantsListThrottled=function(e,t,n,r){void 0===r&&(r=!1)
;var a=h(e,t,r),o=a[0],i=a[1],u=(0,c.useThrottledState)(a,n,[t[s.StageChannelParticipantNamedIndex.AUDIENCE]]),l=u[0],d=u[1],f=[o[_.SELECTED],o[_.SPEAKER],l[_.AUDIENCE]],p=[i[_.SELECTED],i[_.SPEAKER],d[_.AUDIENCE]];if(r){f.splice(1,0,o[_.MEDIA]);p.splice(1,0,i[_.MEDIA])}return[f,p]};t.useThrottleDurationForChannel=function(e){var t=(0,l.useStageParticipantsCount)(e,s.StageChannelParticipantNamedIndex.AUDIENCE),n=r.useState(!1),a=n[0],o=n[1];r.useEffect((function(){t>100?o(!0):t<75&&o(!1)}),[t]);return a?5e3:0};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=n(496486),o=n(536211),i=f(n(825724)),u=f(n(897191)),l=n(216554),s=n(921867),d=n(411315),c=n(2663);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){var l=(0,o.useStateFromStores)([u.default],(function(){return[e,u.default.getParticipantsVersion(e)]}),[e],d.isVersionEqual),c=(0,o.useStateFromStores)([i.default],(function(){return i.default.getSelectedParticipantId(e)}),[e]);return r.useMemo((function(){var r=[],o=[],i=-1,d=[];if(n)for(var f,p=v(u.default.getMutableParticipants(e,s.StageChannelParticipantNamedIndex.SPEAKER));!(f=p()).done;){var y=f.value;if(!y.voiceState.selfVideo&&y.type!==s.StageChannelParticipantTypes.STREAM)break;y.id!==c&&d.push(y);i++}var h=function(e,t,n){var u=n?e.filter((function(e,t){return e.id!==c&&t>i})):e,l=(0,a.chunk)(u,t);o.push(l);r.push(l.length)},_=null!=c?u.default.getParticipant(e,c):null
;(null==_?void 0:_.speaker)?h([_],1,!1):h([],1,!1);[s.StageChannelParticipantNamedIndex.SPEAKER,s.StageChannelParticipantNamedIndex.AUDIENCE].forEach((function(e){h(u.default.getMutableParticipants(l[0],e),t[e],e===s.StageChannelParticipantNamedIndex.SPEAKER)}));h(d,1,!1);return[r,o]}),[l,t,c,n,e])}var _;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE";e[e.MEDIA=3]="MEDIA"}(_||(_={}))},641474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=3);return(0,a.useStateFromStores)([o.default],(function(){for(var n,r=o.default.getMutableParticipants(e),a=[],i=function(){var e=n.value;if(a.length>=t)return"break";if(null!=a.find((function(t){return t.id===e.user.id})))return"continue";a.push(e.user)},l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return
;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(n=l()).done;){var s=i();if("break"===s)break}return[{participants:r,usersInSummary:a},o.default.getParticipantsVersion(e)]}),[e,t],i.isVersionEqual)[0]};var r,a=n(536211),o=(r=n(897191))&&r.__esModule?r:{default:r},i=n(411315);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},2663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.useThrottledState=t.useThrottledFunction=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var i=function(e){return e};t.useThrottledState=function(e,t,n,a){void 0===n&&(n=[]);var o=u(i,t,n,a),l=r.useRef(e);r.useEffect((function(){var t=o(e);l.current=t}),[e,o]);return 0===t?e:l.current};var u=function(e,t,n,o){void 0===n&&(n=[]);var i=r.useRef((0,a.throttle)(e,t,o));r.useEffect((function(){i.current=(0,a.throttle)(e,t,o)
;return function(){var e;null===(e=i.current)||void 0===e||e.cancel()}}),[e,t,o].concat(n));return i.current};t.useThrottledFunction=u},462867:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,o.useStateFromStores)([i.default],(function(){return i.default.getId()})),n=(0,l.default)(t,e.id),r=n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK||n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,s=a.useState(r),d=s[0],c=s[1];a.useEffect((function(){c(r)}),[r]);return[d,function(){n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK?(0,u.audienceAckRequestToSpeak)(e,!0):(0,u.toggleRequestToSpeak)(e,!d);c(!d)}]};var r,a=d(n(667294)),o=n(536211),i=(r=n(423046))&&r.__esModule?r:{default:r},u=n(1430),l=d(n(104144));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}},158579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=s(n(667294)),i=s(n(2850)),u=(r=n(339753))&&r.__esModule?r:{default:r};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=o.memo((function(e){var t=e.channel,n=e.participants,r=e.maxTiles;if(0===n.length)return null;for(var a=[],o=0;o<r;o++)if(o<n.length){var l=n[o];a.push(d(i.default,{channel:t,participant:l},l.id))}else a.push(d(i.AudienceEmptyTile,{},o));return d("div",{className:u.default.participants},void 0,a)}));t.default=c},386191:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(776360)),i=l(n(247001)),u=l(n(326714));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=a.memo((function(e){var t,n=e.role,r=e.participantCount;return d("div",{className:u.default.roleContainer},void 0,d(o.default,{className:u.default.roleName,size:o.default.Sizes.SIZE_12},void 0,null!==(t=null==n?void 0:n.name)&&void 0!==t?t:i.default.Messages.AUDIENCE_LABEL,"â€”",r))}));t.default=c},2850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.AudienceEmptyTile=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=I(n(294184)),i=I(n(441143)),u=n(536211),l=n(378158),s=I(n(818994)),d=I(n(711195)),c=I(n(414068)),f=I(n(876874)),p=I(n(16941)),v=I(n(160629)),y=I(n(337322)),h=I(n(782732)),_=I(n(924671)),m=I(n(776360)),g=I(n(29652)),E=n(104144),O=n(770348),S=I(n(967709));function I(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){
T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=a.memo((function(e){var t=e.guildId,n=e.channelId,r=e.user,a=e.isPremium,o=e.isBlocked;return A("div",{className:S.default.textContainer},void 0,o?A(y.default,{className:S.default.blockedIcon,color:O.Colors.STATUS_RED}):null,A(m.default,{className:S.default.text,size:m.default.Sizes.SIZE_14,color:m.default.Colors.HEADER_PRIMARY},void 0,g.default.getName(t,n,r)),a?A(h.default,{className:S.default.boost,color:O.Colors.GUILD_BOOSTING_PINK}):null)})),N=a.memo((function(e){
var t,n,r,i=e.participant,u=e.guildId,l=e.channel,s=e.isPremium,d=i.user,c=i.blocked,f=i.rtsState,p=f===E.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,v=f===E.RequestToSpeakStates.REQUESTED_TO_SPEAK||p;return a.createElement(a.Fragment,null,A("div",{className:S.default.avatarContainer},void 0,v&&A(_.default,{className:(0,o.default)(S.default.icon,(t={},t[S.default.invited]=p,t))}),A("img",{src:null!==(n=d.getAvatarURL(l.guild_id,56,!1))&&void 0!==n?n:void 0,alt:d.username,"aria-label":d.username,className:(0,o.default)(S.default.avatar,(r={},r[S.default.faded]=c,r))})),A(M,{guildId:u,channelId:l.id,user:d,isPremium:s,isBlocked:c}))})),R=function(){return A("div",{className:S.default.tileBaseContainer})};t.AudienceEmptyTile=R;R.displayName="AudienceEmptyTile";var w=a.memo((function(e){var t=e.participant,r=e.channel,y=t.user,h=t.blocked,_=r.getGuildId(),m=a.useContext(s.default),g=(0,u.useStateFromStores)([f.default],(function(){var e
;return null!=_&&null!=(null===(e=f.default.getMember(_,y.id))||void 0===e?void 0:e.premiumSince)}),[_,y.id]);(0,i.default)(null!=_,"Channel cannot be guildless");var E=a.useCallback((function(e){(0,l.openContextMenuLazy)(e,P(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(41501),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,C({},e,{user:y,guildId:_,channelId:r.id,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}));case 5:case"end":return e.stop()}}),e)}))),{context:m})}),[y,_,r.id,m]),O=a.useCallback((function(e){return a.createElement(c.default,C({},e,{guildId:_,channelId:r.id,userId:y.id}))}),[r.id,_,y.id]),I=A(N,{participant:t,guildId:_,channel:r,isPremium:g});return A(v.default,{preload:function(){return(0,
d.default)(y.id,y.getAvatarURL(r.guild_id,80),{guildId:r.guild_id})},renderPopout:O,position:v.default.Positions.RIGHT,spacing:8},void 0,(function(e){var t;return a.createElement(p.default,C({className:(0,o.default)(S.default.tileContainer,(t={},t[S.default.singleIcon]=g||h,t[S.default.doubleIcon]=g&&h,t)),onContextMenu:E},e),I)}))}));t.default=w},226155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=d(n(709578)),i=d(n(635014)),u=d(n(974661)),l=d(n(180573)),s=["aspectRatio","blocked","channel","className","focused","children","inCall","inPopout","noBorder","onClick","onContextMenu","onDoubleClick","onVideoResize","paused","pulseSpeakingIndicator","participant","width"];function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t=e.aspectRatio,n=e.blocked,r=e.channel,d=e.className,c=e.focused,v=e.children,y=e.inCall,h=e.inPopout,_=e.noBorder,m=e.onClick,g=e.onContextMenu,E=e.onDoubleClick,O=e.onVideoResize,S=e.paused,I=e.pulseSpeakingIndicator,b=e.participant,C=e.width,T=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s),P=i.default.getVideoComponent();return f("div",{style:{width:C},className:l.default.spaceBetweenTiles},void 0,f(u.default,{className:l.default.tileSizer,aspectRatio:t},void 0,a.createElement(o.default,p({blocked:n,channel:r,className:d,focused:c,inCall:y,inPopout:h,noBorder:_,onClick:m,onContextMenu:g,onDoubleClick:E,onVideoResize:O,participant:b,paused:S,pulseSpeakingIndicator:I,videoComponent:P,width:C},T)),v))}v.displayName="AutosizingCallTile"},991636:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(247001)),i=s(n(300443)),u=s(n(483683)),l=s(n(63685));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.className,n=e.children;return c("div",{className:(0,a.default)(i.default.container,t)},void 0,c("img",{alt:o.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:l.default,className:(0,a.default)(i.default.sparkleIcon,i.default.sparkleBottom)}),n,c("img",{alt:o.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:u.default,className:(0,a.default)(i.default.sparkleIcon,i.default.sparkleTop)}))}f.displayName="IconWithSparkles"},542402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;m(n(667294));var r,a=h(n(294184)),o=h(n(644263)),i=h(n(211136)),u=h(n(956117)),l=h(n(337322)),s=m(n(177101)),d=h(n(776360)),c=n(1430),f=h(n(14325)),p=n(123718),v=h(n(247001)),y=h(n(110717));function h(e){
return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=i.default.getVoiceChannelId();if(null!=t){var n=o.default.getChannel(t);null!=n&&(0,c.audienceAckRequestToSpeak)(n,e)}}function O(){var e,t=(0,f.default)(),n=null!==(e=(0,p.useStageBlockedUsersCount)(null==t?void 0:t.id))&&void 0!==e?e:0;return g(s.default,{className:y.default.container,color:s.NoticeColors.NOTIFICATION},void 0,g("div",{},void 0,v.default.Messages.STAGE_SPEAK_INVITE_HEADER),n>0?g("div",{className:y.default.blocked},void 0,g(l.default,{width:12,height:12,className:y.default.blockedIcon}),g("div",{className:y.default.blockedText},void 0,v.default.Messages.STAGE_SPEAK_INVITE_HEADER_BLOCKED_USERS.format({number:n}))):null,g(u.default,{className:(0,a.default)(y.default.button,y.default.acceptButton),size:u.default.Sizes.MIN,color:u.default.Colors.WHITE,onClick:function(){return E(!1)}},void 0,g(d.default,{className:y.default.acceptText,size:d.default.Sizes.SIZE_12,color:d.default.Colors.CUSTOM
},void 0,v.default.Messages.STAGE_SPEAK_INVITE_ACCEPT)),g(u.default,{className:(0,a.default)(y.default.button,y.default.declineButton),look:u.default.Looks.OUTLINED,size:u.default.Sizes.MIN,color:u.default.Colors.WHITE,onClick:function(){return E(!0)}},void 0,g(d.default,{className:y.default.declineText,size:d.default.Sizes.SIZE_12,color:d.default.Colors.CUSTOM},void 0,v.default.Messages.STAGE_SPEAK_INVITE_DECLINE)))}O.displayName="InvitedToSpeakNotice"},214563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}(n(667294)),o=d(n(730977)),i=d(n(980351)),u=n(478036),l=d(n(247001)),s=d(n(817463));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(){return p(o.default,{text:l.default.Messages.STAGE_MODERATOR_TOOLTIP
},void 0,(function(e){return a.createElement("div",f({},e,{className:s.default.container}),p(i.default,{color:u.Colors.WHITE}))}))};v.displayName="ModeratorBadge";var y=v;t.default=y},397789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(966708),u=h(n(145122)),l=h(n(563621)),s=h(n(160629)),d=h(n(91424)),c=h(n(811198)),f=h(n(878556)),p=n(770348),v=h(n(247001)),y=h(n(607673));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,i.useChannelNotificationRadioItems)(t);return g(u.default,{navId:"notification-settings",onClose:n,"aria-label":v.default.Messages.NOTIFICATION_SETTINGS,onSelect:r},void 0,a)}E.displayName="NotificationSettingsMenu"
;function O(e){var t=e.channel,n=a.useState(!1),r=n[0],i=n[1],u=(0,o.useStateFromStores)([l.default],(function(){return l.default.getChannelOverrides(t.guild_id)[t.id]}),[t.guild_id,t.id]),h=(null==u?void 0:u.message_notifications)===p.UserNotificationSettings.NO_MESSAGES,_=v.default.Messages.NOTIFICATION_SETTINGS;return g(s.default,{shouldShow:r,animation:s.default.Animation.NONE,position:s.default.Positions.BOTTOM,align:s.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return i(!1)},renderPopout:function(e){return a.createElement(E,m({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(f.default.Icon,m({},e,{onClick:function(){return i((function(e){return!e}))},tooltip:n?null:_,icon:h?c.default:d.default,foreground:h?y.default.strikethrough:null,"aria-label":_}))}))}O.displayName="NotificationSettingsButton"},885903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(332282)),o=u(n(991636)),i=u(n(364266));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.className;return s(o.default,{className:t},void 0,s("div",{className:i.default.background},void 0,s(a.default,{className:i.default.foreground,width:32,height:32})))}d.displayName="RaisedHandsEmptyStateImage"},460936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=re;var r,a=F(n(667294)),o=U(n(294184)),i=U(n(441143)),u=n(536211),l=n(378158),s=F(n(538930)),d=n(982437),c=U(n(711195)),f=U(n(414068)),p=U(n(876874)),v=U(n(689389)),y=U(n(788739)),h=U(n(956117)),_=U(n(16941)),m=U(n(160629)),g=U(n(567668)),E=U(n(730977)),O=U(n(259530)),S=U(n(855480)),I=U(n(833837)),b=U(n(924671)),C=U(n(776360)),T=U(n(521358)),P=n(1430),A=n(216554),M=n(685810),N=n(104144),R=U(n(801967)),w=n(902477),D=U(n(885903)),L=n(478036),k=U(n(247001)),j=U(n(983953));function U(e){return e&&e.__esModule?e:{default:e}}
function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return x.apply(this,arguments)}function W(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){
var o=e.apply(t,n);function i(e){W(o,r,a,i,u,"next",e)}function u(e){W(o,r,a,i,u,"throw",e)}i(void 0)}))}}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var B,Y=H(b.default,{}),z=H(O.default,{}),K=a.memo((function(e){var t=e.toggleRequestToSpeakSidebar;return H("div",{className:j.default.headerContainer},void 0,Y,H(C.default,{className:j.default.headerTitle,size:C.default.Sizes.SIZE_16,color:C.default.Colors.HEADER_PRIMARY},void 0,k.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE),H(_.default,{className:j.default.headerClose,onClick:t,"aria-label":k.default.Messages.CLOSE},void 0,z))})),$=H(S.default,{width:16,
height:16}),q=a.memo((function(e){var t=e.channel;return H(_.default,{className:j.default.selfSpeakerContainer,onClick:function(){(0,P.audienceAckRequestToSpeak)(t,!1)}},void 0,H("div",{className:(0,o.default)(j.default.buttonContainer,j.default.selfSpeakerButton)},void 0,$),H(C.default,{className:j.default.selfSpeakerText,size:C.default.Sizes.SIZE_16,color:C.default.Colors.CUSTOM},void 0,k.default.Messages.MODERATOR_RAISE_OWN_HAND))})),Z=H(I.default,{width:16,height:16}),X=H(O.default,{width:16,height:16}),Q=a.memo((function(e){var t=e.channel,r=e.participant,v=e.tempDisableOnInit,g=void 0!==v&&v,O=a.useState(g),S=O[0],I=O[1];a.useEffect((function(){if(S){var e=setTimeout((function(){return I(!1)}),1e3);return function(){return clearTimeout(e)}}}),[]);var b=t.getGuildId();(0,i.default)(null!=b,"Channel cannot be guildless");var T=(0,u.useStateFromStoresObject)([y.default],(function(){return{isMobile:y.default.isMobileOnline(r.user.id),status:y.default.getStatus(r.user.id,b)}
})),A=T.isMobile,R=T.status,w=(0,u.useStateFromStores)([p.default],(function(){return p.default.getMember(b,r.user.id)})),D=a.useMemo((function(){var e;return(e={})[b]=[r.user.id],e}),[b,r.user.id]);(0,d.useSubscribeGuildMembers)(D);var L=r.rtsState===N.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;function U(){(0,P.setUserSuppress)(t,r.user.id,!1)}function G(){(0,P.setUserSuppress)(t,r.user.id,!0)}var F=function(e){(0,l.openContextMenuLazy)(e,V(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(41501),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,x({},e,{user:r.user,guildId:b,channelId:t.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))};return H("div",{className:j.default.participantRowContainer
},void 0,H(m.default,{preload:function(){return(0,c.default)(r.user.id,r.user.getAvatarURL(t.guild_id,80),{guildId:t.guild_id})},renderPopout:function(e){return a.createElement(f.default,x({},e,{userId:r.user.id,guildId:b,channelId:t.id}))},position:m.default.Positions.LEFT,spacing:16},void 0,(function(e){var t;return a.createElement(_.default,x({className:j.default.participantMemberContainer,onContextMenu:F},e),H(s.default,{size:s.Sizes.SIZE_40,className:j.default.participantAvatar,user:r.user,isMobile:A,status:R}),H("div",{className:j.default.participantTextContainer},void 0,H(C.default,{className:j.default.participantName,size:C.default.Sizes.SIZE_16,color:C.default.Colors.CUSTOM,style:{color:null!==(t=null==w?void 0:w.colorString)&&void 0!==t?t:void 0}},void 0,r.userNick),H(C.default,{size:C.default.Sizes.SIZE_12,color:C.default.Colors.HEADER_SECONDARY},void 0,(0,M.participantMemberInfo)(r))))})),H(E.default,{
text:L?k.default.Messages.REQUEST_TO_SPEAK_INVITATION_SEND:k.default.Messages.REQUEST_TO_SPEAK_ACCEPT},void 0,(function(e){return a.createElement(h.default,x({},e,{innerClassName:j.default.buttonContainer,look:h.default.Looks.BLANK,size:h.default.Sizes.NONE,onClick:U,disabled:L||S}),Z)})),H(E.default,{text:k.default.Messages.REQUEST_TO_SPEAK_DECLINE},void 0,(function(e){return a.createElement(h.default,x({},e,{innerClassName:(0,o.default)(j.default.buttonContainer,j.default.buttonMargin),look:h.default.Looks.BLANK,size:h.default.Sizes.NONE,onClick:G}),X)})))})),J=a.memo((function(e){var t=e.channel,n=(0,w.useRequestToSpeakPermission)(t.id),r=n[0],a=n[1];return H(g.default,{className:j.default.toggle,onChange:a,value:r},void 0,k.default.Messages.MODERATOR_ALLOW_EVERYONE_RAISE_HAND)})),ee=H(D.default,{}),te=a.memo((function(){return H("div",{className:j.default.emptyStateContainer},void 0,ee,H(C.default,{className:j.default.emptyStateTitle,size:C.default.Sizes.SIZE_20,
color:C.default.Colors.HEADER_PRIMARY},void 0,k.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_TITLE),H(C.default,{className:j.default.emptyStateBody,size:C.default.Sizes.SIZE_14,color:C.default.Colors.HEADER_SECONDARY},void 0,k.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_BODY))}));!function(e){e[e.TOGGLE_REQUEST_TO_SPEAK=0]="TOGGLE_REQUEST_TO_SPEAK";e[e.MAKE_SPEAKER=1]="MAKE_SPEAKER";e[e.PARTICIPANTS=2]="PARTICIPANTS"}(B||(B={}));var ne=H(te,{},"participants-empty");function re(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,r=(0,R.default)(t.id).speaker,a=(0,A.useSortedRequestToSpeakParticipants)(t.id),o=[(0,u.useStateFromStores)([v.default],(function(){return v.default.can(L.Permissions.MANAGE_CHANNELS,t)||v.default.can(L.Permissions.MANAGE_ROLES,t)}))?1:0,r?0:1,Math.max(1,a.length)];var i=H(J,{channel:t},"rts-toggle"),l=H(q,{channel:t},"make-speaker");return H("div",{className:j.default.container},void 0,H(K,{toggleRequestToSpeakSidebar:n}),H(T.default,{
className:j.default.contentContainer,sections:o,sectionHeight:function(e){return e===B.PARTICIPANTS?40:0},rowHeight:function(e){switch(e){case B.TOGGLE_REQUEST_TO_SPEAK:return 66;case B.MAKE_SPEAKER:return 48;case B.PARTICIPANTS:return 0===a.length?178:48}return 0},renderRow:function(e){var n=e.section,r=e.row;switch(n){case B.TOGGLE_REQUEST_TO_SPEAK:return i;case B.MAKE_SPEAKER:return l;case B.PARTICIPANTS:if(0===a.length)return ne;var o=a[r];return H(Q,{channel:t,participant:o,tempDisableOnInit:!0},o.id)}return null},renderSection:function(e){return e.section===B.PARTICIPANTS?H(C.default,{className:j.default.listTitle,size:C.default.Sizes.SIZE_12,color:C.default.Colors.HEADER_SECONDARY},"participants-section",a.length>0?k.default.Messages.REQUEST_TO_SPEAK_LIST_TITLE.format({numHands:a.length}):k.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE):null}}))}re.displayName="RequestToSpeakSidebar"},492626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=(r=n(203418))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var l=function(e){var t=e.children;return e.shouldAnimate?u("div",{className:o.default.outerContainer},void 0,u("div",{className:o.default.innerContainer},void 0,t)):t};l.displayName="SpeakerPulse";var s=l;t.default=s},551619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=K;var r,a=G(n(667294)),o=j(n(294184)),i=n(496486),u=n(536211),l=j(n(972247)),s=j(n(636602)),d=j(n(825724)),c=j(n(66384)),f=j(n(818994)),p=G(n(8475)),v=j(n(902305)),y=n(139982),h=G(n(430251)),_=j(n(866219)),m=j(n(561603)),g=j(n(423046)),E=j(n(211136)),O=n(194322),S=n(864489),I=n(518802),b=j(n(922629)),C=G(n(285256)),T=j(n(460936)),P=j(n(460372)),A=j(n(600577)),M=j(n(268372)),N=j(n(35997)),R=j(n(357474)),w=n(770348),D=n(859089),L=j(n(247001)),k=j(n(76034));function j(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){
return e?n:t})(e)}function G(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function F(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,u,"next",e)}function u(e){F(o,r,a,i,u,"throw",e)}i(void 0)}))}}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var V="HasBeenInStageChannel",H=function(e,t){return function(){var n=e.getGuildId();null!=n&&null!=t&&(0,y.transitionToGuild)(n,t);p.openChannelCallPopout(e)}},B=function(){s.default.wait((function(){return p.close(w.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}))};function Y(e){var t=e.channel,n=e.appContext,r=e.popoutOpen,o=e.popoutWindow,i=e.selectedParticipant,l=t.getGuildId(),s=(0,u.useStateFromStores)([E.default],(function(){return E.default.getMostRecentSelectedTextChannelId(l)}),[l]),f=g.default.getId(),p=!(0,u.useStateFromStores)([d.default],(function(){return d.default.isFullscreenInContext(n)
}))&&(!S.isPlatformEmbedded||S.isPlatformEmbedded&&b.default.supportsFeature(w.NativeFeatures.POPOUT_WINDOWS)),v=null!=i&&i.type!==D.ParticipantTypes.ACTIVITY&&i.user.id!==f,y=a.useMemo((function(){var e;return null!==(e=null==o?void 0:o.window)&&void 0!==e?e:window}),[o]),h=(0,R.default)({channel:t,appContext:n,popoutOpen:r,popoutWindow:o,currentWindow:y});return a.createElement(a.Fragment,null,v?W(m.default,{context:(0,c.default)(i.type),userId:i.user.id,currentWindow:y,sliderClassName:k.default.volumeSlider}):null,p?W(_.default,{className:k.default.rightTrayIcon,popoutOpen:r,onOpenPopout:H(t,s),onClosePopout:B}):null,h)}function z(e){var t,n=e.channel,r=e.toggleRequestToSpeakSidebar,o=e.showRequestToSpeakSidebar,l=a.useContext(f.default),s=(0,u.useStateFromStores)([v.default],(function(){return v.default.getWindow(w.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),c=null!=s&&!s.closed,p=(0,u.useStateFromStores)([E.default],(function(){return E.default.getVoiceChannelId()===n.id
}),[n.id]),y=(0,u.useStateFromStores)([d.default],(function(){return d.default.getSelectedParticipant(n.id)}),[n.id]),_=c&&l!==w.AppContext.POPOUT,m=a.useState(0),g=m[0],O=m[1],S=(0,C.default)().isOnStartStageScreen;(0,C.useUpdateIsOnStartStageScreenEffect)(n);a.useEffect((function(){!p&&c&&B()}),[c,p]);t=S?W(N.default,{channel:n,onContinueClick:function(){return(0,C.setIsOnStartStageScreen)(!1)}}):W(A.default,{channel:n,onScroll:function(e){var t=e.target.scrollTop;(0,i.debounce)((function(){return O(t)}),1e3,{leading:!0})()}});var I=W(M.default,{channel:n,toggleRequestToSpeakSidebar:r,showRequestToSpeakSidebar:o,isOnStartStageScreen:S}),b=W(Y,{channel:n,appContext:l,popoutOpen:c,popoutWindow:s,selectedParticipant:y}),T=W(P.default,{channel:n});return W(h.default,{disableGradients:0===g&&h.DisableGradient.TOP,renderBottomCenter:function(){return I},renderBottomRight:function(){return b},renderHeader:function(){return T},onActive:function(){},onPreventIdle:function(){},
onAllowIdle:function(){},onForceIdle:function(){},screenMessage:_?{mainText:L.default.Messages.POPOUT_PLAYER_OPENED}:null,idle:!1},void 0,!_&&t)}z.displayName="StageChannelCallContent";function K(e){var t,r=e.channel,i=e.appContext,u=void 0===i?w.AppContext.APP:i,s=a.useState(!1),d=s[0],c=s[1],p=a.useCallback((function(){c(!d)}),[d]);a.useEffect((function(){if(null==l.default.get(V)){(0,O.openModalLazy)(x(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2345)]).then(n.bind(n,102345));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))));l.default.set(V,Date.now())}}),[]);return W("div",{className:k.default.container},void 0,W("div",{className:(0,o.default)(k.default.callContainer,(0,I.getThemeClass)(w.ThemeTypes.DARK),(t={},t[k.default.sidebarVisible]=d,t))
},void 0,W(f.default.Provider,{value:u},void 0,W(z,{channel:r,toggleRequestToSpeakSidebar:p,showRequestToSpeakSidebar:d}))),d?W(T.default,{channel:r,toggleRequestToSpeakSidebar:p}):null)}K.displayName="StageChannelCall"},460372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=D;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=C(n(294184)),i=n(536211),u=C(n(818994)),l=C(n(678928)),s=C(n(981706)),d=C(n(689389)),c=C(n(634230)),f=C(n(332282)),p=C(n(878556)),v=C(n(776360)),y=n(864489),h=n(518802),_=C(n(922629)),m=n(559133),g=n(365744),E=C(n(217964)),O=C(n(397789)),S=n(770348),I=C(n(247001)),b=C(n(903330));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){A(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(){return R.apply(this,arguments)}function R(){return(R=M(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,y.isOSX)()||!y.isPlatformEmbedded){e.next=14;break}e.next=3;return null===(n=(r=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===n?void 0:n.call(r);case 3:e.t1=t=e.sent;e.t0=null!==e.t1;if(!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t;e.next=12;break;case 11:e.t2="Maximize";case 12:"Minimize"===(a=e.t2)?_.default.minimize():"Maximize"===a&&_.default.maximize();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.channel,n=a.useContext(u.default),r=(0,
i.useStateFromStores)([d.default],(function(){return d.default.can(g.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}));return a.createElement(a.Fragment,null,P(O.default,{channel:t}),P(s.default,{guildId:t.guild_id,className:b.default.eventsButton}),r?P(p.default.Icon,{onClick:function(){(0,m.openStageChannelSettings)(t,n)},tooltip:I.default.Messages.STAGE_SETTINGS,"aria-label":I.default.Messages.STAGE_SETTINGS,icon:c.default}):null)}function D(e){var t=e.channel,n=(0,l.default)(t),r=(0,i.useStateFromStores)([E.default],(function(){return E.default.getStageInstanceByChannel(t.id)}));return P(p.default,{toolbar:P(w,{channel:t}),onDoubleClick:N,transparent:!0,className:(0,o.default)((0,h.getThemeClass)(S.ThemeTypes.DARK),b.default.participants)},void 0,P(p.default.Icon,{icon:f.default,disabled:!0,"aria-label":I.default.Messages.STAGE_CHANNEL,className:b.default.icon}),P(p.default.Title,{className:b.default.channelName},void 0,n),null!=r?a.createElement(a.Fragment,null,P(p.default.Divider,{
className:b.default.divider}),P(v.default,{size:v.default.Sizes.SIZE_16,color:v.default.Colors.HEADER_SECONDARY,className:b.default.title},void 0,null==r?void 0:r.topic)):null)}D.displayName="StageChannelCallHeader"},25974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=n(536211),u=h(n(689389)),l=h(n(337322)),s=h(n(878338)),d=h(n(855480)),c=h(n(776360)),f=n(365744),p=h(n(217964)),v=h(n(247001)),y=h(n(957652));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=14;var E=function(e){var t=e.subtitle;return m(c.default,{color:c.default.Colors.HEADER_SECONDARY,size:c.default.Sizes.SIZE_14,className:(0,o.default)(y.default.subtitle,y.default.height)},void 0,t)};E.displayName="StageSubtitle";var O=function(e){var t=e.speakerCount,n=e.audienceCount,r=e.blockedCount;return m("div",{className:y.default.height},void 0,m("div",{className:y.default.stageSummary},void 0,m(d.default,{height:g,width:g,
className:y.default.icon}),m(c.default,{color:c.default.Colors.HEADER_SECONDARY,size:c.default.Sizes.SIZE_12},void 0,v.default.Messages.SPEAKING_COUNT.format({count:String(t)})),m("div",{className:y.default.dotSeparator}),m(s.default,{width:g,height:g,className:y.default.icon}),m(c.default,{color:c.default.Colors.HEADER_SECONDARY,size:c.default.Sizes.SIZE_12},void 0,v.default.Messages.LISTENING_COUNT.format({count:String(n)})),r>0?a.createElement(a.Fragment,null,m("div",{className:y.default.dotSeparator}),m(l.default,{width:g,height:g,className:y.default.icon}),m(c.default,{color:c.default.Colors.HEADER_SECONDARY,size:c.default.Sizes.SIZE_12},void 0,v.default.Messages.BLOCKED_COUNT.format({count:String(r)}))):null))};O.displayName="StageSummary";var S=function(e){var t=e.channel,n=e.speakerCount,r=e.audienceCount,a=e.blockedCount,o=(0,i.useStateFromStores)([p.default],(function(){return p.default.getStageInstanceByChannel(t.id)}),[t.id]),l=(0,
i.useStateFromStores)([u.default],(function(){return u.default.can(f.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),s=function(e,t){return t?v.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR:v.default.Messages.STAGE_START_PROMPT_TITLE}(0,l),d=null!=o,h=l&&!d?v.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR_DESKTOP:void 0;return m("div",{className:y.default.container},void 0,!d&&m(c.default,{size:c.default.Sizes.SIZE_20,color:c.default.Colors.HEADER_PRIMARY,className:y.default.title},void 0,s),null!=h?m(E,{subtitle:h}):m(O,{speakerCount:n,audienceCount:r,blockedCount:a}))};S.displayName="StageChannelCallTopic";var I=S;t.default=I},600577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.LayoutSections=void 0
;var r,a=I(n(667294)),o=n(536211),i=O(n(864345)),u=O(n(825724)),l=O(n(728429)),s=O(n(387692)),d=O(n(897191)),c=n(921867),f=O(n(217964)),p=n(945544),v=O(n(158579)),y=O(n(386191)),h=O(n(25974)),_=O(n(586315)),m=O(n(576989)),g=I(n(533646)),E=O(n(298579));function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C,T=424,P=624,A=824;t.LayoutSections=C;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE"}(C||(t.LayoutSections=C={}));var M=function(e){var t,n,r,i=e.channel,O=e.width,S=e.onScroll,I=(0,o.useStateFromStores)([l.default],(function(){var e;return null===(e=l.default.getCurrentUser())||void 0===e?void 0:e.id}),[]),M=(0,o.useStateFromStores)([u.default],(function(){return u.default.getSelectedParticipantId(i.id)})),N=(0,o.useStateFromStores)([s.default],(function(){return s.default.isInChannel(i.id,I)}),[I,i.id]),R=(0,o.useStateFromStoresObject)([d.default],(function(){
var e=d.default.getParticipantCount(i.id,c.StageChannelParticipantNamedIndex.AUDIENCE);return{speakerCount:d.default.getParticipantCount(i.id,c.StageChannelParticipantNamedIndex.SPEAKER),audienceCount:e,blockedCount:d.default.getParticipantCount(i.id,c.StageChannelParticipantNamedIndex.BLOCKED),selectedStageParticipant:null!=M?d.default.getParticipant(i.id,M):null}}),[M]),w=R.speakerCount,D=R.audienceCount,L=R.blockedCount,k=R.selectedStageParticipant,j=function(e){return Math.floor((e-32)/102)}(O),U=function(e){return e<T?1:e<P?2:e<A?3:4}(O),G=((t={})[c.StageChannelParticipantNamedIndex.SPEAKER]=U,t[c.StageChannelParticipantNamedIndex.AUDIENCE]=j,t[c.StageChannelParticipantNamedIndex.SELECTED]=1,t),F=(0,p.useThrottleDurationForChannel)(i.id),x=(0,p.useStageChannelParticipantsListThrottled)(i.id,G,F),W=x[0],V=x[1],H=[Math.max(null!==(n=W[C.SELECTED])&&void 0!==n?n:1,1),Math.max(null!==(r=W[C.SPEAKER])&&void 0!==r?r:1,1),W[C.AUDIENCE]],B=function(e,t){var n=Math.floor(e/t-8);return{
speakerTileWidth:n,speakerTileHeight:Math.floor(n/g.SPEAKER_TILE_ASPECT_RATIO)}}(O,U),Y=B.speakerTileWidth,z=B.speakerTileHeight,K=Math.min(O-64,3*Y+8),$=null!=(0,o.useStateFromStores)([f.default],(function(){return f.default.getStageInstanceByChannel(i.id)}),[i.id]),q=function(e){return e===W.length-1},Z=b(h.default,{channel:i,audienceCount:D,speakerCount:w,blockedCount:L},"speaker-header");return N?b(_.default,{sections:H,renderSection:function(e){var t=e.section;return t===C.SELECTED?Z:t===C.AUDIENCE?0===D?null:b(y.default,{participantCount:D},"audience-header-"+t):null},sectionHeight:function(e){return e===C.SPEAKER?$?90:154:64},renderRow:function(e){var t=e.section,n=e.row,r=V[t][n];if(null==(null==r?void 0:r.length))return null;switch(t){case C.SELECTED:return 0===r.length||null==r[0]?null:b("div",{className:E.default.focusedRow},"selected-participant",b(g.default,{channel:i,participant:r[0],width:K}));case C.SPEAKER:return b(a.Fragment,{},"speakers-"+t+"-"+n,b(m.default,{
tileWidth:Y,channel:i,participants:r,selectedParticipant:k}));case C.AUDIENCE:return b(v.default,{channel:i,participants:r,maxTiles:j},"audience-"+t+"-"+n);default:return null}},rowHeight:function(e){return null==V[e][C.SELECTED]?0:e===C.SELECTED?K/g.SPEAKER_TILE_ASPECT_RATIO+8:e===C.SPEAKER?z:98},renderFooter:function(e){var t=e.section;return t===C.SPEAKER?b("div",{className:E.default.divider},"speaker-divider"):q(t)?b("div",{className:E.default.spacer},"bottom-spacer"):null},footerHeight:function(e){return e===C.SPEAKER?24:q(e)?88:0},className:E.default.scroller,chunkSize:60,onScroll:S}):null};M.displayName="StageChannelCallView";var N=(0,i.default)(M);t.default=N},268372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=fe(n(667294)),o=de(n(294184)),i=n(536211),u=de(n(136873)),l=de(n(825724)),s=de(n(190320)),d=de(n(818994)),c=de(n(932018)),f=de(n(590087)),p=de(n(379310)),v=n(668516),y=de(n(5031)),h=de(n(620859)),_=de(n(473842)),m=fe(n(145122)),g=de(n(373115)),E=de(n(431388)),O=de(n(770404)),S=de(n(423405)),I=n(839166),b=de(n(493051)),C=de(n(222935)),T=n(143414),P=de(n(607576)),A=de(n(645675)),M=de(n(423046)),N=de(n(30098)),R=de(n(635014)),w=de(n(689389)),D=de(n(728429)),L=de(n(956117)),k=de(n(160629)),j=de(n(930600)),U=de(n(155084)),G=de(n(833837)),F=de(n(2604)),x=de(n(924671)),W=de(n(496709)),V=de(n(233121)),H=n(194322),B=fe(n(272544)),Y=de(n(776360)),z=n(559133),K=n(1430),$=n(216554),q=n(921867),Z=n(318678),X=n(365744),Q=de(n(258079)),J=de(n(217964)),ee=de(n(461713)),te=de(n(913687)),ne=de(n(530877)),re=de(n(697160)),ae=de(n(462867)),oe=n(770348),ie=n(474477),ue=n(371621),le=de(n(247001)),se=de(n(639286));function de(e){return e&&e.__esModule?e:{default:e}}function ce(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ce=function(e){return e?n:t})(e)}function fe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ce(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function pe(){pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return pe.apply(this,arguments)}function ve(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){ve(o,r,a,i,u,"next",e)}function u(e){ve(o,r,a,i,u,"throw",e)}i(void 0)}))}}function he(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _e(e){var t=e.channel,n=e.appContext;(0,te.default)(t)?(0,z.openEndStageModal)(t,n):u.default.disconnect()}function me(e,t){return e?le.default.Messages.AUDIENCE_LOWER_HAND:t?le.default.Messages.AUDIENCE_RAISE_HAND_CTA:le.default.Messages.AUDIENCE_RAISE_HAND_NO_PERMISSION}var ge=a.memo((function(e){var t=e.channel,n=(0,ae.default)(t),r=n[0],a=n[1],o=(0,i.useStateFromStores)([w.default],(function(){return w.default.can(oe.Permissions.REQUEST_TO_SPEAK,t)}))
;return he("div",{className:se.default.container},void 0,he(T.CenterControlButton,{color:r?"white":"primaryDark",label:me(r,o),iconComponent:function(){return he(x.default,{className:r?se.default.raisedHandButtonIconActive:se.default.raisedHandButtonIcon})},onClick:a,disabled:!o&&!r}),he(be,{channel:t}),he(Ae,{channel:t}))})),Ee={16:B.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_16,22:B.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_22,29:B.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_29};var Oe=he(W.default,{});function Se(e){var t=e.toggleRequestToSpeakSidebar,n=e.showRequestToSpeakSidebar;return he(T.CenterControlButton,{className:(0,o.default)(se.default.speakerRaiseHandButton),color:n?"white":"primaryDark",label:n?le.default.Messages.REQUEST_TO_SPEAK_AREA_CLOSE:le.default.Messages.REQUEST_TO_SPEAK_AREA_OPEN,iconComponent:function(){return Oe},onClick:t})}Se.displayName="RequestToSpeakButton";var Ie=he(F.default,{});function be(e){var t=e.channel,r=a.useContext(d.default),o=(0,
i.useStateFromStores)([w.default],(function(){return w.default.can(oe.Permissions.CREATE_INSTANT_INVITE,t)})),u=(0,i.useStateFromStores)([N.default],(function(){return N.default.getGuild(t.guild_id)})),l=(0,i.useStateFromStores)([J.default],(function(){return J.default.getStageInstanceByChannel(t.id)})),s=o||null!=(null==l?void 0:l.invite_code);if(null==u||!s)return null;return he(T.CenterControlButton,{className:se.default.buttonSpacing,label:le.default.Messages.INSTANT_INVITE,iconComponent:function(){return Ie},onClick:function(){(0,H.openModalLazy)(ye(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,pe({},e,{guild:u,channel:t,source:oe.InstantInviteSources.CHANNEL_CALL}))}));case 5:case"end":return e.stop()}}),e)}))),{
contextKey:r===oe.AppContext.POPOUT?ue.POPOUT_MODAL_CONTEXT:ue.DEFAULT_MODAL_CONTEXT})}})}be.displayName="InviteButton";var Ce=he(G.default,{});function Te(e){var t=e.onClick;return he(T.CenterControlButton,{className:(0,o.default)(se.default.makeMeASpeakerButton),label:le.default.Messages.MODERATOR_RAISE_OWN_HAND,iconComponent:function(){return Ce},onClick:t})}Te.displayName="MakeMeASpeakerButton";var Pe=he(V.default,{height:24,width:24});function Ae(e){var t=e.channel,n=e.onSelect,r=a.useContext(d.default),u=(0,v.useCanCreateEditDeleteEvent)(t.guild_id,t),l=(0,i.useStateFromStores)([J.default],(function(){return J.default.getStageInstanceByChannel(t.id)}),[t.id]),s=null!=(null==l?void 0:l.guild_scheduled_event_id),c=M.default.getId(),f=Q.default.isModerator(c,t.id);return s&&(u||f)?he(k.default,{renderPopout:function(e){var a=e.closePopout;return he(C.default,{},void 0,he(m.default,{navId:"exit-options","aria-label":le.default.Messages.SET_STATUS,onClose:a,onSelect:n
},void 0,he(m.MenuItem,{id:"end-stage",color:ie.MenuItemColor.DANGER,action:function(){return(0,z.openEndGuildEventConfirmationModal)(t,r)},label:le.default.Messages.END_GUILD_EVENT_FOR_EVERYONE,icon:j.default})))},align:k.default.Align.CENTER,position:k.default.Positions.TOP,animation:k.default.Animation.FADE},void 0,(function(e){var n=e.onClick;return he(T.CenterControlButton,{className:se.default.buttonSpacing,label:le.default.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:function(){return Pe},onClick:function(){return _e({channel:t,appContext:r})},onPopoutClick:n})})):he(L.default,{size:L.default.Sizes.MEDIUM,color:L.default.Colors.RED,className:(0,o.default)(se.default.buttonSpacing,se.default.leaveQuietlyButton),onClick:function(){return _e({channel:t,appContext:r})}},void 0,he("div",{className:se.default.leaveQuietlyButtonInnerContainer},void 0,he(Y.default,{color:Y.default.Colors.CUSTOM},void 0,le.default.Messages.AUDIENCE_DISCONNECT),he(V.default,{
height:24,width:24,className:se.default.leaveQuietlyIcon})))}Ae.displayName="ExitStageButton";var Me=he(U.default,{});function Ne(e){var t=e.onClick;return he(T.CenterControlButton,{className:(0,o.default)(se.default.audienceButton),label:le.default.Messages.MOVE_ME_TO_AUDIENCE,iconComponent:function(){return Me},onClick:t})}Ne.displayName="MoveToAudienceButton";var Re=a.memo((function(e){var t,n,r=e.channel,u=e.toggleRequestToSpeakSidebar,l=e.showRequestToSpeakSidebar,d=(0,S.default)(r),v=d.suppress,y=d.selfMute,h=d.mute,_=v||y||h,m=(0,Z.useCanModerateRequestToSpeak)(r.id),T=ee.default.useExperiment({guildId:null!==(t=r.getGuildId())&&void 0!==t?t:""}).showVideoControls,M=(0,g.default)(),N=M.cameraUnavailable,w=M.enabled,L=(0,O.default)(r),j=(0,E.default)(r),U=j.limit,G=j.reachedLimit,F=(0,i.useStateFromStores)([D.default],(function(){return D.default.getCurrentUser()})),x=(0,i.useStateFromStores)([R.default],(function(){return(0,p.default)(R.default)})),W=(0,
$.useStageParticipantsCount)(r.id,q.StageChannelParticipantNamedIndex.REQUESTED_TO_SPEAK_ONLY),V=(n=W)<10?16:n<100?22:29;if(null==F)return null;var H=a.createElement(a.Fragment,null,he(k.default,{renderPopout:function(e){var t=e.closePopout;return he(C.default,{},void 0,he(c.default,{onClose:t}))},position:k.default.Positions.TOP,align:k.default.Align.CENTER,animation:k.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return he(A.default,{centerButton:!0,color:w?"white":"primaryDark",hasPermission:L,enabled:w,cameraUnavailable:N,onChange:I.handleToggleVideo,onCameraUnavailable:b.default,channelLimitReached:G,channelLimit:U,popoutOpen:r,onPopoutClick:n})})),he(I.GoLiveButton,{coloring:["primaryDark","white"],channel:r,currentUser:F,exitFullScreen:function(){return null},canGoLive:x,hasPermission:L}));return he("div",{className:se.default.container},void 0,!v&&he(Ne,{onClick:function(){return(0,K.moveSelfToAudience)(r)}}),m&&v&&he(Te,{onClick:function(){return(0,
K.audienceAckRequestToSpeak)(r,!1)}}),v?null:he("div",{className:se.default.avControls},void 0,T&&H,he(k.default,{renderPopout:function(e){var t=e.closePopout;return he(C.default,{},void 0,he(s.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0}))},align:k.default.Align.CENTER,position:k.default.Positions.TOP,animation:k.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return he(P.default,{color:_?"white":"primaryDark",centerButton:!0,onPopoutClick:n,selfMute:y,serverMute:h,suppress:v,popoutOpen:r,onClick:function(){return(0,f.default)(h,v)}})}))),m?he("div",{className:(0,o.default)(se.default.speakerRaiseHandButtonContainer,se.default.buttonSpacing)},void 0,W>0?he(B.default,{mask:Ee[V],width:56,height:56},void 0,he(Se,{toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:l})):he(Se,{toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:l}),W>0?he(Y.default,{className:se.default.speakerRaiseHandBadge,size:Y.default.Sizes.SIZE_12,style:{width:V
}},void 0,W>=100?"99+":W):null):null,he(be,{channel:r}),he(Ae,{channel:r}))}));function we(e){var t=e.channel;return he("div",{className:se.default.container},void 0,he(Ae,{channel:t}))}we.displayName="StartStageControlTray";var De=a.memo((function(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,r=e.showRequestToSpeakSidebar,a=e.isOnStartStageScreen,o=(0,ne.default)(t.id),u=(0,Z.useCanModerateRequestToSpeak)(t.id),s=(0,i.useStateFromStores)([w.default],(function(){return w.default.can(X.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),d=t.guild_id,c=(0,v.useCanCreateEditDeleteEvent)(d,t),f=(0,re.default)(t.id),p=(0,i.useStateFromStores)([l.default],(function(){return null!=t?l.default.getSelectedParticipant(t.id):null})),m=!f&&null==p;return a?he(we,{channel:t}):o||u?he("div",{className:se.default.containerColumn},void 0,he("div",{className:se.default.eventPrompts},void 0,m?he(h.default,{guildId:d,channelId:null==t?void 0:t.id}):null,he("div",{className:se.default.separator
}),m&&s?he(_.default,{channel:t}):null,he("div",{className:se.default.separator}),m&&c?he(y.default,{guildId:d}):null,he("div",{className:se.default.separator})),he(Re,{channel:t,toggleRequestToSpeakSidebar:n,showRequestToSpeakSidebar:r})):he(ge,{channel:t})}));t.default=De},586315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(753274),o=u(n(237727)),i=u(n(790875));function u(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)(i.default.auto,i.default.fade,null!==(r=ResizeObserver)&&void 0!==r?r:a.ResizeObserver);t.default=l},248414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.StageChannelNowPlayingDelegate=void 0;var r,a=y(n(667294)),o=p(n(342518)),i=p(n(644263)),u=p(n(16941)),l=p(n(971639)),s=y(n(637356)),d=n(13761),c=p(n(217964)),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t,n,r=e.activity,p=(null!==(t=(0,
d.unpackStageChannelParty)(r))&&void 0!==t?t:{}).channelId,v=(0,o.default)([c.default],(function(){return c.default.getStageInstanceByChannel(p)}),[p]),y=a.useRef(null),_=a.useCallback((function(){var e=i.default.getChannel(p);null!=e&&s.connectAndOpen(e)}),[p]),m=null!==(n=null==v?void 0:v.topic)&&void 0!==n?n:r.name,g=f.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_JOIN.format({channel:m});return a.createElement("div",{ref:y},h(u.default,{onClick:_,focusProps:{ringTarget:y}},void 0,h(l.default,{},void 0,g)))}_.displayName="StageChannelBody";var m=function(){function e(){this.body=_}var t=e.prototype;t.shouldShow=function(e){return(0,d.shouldShowActivity)(e)};t.createHeader=function(e){return{subtitle:f.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_DEFAULT,icon:null}};return e}();t.StageChannelNowPlayingDelegate=m},576989:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(533646)),i=u(n(403800));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=a.memo((function(e){var t=e.channel,n=e.participants,r=e.tileWidth,a=e.selectedParticipant;return s("div",{className:i.default.rowContainer},void 0,n.map((function(e){return e.id===(null==a?void 0:a.id)?null:s(o.default,{channel:t,participant:e,width:r},e.id)})))}));t.default=d},533646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.SPEAKER_TILE_ASPECT_RATIO=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=A(n(441143)),i=n(536211),u=A(n(229132)),l=n(378158),s=n(123516),d=n(836233),c=A(n(825724)),f=A(n(818994)),p=n(747868),v=n(385753),y=A(n(711195)),h=A(n(414068)),_=A(n(607209)),m=A(n(30098)),g=A(n(689389)),E=A(n(387692)),O=A(n(160629)),S=A(n(258079)),I=A(n(226155)),b=A(n(214563)),C=n(770348),T=n(859089),P=A(n(892314));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}var L=16/9;t.SPEAKER_TILE_ASPECT_RATIO=L;var k=w(b.default,{}),j=function(e){var t=e.stageParticipant,n=e.rtcParticipant,r=e.channel,o=e.guildId,i=e.user,u=e.width,l=e.isModerator,s=e.onContextMenu,c=e.inPopout,f=a.useContext(d.AccessibilityPreferencesContext).reducedMotion,p=t.blocked,v=t.id;return w(O.default,{preload:null==n?void 0:function(){return(0,y.default)(n.user.id,n.user.getAvatarURL(r.guild_id,80),{guildId:r.guild_id})},renderPopout:function(e){return a.createElement(h.default,D({},e,{guildId:o,channelId:r.id,userId:i.id}))
},position:O.default.Positions.RIGHT,spacing:8},void 0,(function(e){return a.createElement(I.default,D({key:v},e,{participant:n,aspectRatio:L,blocked:p,channel:r,className:P.default.tile,inCall:!0,inPopout:c,paused:!1,pulseSpeakingIndicator:!f.enabled,width:u,onClick:function(t,n){return e.onClick(n)},onContextMenu:s}),l&&k)}))};j.displayName="StageVoiceTile";var U=w(b.default,{}),G=function(e){var t=e.stageParticipant,n=e.rtcParticipant,r=e.channel,o=e.width,l=e.isModerator,f=e.onContextMenu,y=e.inPopout,h=a.useContext(d.AccessibilityPreferencesContext).reducedMotion,O=t.id,S=t.blocked,b=(0,i.useStateFromStoresArray)([_.default],(function(){return _.default.getAllActiveStreams()}),[]),A=(0,i.useStateFromStores)([c.default],(function(){return null!=r?c.default.getSelectedParticipant(r.id):null})),M=a.useCallback((function(e,t){if(e.type===T.ParticipantTypes.STREAM){if(0===b.filter((function(t){return(0,p.encodeStreamKey)(t)===e.id&&t.state!==C.ApplicationStreamStates.ENDED})).length){
if(!(0,v.canWatchStream)(r,E.default,m.default,g.default))return;(0,s.watchStream)((0,p.decodeStreamKey)(e.id),{forceMultiple:t.shiftKey})}}(null==A?void 0:A.id)===e.id?u.default.selectParticipant(r.id,null):u.default.selectParticipant(r.id,e.id)}),[b,r,A]);return w(I.default,{participant:n,aspectRatio:L,blocked:S,channel:r,className:P.default.tile,inCall:!0,inPopout:y,onClick:M,onContextMenu:f,paused:!1,pulseSpeakingIndicator:!h.enabled,width:o},O,l&&U)};G.displayName="StageMediaTile";var F=a.memo((function(e){var t,r=e.participant,u=e.channel,s=e.width,d=a.useContext(f.default),p=u.getGuildId();(0,o.default)(null!=p,"Channel cannot be guildless");var v=r.user,y=(0,i.useStateFromStores)([c.default],(function(){return c.default.getParticipant(u.id,r.id)}),[u.id,r.id]),h=(0,i.useStateFromStores)([S.default],(function(){return S.default.isModerator(v.id,u.id)}),[u.id,v.id]);if(null==y||y.type===T.ParticipantTypes.ACTIVITY)return null;var _=function(e,t){switch(e.type){
case T.ParticipantTypes.HIDDEN_STREAM:case T.ParticipantTypes.STREAM:(0,l.openContextMenuLazy)(t,R(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return n.e(96434).then(n.bind(n,596434));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,D({},t,{stream:e.stream,appContext:d,exitFullscreen:function(){}}))}));case 5:case"end":return t.stop()}}),t)}))),{context:d});return;case T.ParticipantTypes.USER:default:(0,l.openContextMenuLazy)(t,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(41501),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,D({},e,{user:v,guildId:p,channelId:u.id,showMediaItems:!0,showStageChannelItems:!0,
showChatItems:!1}))}));case 5:case"end":return e.stop()}}),e)}))),{context:d})}},m=y.type===T.ParticipantTypes.USER&&!(null===(t=y.voiceState)||void 0===t?void 0:t.selfVideo);return a.createElement(a.Fragment,null,w(m?j:G,{stageParticipant:r,rtcParticipant:y,channel:u,guildId:p,user:v,width:s,isModerator:h,onContextMenu:_,inPopout:d===C.AppContext.POPOUT}))}));t.default=F},35997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContinuePrompt=T;t.default=A;b(n(667294));var r,a=n(536211),o=n(668516),i=S(n(176079)),u=S(n(5031)),l=S(n(620859)),s=S(n(473842)),d=S(n(689389)),c=S(n(332282)),f=S(n(971639)),p=S(n(776360)),v=b(n(152731)),y=n(365744),h=S(n(641474)),_=S(n(697160)),m=S(n(991636)),g=n(770348),E=S(n(247001)),O=S(n(910215));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t=e.onClick;return C(i.default,{iconContainerClassName:O.default.continueIconContainer,icon:C(c.default,{className:O.default.continueIcon,height:20,
width:20}),color:g.Colors.PRIMARY_DARK_700,title:E.default.Messages.STAGE_CONTINUE_PROMPT_TITLE,description:E.default.Messages.STAGE_CONTINUE_PROMPT_SUBTITLE,onClick:t})}T.displayName="ContinuePrompt";function P(e){var t=e.channel,n=(0,h.default)(t.id),r=n.participants,a=n.usersInSummary;return C("div",{className:O.default.audienceSummary},void 0,C(v.default,{className:O.default.summaryItem,guildId:t.guild_id,users:a,size:v.Sizes.SIZE_16}),C(p.default,{size:p.default.Sizes.SIZE_14,color:p.default.Colors.HEADER_SECONDARY},void 0,function(e){if(0===e.length)return"";if(1===e.length)return E.default.Messages.STAGE_AUDIENCE_WAITING_ONE.format({first:e[0].userNick});if(2===e.length)return E.default.Messages.STAGE_AUDIENCE_WAITING_TWO.format({first:e[0].userNick,second:e[1].userNick});var t=e.length-2;return E.default.Messages.STAGE_AUDIENCE_WAITING_MANY.format({first:e[0].userNick,second:e[1].userNick,numOthers:t})}(r)))}P.displayName="AudienceSummary";function A(e){
var t=e.channel,n=e.onContinueClick,r=(0,a.useStateFromStores)([d.default],(function(){return d.default.can(y.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),i=t.guild_id,v=(0,o.useCanCreateEditDeleteEvent)(i,t),h=(0,_.default)(t.id);return C("div",{className:O.default.container},void 0,C(m.default,{},void 0,C("div",{className:O.default.iconBackground},void 0,C(c.default,{width:40,height:40,className:O.default.icon}))),C("div",{className:O.default.headerContainer},void 0,C(f.default,{className:O.default.title,size:f.default.Sizes.SIZE_24},void 0,E.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR),C(p.default,{className:O.default.subtitle,size:p.default.Sizes.SIZE_14},void 0,E.default.Messages.STAGE_START_PROMPT_SUBTITLE)),h?null:C(l.default,{guildId:i,channelId:t.id}),r?C(s.default,{className:O.default.eventPrompt,channel:t}):null,v?C(u.default,{className:O.default.eventPrompt,guildId:i}):null,C("hr",{className:O.default.separator}),C(T,{onClick:n}),C(P,{channel:t}))}
A.displayName="StartStageChannelCallView"},357474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=S(n(667294)),o=n(536211),i=E(n(636602)),u=E(n(229132)),l=E(n(833692)),s=n(844784),d=E(n(825724)),c=S(n(8475)),f=E(n(278851)),p=E(n(211136)),v=E(n(308920)),y=n(956506),h=n(864489),_=n(245838),m=n(770348),g=E(n(76034));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function C(e){var t=e.channel,n=e.appContext,r=e.popoutOpen,E=e.popoutWindow,O=e.currentWindow,S=n===m.AppContext.POPOUT,C=a.useRef(null),T=(0,o.useStateFromStoresObject)([d.default],(function(){var e=d.default.getMode(t.id),r=n===m.AppContext.POPOUT;r&&(e=m.ChannelModes.VIDEO);var a=e===m.ChannelModes.VIDEO?d.default.getLayout(t.id,n):m.ChannelLayouts.MINIMUM
;r&&a!==m.ChannelLayouts.FULL_SCREEN&&(a=m.ChannelLayouts.NO_CHAT);return{currentLayout:a,mode:e}}),[t,n]),P=T.currentLayout,A=T.mode,M=(0,o.useStateFromStores)([p.default],(function(){return p.default.getVoiceChannelId()===t.id}),[t.id]);a.useEffect((function(){C.current=A}));var N=a.useRef(P),R=a.useMemo((function(){var e=null!=E&&S?E.document:document,t=O.document.getElementById("app-mount");return{currentWindow:O,currentDocument:e,rootNode:t}}),[E,S,O]),w=R.currentDocument,D=R.rootNode,L=r&&!S,k=A===m.ChannelModes.VIDEO&&M&&!L,j=a.useCallback((function(e,r){if(r!==e){u.default.updateLayout(t.id,r,n);r===m.ChannelLayouts.FULL_SCREEN&&t.isPrivate()&&y.ComponentDispatch.dispatch(m.ComponentActions.TEXTAREA_BLUR)}}),[n,t]),U=a.useCallback((function(e){if(null!=D&&e===m.ChannelLayouts.FULL_SCREEN){j(e,N.current);(0,_.exitFullScreen)((function(e){N.current=e}),l.default.resized,w)}}),[w,j,D]),G=a.useCallback((function(e){return function(){if(null!=D)if(e!==m.ChannelLayouts.FULL_SCREEN){
N.current=e;j(e,m.ChannelLayouts.FULL_SCREEN);(0,_.requestFullScreen)(D,l.default.resized)}else U(e)}}),[j,U,D]);a.useEffect((function(){var e=function(){null!=D&&((0,_.isFullScreen)(D,w)||P!==m.ChannelLayouts.FULL_SCREEN||G(P)())};w.addEventListener(_.FULLSCREEN_CHANGE_EVENT,e);return function(){w.removeEventListener(_.FULLSCREEN_CHANGE_EVENT,e)}}),[w,P,G,D]);a.useEffect((function(){v.default.track(m.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,b({video_layout:S?"popout":P},(0,s.collectVoiceAnalyticsMetadata)(t.id)));return function(){S&&(0,h.isOSX)()||U(P)}}),[]);a.useEffect((function(){null!=D&&C.current===m.ChannelModes.VIDEO&&A===m.ChannelModes.VOICE&&(0,_.exitFullScreen)(D,l.default.resized,w)}),[w,A,C,D]);a.useEffect((function(){!M&&S&&i.default.wait((function(){return c.close(m.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}))}),[M,S]);return k?I(f.default,{themeable:!1,node:D,guestWindow:E,className:g.default.rightTrayIcon,onClick:G(P)}):null}C.displayName="useFullscreenChannelCallButton"},
192110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PrivateThreadMode=void 0;t.getDefaultThreadName=b;t.getIsPrivate=I;t.useCreateThreadCommon=function(e,t,n,r,o,u,s,f,y,h){return a.useCallback(function(){var a,g=(a=regeneratorRuntime.mark((function a(g,E,O){var S,T,P,A,M,N,R,w;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:T=null==t||!1;P=I(r,o);if(""===(A=null!==(S=r.name)&&void 0!==S?S:"")&&y){M=b(e,t);A=""!==M?M:m.default.Messages.THREAD}N=e.isForumChannel()?(0,v.getPostAutoArchiveDuration)(e,n):f?(0,v.getThreeDayAutoArchiveDurationOrDefault)(e,n,r.autoArchiveDuration):(0,v.getAutoArchiveDuration)(e,n,r.autoArchiveDuration);R=d.default.getChannel(t);a.next=8;return p.default.createThread(e,t,A,P?_.ChannelTypes.PRIVATE_THREAD:e.type===_.ChannelTypes.GUILD_ANNOUNCEMENT?_.ChannelTypes.ANNOUNCEMENT_THREAD:_.ChannelTypes.PUBLIC_THREAD,u,N);case 8:if((w=a.sent)!==R){i.default.clearDraft(e.id,c.DraftType.ThreadSettings)
;i.default.clearDraft(e.id,c.DraftType.FirstThreadMessage);l.default.clearAll(e.id,c.DraftType.FirstThreadMessage);null==s||s(w);(T||g.length>0||null!=E&&E.length>0||null!=O&&O.length>0)&&C(w,g,E,O,h)}case 10:case"end":return a.stop()}}),a)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){S(o,n,r,i,u,"next",e)}function u(e){S(o,n,r,i,u,"throw",e)}i(void 0)}))});return function(e,t,n){return g.apply(this,arguments)}}(),[e,t,n,r,s,o,u,f,y,h])};t.useGetThreadDraftSettings=function(e){return(0,o.useStateFromStores)([c.default],(function(){var t;return null==e?null:null!==(t=c.default.getThreadSettings(e))&&void 0!==t?t:c.default.getThreadDraftWithParentMessageId(e)}))};t.usePrivateThreadMode=function(e){var t=(0,y.useCanStartPublicThread)(e),n=(0,y.useCanStartPrivateThread)(e),a=(0,y.useCouldStartPrivateThreadWithFeature)(e);return n?t?r.Enabled:r.PrivateOnly:a?r.DisabledWithUpsell:r.Disabled}
;var r,a=O(n(667294)),o=n(536211),i=g(n(186705)),u=g(n(786345)),l=g(n(413546)),s=g(n(614293)),d=g(n(644263)),c=O(n(687549)),f=g(n(201292)),p=g(n(887174)),v=n(192751),y=n(819235),h=g(n(521595)),_=n(770348),m=g(n(247001));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}t.PrivateThreadMode=r;!function(e){
e[e.Disabled=1]="Disabled";e[e.Enabled=2]="Enabled";e[e.PrivateOnly=3]="PrivateOnly";e[e.DisabledWithUpsell=4]="DisabledWithUpsell"}(r||(t.PrivateThreadMode=r={}));function I(e,t){return t===r.PrivateOnly||null!==(n=e.isPrivate)&&void 0!==n&&n;var n}function b(e,t){var n,r,a,o=null==t?null:f.default.getMessage(e.id,t),i=null!==(n=null==o||null===(r=o.embeds)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.rawTitle)&&void 0!==n?n:"";if(""!==i)return i.length>40?i.substring(0,40)+"...":i;for(var u,l=(0,h.default)((null!==(u=null==o?void 0:o.content)&&void 0!==u?u:"").split("\n")[0],!0).split(/(?:\s|[!@#$%^&*()_\-+={}[\]:";'<>?,./])+/),s=l[0],d=1;d<l.length;d++){var c=s+" "+l[d];if(c.length>40)break;s=c}s.length>40&&(s=s.substring(0,40)+"...");return s}function C(e,t,n,r,a){if(!(null!=a&&null!=r&&r.length>0))return null!=n&&n.length>0?u.default.sendStickers(e.id,n,t):u.default.sendMessage(e.id,s.default.parse(e,t));a(e,r,t,n)}},965484:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(536211)),a=s(n(636602)),o=s(n(649563)),i=s(n(423046)),u=s(n(644263)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={init:function(){a.default.subscribe(l.ActionTypes.CHANNEL_DELETE,(function(e){var t=e.channel;if(null!=t.guild_id){var n=u.default.getAllThreadsForParent(t.id);if(n.length>0){r.default.Store.pauseEmittingChanges();try{for(var o,i=d(n);!(o=i()).done;){var s=o.value;a.default.dispatch({type:l.ActionTypes.THREAD_DELETE,channel:s,guildHashes:void 0})}}finally{r.default.Store.resumeEmittingChanges();r.default.Store.emitChanges()}}}}));a.default.subscribe(l.ActionTypes.MESSAGE_CREATE,(function(e){var t,n,r=e.channelId,a=e.message,l=u.default.getChannel(r);if(a.author.id===i.default.getId()&&(null==l?void 0:l.isActiveThread())){var s=new Date(null!==(t=null===(n=l.threadMetadata)||void 0===n?void 0:n.archiveTimestamp)&&void 0!==t?t:0).getTime();Date.now()-s<5e3&&o.default.resort(l.parent_id)}}))}};t.default=f},84902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useThreadMemberListSections=function(e,t){
(0,o.useStateFromStores)([i.default],(function(){return i.default.getMemberListVersion(e)}));var n=(0,o.useStateFromStores)([i.default],(function(){return i.default.getMemberListSections(e)})),l=r.useMemo((function(){var e=(0,a.default)(t.roles).values().filter((function(e){return e.hoist})).sortBy((function(e){return e.position})).reverse().map((function(e){return e.id})).value();e.push("online","offline");return e}),[t.roles]);return null==n?[]:l.map((function(e){var r,a,o=t.roles[e];return{label:"online"===e?u.default.Messages.STATUS_ONLINE:"offline"===e?u.default.Messages.STATUS_OFFLINE:o.name,userIds:null!==(r=null===(a=n[e])||void 0===a?void 0:a.userIds)&&void 0!==r?r:[],id:e,roleId:e}}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(496486)),o=n(536211),i=l(n(698099)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},698099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=h(n(496486)),o=h(n(536211)),i=h(n(636602)),u=h(n(644263)),l=h(n(876874)),s=h(n(832721)),d=h(n(788739)),c=h(n(690445)),f=h(n(728429)),p=n(71246),v=h(n(656016)),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var m={},g=function(){function e(e,t,n){this.guildId=e;this.parentId=t;this.threadId=n;this.version=0
;this.sections={};this.allUserIds=new Set}var t=e.prototype;t.rebuild=function(e){var t=this;this.version++;this.sections={};null!=e&&(this.allUserIds=new Set(e));var n=u.default.getChannel(this.parentId);(0,a.default)(Array.from(this.allUserIds)).map((function(e){var r=t.calculateNewState(e,n);return{userId:e,sectionId:r[0],displayName:r[1],canViewChannel:r[2]}})).sortBy((function(e){return e.userId})).sortBy((function(e){return e.displayName})).forEach((function(e){t.addUser(e.userId,e.sectionId,e.displayName,e.canViewChannel,!0)}))};t.updateMultipleUserIds=function(e,t){var n=this;if(null!=t&&this.guildId!==t)return!1;if(0===(e=e.filter((function(e){return n.allUserIds.has(e)}))).length)return!1;e.length>50?this.rebuild():e.forEach((function(e){return n.updateUserId(e)}));return!0};t.updateUserId=function(e){if(!this.allUserIds.has(e))return!1;var t=this.findOldState(e),n=t[0],r=t[1],a=t[2],o=this.calculateNewState(e,u.default.getChannel(this.parentId)),i=o[0],l=o[1],s=o[2]
;if(n===i&&r===l&&a===s)return!1;this.removeUserId(e,n);this.addUser(e,i,l,s);return!0};t.addUserId=function(e){var t=this.calculateNewState(e,u.default.getChannel(this.parentId)),n=t[0],r=t[1],a=t[2];this.addUser(e,n,r,a)};t.removeUserId=function(e,t){this.allUserIds.delete(e);if(null!=t&&this.removeUserIdFromSection(e,t))return!0;for(var n in this.sections)if(this.removeUserIdFromSection(e,n))return!0;return!1};t.addUser=function(e,t,n,r,a){this.allUserIds.add(e);var o=f.default.getUser(e);if(null!=o&&""!==o.username){t in this.sections||(this.sections[t]={sectionId:t,usersById:{},userIds:[]});var i=this.sections[t];i.usersById[e]={userId:e,displayName:n,canViewChannel:r};if(a)i.userIds.push(e);else{var u=this.findUserIdSortedPosition(i,e,n);i.userIds.splice(u,0,e)}this.version++}};t.findUserIdSortedPosition=function(e,t,n){for(var r=e.userIds,a=e.usersById,o=0;o<r.length;o++){var i=r[o],u=a[i].displayName;if(u===n){if(t<i)return o}else if(null==u){if(null!=n)return o
}else if(null!=n&&n<u)return o}return r.length};t.removeUserIdFromSection=function(e,t){var n=this.sections[t];if(null==t)return!1;if(e in n.usersById){delete n.usersById[e];n.userIds=n.userIds.filter((function(t){return t!==e}));this.version++;return!0}return!1};t.findOldState=function(e){for(var t in this.sections){var n=this.sections[t];if(e in n.usersById){var r=n.usersById[e];return[t,r.displayName,r.canViewChannel]}}return[void 0,void 0,!1]};t.calculateNewState=function(e,t){var n,r,a=l.default.getMember(this.guildId,e),o=f.default.getUser(e),i=f.default.getCurrentUser(),u=(null==o?void 0:o.id)===(null==i?void 0:i.id)?c.default.getStatus():d.default.getStatus(e,this.guildId),s=null!=o&&null!=t&&v.default.can(y.Permissions.VIEW_CHANNEL,o,t),p=u!==y.StatusTypes.OFFLINE&&u!==y.StatusTypes.INVISIBLE&&u!==y.StatusTypes.UNKNOWN?null!==(n=null==a?void 0:a.hoistRoleId)&&void 0!==n?n:"online":"offline",h=null!==(r=null==a?void 0:a.nick)&&void 0!==r?r:null==o?void 0:o.username
;return[p,null==h?void 0:h.toLowerCase(),s]};return e}();function E(e){return O(e.user.id)}function O(e){if(null==e)return!1;var t=!1;for(var n in m)m[n].updateUserId(e)&&(t=!0);return t}function S(e){var t=e.guildId,n=!1;for(var r in m)if(m[r].guildId===t){m[r].rebuild();n=!0}return n}var I=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,l.default,s.default,d.default,c.default,f.default);this.syncWith([s.default],(function(){var e=s.default.getSubscribedThreadIds(),t=!1;for(var n in m)if(!e.has(n)){delete m[n];t=!0}return t}));this.syncWith([c.default],(function(){var e;return O(null===(e=f.default.getCurrentUser())||void 0===e?void 0:e.id)}))};n.getMemberListVersion=function(e){var t;return null===(t=m[e])||void 0===t?void 0:t.version};n.getMemberListSections=function(e){var t
;return null===(t=m[e])||void 0===t?void 0:t.sections};n.canUserViewChannel=function(e,t,n){var r,a,o=m[e];if(null==o)return!1;var i=null===(r=o.sections[t])||void 0===r?void 0:r.usersById[n];return null!==(a=null==i?void 0:i.canViewChannel)&&void 0!==a&&a};return t}(o.default.Store))(i.default,((r={})[y.ActionTypes.CONNECTION_OPEN]=function(){m={}},r[y.ActionTypes.THREAD_MEMBERS_UPDATE]=function(e){if(!(e.id in m))return!1;var t,n;null===(t=e.addedMembers)||void 0===t||t.forEach((function(t){var n=t.userId;return m[e.id].addUserId(n)}));null===(n=e.removedMemberIds)||void 0===n||n.forEach((function(t){return m[e.id].removeUserId(t)}))},r[y.ActionTypes.THREAD_UPDATE]=function(e){var t,n=e.channel;if(!(n.id in m)||!0!==(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived))return!1;delete m[n.id]},r[y.ActionTypes.THREAD_DELETE]=function(e){var t=e.channel;if(!(t.id in m))return!1;delete m[t.id]},r[y.ActionTypes.CHANNEL_UPDATES]=function(e){
var t=e.updates,n=new Set(t.map((function(e){return e.channel.id}))),r=!1;for(var a in m)if(n.has(m[a].parentId)){m[a].rebuild();r=!0}return r},r[y.ActionTypes.THREAD_MEMBER_LIST_UPDATE]=function(e){var t=e.threadId,n=e.guildId,r=e.members,a=u.default.getChannel(t),o=null==a?void 0:a.parent_id;if(null!=o){m[t]=new g(n,o,t);m[t].rebuild(r.map((function(e){return e.user_id})))}},r[y.ActionTypes.USER_UPDATE]=E,r[y.ActionTypes.PRESENCE_UPDATE]=E,r[y.ActionTypes.GUILD_MEMBER_ADD]=E,r[y.ActionTypes.GUILD_MEMBER_UPDATE]=E,r[y.ActionTypes.GUILD_MEMBER_REMOVE]=E,r[y.ActionTypes.PRESENCES_REPLACE]=function(e){var t=e.presences,n=(0,a.default)(t).map((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.id})).filter(p.isNotNullish).uniq().value(),r=!1;for(var o in m)m[o].updateMultipleUserIds(n)&&(r=!0);return r},r[y.ActionTypes.GUILD_MEMBERS_CHUNK]=function(e){var t=e.guildId,n=e.members.map((function(e){return e.user.id})),r=!1;for(var a in m)m[a].updateMultipleUserIds(n,t)&&(r=!0)
;return r},r[y.ActionTypes.GUILD_ROLE_UPDATE]=S,r[y.ActionTypes.GUILD_ROLE_DELETE]=S,r));t.default=I},447840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n;if(null==e.threadMetadata)return 0;var o=null!==(t=r.default.lastMessageId(e.id))&&void 0!==t?t:e.id,i=a.default.extractTimestamp(o),u=e.threadMetadata.archiveTimestamp?new Date(e.threadMetadata.archiveTimestamp).getTime():0,l=60*(null===(n=e.threadMetadata)||void 0===n?void 0:n.autoArchiveDuration)*1e3;return Math.max(i,u)+l};var r=o(n(191391)),a=o(n(71636));function o(e){return e&&e.__esModule?e:{default:e}}},521595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){e=e.replace(/[\\"#:/@<>]/g,"");t&&(e=e.trim());return e}},861370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=pe
;var r,a=ue(n(667294)),o=oe(n(294184)),i=oe(n(95298)),u=n(536211),l=oe(n(186705)),s=oe(n(55189)),d=oe(n(786630)),c=oe(n(284382)),f=oe(n(805918)),p=oe(n(235879)),v=oe(n(271180)),y=n(856746),h=oe(n(907616)),_=oe(n(820652)),m=oe(n(822350)),g=oe(n(872134)),E=oe(n(58941)),O=oe(n(2914)),S=oe(n(422207)),I=n(770755),b=n(894826),C=oe(n(644263)),T=ue(n(687549)),P=oe(n(30098)),A=oe(n(201292)),M=oe(n(689389)),N=oe(n(680873)),R=oe(n(956117)),w=oe(n(789446)),D=oe(n(16941)),L=ue(n(279950)),k=n(730977),j=n(688388),U=oe(n(259530)),G=oe(n(82050)),F=oe(n(830759)),x=oe(n(878556)),W=oe(n(776360)),V=oe(n(582945)),H=n(993442),B=n(682937),Y=n(871382),z=n(247726),K=oe(n(887174)),$=n(192751),q=n(192110),Z=n(819235),X=oe(n(521595)),Q=oe(n(342570)),J=oe(n(690653)),ee=oe(n(387812)),te=n(770348),ne=oe(n(247001)),re=oe(n(271615)),ae=oe(n(704586));function oe(e){return e&&e.__esModule?e:{default:e}}function ie(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ie=function(e){
return e?n:t})(e)}function ue(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ie(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function le(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function se(){se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return se.apply(this,arguments)}function de(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ce=y.ChatInputTypes.THREAD_CREATION,fe=(0,m.default)({id:"2021-12_alt_thread_creation2",label:"Alternate thread creation",kind:"guild",defaultConfig:{useNewCreation:!1},treatments:[{id:1,label:"On",config:{useNewCreation:!0}}]});function pe(e){var t,n=e.parentChannelId,r=e.parentMessageId,a=e.location,o=(0,u.useStateFromStores)([C.default],(function(){return C.default.getChannel(n)})),i=(0,Z.useCreateThreadText)(),l=fe.useExperiment({guildId:null!==(t=null==o?void 0:o.guild_id)&&void 0!==t?t:""},{autoTrackExposure:!0}).useNewCreation;return null==o?null:l?de(Q.default,{parentChannelId:n,parentMessageId:r,location:a}):de(H.ComponentDispatchGroupProvider,{},void 0,de("section",{"aria-label":i,className:re.default.container
},void 0,de(f.default,{channel:o,draftType:T.DraftType.FirstThreadMessage}),de(x.default,{toolbar:de(x.default.Icon,{icon:U.default,tooltip:ne.default.Messages.CLOSE,onClick:function(){return K.default.closeAndClearThreadSidebar(n)}})},void 0,de(x.default.Icon,{icon:F.default,disabled:!0,"aria-label":ne.default.Messages.THREAD}),de(x.default.Title,{},void 0,ne.default.Messages.NEW_THREAD)),de(ve,{parentChannel:o,parentMessageId:r,location:a})))}pe.displayName="CreateThreadSidebar";function ve(e){var t=e.parentChannel,n=e.parentMessageId,r=e.location,c=null!=n,f=!c,y=a.useContext(H.ComponentDispatchGroupContext),m=(0,u.useStateFromStores)([p.default],(function(){return p.default.messageGroupSpacing})),O=(0,u.useStateFromStores)([P.default],(function(){return P.default.getGuild(t.guild_id)})),b=Z.ThreadDurationExperiment.useExperiment({guildId:t.guild_id}),C=b.useThreeDayArchiveDuration,A=b.hideArchiveDropdown;a.useEffect((function(){Z.ThreadDurationExperiment.trackExposure({
guildId:t.guild_id})}),[t.guild_id]);var U=C?{autoArchiveDuration:(0,$.getThreeDayAutoArchiveDurationOrDefault)(t,O,null)}:{},x=a.useState(U),X=x[0],Q=x[1],J=a.useState({textValue:"",richValue:i.default.deserialize("")}),oe=J[0],ie=J[1];a.useEffect((function(){function e(e){var n,r=T.default.getDraft(t.id,T.DraftType.FirstThreadMessage);0!==r.length&&!0!==e||ie({textValue:r,richValue:i.default.deserialize(r)});Q(null!==(n=T.default.getThreadSettings(t.id))&&void 0!==n?n:{})}e(!0);T.default.addChangeListener(e);return function(){T.default.removeChangeListener(e)}}),[t.id]);var ue=a.useCallback((function(e){Q((function(t){return se({},t,{},e)}));l.default.changeThreadSettings(t.id,se({},e,{parentMessageId:n}))}),[t.id,n]),fe=(0,q.usePrivateThreadMode)(t),pe=a.useRef(oe.textValue.trim().length>0);a.useEffect((function(){pe.current=pe.current||oe.textValue.trim().length>0}),[oe]);var ve=(0,u.useStateFromStores)([M.default],(function(){return M.default.can(te.Permissions.ATTACH_FILES,t)
})),me=function(e,t,n,r,o,i,u,l){var s=a.useState(!1),d=s[0],c=s[1],f=a.useState(!1),p=f[0],v=f[1],y=(0,ee.default)(e,t,n,r,o,u,K.default.openThreadSidebarForViewing,l),h=a.useCallback(function(){var n,a=(n=regeneratorRuntime.mark((function n(a,o,u){var l,s,d,f,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null==a&&(a=i.textValue);a=a.trim();null!=o&&0!==o.length||(o=null===(s=S.default.getStickerPreview(e.id,ce.drafts.type))||void 0===s?void 0:s.map((function(e){return e.id})));null!=u&&0!==u.length||(u=N.default.getUploads(e.id,T.DraftType.FirstThreadMessage));d=null!==(l=r.name)&&void 0!==l?l:"";f=0===d.length;p=null==t&&""===a&&(null==o||0===o.length)&&0===u.length;c(f);v(p);if(!f&&!p){n.next=11;break}return n.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 11:if(null!=t){n.next=18;break}n.next=14;return(0,Y.applyChatRestrictions)({content:a,stickers:o,uploads:u,type:ce,channel:e});case 14:if(n.sent.valid){n.next=18;break}
return n.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 18:n.next=20;return y(a,o,u);case 20:(0,I.clearStickerPreview)(e.id,ce.drafts.type);return n.abrupt("return",{shouldClear:!0,shouldRefocus:!1});case 22:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){le(o,r,a,i,u,"next",e)}function u(e){le(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t,n){return a.apply(this,arguments)}}(),[y,i.textValue,r.name,t,e]);return{hasNameError:d,hasMessageError:p,submit:h}}(t,n,O,X,fe,oe,r,C),ge=me.hasNameError,Ee=me.hasMessageError,Oe=me.submit,Se=function(e,t,n,r,a){var i=(0,q.getIsPrivate)(t,r),u=function(e){e.stopPropagation();e.preventDefault();var t=(0,B.minimumRequiredTierForGuildFeature)(te.GuildFeatures.PRIVATE_THREADS);null!=a&&null!=t&&(0,E.default)({analyticsSourceLocation:{section:te.AnalyticsSections.CREATE_THREAD_SIDEBAR,object:te.AnalyticsObjects.PRIVATE_THREAD_CHECKBOX},guild:a,
targetBoostedGuildTier:t})},l=null!=a&&!a.hasFeature(te.GuildFeatures.PRIVATE_THREADS),s=null!=a?de(g.default,{guild:a,guildFeature:te.GuildFeatures.PRIVATE_THREADS,tooltipPosition:k.TooltipPositions.TOP,className:re.default.privateThreadFeaturePill,onClick:u}):null,d=de("div",{className:re.default.privateThreadFormTitle},void 0,de("span",{className:re.default.privateThreadFormTitleText},void 0,ne.default.Messages.PRIVATE_THREAD),s),c=de(w.default,{className:(0,o.default)(re.default.checkbox),type:w.default.Types.INVERTED,disabled:r===q.PrivateThreadMode.PrivateOnly||r===q.PrivateThreadMode.DisabledWithUpsell,value:i,onChange:function(e,t){return n({isPrivate:t})}},void 0,de(W.default,{size:W.default.Sizes.SIZE_16,color:W.default.Colors.CUSTOM},void 0,ne.default.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL));return e||r===q.PrivateThreadMode.Disabled?null:de(j.FormSection,{title:d,className:re.default.formSection},void 0,l?de(D.default,{onClick:u},void 0,c):c,i?de(W.default,{
className:re.default.privateThreadDescription,size:W.default.Sizes.SIZE_12,color:W.default.Colors.HEADER_SECONDARY},void 0,ne.default.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION):null)}(c,X,ue,fe,O),Ie=ye(t,O,X,ue),be=he(t,X,ue,ge),Ce=function(e,t,n,r,i,u){var d,c=a.useState(!1),f=c[0],p=c[1],y=a.useCallback((function(){return p(!0)}),[]),h=a.useCallback((function(){return p(!1)}),[]),_=a.useCallback((function(t,n,a){l.default.saveDraft(e.id,n,T.DraftType.FirstThreadMessage);r((function(t){""!==n&&t.textValue!==n?s.default.startTyping(e.id):""===n&&s.default.stopTyping(e.id);return{textValue:n,richValue:a}}))}),[e.id,r]),m=a.useCallback((function(e,t,n){return i(e,n,t)}),[i]);(0,H.useComponentAction)({event:te.ComponentActions.TEXTAREA_FOCUS,handler:y});(0,H.useComponentAction)({event:te.ComponentActions.TEXTAREA_BLUR,handler:h});var g=u&&0===n.textValue.trim().length;return t?de(j.FormSection,{title:ne.default.Messages.FORM_THREAD_STARTER_MESSAGE_SECTION_LABEL,
className:re.default.formSection},void 0,de(v.default,{type:ce,channel:e,placeholder:ne.default.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,textValue:n.textValue,richValue:n.richValue,focused:f,className:re.default.channelTextArea,innerClassName:(0,o.default)(re.default.channelTextAreaInner,(d={},d[re.default.channelTextAreaInnerFocused]=f,d[re.default.channelTextAreaInnerError]=g,d)),onFocus:y,onBlur:h,onChange:_,onSubmit:m,promptToUpload:z.promptToUpload}),de(L.Error,{error:g?ne.default.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR:null})):null}(t,f||pe.current,oe,ie,Oe,Ee),Te=a.useCallback((function(){y.bumpDispatchPriority()}),[y]),Pe=(0,q.getIsPrivate)(X,fe)?G.default:F.default;return de("div",{className:re.default.chat,onMouseDown:Te,onFocus:Te},void 0,de("div",{className:(0,o.default)(re.default.messagesWrapper,"group-spacing-"+m)},void 0,de("form",{onSubmit:function(e){e.preventDefault();Oe()},className:re.default.form},void 0,de(V.default,{
className:re.default.scroller,fade:!0},void 0,de("div",{className:re.default.scrollerInner},void 0,de(_.default,{channelId:"create-thread-null"},void 0,de("div",{className:ae.default.iconWrapper},void 0,de(Pe,{className:ae.default.icon})),be,Ce,de(h.default,{channelId:t.id,type:ce,canAttachFiles:ve}),A?null:Ie,t.type===te.ChannelTypes.GUILD_TEXT?Se:null),de(_e,{parentChannel:t,parentMessageId:n}))),de("div",{className:re.default.submitContainer},void 0,de(R.default,{className:re.default.submitButton,type:"submit"},void 0,ne.default.Messages.CREATE_THREAD),de(d.default,{channel:t,isThreadCreation:!0})))))}ve.displayName="ChatArea";function ye(e,t,n,r){var a=Z.ThreadDurationExperiment.useExperiment({guildId:e.guild_id}).useThreeDayArchiveDuration?(0,$.getThreeDayAutoArchiveDurationOrDefault)(e,t,n.autoArchiveDuration):(0,$.getAutoArchiveDuration)(e,t,n.autoArchiveDuration);return de(c.default,{page:null!=t?te.AnalyticsPages.GUILD_CHANNEL:null,
section:te.AnalyticsSections.CREATE_THREAD_SIDEBAR},void 0,de(J.default,{autoArchiveDuration:a,guild:t,channel:e,onChange:function(e){r({autoArchiveDuration:e})}}))}ye.displayName="useAutoArchiveDropdown";function he(e,t,n,r){var o,i=a.useRef(null),u=null!==(o=t.name)&&void 0!==o?o:"";a.useLayoutEffect((function(){var e;null===(e=i.current)||void 0===e||e.focus()}),[]);return de(j.FormSection,{title:ne.default.Messages.THREAD_NAME,className:re.default.formSection},void 0,de(L.default,{inputRef:i,value:u,placeholder:ne.default.Messages.FORM_THREAD_NAME_PLACEHOLDER,maxLength:te.MAX_CHANNEL_NAME_LENGTH,onChange:function(t){n({name:(0,X.default)(t,!1)});""!==t?s.default.startTyping(e.id):s.default.stopTyping(e.id)},onBlur:function(){var e=(0,X.default)(u,!0);e!==u&&n({name:e})},error:r&&0===u.trim().length?ne.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR:null}))}he.displayName="useThreadName";function _e(e){var t=e.parentChannel,n=e.parentMessageId,r=(0,
u.useStateFromStores)([A.default],(function(){return null==n?null:A.default.getMessage(t.id,n)})),a=b.MessageDisplayCompact.useSetting();return null!=r?de(O.default,{className:re.default.messagePreview,message:r,channel:t,compact:a,renderThreadAccessory:!1}):null}},342570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ue
;var r,a=ne(n(667294)),o=ee(n(294184)),i=ee(n(95298)),u=n(536211),l=ee(n(186705)),s=ee(n(55189)),d=ee(n(786630)),c=ee(n(805918)),f=ee(n(235879)),p=ee(n(271180)),v=n(856746),y=ee(n(907616)),h=ee(n(820652)),_=ee(n(872134)),m=ee(n(58941)),g=ee(n(2914)),E=ee(n(422207)),O=n(770755),S=n(894826),I=ee(n(644263)),b=ne(n(687549)),C=ee(n(30098)),T=ee(n(201292)),P=ee(n(689389)),A=ee(n(680873)),M=ee(n(789446)),N=ee(n(16941)),R=ee(n(279950)),w=n(730977),D=n(688388),L=ee(n(259530)),k=ee(n(82050)),j=ee(n(830759)),U=ee(n(878556)),G=ee(n(776360)),F=ee(n(582945)),x=n(993442),W=n(682937),V=n(871382),H=n(247726),B=ee(n(887174)),Y=n(192751),z=n(192110),K=n(819235),$=ee(n(521595)),q=ee(n(387812)),Z=n(770348),X=ee(n(247001)),Q=ee(n(271615)),J=ee(n(704586));function ee(e){return e&&e.__esModule?e:{default:e}}function te(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(te=function(e){return e?n:t})(e)}function ne(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=te(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function re(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ae(){ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ae.apply(this,arguments)}function oe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ie=v.ChatInputTypes.THREAD_CREATION;function ue(e){var t=e.parentChannelId,n=e.parentMessageId,r=e.location,a=(0,u.useStateFromStores)([I.default],(function(){return I.default.getChannel(t)})),o=(0,K.useCreateThreadText)();return null==a?null:oe(x.ComponentDispatchGroupProvider,{},void 0,oe("section",{"aria-label":o,className:Q.default.container},void 0,oe(c.default,{channel:a,draftType:b.DraftType.FirstThreadMessage}),oe(U.default,{toolbar:oe(U.default.Icon,{icon:L.default,tooltip:X.default.Messages.CLOSE,onClick:function(){return B.default.closeAndClearThreadSidebar(t)}})},void 0,oe(U.default.Icon,{icon:j.default,disabled:!0,"aria-label":X.default.Messages.THREAD}),oe(U.default.Title,{},void 0,X.default.Messages.NEW_THREAD)),oe(le,{parentChannel:a,parentMessageId:n,location:r})))}ue.displayName="CreateThreadSidebar"
;function le(e){var t=e.parentChannel,n=e.parentMessageId,r=e.location,s=null!=n,c=a.useContext(x.ComponentDispatchGroupContext),p=(0,u.useStateFromStores)([f.default],(function(){return f.default.messageGroupSpacing})),v=(0,u.useStateFromStores)([C.default],(function(){return C.default.getGuild(t.guild_id)})),g=K.ThreadDurationExperiment.useExperiment({guildId:t.guild_id}).useThreeDayArchiveDuration;a.useEffect((function(){K.ThreadDurationExperiment.trackExposure({guildId:t.guild_id})}),[t.guild_id]);var S=g?{autoArchiveDuration:(0,Y.getThreeDayAutoArchiveDurationOrDefault)(t,v,null)}:{},I=a.useState(S),T=I[0],R=I[1],L=a.useState({textValue:"",richValue:i.default.deserialize("")}),U=L[0],H=L[1];a.useEffect((function(){function e(e){var n,r=b.default.getDraft(t.id,b.DraftType.FirstThreadMessage);0!==r.length&&!0!==e||H({textValue:r,richValue:i.default.deserialize(r)});R(null!==(n=b.default.getThreadSettings(t.id))&&void 0!==n?n:{})}e(!0);b.default.addChangeListener(e)
;return function(){b.default.removeChangeListener(e)}}),[t.id]);var $=a.useCallback((function(e){R((function(t){return ae({},t,{},e)}));l.default.changeThreadSettings(t.id,ae({},e,{parentMessageId:n}))}),[t.id,n]),ee=(0,u.useStateFromStores)([P.default],(function(){return P.default.can(Z.Permissions.ATTACH_FILES,t)})),te=(0,z.usePrivateThreadMode)(t),ne=function(e,t,n,r,o,i,u,l){var s=a.useState(!1),d=s[0],c=s[1],f=a.useState(!1),p=f[0],v=f[1],y=(0,q.default)(e,t,n,r,o,u,B.default.openThreadSidebarForViewing,l,!0),h=a.useCallback(function(){var n,a=(n=regeneratorRuntime.mark((function n(a,o,u){var l,s,d,f,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null==a&&(a=i.textValue);a=a.trim();null!=o&&0!==o.length||(o=null===(s=E.default.getStickerPreview(e.id,ie.drafts.type))||void 0===s?void 0:s.map((function(e){return e.id})));null!=u&&0!==u.length||(u=A.default.getUploads(e.id,b.DraftType.FirstThreadMessage));d=null!==(l=r.name)&&void 0!==l?l:""
;f=null==t&&0===d.length;p=""===a&&(null==o||0===o.length)&&0===u.length;c(f);v(p);if(!f&&!p){n.next=11;break}return n.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 11:if(null!=t){n.next=18;break}n.next=14;return(0,V.applyChatRestrictions)({content:a,stickers:o,uploads:u,type:ie,channel:e});case 14:if(n.sent.valid){n.next=18;break}return n.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 18:n.next=20;return y(a,o,u);case 20:(0,O.clearStickerPreview)(e.id,ie.drafts.type);return n.abrupt("return",{shouldClear:!0,shouldRefocus:!1});case 22:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){re(o,r,a,i,u,"next",e)}function u(e){re(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t,n){return a.apply(this,arguments)}}(),[y,i.textValue,r.name,t,e]);return{hasNameError:d,hasMessageError:p,submit:h}
}(t,n,v,T,te,U,r,g),ue=ne.hasNameError,le=ne.hasMessageError,fe=ne.submit,pe=function(e,t,n,r,a){var i=(0,z.getIsPrivate)(t,r),u=function(e){e.stopPropagation();e.preventDefault();var t=(0,W.minimumRequiredTierForGuildFeature)(Z.GuildFeatures.PRIVATE_THREADS);null!=a&&null!=t&&(0,m.default)({analyticsSourceLocation:{section:Z.AnalyticsSections.CREATE_THREAD_SIDEBAR,object:Z.AnalyticsObjects.PRIVATE_THREAD_CHECKBOX},guild:a,targetBoostedGuildTier:t})},l=null!=a&&!a.hasFeature(Z.GuildFeatures.PRIVATE_THREADS),s=null!=a?oe(_.default,{guild:a,guildFeature:Z.GuildFeatures.PRIVATE_THREADS,tooltipPosition:w.TooltipPositions.TOP,className:Q.default.privateThreadFeaturePill,onClick:u}):null,d=oe("div",{className:Q.default.privateThreadFormTitle},void 0,oe("span",{className:Q.default.privateThreadFormTitleText},void 0,X.default.Messages.PRIVATE_THREAD),s),c=oe(M.default,{className:(0,o.default)(Q.default.checkbox),type:M.default.Types.INVERTED,
disabled:r===z.PrivateThreadMode.PrivateOnly||r===z.PrivateThreadMode.DisabledWithUpsell,value:i,onChange:function(e,t){return n({isPrivate:t})}},void 0,oe(G.default,{size:G.default.Sizes.SIZE_16,color:G.default.Colors.CUSTOM},void 0,X.default.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL));return e||r===z.PrivateThreadMode.Disabled?null:oe(D.FormSection,{title:d,className:Q.default.formSection},void 0,l?oe(N.default,{onClick:u},void 0,c):c,i?oe(G.default,{className:Q.default.privateThreadDescription,size:G.default.Sizes.SIZE_12,color:G.default.Colors.HEADER_SECONDARY},void 0,X.default.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION):null)}(s,T,$,te,v),ve=se(t,n,T,$,ue,null!=n),ye=de(t,U,H,fe,le),he=a.useCallback((function(){c.bumpDispatchPriority()}),[c]),_e=(0,z.getIsPrivate)(T,te)?k.default:j.default;return oe("div",{className:Q.default.chat,onMouseDown:he,onFocus:he},void 0,oe("div",{className:(0,o.default)(Q.default.messagesWrapper,"group-spacing-"+p)},void 0,oe("form",{
onSubmit:function(e){e.preventDefault();fe()},className:Q.default.form},void 0,oe(F.default,{className:Q.default.scroller,fade:!0},void 0,oe("div",{className:Q.default.scrollerInner},void 0,oe(h.default,{channelId:"create-thread-null"},void 0,oe("div",{className:J.default.iconWrapper},void 0,oe(_e,{className:J.default.icon})),ve,t.type===Z.ChannelTypes.GUILD_TEXT?pe:null),oe(ce,{parentChannel:t,parentMessageId:n}))),oe("div",{className:Q.default.submitContainer},void 0,oe(y.default,{channelId:t.id,type:ie,canAttachFiles:ee}),ye,oe(d.default,{channel:t,isThreadCreation:!0})))))}le.displayName="ChatArea";function se(e,t,n,r,a,o){var i,u=null!==(i=n.name)&&void 0!==i?i:"",l=(0,z.getDefaultThreadName)(e,t);return oe(D.FormSection,{title:X.default.Messages.THREAD_NAME+(o?" (Optional)":""),className:Q.default.formSection},void 0,oe(R.default,{value:u,placeholder:""!==l?l:X.default.Messages.FORM_THREAD_NAME_PLACEHOLDER,maxLength:Z.MAX_CHANNEL_NAME_LENGTH,onChange:function(t){r({name:(0,
$.default)(t,!1)});""!==t?s.default.startTyping(e.id):s.default.stopTyping(e.id)},onBlur:function(){var e=(0,$.default)(u,!0);e!==u&&r({name:e})},error:a&&0===u.trim().length?X.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR:null}))}se.displayName="useThreadName";function de(e,t,n,r,i){var u,d=a.useState(!0),c=d[0],f=d[1],v=a.useCallback((function(){return f(!0)}),[]),y=a.useCallback((function(){return f(!1)}),[]),h=a.useCallback((function(t,r,a){l.default.saveDraft(e.id,r,b.DraftType.FirstThreadMessage);n((function(t){""!==r&&t.textValue!==r?s.default.startTyping(e.id):""===r&&s.default.stopTyping(e.id);return{textValue:r,richValue:a}}))}),[e.id,n]),_=a.useCallback((function(e,t,n){return r(e,n,t)}),[r]);(0,x.useComponentAction)({event:Z.ComponentActions.TEXTAREA_FOCUS,handler:v});(0,x.useComponentAction)({event:Z.ComponentActions.TEXTAREA_BLUR,handler:y});var m=i&&0===t.textValue.trim().length;return oe(p.default,{type:ie,channel:e,
placeholder:X.default.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,textValue:t.textValue,richValue:t.richValue,focused:c,className:Q.default.channelTextArea2,innerClassName:(0,o.default)(Q.default.channelTextAreaInner2,(u={},u[Q.default.channelTextAreaInnerError2]=m,u)),onFocus:v,onBlur:y,onChange:h,onSubmit:_,promptToUpload:H.promptToUpload})}de.displayName="useFirstThreadMessage";function ce(e){var t=e.parentChannel,n=e.parentMessageId,r=(0,u.useStateFromStores)([T.default],(function(){return null==n?null:T.default.getMessage(t.id,n)})),a=S.MessageDisplayCompact.useSetting();return null!=r?oe(g.default,{className:Q.default.messagePreview,message:r,channel:t,compact:a,renderThreadAccessory:!1}):null}},690653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(294184)),i=n(321248),u=m(n(872134)),l=m(n(58941)),s=n(688388),d=n(967965),c=n(308920),f=n(682937),p=n(192751),v=n(819235),y=n(770348),h=m(n(247001)),_=m(n(604055));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t=e.guild,n=e.channel,r=e.autoArchiveDuration,m=e.onChange,g=e.isDisabled,S=(0,p.getAutoArchiveOptions)(t),I=a.useContext(c.AnalyticsContext),b=v.ThreadDurationExperiment.useExperiment({guildId:n.guild_id}).useThreeDayArchiveDuration,C=(0,i.useTrackThreadArchivalDurationUpsell)(I.location,t,n),T=function(e,n){var r,a,i=S.find((function(t){return e.value===t.value}));(null===(r=i)||void 0===r?void 0:r.value)===p.THREE_DAYS&&b&&(i=void 0);if(null!=i&&null!=i.guildFeature&&null!=t){var l,s;return O("span",{className:(0,o.default)(_.default.optionLabel,(l={},l[_.default.dropdownOption]=n,l))},void 0,O("span",{className:(0,o.default)(_.default.optionLabelCopy,(s={},
s[_.default.disabledOptionLabel]=!i.enabled,s))},void 0,e.label),O(u.default,{guild:t,guildFeature:i.guildFeature}))}return O("span",{className:(0,o.default)(_.default.optionLabel,(a={},a[_.default.dropdownOption]=n,a))},void 0,e.label)};return O(s.FormSection,{title:h.default.Messages.FORM_THREAD_AUTO_ARCHIVE_SECTION_LABEL,className:_.default.formSection},void 0,O(d.SingleSelect,{isDisabled:g,options:S,value:r,maxVisibleItems:S.length,onOpen:C,onChange:function(e){var n,r=S.find((function(t){return t.value===e}));(null===(n=r)||void 0===n?void 0:n.value)===p.THREE_DAYS&&b&&(r=void 0);if(null==r||r.enabled||null==r.guildFeature)return m(e);var a=(0,f.minimumRequiredTierForGuildFeature)(r.guildFeature);null!=t&&null!=a&&(0,l.default)({analyticsSourceLocation:E({},I.location,{object:y.AnalyticsObjects.LIST_ITEM,objectType:(0,f.boostedGuildTierToAnalyticsObjectType)(a)}),guild:t,targetBoostedGuildTier:a})},optionClassName:_.default.dropdownOption,renderOptionLabel:function(e){
return T(e,!0)},renderOptionValue:function(e){var t=e[0];return T(t,!1)}}))};S.displayName="ThreadAutoArchiveDropdown";var I=S;t.default=I},556250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(496486)),i=n(536211),u=_(n(265851)),l=_(n(160629)),s=_(n(830759)),d=n(878556),c=_(n(776360)),f=_(n(782270)),p=n(566142),v=_(n(39447)),y=_(n(247001)),h=_(n(517831));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.channel,n=a.useState(!1),r=n[0],_=n[1],m=(0,i.useStateFromStores)([f.default],(function(){return(0,o.default)(f.default.getThreadsForGuild(t.guild_id)).values().filter((function(e){return e.parentId===t.id})).size()})),O=a.useCallback((function(){_(!1)
}),[]),S=a.useCallback((function(){r||(0,p.trackThreadBrowserOpened)("Popout");_(!r)}),[r]);return E(l.default,{animation:l.default.Animation.NONE,position:l.default.Positions.BOTTOM,align:l.default.Align.RIGHT,autoInvert:!1,shouldShow:r,onRequestClose:O,renderPopout:function(){return E(u.default,{},void 0,E(v.default,{className:h.default.browser,channel:t,onClose:O}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(d.Icon,g({},e,{className:h.default.icon,onClick:S,icon:s.default,"aria-label":y.default.Messages.THREADS,tooltip:n?null:y.default.Messages.THREADS,selected:n}),m>0?E(c.default,{size:c.default.Sizes.SIZE_16,color:c.default.Colors.INTERACTIVE_NORMAL,className:h.default.count},void 0,m>=100?"99+":m):null)}))}O.displayName="ThreadBrowserPopout"},73942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(160629)),i=h(n(91424)),u=h(n(811198)),l=h(n(878556)),s=n(956506),d=n(895431),c=h(n(358751)),f=n(64072),p=n(770348),v=h(n(247001)),y=h(n(353121));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e){var t=e.channel,n=(0,d.useThreadNotificationSetting)(t),r=a.useState(!1),h=r[0],_=r[1];a.useEffect((function(){var e=function(){return _(!0)};s.ComponentDispatch.subscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){s.ComponentDispatch.unsubscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var E=v.default.Messages.NOTIFICATION_SETTINGS;return m(o.default,{shouldShow:h,animation:o.default.Animation.NONE,position:o.default.Positions.BOTTOM,align:o.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return _(!1)},renderPopout:function(e){
return a.createElement(c.default,g({},e,{channel:t,navId:"thread-context",label:v.default.Messages.THREAD_ACTIONS_MENU_LABEL}))}},void 0,(function(e,t){var r=t.isShown;return a.createElement(l.default.Icon,g({},e,{onClick:function(){return _((function(e){return!e}))},tooltip:r?null:E,icon:n===f.ThreadMemberFlags.NO_MESSAGES?u.default:i.default,foreground:n===f.ThreadMemberFlags.NO_MESSAGES?y.default.strikethrough:null,"aria-label":E,selected:r}))}))}E.displayName="ThreadNotificationSettingsButton"},627900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=O(n(667294)),o=g(n(691692)),i=g(n(609510)),u=g(n(894630)),l=g(n(783938)),s=g(n(326348)),d=g(n(730205)),c=g(n(730487)),f=O(n(145122)),p=n(894826),v=g(n(160629)),y=g(n(775803)),h=g(n(878556)),_=g(n(887174)),m=g(n(247001));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)
}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function b(e){var t=e.channel,n=a.useState(!1),r=n[0],o=n[1];function i(){o((function(e){return!e}))}var u=m.default.Messages.MORE;return S(v.default,{shouldShow:r,animation:v.default.Animation.NONE,position:v.default.Positions.BOTTOM,align:v.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return o(!1)},renderPopout:function(e){return a.createElement(C,I({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(h.default.Icon,I({},e,{onClick:i,tooltip:n?null:u,icon:y.default,"aria-label":u,selected:n}))}))}b.displayName="ThreadOverflowMenuButton";function C(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,o.default)(t),v=(0,s.default)(t),y=(0,c.default)(t.id),h=(0,i.default)(t),g=(0,u.default)(t,"Toolbar Overflow"),E=(0,l.default)(t),O=(0,d.default)(t),I=p.UseThreadSidebar.useSetting();return S(f.default,{navId:"thread-context",
onClose:n,"aria-label":m.default.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:r},void 0,S(f.MenuGroup,{},void 0,g),S(f.MenuGroup,{},void 0,v,E,I?S(f.MenuItem,{id:"open",label:m.default.Messages.OPEN_IN_SPLIT_VIEW,action:function(){_.default.openThreadSidebarForViewing(t)}}):null),S(f.MenuGroup,{},void 0,O,a,h),S(f.MenuGroup,{},void 0,y))}C.displayName="OverflowMenu"},621688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=e.channel,r=e.baseChannelId;return a.createElement(a.Fragment,null,!0===(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived)?null:M(I.default,{channel:n}),M(R,{channel:n}),M(E.default.Icon,{icon:_.default,tooltip:C.default.Messages.CLOSE,onClick:function(){return S.default.closeThreadSidebar(null!=r?r:n.parent_id)}}))}
;var r,a=A(n(667294)),o=T(n(691692)),i=T(n(609510)),u=T(n(894630)),l=T(n(783938)),s=T(n(326348)),d=T(n(480864)),c=T(n(233557)),f=T(n(730205)),p=T(n(730487)),v=A(n(145122)),y=n(391869),h=T(n(160629)),_=T(n(259530)),m=T(n(435012)),g=T(n(775803)),E=T(n(878556)),O=n(956506),S=T(n(887174)),I=T(n(73942)),b=n(770348),C=T(n(247001));function T(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e){var t=e.channel,n=a.useState(!1),r=n[0],o=n[1];function i(){o((function(e){return!e}))}var u=C.default.Messages.MORE;return M(h.default,{shouldShow:r,animation:h.default.Animation.NONE,position:h.default.Positions.BOTTOM,align:h.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return o(!1)},renderPopout:function(e){return a.createElement(w,N({},e,{
channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(E.default.Icon,N({},e,{onClick:i,tooltip:n?null:u,icon:g.default,"aria-label":u,selected:n}))}))}R.displayName="OverflowMenuButton";function w(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,u.default)(t,"Sidebar Overflow"),h=(0,l.default)(t),_=(0,d.default)(t),g=(0,c.default)(t),E=(0,o.default)(t),S=(0,s.default)(t),I=(0,i.default)(t),T=(0,p.default)(t.id),P=(0,f.default)(t);function A(){(0,y.transitionToChannel)(t.id)}return M(v.default,{navId:"thread-context",onClose:n,"aria-label":C.default.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:r},void 0,M(v.MenuGroup,{},void 0,a,M(v.MenuItem,{id:"open",label:C.default.Messages.OPEN_IN_FULL_VIEW,action:A})),M(v.MenuGroup,{},void 0,_,g),M(v.MenuGroup,{},void 0,S,h),M(v.MenuGroup,{},void 0,M(v.MenuItem,{id:"search",label:C.default.Messages.SEARCH,icon:m.default,action:function(){A();setTimeout((function(){
O.ComponentDispatch.dispatch(b.ComponentActions.FOCUS_SEARCH,{prefillCurrentChannel:!1})}),2e3)}}),M(v.MenuItem,{id:"pins",label:C.default.Messages.PINS,icon:m.default,action:function(){A();O.ComponentDispatch.dispatch(b.ComponentActions.TOGGLE_CHANNEL_PINS)}})),M(v.MenuGroup,{},void 0,P,E,I),M(v.MenuGroup,{},void 0,T))}w.displayName="OverflowMenu"},252283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=e.baseChannelId,I=(0,o.useStateFromStores)([v.default],(function(){return v.default.getChannel(t)})),b=(0,o.useStateFromStores)([h.default],(function(){return h.default.getGuild(null==I?void 0:I.getGuildId())})),T=(0,d.default)(I),M=a.useRef(!1);a.useEffect((function(){if(null!=I&&!M.current){M.current=!0;var e=(0,s.collectThreadMetadata)(v.default.getChannel(I.id),!0);(0,s.trackWithMetadata)(E.AnalyticEvents.CHANNEL_OPENED,A({},e,{channel_id:I.id,guild_id:I.guild_id,parent_id:I.parent_id,channel_view:"Split View"}))}
}),[I]);if(null==I||null==b)return null;var N=C(g.default,{channel:I,baseChannelId:r});return a.createElement(a.Fragment,null,C(l.default,{channel:I,draftType:y.DraftType.ChannelMessage}),C(_.default,{toolbar:N,"aria-label":O.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,(0,f.renderTitle)({channel:I,channelName:T,guild:b,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,P(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,A({},e,{channel:I}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){null!=I&&(0,p.transitionToChannel)(I.id)}})),C("div",{className:S.default.chat},void 0,C(m.default,{channel:I,narrow:!0}),C(u.default,{channel:I,guild:b,chatInputType:c.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=I(n(914789)),l=I(n(805918)),s=n(844784),d=I(n(678928)),c=n(856746),f=n(451115),p=n(391869),v=I(n(644263)),y=n(687549),h=I(n(30098)),_=I(n(878556)),m=I(n(734239)),g=I(n(621688)),E=n(770348),O=I(n(247001)),S=I(n(974290));function I(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}},387812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,l,s,d,c,f,p){
var v=r.useCallback((function(e,t,n,r){a.default.uploadFiles(e.id,t,i.DraftType.FirstThreadMessage,o.default.parse(e,n),{stickerIds:r})}),[]);return(0,u.useCreateThreadCommon)(e,t,n,l,s,d,c,f,p,v)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(274710)),o=l(n(614293)),i=n(687549),u=n(192110);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},785992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.SPEECH_RATE_INCREMENTS=t.MAX_TTS_LENGTH=void 0;t.MAX_TTS_LENGTH=200;t.SPEECH_RATE_INCREMENTS=[0,.25,.5,.75,1,1.25,1.5,1.75,2,2.25,2.5,2.75,3,3.25,3.5,3.75,4,4.25,4.5,4.75,5,5.25,5.5,5.75,6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10]},340877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=A(n(636602)),a=P(n(448549)),o=n(678928),i=P(n(86031)),u=n(894826),l=A(n(423046)),s=A(n(502546)),d=A(n(644263)),c=A(n(876874)),f=A(n(30098)),p=A(n(635014)),v=A(n(201292)),y=A(n(919935)),h=A(n(290629)),_=A(n(211136)),m=A(n(563621)),g=A(n(871778)),E=A(n(728429)),O=n(43247),S=A(n(91603)),I=n(785992),b=n(770348),C=A(n(247001));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e){return e&&e.__esModule?e:{default:e}}var M=[],N=null,R=null,w=null;function D(e,t,n,r){var a=f.default.getGuild(n),i=e.replace(b.MARKDOWN_SPOILER_REGEXP_GLOBAL,C.default.Messages.SPOILER).replace(/<@!?(\d+)>/g,(function(e,t){var r=E.default.getUser(t);return null==r?e:c.default.getNick(n,r.id)||r.username})).replace(/<@&?(\d+)>/g,(function(e,t){var n=null!=a?a.roles[t]:null;return null!=n&&null!=n.name?n.name:C.default.Messages.MESSAGE_TTS_DELETED_ROLE})).replace(/<#(\d+)>/g,(function(e,t){var n=d.default.getChannel(t);return null==n?e:(0,o.computeChannelName)(n,E.default,h.default)})).replace(/<a?:(\w+):(\d+)>/g,(function(e,t){return C.default.Messages.EMOJI+" "+t
})).replace(/<\/([^\s]+?):(\d+)>/g,(function(e,t){return"/"+t}));return null==r?C.default.Messages.MESSAGE_TTS.format({username:t,body:i}):C.default.Messages.MESSAGE_TTS_REPLY.format({username:t,body:i,replyUsername:r})}function L(){if(!a.supported)return!1;var e=g.default.locale;if(null==w){var t;w=null===(t=window.speechSynthesis)||void 0===t?void 0:t.getVoices()}var n=w.filter((function(t){return t.lang===e||t.lang.slice(0,e.length)===e}));R=n.length>0?n[0]:null}function k(e,t,n,r,o){var i=a.createUtterance(e,n);if(null!==i){null==R&&L();if(t)(0,O.stopSpeaking)();else{var u;null===(u=N)||void 0===u||u.removeEventListener("end",O.stopSpeaking)}i.addEventListener("end",O.stopSpeaking);null!=r&&i.addEventListener("start",r);null!=o&&i.addEventListener("end",o);N=i;a.speakUtterance(i,R)}}function j(e,t,n,r,a){k(e,t,a,(function(){(0,O.speakingMessage)(n,r)}))}function U(e){k(e.text,e.interrupt,e.maxLength,e.onStart,e.onEnd)}function G(){
null!==N&&N.removeEventListener("end",O.stopSpeaking);a.cancelAll();N=null;return!0}function F(e){var t,n,r=e.messageId,a=e.channelId,o=d.default.getChannel(a);if(null==o)return!1;var u=v.default.getMessage(a,r);if(null==u)return!1;var l=u.type===b.MessageTypes.REPLY?i.default.getMessageByReference(u.messageReference):null,s=(null==l?void 0:l.state)===i.ReferencedMessageState.LOADED?null==l||null===(t=l.message)||void 0===t?void 0:t.author:null,f=null!=s?null!==(n=c.default.getNick(o.guild_id,null==s?void 0:s.id))&&void 0!==n?n:s.username:null,p=o.getGuildId(),y=c.default.getNick(p,u.author.id)||u.author.username;j(D(u.content,y,p,f),!0,o.id,u.id);return!0}function x(e){var t=e.channelId,n=e.message;if(e.optimistic||p.default.isSelfDeaf())return!1;var r=d.default.getChannel(t);if(null==r)return!1
;var a=_.default.getChannelId(),o=s.default.getCurrentSidebarChannelId(a),i=t===a||t===o,f=u.EnableTTSCommand.getSetting()&&n.tts&&i,v=y.default.getTTSType(),g=n.author.id!==l.default.getId()&&(v===b.TTSNotificationTypes.ALL_CHANNELS||v===b.TTSNotificationTypes.SELECTED_CHANNEL&&i);if((f||g)&&!h.default.isBlocked(n.author.id)){var E,O;if(M.indexOf(n.id)>=0)return!1;M.unshift(n.id)>10&&M.pop();var S=r.getGuildId();if(S&&m.default.getMutedChannels(S).has(t))return!1;var C=c.default.getNick(S,n.author.id)||n.author.username,T=n.type===b.MessageTypes.REPLY?null===(E=n.referenced_message)||void 0===E?void 0:E.author:null,P=null!=T?null!==(O=c.default.getNick(S,null==T?void 0:T.id))&&void 0!==O?O:T.username:null;j(D(n.content,C,S,P),!1,r.id,n.id,I.MAX_TTS_LENGTH)}return!1}function W(e){var t=e.id,n=e.channelId,r=S.default.currentMessage;if(null!=r&&t===r.messageId&&n===r.channelId){(0,O.stopSpeaking)();return!0}return!1}function V(){p.default.isSelfDeaf()&&a.cancelAll()}var H={
init:function(){r.default.subscribe(b.ActionTypes.SPEAK_TEXT,U);r.default.subscribe(b.ActionTypes.SPEAK_MESSAGE,F);r.default.subscribe(b.ActionTypes.STOP_SPEAKING,G);r.default.subscribe(b.ActionTypes.MESSAGE_CREATE,x);r.default.subscribe(b.ActionTypes.MESSAGE_DELETE,W);r.default.subscribe(b.ActionTypes.AUDIO_TOGGLE_SELF_DEAF,V);r.default.subscribe(b.ActionTypes.USER_SETTINGS_UPDATE,L);r.default.subscribe(b.ActionTypes.I18N_LOAD_SUCCESS,L)}};t.default=H},418968:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=_(n(667294)),a=y(n(636602)),o=y(n(177230)),i=y(n(200738)),u=y(n(288356)),l=y(n(788739)),s=y(n(290629)),d=y(n(728429)),c=n(194322),f=_(n(308920)),p=n(770348),v=n(673810);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}
i(void 0)}))}}var S=null;function I(e){return b.apply(this,arguments)}function b(){return(b=O(regeneratorRuntime.mark((function e(t){var a,o,y,h,_,g,E,I,b,C,T,P,A,M,N,R,w,D,L,k,j,U;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I=t.userId,b=t.section,C=t.guildId,T=void 0===C?p.ME:C,P=t.friendToken,A=t.autoFocusNote,M=t.analyticsLocation;if(null!=(N=d.default.getUser(I))){e.next=4;break}return e.abrupt("return");case 4:if(null!=(R=l.default.getPrimaryActivity(I))){w=R.party;D=R.assets;L=null!=R.application_id?u.default.getGame(R.application_id):null}k=l.default.getStatus(I);j=l.default.isMobileOnline(I);U=k;k===p.StatusTypes.ONLINE&&(U=j?p.AnalyticsUserStatusTypes.ONLINE_MOBILE:p.AnalyticsUserStatusTypes.ONLINE_DESKTOP);e.next=12;return(0,c.openModalLazy)(O(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(16972)]).then(n.bind(n,116972));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,m({},e,{user:N,autoFocusNote:A,guildId:T,friendToken:P,initialSection:b}))}));case 5:case"end":return e.stop()}}),e)}))));case 12:S=e.sent;f.default.track(p.AnalyticEvents.OPEN_MODAL,m({type:"Profile Modal",other_user_id:I,application_id:null!==(a=null==R?void 0:R.application_id)&&void 0!==a?a:null,application_name:null==R?void 0:R.name,sku_id:null!==(o=null===(y=L)||void 0===y?void 0:y.primarySkuId)&&void 0!==o?o:null,is_friend:s.default.isFriend(I),has_images:Boolean(null!=D&&(D.large_image||D.small_image)),party_max:null===(h=w)||void 0===h||null===(_=h.size)||void 0===_?void 0:_[1],party_id:null===(g=w)||void 0===g?void 0:g.id,party_platform:(0,v.isSpotifyParty)(null===(E=w)||void 0===E?void 0:E.id)?p.PlatformTypes.SPOTIFY:null,game_platform:(0,i.default)(R),profile_user_status:U,profile_has_nitro_customization:null!=N.banner
},null==M?null:(0,f.expandLocation)(M)));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){null!=S&&(0,c.closeModal)(S);S=null}var T=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(p.ActionTypes.USER_PROFILE_MODAL_OPEN,I);a.default.subscribe(p.ActionTypes.USER_PROFILE_MODAL_CLOSE,C)};n._terminate=function(){a.default.unsubscribe(p.ActionTypes.USER_PROFILE_MODAL_OPEN,I);a.default.unsubscribe(p.ActionTypes.USER_PROFILE_MODAL_CLOSE,C)};return t}(o.default));t.default=T},142006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(294184)),i=n(536211),u=n(483559),l=m(n(257867)),s=m(n(956117)),d=m(n(530250)),c=n(354479),f=n(688388),p=n(3400),v=m(n(582945)),y=n(770348),h=m(n(247001)),_=m(n(634298));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}var I=E(f.FormDivider,{}),b=E(f.FormDivider,{});function C(e){var t=e.transitionState,r=(0,i.useStateFromStoresObject)([l.default],(function(){return{requiredAction:l.default.getAction()}})).requiredAction,m=a.useState(!1),g=m[0],O=m[1],C=(0,c.useUID)();function T(){return(T=S(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0);if(r!==y.UserRequiredActions.AGREEMENTS){e.next=8;break}e.next=4;return(0,u.acceptAgreements)();case 4:t=e.sent;O(t);e.next=13;break;case 8:if(r!==y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT){e.next=13;break}e.next=11;return(0,u.acknowledgeTOSNotification)()
;case 11:n=e.sent;O(n);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return E(p.ModalRoot,{"aria-labelledby":C,transitionState:t,className:(0,o.default)(_.default.modal,_.default.specificOverride,"theme-light")},void 0,E("div",{id:C,className:_.default.title},void 0,h.default.Messages.NEW_TERMS_TITLE),I,E(v.default,{},void 0,E(f.FormText,{className:_.default.description},void 0,r===y.UserRequiredActions.AGREEMENTS?h.default.Messages.TERMS_AGREEMENT_DESCRIPTION_1:r===y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT?h.default.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_1.format({date:y.TOS_AGREEMENT_DUE_BY}):null),E(f.FormText,{className:_.default.description},void 0,r===y.UserRequiredActions.AGREEMENTS?h.default.Messages.TERMS_AGREEMENT_DESCRIPTION_2:r===y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT?h.default.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_2:null),E(d.default,{className:_.default.container,
align:d.default.Align.CENTER,justify:d.default.Justify.CENTER},void 0,E(d.default,{direction:d.default.Direction.VERTICAL},void 0,E("div",{className:_.default.link},void 0,h.default.Messages.TERMS_OF_SERVICE.format({url:y.MarketingURLs.TERMS})),E("div",{className:_.default.link},void 0,h.default.Messages.PRIVACY_POLICY.format({url:y.MarketingURLs.PRIVACY})),E("div",{className:_.default.link},void 0,h.default.Messages.COMMUNITY_GUIDELINES.format({url:y.MarketingURLs.GUIDELINES})),E("div",{className:_.default.link},void 0,h.default.Messages.BLOG_POST.format({url:y.MarketingURLs.TOS_UPDATE_FEB_2022}))),E("img",{className:_.default.image,alt:"",src:n(31890)}))),b,E("div",{className:_.default.buttonContainer},void 0,E(s.default,{className:_.default.button,submitting:g,onClick:function(){return T.apply(this,arguments)}},void 0,h.default.Messages.GOT_IT)))}C.displayName="UserAgreementsModal"},77670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=h(n(667294)),o=v(n(636602)),i=h(n(403607)),u=v(n(728429)),l=n(378444),s=v(n(749033)),d=n(194322),c=v(n(142006)),f=n(770348),p=n(478036);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m="AGREEMENTS_MODAL_KEY",g=_(i.default,{}),E={init:function(){o.default.subscribe(f.ActionTypes.CONNECTION_OPEN,this.handleRequiredAction);o.default.subscribe(f.ActionTypes.USER_REQUIRED_ACTION_UPDATE,this.handleRequiredAction);o.default.subscribe(f.ActionTypes.CURRENT_USER_UPDATE,this.handleCurrentUserUpdate);o.default.subscribe(f.ActionTypes.LOGOUT,this.handleLogout)},handleRequiredAction:function(e){var t=e.requiredAction;if(null==u.default.getCurrentUser()){(0,l.closeFullScreenLayer)("verification");(0,d.hasModalOpen)(m)&&(0,d.closeModal)(m)}else if(t===f.UserRequiredActions.REQUIRE_CAPTCHA||t===f.UserRequiredActions.REQUIRE_VERIFIED_EMAIL||t===f.UserRequiredActions.REQUIRE_VERIFIED_PHONE)(0,l.openFullScreenLayer)((function(){return g}),{layerKey:"verification",
Layer:s.default});else if(t===f.UserRequiredActions.AGREEMENTS||t===f.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT)(0,d.openModal)((function(e){return a.createElement(c.default,e)}),{modalKey:m,onCloseRequest:p.NOOP_NULL});else if(null==t){(0,l.closeFullScreenLayer)("verification");(0,d.hasModalOpen)(m)&&(0,d.closeModal)(m)}},handleLogout:function(){(0,l.closeFullScreenLayer)("verification")},handleCurrentUserUpdate:function(e){e.user.verified&&(0,d.closeModal)(i.EMAIL_VERIFICATION_MODAL_KEY)}};t.default=E},421010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}var d={},c=null;function f(){d={};c=null}var p=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getEmailSettings=function(){return{categories:d,initialized:c}};return t}(a.default.Store))(o.default,((r={})[i.ActionTypes.CONNECTION_OPEN]=f,r[i.ActionTypes.LOGOUT]=f,r[i.ActionTypes.EMAIL_SETTINGS_FETCH_SUCCESS]=function(e){var t=e.settings;d=t.categories;c=t.initialized},r[i.ActionTypes.EMAIL_SETTINGS_UPDATE_SUCCESS]=function(e){var t=e.settings;d=t.categories},r[i.ActionTypes.EMAIL_SETTINGS_UPDATE]=function(e){var t=e.updates;d=s({},d,{},t)},r));t.default=p},933411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(213192)),a=d(n(496486)),o=d(n(536211)),i=n(358103),u=d(n(972247)),l=n(324828),s=n(840433);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=(0,r.default)({IMAGE:null,VIDEO:null}),n=o.default.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[function(e){return null==e?{favorites:[],
timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}]).state;return null==n||0===n.favorites.length?[]:n.favorites.map((function(r,a){var o=i.FavoriteGIF.create();o.format=r.format===t.IMAGE?i.GIFType.IMAGE:r.format===t.VIDEO?i.GIFType.VIDEO:i.GIFType.NONE;o.src=r.src;o.width=r.width;o.height=r.height;o.order=n.favorites.length-a+e;return{url:r.url,favorite:o}}))}var v=[{version:2,run:function(e){var t=p(1);if(0===t.length)return!1;null==e.favoriteGifs&&(e.favoriteGifs=i.FavoriteGIFs.create());e.favoriteGifs.gifs={};for(var n,r=c(t);!(n=r()).done;){var a=n.value,o=a.url,u=a.favorite;e.favoriteGifs.gifs[o]=u}e.favoriteGifs.hideTooltip=t.length>2;return!0},cleanup:function(){}},{version:3,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[function(e){return null==e||0===Object.keys(e).length?{usageHistory:{},favorites:[]}:e},function(e){
if(null==e||0===Object.keys(e).length)return{usageHistory:{},favorites:[]};null==e.favorites&&(e.favorites=[]);return e}]).state;if(null==t)return!1;var n=!1;if(t.favorites.length>0){e.favoriteStickers=i.FavoriteStickers.create();e.favoriteStickers.stickerIds=a.default.uniq(t.favorites).slice(0,s.MAX_FAVORITES);n=!0}if(a.default.size(t.usageHistory)>0){e.stickerFrecency=i.StickerFrecency.create();e.stickerFrecency.stickers=(0,l.serializeUsageHistory)(t.usageHistory,100);n=!0}return n},cleanup:function(){u.default.remove("StickersPersistedStore")}},{version:4,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{usageHistory:u.default.get("EmojiUsageHistory")||{}}}]).state;if(null==t)return!1;var n=!1;if(null!=t.favorites&&t.favorites.length>0){e.favoriteEmojis=i.FavoriteEmojis.create();e.favoriteEmojis.emojis=a.default.uniq(t.favorites).slice(0,s.MAX_FAVORITES);n=!0}if(a.default.size(t.usageHistory)>0){
e.emojiFrecency=i.EmojiFrecency.create();e.emojiFrecency.emojis=(0,l.serializeUsageHistory)(t.usageHistory,100);n=!0}return n},cleanup:function(){u.default.remove("EmojiStore");u.default.remove("EmojiUsageHistory");u.default.remove("EmojiDiversitySurrogate")}},{version:6,run:function(e){null==e.favoriteGifs&&(e.favoriteGifs=i.FavoriteGIFs.create());null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});var t=p(1);if(0===t.length)return!1;(0,a.default)(e.favoriteGifs.gifs).values().sortBy("order").forEach((function(e,n){return e.order=t.length+1+n}));for(var n,r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length,o=0,u=c(t);!(n=u()).done;){var l=n.value,d=l.url,f=l.favorite;f.order=t.length-o;o++;if(d in e.favoriteGifs.gifs)e.favoriteGifs.gifs[d].order=f.order;else{var v=i.FavoriteGIF.toBinary(f).length+d.length+7;if(!(r+v>s.MAX_FAVORITE_GIFS_SIZE)){r+=v;e.favoriteGifs.gifs[d]=f}}}r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length;for(;r>s.MAX_FAVORITE_GIFS_SIZE;){var y=0
;for(var h in e.favoriteGifs.gifs){delete e.favoriteGifs.gifs[h];if(++y>=10)break}r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length}return!0},cleanup:function(){}},{version:7,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]).state;if(null==t)return!1;var n=!1;if(a.default.size(t.usageHistory)>0){e.applicationCommandFrecency=i.ApplicationCommandFrecency.create();e.applicationCommandFrecency.applicationCommands=(0,l.serializeUsageHistory)(t.usageHistory,500);n=!0}return n},cleanup:function(){u.default.remove("ApplicationCommandFrecency")}}];t.default=v},409501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=y(n(496486)),a=n(358103),o=y(n(972247)),i=y(n(636602)),u=y(n(290760)),l=y(n(371732)),s=y(n(433385)),d=n(828593),c=y(n(960441)),f=n(324828),p=n(840433),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e)
;return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var m="lastFrecencySavedTime",g=3e5*Math.random(),E=864e5+Math.floor(36e5*Math.random()),O=null,S=Date.now(),I={init:function(){i.default.subscribe(v.ActionTypes.CONNECTION_OPEN,b);i.default.subscribe(v.ActionTypes.CONNECTION_RESUMED,b);i.default.subscribe(v.ActionTypes.CONNECTION_CLOSED,C);d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return!1},processProto:function(){A(!0)}});d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return l.default.hasPendingUsage()&&c.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(l.default.hasPendingUsage()&&c.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){
e.stickerFrecency=a.StickerFrecency.create();e.stickerFrecency.stickers=(0,f.serializeUsageHistory)(l.default.stickerFrecencyWithoutFetchingLatest.usageHistory,100)}}});d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return s.default.hasPendingUsage()&&c.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(s.default.hasPendingUsage()&&c.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.emojiFrecency=a.EmojiFrecency.create();e.emojiFrecency.emojis=(0,f.serializeUsageHistory)(s.default.emojiFrecencyWithoutFetchingLatest.usageHistory,100)}}});d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return u.default.hasPendingUsage()&&c.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(u.default.hasPendingUsage()&&c.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){
e.applicationCommandFrecency=a.ApplicationCommandFrecency.create();e.applicationCommandFrecency.applicationCommands=(0,f.serializeUsageHistory)(u.default.getCommandFrecencyWithoutLoadingLatest().usageHistory,500)}}})}};t.default=I;function b(){var e;S=null!==(e=o.default.get(m))&&void 0!==e?e:Date.now();A(!1)}function C(){clearTimeout(O);O=null}function T(){return P.apply(this,arguments)}function P(){return(P=_(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S=Date.now();A(!0);if(c.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.next=6;break}if(!(l.default.hasPendingUsage()||s.default.hasPendingUsage()||u.default.hasPendingUsage())){e.next=6;break}e.next=6;return d.FrecencyUserSettingsActionCreators.loadIfNecessary();case 6:r.default.forEach(d.UserSettingsActionCreatorsByType,(function(e){e.markDirtyIfHasPendingChange()}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}
function A(e){if(e){S=Date.now();o.default.set(m,S)}null!=O&&clearTimeout(O);var t=Date.now()-S,n=Math.max(g,E-t);O=setTimeout(T,n)}},562497:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(536211)),a=n(923387),o=n(629015),i=p(n(972247)),u=n(6505),l=p(n(644263)),s=n(925179),d=n(324828),c=n(770348),f=n(198622);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n=!1;null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array});null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array);if(!(0,s.hasBit)(e.userContent.dismissedContents,t)){e.userContent.dismissedContents=(0,s.addBit)(e.userContent.dismissedContents,t);n=!0}return n}function y(e,t,n){return!!u.HotspotStore.hasHiddenHotspot(t)&&v(e,n)}var h=[{version:2,run:function(e){var t,n;!function(e){e.Mentions="Recent Mentions";e.Unreads="Inbox"}(n||(n={}));if(null!=e.inbox)return!1;var r=!1,o=a.InboxSettings.create();e.inbox=o
;if(i.default.get("seenInboxTutorial",!1)){o.viewedTutorial=!0;r=!0}var u=i.default.get("recentsButtonTab2");if(null!=u){o.currentTab=u===n.Mentions?a.InboxTab.MENTIONS:a.InboxTab.UNREADS;r=!0}var s=null!==(t=i.default.get("unread-messages-collapsed-channels"))&&void 0!==t?t:{};for(var c in s){var f;if(s[c]){var p=l.default.getChannel(c);if(null!=p){r=!0;(0,d.mutateUserChannelSettings)(e,null!==(f=p.guild_id)&&void 0!==f?f:"0",p.id,(function(e){e.collapsedInInbox=!0}))}}}return r},cleanup:function(){i.default.remove("seenInboxTutorial");i.default.remove("recentsButtonTab2");i.default.remove("unread-messages-collapsed-channels")}},{version:3,run:function(e){var t=r.default.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{diversitySurrogate:i.default.get("EmojiDiversitySurrogate")||""}}]).state;if(null==t)return!1;var n=!1;if(null!=t.diversitySurrogate&&""!==t.diversitySurrogate){null==e.textAndImages&&(e.textAndImages=a.TextAndImagesSettings.create())
;null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=o.StringValue.create());e.textAndImages.diversitySurrogate.value=t.diversitySurrogate;n=!0}return n},cleanup:function(){}},{version:4,run:function(e){var t=!1;(!0===i.default.get("HAS_SEEN_HUB_UPSELL")||u.HotspotStore.hasHiddenHotspot(u.HotspotLocations.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=v(e,a.DismissibleContent.HUB_WAITLIST_UPSELL));return t},cleanup:function(){i.default.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run:function(e){var t,n,r,u,l,s,d,c=!1;e.textAndImages=null!==(t=e.textAndImages)&&void 0!==t?t:a.TextAndImagesSettings.create();e.notifications=null!==(n=e.notifications)&&void 0!==n?n:a.NotificationSettings.create();e.privacy=null!==(r=e.privacy)&&void 0!==r?r:a.PrivacySettings.create();e.voiceAndVideo=null!==(u=e.voiceAndVideo)&&void 0!==u?u:a.VoiceAndVideoSettings.create();e.gameLibrary=null!==(l=e.gameLibrary)&&void 0!==l?l:a.GameLibrarySettings.create()
;e.debug=null!==(s=e.debug)&&void 0!==s?s:a.DebugSettings.create();var f=null!==(d=i.default.get("UserSettingsStore"))&&void 0!==d?d:{};if("boolean"==typeof f.useRichChatTextBox){e.textAndImages.useRichChatInput=o.BoolValue.create({value:f.useRichChatTextBox});c=!0}if("string"==typeof f.renderSpoilers){e.textAndImages.renderSpoilers=o.StringValue.create({value:f.renderSpoilers});c=!0}if("boolean"==typeof f.useThreadSidebar){e.textAndImages.useThreadSidebar=o.BoolValue.create({value:f.useThreadSidebar});c=!0}if("boolean"==typeof f.showInAppNotifications){e.notifications.showInAppNotifications=o.BoolValue.create({value:f.showInAppNotifications});c=!0}if(f.emojiPickerCollapsedSections instanceof Array){e.textAndImages.emojiPickerCollapsedSections=f.emojiPickerCollapsedSections;c=!0}if(f.stickerPickerCollapsedSections instanceof Array){e.textAndImages.stickerPickerCollapsedSections=f.stickerPickerCollapsedSections;c=!0}if("boolean"==typeof f.viewImageDescriptions){
e.textAndImages.viewImageDescriptions=o.BoolValue.create({value:f.viewImageDescriptions});c=!0}if("boolean"==typeof f.showCommandSuggestions){e.textAndImages.showCommandSuggestions=o.BoolValue.create({value:f.showCommandSuggestions});c=!0}if("boolean"==typeof f.alwaysPreviewVideo){e.voiceAndVideo.alwaysPreviewVideo=o.BoolValue.create({value:f.alwaysPreviewVideo});c=!0}if("boolean"==typeof f.notifyFriendsOnGoLive){e.notifications.notifyFriendsOnGoLive=o.BoolValue.create({value:f.notifyFriendsOnGoLive});c=!0}if("boolean"==typeof f.installShortcutDesktop){e.gameLibrary.installShortcutDesktop=o.BoolValue.create({value:f.installShortcutDesktop});c=!0}if("boolean"==typeof f.installShortcutStartMenu){e.gameLibrary.installShortcutStartMenu=o.BoolValue.create({value:f.installShortcutStartMenu});c=!0}if("boolean"==typeof f.allowActivityPartyPrivacyFriends){e.privacy.allowActivityPartyPrivacyFriends=o.BoolValue.create({value:f.allowActivityPartyPrivacyFriends});c=!0}
if("boolean"==typeof f.allowActivityPartyPrivacyVoiceChannel){e.privacy.allowActivityPartyPrivacyVoiceChannel=o.BoolValue.create({value:f.allowActivityPartyPrivacyVoiceChannel});c=!0}if("boolean"==typeof f.rtcPanelShowVoiceStates){e.debug.rtcPanelShowVoiceStates=o.BoolValue.create({value:f.rtcPanelShowVoiceStates});c=!0}return c},cleanup:function(){}},{version:7,run:function(e){return y(e,u.HotspotLocations.APPLICATION_COMMAND_TOOLTIP,a.DismissibleContent.APPLICATION_COMMAND_TOOLTIP)},cleanup:function(){}},{version:8,run:function(e){return y(e,u.HotspotLocations.CHANNEL_BANNER_MEMBER_LIST_NOTICE,a.DismissibleContent.CHANNELINFO_CHANNELBANNER_NOTICE)},cleanup:function(){}},{version:9,run:function(e){u.HotspotStore.hasHiddenHotspot(u.HotspotLocations.MULTI_ACCOUNT_TOOLTIP)&&i.default.set(f.MULTIACCOUNT_TOOLTIP_SEEN_KEY,"true");return y(e,u.HotspotLocations.MULTI_ACCOUNT_TOOLTIP,a.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP)},cleanup:function(){}},{version:10,run:function(e){
var t,n=y(e,u.HotspotLocations.HUB_LINK_CHANNEL_NOTICE,a.DismissibleContent.CHANNEL_NOTICE_HUBLINK),r=null!==(t=i.default.get("channelNotices"))&&void 0!==t?t:{};!1===r[c.ChannelNoticeTypes.INVITE]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_INVITE)&&(n=!0);!1===r[c.ChannelNoticeTypes.QUICKSWITCHER]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0);!1===r[c.ChannelNoticeTypes.GUILD_BOOSTING_GUILD_AFFINITY]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION_AFFINITY)&&(n=!0);!1===r[c.ChannelNoticeTypes.GUILD_BOOSTING]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0);return n},cleanup:function(){i.default.remove("channelNotices")}},{version:11,run:function(e){var t=!1;y(e,u.HotspotLocations.GUILD_EVENT_UPSELL,a.DismissibleContent.GUILD_HEADER_EVENT_UPSELL)&&(t=!0);y(e,u.HotspotLocations.PREMIUM_GUILD_MEMBER_PROFILE,a.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_MEMBER_PROFILE)&&(t=!0)
;y(e,u.HotspotLocations.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0);y(e,u.HotspotLocations.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0);return t},cleanup:function(){}},{version:12,run:function(e){var t=!1;i.default.get("hideNag")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0);i.default.get("hideConnectSpotify")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);i.default.get("hideConnectPlayStation")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);i.default.get("hideMFASMSNotice")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0);return t},cleanup:function(){i.default.remove("hideNag");i.default.remove("hideConnectSpotify");i.default.remove("hideConnectPlayStation");i.default.remove("hideMFASMSNotice")}},{version:13,run:function(e){var t=!1
;i.default.get("hidePremiumPromo")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0);i.default.get("hidePremiumTier2TrialEnding")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0);i.default.get("hidePremiumReactivateNotice")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0);y(e,u.HotspotLocations.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_INVITE_SPLASH)&&(t=!0);return t},cleanup:function(){i.default.remove("hidePremiumPromo");i.default.remove("hidePremiumTier2TrialEnding");i.default.remove("hidePremiumReactivateNotice")}},{version:14,run:function(e){return y(e,u.HotspotLocations.ACTIVITY_BEB_TUTORIAL,a.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK)},cleanup:function(){}}];t.default=h},859566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=f(n(496486)),a=f(n(636602)),o=f(n(933411)),i=f(n(562497)),u=f(n(228087)),l=n(828593),s=f(n(960441)),d=n(840433),c=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}var p={init:function(){u.default[d.UserSettingsTypes.PRELOADED_USER_SETTINGS]=i.default;u.default[d.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS]=o.default;a.default.subscribe(c.ActionTypes.CONNECTION_OPEN,v);a.default.subscribe(c.ActionTypes.USER_SETTINGS_PROTO_ENQUEUE_UPDATE,y);a.default.subscribe(c.ActionTypes.USER_SETTINGS_PROTO_LOAD_IF_NECESSARY,h);a.default.subscribe(c.ActionTypes.APP_STATE_UPDATE,_)}};t.default=p;function v(){var e=s.default.getFullState(),t=e[d.UserSettingsTypes.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&l.PreloadedUserSettingsActionCreators.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs);r.default.forEach(l.UserSettingsActionCreatorsByType,(function(t,n){null!=e[Number(n)].editInfo.offlineEditDataVersion&&t.scheduleSaveFromOfflineEdit()}))}function y(e){
var t=e.settings,n=t.proto,r=t.type,a=e.delaySeconds,o=e.jitter;l.UserSettingsActionCreatorsByType[r].markDirty(n,{delaySeconds:a,jitter:o})}function h(e){var t=e.settingsType;l.UserSettingsActionCreatorsByType[t].loadIfNecessary()}function _(e){var t=e.state;"inactive"!==t&&"background"!==t||r.default.forEach(l.UserSettingsActionCreatorsByType,(function(e,t){if(null!=s.default.getFullState()[Number(t)].editInfo.timeout){e.logger.log("Triggering persistChanges due to AppStateUpdate");e.persistChanges()}}))}},197105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=f(n(740207)),u=n(145122),l=f(n(999607)),s=f(n(635014)),d=n(758956),c=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return y.apply(this,arguments)}function h(){var e=(0,o.useStateFromStores)([s.default],(function(){return(0,d.amplitudeToPerceptual)(s.default.getInputVolume())}));return v(u.MenuControlItem,{id:"input",label:c.default.Messages.FORM_LABEL_INPUT_VOLUME,control:function(t,n){return a.createElement(l.default,y({},t,{ref:n,value:e,onChange:function(e){return i.default.setInputVolume((0,d.perceptualToAmplitude)(e))},"aria-label":c.default.Messages.FORM_LABEL_INPUT_VOLUME}))}})}h.displayName="useInputDeviceVolumeItem"},989546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=!l.isPlatformEmbedded,t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getMode()})),n=function(e,n){return p(i.MenuRadioItem,{id:e,group:"input-modes",label:n,checked:t===e,action:function(){return o.default.setMode(e)}},e)}
;return[n(s.InputModes.VOICE_ACTIVITY,d.default.Messages.INPUT_MODE_VAD),n(s.InputModes.PUSH_TO_TALK,e?d.default.Messages.INPUT_MODE_PTT_LIMITED:d.default.Messages.INPUT_MODE_PTT)]};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=c(n(740207)),i=n(145122),u=c(n(635014)),l=n(864489),s=n(770348),d=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},793963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=p(n(740207)),u=n(145122),l=p(n(999607)),s=p(n(635014)),d=n(758956),c=n(864489),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function _(){var e=(0,
o.useStateFromStores)([s.default],(function(){return(0,d.amplitudeToPerceptual)(s.default.getOutputVolume())}));return y(u.MenuControlItem,{id:"output",label:f.default.Messages.FORM_LABEL_OUTPUT_VOLUME,control:function(t,n){return a.createElement(l.default,h({},t,{ref:n,value:e,maxValue:c.isPlatformEmbedded?200:100,onChange:function(e){return i.default.setOutputVolume((0,d.perceptualToAmplitude)(e))},"aria-label":f.default.Messages.FORM_LABEL_OUTPUT_VOLUME}))}})}_.displayName="useOutputDeviceVolumeItem"},914905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showInvalidUsernameToast=function(){(0,o.showToast)((0,a.createToast)(i.default.Messages.USER_SETTINGS_UPDATE_FAILURE,a.ToastType.FAILURE))};var r,a=n(767019),o=n(143586),i=(r=n(247001))&&r.__esModule?r:{default:r}},712594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,r.useStateFromStores)([a.default],(function(){return(0,o.default)(a.default)}))}
;var r=n(536211),a=i(n(635014)),o=i(n(895355));function i(e){return e&&e.__esModule?e:{default:e}}},213787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.guildExperiment=void 0;t.useHorizontalParticipantsLayoutExperiment=function(e){var t=a.useExperiment({guildId:e}).isHorizontalLayout,n=o.useExperiment({},{autoTrackExposure:!0}).isHorizontalLayout;return t||n};t.userExperiment=void 0;var r=n(373505),a=(0,r.createExperiment)({kind:"guild",id:"2022-01_horizontal_participants_ga",label:"Horizontal video participants layout (guilds)",defaultConfig:{isHorizontalLayout:!1},treatments:[{id:0,label:"Control",config:{isHorizontalLayout:!1}},{id:1,label:"Use horizontal layout",config:{isHorizontalLayout:!0}}]});t.guildExperiment=a;var o=(0,r.createExperiment)({kind:"user",id:"2022-01_horizontal_participants_user_ga",label:"Horizontal video participants layout (users)",defaultConfig:{isHorizontalLayout:!1},treatments:[{id:0,label:"Control",config:{isHorizontalLayout:!1
}},{id:1,label:"Use horizontal layout",config:{isHorizontalLayout:!0}}]});t.userExperiment=o},203737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t.type===o.ParticipantTypes.ACTIVITY)return null;return a.default.getName(e.getGuildId(),e.id,t.user)};var r,a=(r=n(29652))&&r.__esModule?r:{default:r},o=n(859089)},183612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n;return e.type!==r.ParticipantTypes.ACTIVITY&&((0,r.isStreamParticipant)(e)?null!=e.streamId:null!==(t=null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&void 0!==t&&t)};var r=n(859089)},373115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStoresObject)([o.default],(function(){var e,t,n=null===(e=null===(t=(0,r.default)(o.default.getVideoDevices()).values().first())||void 0===t?void 0:t.disabled)||void 0===e||e;return{
enabled:o.default.isVideoEnabled(),cameraUnavailable:n||!o.default.supports(i.Features.VIDEO)}})),t=e.enabled,n=e.cameraUnavailable;return{enabled:t,cameraUnavailable:n}};var r=u(n(496486)),a=n(536211),o=u(n(635014)),i=n(376293);function u(e){return e&&e.__esModule?e:{default:e}}},105847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getDeafStates=l;var r=n(536211),a=u(n(423046)),o=u(n(635014)),i=u(n(387692));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r){var u;void 0===t&&(t=i.default);void 0===n&&(n=o.default);void 0===r&&(r=a.default);var l=null!=e?t.getVoiceState(e.getGuildId(),r.getId()):null;return{selfDeaf:n.isSelfDeaf(),deaf:null!==(u=null==l?void 0:l.deaf)&&void 0!==u&&u}}var s=function(e){return(0,r.useStateFromStoresObject)([i.default,o.default,a.default],(function(){return l(e,i.default,o.default,a.default)}))};t.default=s},423405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;t.getMuteStates=c;var r=n(536211),a=d(n(686305)),o=d(n(423046)),i=d(n(635014)),u=d(n(689389)),l=d(n(387692)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,d,c){var f;void 0===t&&(t=o.default);void 0===n&&(n=l.default);void 0===r&&(r=i.default);void 0===d&&(d=u.default);void 0===c&&(c=a.default);var p=null!=e?n.getVoiceState(e.getGuildId(),t.getId()):null,v=r.isSelfMute()||r.isSelfMutedTemporarily(),y=null==e?void 0:e.getGuildId(),h=c.isViewingRoles(y)&&!d.can(s.Permissions.SPEAK,e);return{selfMute:v,suppress:(null==p?void 0:p.suppress)||h,mute:null!==(f=null==p?void 0:p.mute)&&void 0!==f&&f}}var f=function(e){return(0,r.useStateFromStoresObject)([l.default,o.default,i.default,u.default,a.default],(function(){return c(e,o.default,l.default,i.default,u.default,a.default)}))};t.default=f},830543:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Avatars=L;t.default=j;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=R(n(294184)),i=R(n(496486)),u=n(536211),l=n(556470),s=R(n(303798)),d=R(n(474177)),c=R(n(93879)),f=R(n(769195)),p=R(n(205990)),v=R(n(322946)),y=R(n(469487)),h=R(n(818994)),_=R(n(423046)),m=R(n(728429)),g=R(n(956117)),E=R(n(80828)),O=n(730977),S=R(n(628551)),I=R(n(776360)),b=n(698243),C=n(71246),T=R(n(29652)),P=n(418173),A=n(942675),M=R(n(247001)),N=R(n(854911));function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}
function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e){var t,n,r=e.avatarSize,a=e.compact,u=e.guildId,l=e.users,s=null!=r?r:A.Sizes.SIZE_32,d=(0,A.getAvatarSize)(s),c=l.length-3,f=(0,i.default)(l).take(3).map((function(e,t){var n,r,i=null==e?void 0:e.toString();return D(O.TooltipContainer,{text:i,color:O.TooltipColors.GREY,className:(0,o.default)(N.default.avatar,(n={},n[N.default.compact]=a,n))},e.id,D(S.default,{className:(0,o.default)((r={},r[N.default.avatarMask]=t!==l.length-1,r)),src:e.getAvatarURL(u,d),"aria-label":i,size:s}))})).value();return D("div",{className:(0,
o.default)(N.default.avatars,(t={},t[N.default.compact]=a,t))},void 0,f,c>0?D("div",{style:{width:d,height:d},className:(0,o.default)(N.default.overflow,N.default.avatar,(n={},n[N.default.compact]=a,n))},void 0,D(I.default,{color:I.default.Colors.INTERACTIVE_NORMAL,size:a?I.default.Sizes.SIZE_10:I.default.Sizes.SIZE_16},void 0,"+"+c)):null)}L.displayName="Avatars";function k(e){var t,n,r,i=e.participants,d=e.application,c=e.currentEmbeddedApplication,f=e.channel,v=e.width,y=e.joinSecret,E=v<=400,O=function(e){return e>400?[S.default.Sizes.SIZE_56,56]:e>300?[S.default.Sizes.SIZE_32,32]:e>200?[S.default.Sizes.SIZE_24,24]:[S.default.Sizes.SIZE_16,16]}(v),b=a.useContext(h.default),A=(0,u.useStateFromStoresArray)([m.default,_.default],(function(){return Array.from(i).map((function(e){return _.default.getId()===e?null:m.default.getUser(e)})).filter(C.isNotNullish)})),R=(0,u.useStateFromStores)([s.default],(function(){return s.default.getEmbeddedActivitiesForChannel(f.id).find((function(e){
return e.application_id===d.id}))})),w=(0,l.useAnalyticsContext)(),k=null!==(t=T.default.getName(f.getGuildId(),f.id,null==A?void 0:A[0]))&&void 0!==t?t:null==A||null===(n=A[0])||void 0===n?void 0:n.username;return D("div",{className:N.default.splash},void 0,D(L,{avatarSize:O[0],compact:E,guildId:f.getGuildId(),users:A}),!E&&D(I.default,{size:I.default.Sizes.SIZE_16,className:N.default.subheader},void 0,A.length>1?M.default.Messages.EMBEDDED_ACTIVITIES_ARE_PLAYING.format({username:k,count:A.length-1}):M.default.Messages.EMBEDDED_ACTIVITIES_IS_PLAYING.format({username:k})),D(I.default,{size:E?I.default.Sizes.SIZE_16:I.default.Sizes.SIZE_24,className:(0,o.default)(N.default.header,(r={},r[N.default.compact]=E,r))},void 0,d.name),D("div",{className:N.default.buttons},void 0,y?D(g.default,{size:E?g.default.Sizes.TINY:g.default.Sizes.MEDIUM,className:N.default.button,onClick:function(e){e.stopPropagation();null!=R&&(0,p.default)(R,!0,c,f.id,P.ActivityIntent.PLAY,w.location,b)}
},void 0,M.default.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY):null))}k.displayName="Splash";function j(e){var t,n=e.participant,r=e.width,o=e.selected,i=e.interactible,u=e.channel,l=n.id,s=(0,d.default)(),p=(null==s?void 0:s.channelId)===u.id&&s.application_id===l,h=(0,c.default)(),_=(0,y.default)([l])[0],m=a.useState(null),g=m[0],O=m[1],S=!p&&null==n.joinSecret,I=!o&&p,C=!p,T=!p&&!o;a.useEffect((function(){(0,b.getAssetIds)(l,["embedded_background"]).then((function(e){var t=e[0];return O(t)}))}),[l]);if(S)t=D(E.default,{className:N.default.spinner});else{var P;t=a.createElement(a.Fragment,null,I&&D(f.default,{className:N.default.iframe,embedId:(0,v.default)(u.id,l)}),C&&null!=_&&null!=g&&D("img",{className:N.default.splashImage,alt:_.name,src:null!==(P=(0,b.getAssetImage)(_.id,g,1024))&&void 0!==P?P:""}),T&&null!=_&&D(k,{width:r,channel:u,participants:n.participants,application:_,currentEmbeddedApplication:h,joinSecret:n.joinSecret}),i||C?null:D("div",{className:N.default.clickShield
}))}return D("div",{className:N.default.container},void 0,t)}j.displayName="ActivityTile"},611456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=i(n(294184)),o=i(n(917507));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=r.forwardRef((function(e,t){var n,i=e.children,u=e.className,l=e.style,s=e.noBorder,d=void 0!==s&&s,c=e.participantUserId
;return r.createElement("div",{className:(0,a.default)(u,o.default.tile,(n={},n[o.default.noBorder]=d,n)),style:l,ref:t,"data-selenium-video-tile":c},i)}));t.default=l},440556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(294184)),i=u(n(969600));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={aStreamId:null,aReady:!1,
bStreamId:t.props.streamId,bReady:!0};t.handleReady=function(){t.state.aReady?t.setState({bReady:!0,aStreamId:null,aReady:!1}):t.setState({aReady:!0,bStreamId:null,bReady:!1})};t.handleDoubleClick=function(e){var n=t.props,r=n.onDoubleClick,a=n.id;null==r||r(e,a)};t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.id;null==r||r(e,a)};return t}t.getDerivedStateFromProps=function(e,t){var n=e.streamId;if(t.aReady){if(n!==t.aStreamId)return null==n?{bStreamId:n,bReady:!0,aStreamId:null,aReady:!1}:{bStreamId:n,bReady:!1}}else if(n!==t.bStreamId)return null==n?{aStreamId:n,aReady:!0,bStreamId:null,bReady:!1}:{aStreamId:n,aReady:!1};return null};var n=t.prototype;n.renderVideo=function(e,t){var n=this.props,r=n.children,o=n.mirror,u=n.paused,l=n.component;if(null==e){if(null==r)return null;var c=a.Children.only(r);return a.cloneElement(c,d({style:{display:t&&!o?void 0:"none"}},c.props))}return s(l,{paused:u,className:i.default.media,streamId:e,onReady:t?null:this.handleReady
})};n.render=function(){var e,t=this.props,n=t.mirror,r=t.className;return s("div",{className:(0,o.default)(i.default.video,r,(e={},e[i.default.mirror]=n,e)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady))};return t}(a.PureComponent);f.displayName="BufferedVideo";f.defaultProps={paused:!0};var p=f;t.default=p},709578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.CallTileOverlay=t.CallTileFit=void 0
;var r,a=H(n(667294)),o=W(n(294184)),i=n(536211),u=W(n(740207)),l=W(n(284382)),s=W(n(66384)),d=n(625905),c=W(n(423046)),f=W(n(635014)),p=W(n(16941)),v=W(n(730977)),y=H(n(971146)),h=W(n(337322)),_=W(n(79027)),m=W(n(428990)),g=W(n(324582)),E=W(n(287317)),O=W(n(68259)),S=W(n(775803)),I=W(n(149982)),b=W(n(335709)),C=W(n(776360)),T=W(n(203737)),P=W(n(830543)),A=W(n(611456)),M=H(n(55055)),N=W(n(522503)),R=n(227482),w=W(n(700598)),D=n(770348),L=n(859089),k=n(376293),j=W(n(247001)),U=W(n(32599)),G=["onClick"],F=["onClick"],x=["onClick"];function W(e){return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var K=a.memo((function(e){var t,n,r,v,h=e.participant,m=e.onDoubleClick,g=e.onContextMenu,E=e.onClick,O=e.onMouseDown,S=e.onKeyDown,I=e.className,b=e.style,C=e.channel,R=e.width,j=e.inPopout,G=e.onVideoResize,F=e.inCall,x=void 0!==F&&F,W=e.selected,V=void 0!==W&&W,H=e.noBorder,B=void 0!==H&&H,Y=e.noVideoRender,K=void 0!==Y&&Y,$=e.focused,q=void 0!==$&&$,Z=e.blocked,X=void 0!==Z&&Z,J=e.fit,ee=void 0===J?y.default.Fit.CONTAIN:J,te=e.paused,ne=void 0!==te&&te,re=e.pulseSpeakingIndicator,ae=void 0!==re&&re,oe=a.useContext(d.IdleStateContext),ie=(0,i.useStateFromStores)([c.default],(function(){return c.default.getId()})),ue=h.type===L.ParticipantTypes.ACTIVITY?null:null===(t=h.user)||void 0===t?void 0:t.id,le=(0,i.useStateFromStores)([f.default],(function(){return null!=ue&&f.default.isLocalVideoDisabled(ue,(0,s.default)(h.type))}),[ue,h.type]),se=(0,w.default)(h,ie),de=se.speaking,ce=se.muted,fe=se.deafen,pe=se.ringing,ve=se.hasVideo,ye=(0,i.useStateFromStores)([f.default],(function(){
return null!=ue&&f.default.isLocalMute(ue,(0,s.default)(h.type))}),[ue,h.type]),he=h.type===L.ParticipantTypes.STREAM&&ue===ie,_e=a.useCallback((function(){null!=ue&&u.default.toggleLocalMute(ue,k.MediaEngineContextTypes.STREAM)}),[ue]),me=a.useCallback((function(e){null==E||E(h,e)}),[E,h]),ge=a.useCallback((function(e){null==m||m(h,e)}),[m,h]),Ee=a.useCallback((function(e){null==g||g(h,e)}),[g,h]),Oe=null,Se=null,Ie=!0;switch(h.type){case L.ParticipantTypes.STREAM:Oe=z(M.default,{participant:h,selected:V,width:R,fit:ee,onVideoResize:G,paused:ne,inPopout:j});Se=z(M.StreamTileIndicators,{participant:h,selected:V,width:R,focused:q,idle:oe});Ie=!1;break;case L.ParticipantTypes.USER:Oe=z(N.default,{channel:C,inCall:x,participant:h,fit:ee,onVideoResize:G,paused:ne,selected:V,width:R,blocked:X,noVideoRender:K,pulseSpeakingIndicator:ae});break;case L.ParticipantTypes.ACTIVITY:Oe=z(P.default,{interactible:q,participant:h,selected:V,channel:C,width:R});break
;case L.ParticipantTypes.HIDDEN_STREAM:Oe=z(M.default,{participant:h,selected:V,width:R,fit:ee,onVideoResize:G,paused:ne,inPopout:j})}var be=a.useRef(null);return z(l.default,{section:D.AnalyticsSections.VOICE_CHANNEL_TILE},void 0,z("div",{className:(0,o.default)(U.default.wrapper,(n={},n[U.default.ringing]=pe,n),I)},void 0,a.createElement(A.default,{ref:be,className:(0,o.default)(U.default.tile,(r={},r[U.default.noBorder]=B,r[U.default.noInteraction]=null==E,r[U.default.idle]=oe,r[U.default.videoLayer]=Ie,r)),noBorder:B,style:b,participantUserId:ue},z(p.default,{focusProps:{ringTarget:be,offset:1},onDoubleClick:ge,onContextMenu:Ee,onClick:me,onMouseDown:O,onKeyDown:S,className:U.default.tileChild},void 0,Oe,B?null:z("div",{className:U.default.indicators},void 0,Se),V?z("div",{className:U.default.selectedScreen},void 0,z(_.default,{className:U.default.selectedIcon})):null,h.type!==L.ParticipantTypes.ACTIVITY?z(Q,{focused:q,width:R,inCall:x,participantType:h.type,hasVideo:null!=ve&&ve,
muted:ce,deafen:fe,idle:oe,title:(0,T.default)(C,h),blocked:X,localMute:ye,localVideoDisabled:le,hideAudioIcon:he,onContextMenu:Ee,onToggleMute:_e}):null,x&&!B?z("div",{className:(0,o.default)(U.default.border,(v={},v[U.default.speaking]=de&&!q,v))}):null))))}));K.displayName="CallTile";var $=z(b.default,{}),q=z(I.default,{}),Z=z(S.default,{}),X=z("div",{}),Q=a.memo((function(e){var t,n,r=e.muted,i=e.deafen,u=e.idle,l=e.title,s=e.width,d=e.hasVideo,c=e.inCall,y=e.localMute,S=e.localVideoDisabled,I=e.focused,b=e.blocked,T=e.hideAudioIcon,P=e.participantType,A=e.onContextMenu,M=e.onToggleMute,N=null,w=null,W=null,V=(0,R.isVideoCompact)(s),H=(0,R.isNamesCompact)(s);if(!T)if(i||r||y){var K;N=z(i?g.default:E.default,{foreground:(0,o.default)((K={},K[U.default.localMuteStrikethrough]=y&&!i,K)),className:U.default.status});y&&P===L.ParticipantTypes.STREAM&&d&&!I&&(N=z(v.default,{text:j.default.Messages.UNMUTE},void 0,(function(e){var t=e.onClick,n=Y(e,G)
;return a.createElement(p.default,B({},n,{onClick:function(e){e.stopPropagation();null==t||t();M()},className:(0,o.default)(U.default.status,U.default.interactive)}),$)})))}else y||P!==L.ParticipantTypes.STREAM||!d||V||I||(N=z(v.default,{text:j.default.Messages.MUTE},void 0,(function(e){var t=e.onClick,n=Y(e,F);return a.createElement(p.default,B({},n,{onClick:function(e){e.stopPropagation();null==t||t();M()},className:(0,o.default)(U.default.status,U.default.interactive,U.default.toggleMute)}),q)})));c&&f.default.supports(k.Features.VIDEO)||!d||(w=z(_.default,{className:U.default.status}));c&&d&&S&&(w=z(m.default,{className:U.default.status,foreground:U.default.localMuteStrikethrough}));P===L.ParticipantTypes.STREAM&&!I&&d&&(W=z(v.default,{text:j.default.Messages.OPTIONS},void 0,(function(e){var t=e.onClick,n=Y(e,x);return a.createElement(p.default,B({},n,{onClick:function(e){e.stopPropagation();null==t||t();A(e)},className:(0,o.default)(U.default.status,U.default.interactive)}),Z)})))
;return z("div",{className:(0,o.default)(U.default.overlay,(t={},t[U.default.small]=s<195,t))},void 0,H||I?X:z(C.default,{className:(0,o.default)(U.default.overlayTitle,(n={},n[U.default.idle]=u,n)),color:C.default.Colors.CUSTOM,size:C.default.Sizes.SIZE_16},void 0,b?z("div",{className:U.default.blocked},void 0,z(h.default,{className:U.default.blockedIcon,color:D.Colors.STATUS_RED})):null,P===L.ParticipantTypes.STREAM&&z(O.default,{className:U.default.titleIcon}),l&&z("span",{className:U.default.overlayTitleText},void 0,l)),z("div",{className:U.default.statusContainer},void 0,w,N,W))}));t.CallTileOverlay=Q;Q.displayName="CallTitleOverlay";var J=y.VideoStreamFit;t.CallTileFit=J;var ee=K;t.default=ee},288146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CallTileCTA=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(956117)),u=d(n(730977)),l=d(n(760443)),s=["onClick"];function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){
p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t=e.children,n=e.onClick,r=e.className,d=e.tooltip;return f(u.default,{text:d},void 0,(function(e){var u=e.onClick,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return a.createElement(i.default,p({},d,{onClick:function(e){null==n||n(e);null==u||u()},innerClassName:l.default.buttonReset,color:(0,o.default)(l.default.cta,r),size:i.default.Sizes.MIN}),t)}))}v.displayName="CallTileCTA"},921532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=f(n(667294)),o=d(n(972247)),i=n(365561),u=f(n(709578)),l=n(770348),s=d(n(974777));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v="CameraPreviewPosition";function y(e){
var t=e.width,n=e.onContextMenuParticipant,r=e.height,d=e.channel,c=e.participants,f=function(){var e=a.useState((function(){return o.default.get(v,l.PictureInPicturePositions.BOTTOM_RIGHT)})),t=e[0],n=e[1];return[t,a.useCallback((function(e){o.default.set(v,e);n(e)}),[])]}(),y=f[0],h=f[1],_=a.useRef(null),m=null==d.getGuildId()?70:50;a.useLayoutEffect((function(){var e;null===(e=_.current)||void 0===e||e.ensureIsInPosition()}),[c.length]);return p("div",{className:s.default.container},void 0,a.createElement(i.PictureInPictureWindow,{position:y,id:0,ref:_,onMove:function(e,t){return h(t)},maxX:t,maxY:r,edgeOffsetTop:m,edgeOffsetBottom:70,edgeOffsetLeft:16,edgeOffsetRight:16},p("div",{className:s.default.tileContainer},void 0,c.map((function(e){return p(u.default,{participant:e,channel:d,onContextMenu:n,className:s.default.tile,fit:u.CallTileFit.COVER,inCall:!0,inPopout:!1,width:160})})))))}y.displayName="CameraPreview"},839166:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.GoLiveButton=Me;t.default=ke;t.handleToggleVideo=Pe
;var r,a=Ee(n(667294)),o=me(n(294184)),i=me(n(441143)),u=n(248088),l=n(536211),s=me(n(740207)),d=me(n(136873)),c=n(123516),f=me(n(284382)),p=n(556470),v=me(n(213847)),y=n(836233),h=me(n(235879)),_=n(929659),m=n(746920),g=Ee(n(303798)),E=n(186096),O=me(n(198016)),S=me(n(62954)),I=n(245546),b=me(n(469487)),C=me(n(825724)),T=me(n(190320)),P=me(n(818994)),A=me(n(932018)),M=me(n(590087)),N=n(747868),R=me(n(379310)),w=me(n(908921)),D=n(902399),L=me(n(604686)),k=me(n(620859)),j=Ee(n(278352)),U=me(n(652566)),G=me(n(134893)),F=me(n(222935)),x=me(n(605520)),W=me(n(643779)),V=me(n(67286)),H=me(n(401311)),B=me(n(607576)),Y=me(n(305914)),z=me(n(735319)),K=me(n(645675)),$=me(n(607209)),q=me(n(635014)),Z=me(n(689389)),X=me(n(211136)),Q=me(n(728429)),J=me(n(230047)),ee=me(n(160629)),te=me(n(308920)),ne=me(n(373115)),re=me(n(431388)),ae=me(n(770404)),oe=me(n(423405)),ie=me(n(336940)),ue=me(n(493051)),le=me(n(602824)),se=me(n(310261)),de=me(n(30269)),ce=n(770348),fe=n(418173),pe=n(859089),ve=n(439142),ye=me(n(247001)),he=me(n(716698)),_e=["onClick"]
;function me(e){return e&&e.__esModule?e:{default:e}}function ge(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ge=function(e){return e?n:t})(e)}function Ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ge(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Oe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(){Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ie.apply(this,arguments)}function be(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ce(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ce(o,r,a,i,u,"next",e)}function u(e){Ce(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Pe(e,t){if(q.default.isVideoEnabled()!==e){var n=function(){return s.default.setVideoEnabled(e)};e?(0,de.default)(n,t):n()}}function Ae(){var e=(0,l.useStateFromStores)([h.default],(function(){return h.default.useReducedMotion}));function t(){return(t=Te(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(68088).then(n.t.bind(n,568088,19));case 2:t=e.sent;r=t.default;return e.abrupt("return",r);case 5:case"end":return e.stop()}
}),e)})))).apply(this,arguments)}return be(J.default,{importData:function(){return t.apply(this,arguments)},shouldAnimate:!e,className:he.default.sparkles})}Ae.displayName="Sparkles";function Me(e){var t=e.channel,n=e.currentUser,r=e.exitFullScreen,o=e.canGoLive,i=e.coloring,u=e.hasPermission,s=a.useContext(P.default),d=(0,l.useStateFromStoresArray)([$.default],(function(){return $.default.getAllActiveStreams()})).find((function(e){return e.ownerId===n.id})),c=t.getGuildId(),f=a.useCallback((function(){null==r||r();if(!o)return(0,le.default)();(0,se.default)(c,t.id,ce.AnalyticsPages.GUILD_CHANNEL)}),[c,t.id,o,r]),p=null!=d;return be(G.default,{},void 0,be(ee.default,{renderPopout:function(e){var r=e.closePopout;return be(F.default,{},void 0,be(ie.default,{channel:t,currentUser:n,activeStreams:null!=d?[d]:[],handleGoLive:f,onClose:r,appContext:s}))},position:ee.default.Positions.TOP,align:ee.default.Align.CENTER,animation:ee.default.Animation.FADE},void 0,(function(e,t){
var n=t.isShown,r=e.onClick,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,_e);return be("div",{},void 0,null!=d?a.createElement(Y.default,Ie({},l,{color:i[1],centerButton:!0,className:he.default.controlButton,onClick:function(){return(0,w.default)(d)},isSelfStream:!0,onPopoutClick:p?r:null,popoutOpen:n,shouldShowTooltip:!n})):a.createElement(z.default,Ie({},l,{centerButton:!0,color:i[0],className:he.default.controlButton,hasPermission:u,onClick:o?f:le.default,onPopoutClick:p?r:null,popoutOpen:n,shouldShowTooltip:!n})))})))}Me.displayName="GoLiveButton";var Ne,Re=be(Ae,{});function we(e){var t=e.channel,n=(0,l.useStateFromStores)([Z.default],(function(){return Z.default.can(ce.Permissions.START_EMBEDDED_ACTIVTIES,t)&&null!=t.guild_id}),[t]),r=t.getGuildId(),o=(0,O.default)(r)&&null!=r,i=(0,l.useStateFromStores)([g.default],(function(){
return null!=t.id&&""!==t.id?g.default.getEmbeddedActivitiesForChannel(t.id):g.NO_ACTIVITIES}))[0],u=(0,b.default)(null!=i?[i.application_id]:[])[0],s=(0,l.useStateFromStores)([g.default],(function(){return g.default.isLaunchingActivity()})),d=function(e){var t=(0,l.useStateFromStoresArray)([g.default],(function(){return null!=e?g.default.getEnabledAppIds(e):[]})),n=(0,_.useBeb)(e),r=(0,l.useStateFromStores)([U.default],(function(){return n&&!U.default.hasHotspot(ve.HotspotLocations.ACTIVITY_BEB_SPARKLES)&&fe.BEB_ACTIVITIES.some((function(e){return t.includes(e)}))}));a.useEffect((function(){r&&te.default.track(ce.AnalyticEvents.TOOLTIP_VIEWED,{type:"embedded_activity_control_tray_sparkles"})}),[r]);return{shouldShowBebSparkles:r,handleSparkleClick:function(){r&&j.hideHotspot(ve.HotspotLocations.ACTIVITY_BEB_SPARKLES)}}}(r),c=d.shouldShowBebSparkles,f=d.handleSparkleClick,v=(0,p.useAnalyticsContext)();a.useEffect((function(){r&&(0,m.fetchEmbeddedActivities)(r)}),[r]);var y=(0,
E.useFreeActivityIndicator)({guildId:r});if(!n||!o)return null;var h=null!=i&&null!=u;return be(ee.default,{position:ee.default.Positions.TOP,align:ee.default.Align.CENTER,renderPopout:function(e){var n=e.closePopout;return be(S.default,{channel:t,onClose:n,locationObject:v.location})}},void 0,(function(e){var t=e.onClick;return be("div",{className:he.default.buttonContainer},void 0,be(x.default,{className:he.default.controlButton,disabled:s,label:ye.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY,isActivityActive:h,onClick:function(e){f();t(e)}}),y?be(I.FreeActivityIndicatorDot,{top:4,right:10,size:12,maskColor:I.MaskColor.BLACK}):null,c?Re:null)}))}we.displayName="ConnectedActivityButton";!function(e){e.ACTIVITY="ACTIVITY";e.STREAM="STREAM";e.CALL="CALL";e.EVENT="EVENT"}(Ne||(Ne={}));var De=a.memo((function(e){var t=e.connectedActivityApplicationId,n=e.currentUser,r=e.onDisconnectCall,o=e.channel,i=(0,l.useStateFromStores)([C.default],(function(){
return C.default.getSelectedParticipant(o.id)})),s=a.useContext(y.AccessibilityPreferencesContext).reducedMotion,f=a.useState(!1),p=f[0],v=f[1],h=null==i?void 0:i.id,_=(0,l.useStateFromStores)([$.default],(function(){return null!=h?$.default.getActiveStreamForStreamKey(h):null}),[h]),g=(null==i?void 0:i.type)===pe.ParticipantTypes.STREAM&&null!=_&&_.ownerId!==(null==n?void 0:n.id),E=(0,l.useStateFromStoresArray)([$.default],(function(){return $.default.getAllActiveStreamsForChannel(o.id).filter((function(e){return e.ownerId!==(null==n?void 0:n.id)}))})),O=(0,D.useActiveEvent)(o.id),S=a.useCallback((function(){return(null==i?void 0:i.type)===pe.ParticipantTypes.ACTIVITY&&i.id===t?Ne.ACTIVITY:g?Ne.STREAM:null!=O?Ne.EVENT:Ne.CALL}),[i,t,g,O]),I=a.useState(S()),b=I[0],T=I[1],P=(0,u.useSpring)({opacity:p?.2:1,transform:p&&!s.enabled?"scale(0.7)":"scale(1)",config:{mass:2,tension:p?600:1e3,friction:45,precision:.01,clamp:p},onRest:function(){T(S());v(!1)}});a.useEffect((function(){
S()!==b&&v(!0)}),[b,S]);return be(ee.default,{renderPopout:function(e){var t=e.closePopout;return be(ie.default,{channel:o,currentUser:n,activeStreams:E,handleGoLive:ce.NOOP_NULL,hideSelfOptions:!0,onClose:t})},position:ee.default.Positions.TOP,align:ee.default.Align.CENTER,animation:ee.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,l=t.isShown;return be(u.animated.div,{style:P},void 0,function(e,t){var n={centerButton:!0,className:he.default.controlButton,popoutOpen:e};switch(b){case Ne.ACTIVITY:return a.createElement(V.default,Ie({},n,{color:"red",onClick:function(){return null!=i&&(0,m.stopEmbeddedActivity)(o.id,i.id)},onPopoutClick:E.length>0?t:null}));case Ne.STREAM:return a.createElement(Y.default,Ie({},n,{color:"red",onClick:function(){if(null!=_)(0,c.stopStream)((0,N.encodeStreamKey)(_));else for(var e,t=Oe(E);!(e=t()).done;){var n=e.value;(0,c.stopStream)((0,N.encodeStreamKey)(n))}},onPopoutClick:E.length>1?t:null,isSelfStream:!1}));case Ne.CALL:
return a.createElement(H.default,Ie({},n,{color:"red",onClick:function(){d.default.disconnect();null==r||r()},onPopoutClick:E.length>0?t:null}));case Ne.EVENT:return be(L.default,{guildId:o.guild_id,channelId:o.id,onClick:function(){d.default.disconnect();null==r||r()}})}}(l,n))}))}));function Le(e){var t=e.channel,n=e.cameraUnavailable,r=e.hasCameraPermission,i=a.useContext(P.default),u=(0,re.default)(t),l=u.reachedLimit,s=u.limit,c=a.useCallback((function(){(0,de.default)((function(){return d.default.selectVoiceChannel(t.id,!0)}),i)}),[t.id,i]),f=a.useCallback((function(){d.default.selectVoiceChannel(t.id,!1)}),[t.id]),p=a.useCallback((function(){n?(0,ue.default)():c()}),[n,c]);return a.createElement(a.Fragment,null,be(K.default,{enabled:!0,centerButton:!0,join:!0,color:"green",channelLimitReached:l,channelLimit:s,channel:t,cameraUnavailable:n,hasPermission:r,onCameraUnavailable:p,className:he.default.controlButton,iconClassName:he.default.joinIcon,onChange:c}),be(W.default,{
centerButton:!0,color:"green",channel:t,className:(0,o.default)(he.default.controlButton,he.default.lastButton),onClick:f}))}function ke(e){var t=e.channel,n=e.mode,r=e.className,a=e.onDisconnectCall,u=e.exitFullScreen,s=(0,l.useStateFromStores)([Q.default],(function(){var e=Q.default.getCurrentUser();(0,i.default)(null!=e,"CenterControlTray: currentUser cannot be undefined");return e})),d=(0,ne.default)(),c=d.cameraUnavailable,p=d.enabled,y=(0,ae.default)(t),h=(0,oe.default)(t),_=h.suppress,m=h.selfMute,E=h.mute,O=_||m||E,S=(0,l.useStateFromStoresObject)([q.default],(function(){return{canGoLive:(0,R.default)(q.default)}})).canGoLive,I=(0,l.useStateFromStores)([X.default],(function(){return X.default.getVoiceChannelId()===t.id}),[t]),b=(0,l.useStateFromStores)([g.default],(function(){var e=g.default.getSelfEmbeddedActivityForChannel(t.id);return null!=e?e.application_id:null})),C=(0,re.default)(t),P=C.reachedLimit,N=C.limit,w=(0,v.default)();if(!I)return be(Le,{channel:t,
cameraUnavailable:c,hasCameraPermission:y});var D="primaryDark";n===ce.ChannelModes.VOICE&&(D=w===ce.ThemeTypes.LIGHT?"primaryLight":D);var L="white";n===ce.ChannelModes.VOICE&&(L=w===ce.ThemeTypes.LIGHT?"activeLight":L);return be(f.default,{section:ce.AnalyticsSections.VOICE_CONTROL_TRAY},void 0,be("div",{className:he.default.eventPromptsContainer},void 0,be(k.default,{guildId:t.guild_id,channelId:t.id})),be("div",{className:(0,o.default)(he.default.wrapper,r)},void 0,be(ee.default,{renderPopout:function(e){var t=e.closePopout;return be(F.default,{},void 0,be(A.default,{onClose:t}))},position:ee.default.Positions.TOP,align:ee.default.Align.CENTER,animation:ee.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return be(K.default,{centerButton:!0,color:p?L:D,hasPermission:y,className:he.default.controlButton,enabled:p,cameraUnavailable:c,onChange:Pe,onCameraUnavailable:ue.default,channelLimitReached:P,channelLimit:N,popoutOpen:r,onPopoutClick:n})})),be(we,{
channel:t}),be(Me,{coloring:[D,L],channel:t,currentUser:s,exitFullScreen:u,canGoLive:S,hasPermission:y}),be(ee.default,{renderPopout:function(e){var t=e.closePopout;return be(F.default,{},void 0,be(T.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0}))},align:ee.default.Align.CENTER,position:ee.default.Positions.TOP,animation:ee.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return be(B.default,{color:O?L:D,centerButton:!0,onPopoutClick:n,className:he.default.controlButton,selfMute:m,serverMute:E,suppress:_,popoutOpen:r,onClick:function(){return(0,M.default)(E,_)}})})),be(De,{connectedActivityApplicationId:b,currentUser:s,channel:t,onDisconnectCall:a})))}ke.displayName="CenterControlTray"},828839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=M(n(294184)),i=n(248088),u=n(536211),l=M(n(864345)),s=M(n(303798)),d=M(n(936353)),c=M(n(715801)),f=M(n(423046)),p=M(n(635014)),v=M(n(974661)),y=M(n(530250)),h=n(956506),_=n(213787),m=M(n(709578)),g=M(n(921532)),E=n(421622),O=M(n(170555)),S=M(n(508957)),I=M(n(151503)),b=M(n(232269)),C=M(n(486082)),T=n(770348),P=n(859089),A=M(n(367374));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e){var t,n=e.onSelectParticipant,r=e.onContextMenuParticipant,l=e.onFullscreenParticipant,d=e.participants,y=e.filteredParticipants,_=e.popoutWindow,O=e.inCall,S=e.channel,I=e.selectedParticipant,b=e.showParticipants,M=void 0===b||b,N=e.className,D=e.paused,L=e.width,k=e.height,j=e.layout,U=e.idle,G=null!=_,F=L<=E.FORCE_HIDE_PARTICIPANTS_WIDTH,x=M&&!F,W=p.default.getVideoComponent(),V=f.default.getId(),H=(0,u.useStateFromStores)([s.default],(function(){
return s.default.getSelfEmbeddedActivityForChannel(S.id)})),B=a.useState({width:0,height:0}),Y=B[0],z=B[1],K=a.useState(!1),$=K[0],q=K[1],Z=(0,i.useSpring)({value:x?1:0,config:w({},i.config.stiff,{clamp:!0}),onStart:function(){return q(!0)},onChange:function(){return h.ComponentDispatch.dispatch(T.ComponentActions.REMEASURE_TARGET)},onRest:function(){q(!1);h.ComponentDispatch.dispatch(T.ComponentActions.REMEASURE_TARGET)}}),X=(0,i.useTransition)(I,{keys:function(e){return null==e?void 0:e.id},config:w({},i.config.stiff,{clamp:!0}),initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),Q=a.useCallback((function(e){z(e)}),[]),J=I.type===P.ParticipantTypes.ACTIVITY&&(null==H?void 0:H.application_id)===I.id,ee=I.type!==P.ParticipantTypes.ACTIVITY&&null!=I.streamId&&Y.width>0&&Y.height>0?Y.width/Y.height:1.7777777777777777,te=x||D?[]:(0,E.getPipParticipants)(d,I,V),ne=Math.min(k,k-(I.type===P.ParticipantTypes.ACTIVITY?144:0))*ee,re=x?L-E.PARTICIPANTS_WIDTH:L
;return R(i.animated.div,{style:{paddingLeft:Z.value.to((function(e){return 8*e+"px"})),paddingRight:Z.value.to((function(e){return E.PARTICIPANTS_WIDTH*e+8*e+"px"}))},className:(0,o.default)(A.default.root,A.default.flexCenter,N)},void 0,R("div",{className:A.default.videoFrame},void 0,R("div",{style:{maxWidth:ne+"px"},className:A.default.videoWrapper},void 0,R(v.default,{className:A.default.videoSizer,aspectRatio:ee},void 0,X((function(e,t,a){var o=a.key;return null!=t?R(i.animated.div,{className:A.default.videoWrapperAnimated,style:e},o,R(m.default,{focused:!0,noBorder:!x,channel:S,className:A.default.focusedVideo,videoComponent:W,paused:D,width:re,participant:t,onClick:n,onDoubleClick:l,onContextMenu:r,onVideoResize:Q,inCall:O,inPopout:G})):null})))),F||j===T.ChannelLayouts.MINIMUM||j===T.ChannelLayouts.NORMAL||J?null:R(c.default,{channelId:S.id,isParticipantsOpen:M,className:(0,o.default)(A.default.participantsButton,(t={},t[A.default.idle]=U,t))})),R(i.animated.div,{
className:A.default.participantsWrapperAnimated,style:{transform:Z.value.to((function(e){return"translateX("+-1*e*E.PARTICIPANTS_WIDTH+"px)"})),visibility:Z.value.to((function(e){return 0===e?"hidden":"visible"}))}},void 0,R(C.default,{channel:S,onClick:n,onContextMenu:r,onDoubleClick:l,participants:y,selectedParticipantId:I.id,inCall:O,paused:D||$||!x,popoutWindow:_})),te.length>0?R(g.default,{onContextMenuParticipant:r,width:L,height:k,channel:S,participants:te}):null)}D.displayName="FocusedView";var L=(0,l.default)((function(e){var t,n=e.participants,r=e.filteredParticipants,i=e.selectedParticipant,u=e.participantsVersion,l=e.layout,s=e.onSelectParticipant,c=e.onContextMenuParticipant,p=e.onFullscreenParticipant,v=e.channel,m=e.guild,g=e.className,E=e.inCall,C=e.showParticipants,M=void 0===C||C,N=e.paused,w=void 0!==N&&N,L=e.width,k=e.height,j=e.idle,U=e.mode,G=e.popoutWindow;a.useEffect((function(){h.ComponentDispatch.dispatch(T.ComponentActions.REMEASURE_TARGET)}),[L,k])
;var F=a.useMemo((function(){return r.filter((function(e){return e.type!==P.ParticipantTypes.ACTIVITY||!e.participants.has(f.default.getId())}))}),[r,u]),x=(0,_.useHorizontalParticipantsLayoutExperiment)(null!==(t=v.getGuildId())&&void 0!==t?t:"");if((null==m?void 0:m.hasFeature(T.GuildFeatures.TEXT_IN_VOICE_ENABLED))&&!E)return R(O.default,{channel:v,participants:n});if(U===T.ChannelModes.VOICE)return R(d.default,{guildId:v.guild_id,width:L,className:A.default.voiceCallWrapper,participants:n,onContextMenu:c});r=E?r:n;var W=null!=G;return null==i?0===r.length?R(b.default,{className:(0,o.default)(A.default.videoGrid,A.default.hiddenParticipants),channelId:v.id,width:L}):R(y.default,{className:A.default.videoGridWrapper,justify:y.default.Justify.CENTER,align:y.default.Align.CENTER},void 0,R(S.default,{channel:v,className:A.default.videoGrid,participants:F,totalNumberOfParticipants:n.length,layout:l,onClick:s,onDoubleClick:p,onContextMenu:c,paused:w,inCall:E,inPopout:W
})):x||(null==m?void 0:m.hasFeature(T.GuildFeatures.TEXT_IN_VOICE_ENABLED))?R(I.default,{onFullscreenParticipant:p,onContextMenuParticipant:c,onSelectParticipant:s,selectedParticipant:i,filteredParticipants:F,participants:n,popoutWindow:G,className:g,idle:j,height:k,width:L,layout:l,inCall:E,channel:v,showParticipants:M}):R(D,{onFullscreenParticipant:p,onContextMenuParticipant:c,onSelectParticipant:s,selectedParticipant:i,filteredParticipants:F,participants:n,popoutWindow:G,className:g,idle:j,height:k,width:L,layout:l,inCall:E,channel:v,showParticipants:M})}));t.default=L},421622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARTICIPANTS_WIDTH=t.FORCE_HIDE_PARTICIPANTS_WIDTH=void 0;t.getPipParticipants=function(e,t,n){if(null==t||t.type===i.ParticipantTypes.ACTIVITY)return[];return[t.type===i.ParticipantTypes.STREAM?e.find((function(e){return e.type===i.ParticipantTypes.USER&&e.id===(null==t?void 0:t.user.id)&&e.id!==n&&(0,o.default)(e)
})):null,t.type===i.ParticipantTypes.USER?e.find((function(e){return e.type===i.ParticipantTypes.STREAM&&e.user.id===(null==t?void 0:t.user.id)&&null!=e.streamId})):null,t.id!==n?e.find((function(e){return e.type===i.ParticipantTypes.USER&&e.id===n&&(0,o.default)(e)})):null].filter(a.isNotNullish)};var r,a=n(71246),o=(r=n(183612))&&r.__esModule?r:{default:r},i=n(859089);t.PARTICIPANTS_WIDTH=228;t.FORCE_HIDE_PARTICIPANTS_WIDTH=684},170555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getParticipantNamesText=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=v(n(136873)),i=v(n(956117)),u=v(n(971639)),l=v(n(776360)),s=v(n(203737)),d=v(n(709578)),c=n(859089),f=v(n(247001)),p=v(n(657091));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){return 0===t.length?f.default.Messages.CURRENTLY_IN_VOICE_EMPTY:1===t.length?f.default.Messages.CURRENTLY_IN_VOICE_1.format({a:(0,s.default)(e,t[0])
}):2===t.length?f.default.Messages.CURRENTLY_IN_VOICE_2.format({a:(0,s.default)(e,t[0]),b:(0,s.default)(e,t[1])}):t.length>2?f.default.Messages.CURRENTLY_IN_VOICE_2_N.format({a:(0,s.default)(e,t[0]),b:(0,s.default)(e,t[1]),n:t.length-2}):void 0}function m(e){var t=e.participants,n=e.channel,r=t.filter(c.isUserParticipant),s=a.useCallback((function(){o.default.selectVoiceChannel(n.id)}),[n.id]),v=4===r.length?2:3;return h("div",{className:p.default.container},void 0,h("div",{className:p.default.tiles,style:{maxWidth:168*v}},void 0,r.slice(0,5).map((function(e){return h(d.default,{participant:e,channel:n,className:p.default.tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id)}))),h(u.default,{className:p.default.channelName,size:u.default.Sizes.SIZE_32},void 0,n.name),h("div",{className:p.default.participantsRow},void 0,h(l.default,{color:l.default.Colors.HEADER_SECONDARY},void 0,_(n,r))),h(i.default,{className:p.default.joinButton,color:i.default.Colors.GREEN,onClick:s,
size:i.default.Sizes.MEDIUM},void 0,f.default.Messages.JOIN_VOICE))}m.displayName="ChannelCallEmpty";var g=m;t.default=g},508957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(689575),u=p(n(30098)),l=p(n(689389)),s=p(n(838696)),d=p(n(709578)),c=p(n(421417)),f=p(n(946234));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.participants,n=e.onClick,r=e.onDoubleClick,p=e.onContextMenu,v=e.channel,h=e.className,_=e.inCall,m=e.inPopout,g=e.layout,E=e.totalNumberOfParticipants,O=e.paused,S=void 0!==O&&O,I=a.useRef({triggerResize:function(){return null}});a.useEffect((function(){var e;null===(e=I.current)||void 0===e||e.triggerResize()}),[g]);var b=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(v.guild_id)}),[v.guild_id]),C=(0,o.useStateFromStores)([l.default],(function(){return v.isPrivate()||(0,i.canViewInviteModal)(l.default,b,v)
}),[b,v]),T=(null==b?void 0:b.afkChannelId)===v.id,P=v.userLimit<=0||v.userLimit>1,A=t.map((function(e){return function(t){return y(d.default,{participant:e,channel:v,className:f.default.tile,paused:S,onClick:n,onDoubleClick:r,onContextMenu:p,inCall:_,width:t,inPopout:m},e.id)}}));1===E&&null!=b&&C&&!T&&P&&A.push((function(e){return y(c.default,{width:e,channel:v,guild:b,inPopout:m})}));var M=a.useCallback((function(e){var n,r;return null!==(n=null===(r=t[e])||void 0===r?void 0:r.id)&&void 0!==n?n:"empty-tile"}),[t]);return a.createElement(s.default,{ref:I,className:h,keyExtractor:M,paddingTop:64,paddingBottom:64},A)}h.displayName="ChannelCallGrid"},421417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=y(n(667294)),o=n(194322),i=p(n(611456)),u=y(n(518931)),l=n(770348),s=n(371621),d=p(n(247001)),c=p(n(200146)),f=p(n(222917));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e){var t=e.channel,r=e.guild,p=e.width,v=e.inPopout;return h(i.default,{className:c.default.root},void 0,h(u.default,{artURL:f.default,size:(0,u.getSizeForWidth)(p),header:d.default.Messages.STREAM_SINGLE_PERSON_BODY,onCTAClick:function(){return(0,o.openModalLazy)(g(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:o=e.sent;i=o.default
;return e.abrupt("return",(function(e){return a.createElement(i,_({},e,{guild:r,channel:t,source:l.InstantInviteSources.CHANNEL_CALL}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:v?s.POPOUT_MODAL_CONTEXT:s.DEFAULT_MODAL_CONTEXT})},callToAction:d.default.Messages.INSTANT_INVITE}))}E.displayName="EmptyTile"},518931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;t.getSizeForWidth=function(e){return e<400?"small":e<1e3?"medium":"large"};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=s(n(294184)),o=s(n(956117)),i=s(n(530250)),u=s(n(776360)),l=s(n(260382));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.onCTAClick,n=e.callToAction,r=e.header,s=e.description,d=e.size,f=e.className,p=e.artURL,v=e.noArt,y=void 0!==v&&v,h=e.selected,_=void 0!==h&&h;return c(i.default,{className:f,justify:i.default.Justify.CENTER,align:i.default.Align.CENTER,direction:i.default.Direction.VERTICAL
},void 0,!y&&null!=p&&c("div",{className:(0,a.default)(l.default.art,l.default[d]),style:{backgroundImage:"url("+p+")"}}),null!=r?c(u.default,{color:u.default.Colors.CUSTOM,size:u.default.Sizes.SIZE_16,className:l.default.header},void 0,r):null,null!=s?c(u.default,{color:u.default.Colors.CUSTOM,className:l.default.description,size:u.default.Sizes.SIZE_14},void 0,s):null,_||null==n?null:c(o.default,{className:l.default.outerButton,size:o.default.Sizes.NONE,color:o.default.Colors.WHITE,look:o.default.Looks.BLANK,innerClassName:l.default.button,onClick:function(e){e.stopPropagation();null==t||t(e)}},void 0,n))}f.displayName="EmptyState"},151503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=P;var r,a=I(n(667294)),o=O(n(294184)),i=n(248088),u=O(n(145371)),l=O(n(715801)),s=O(n(423046)),d=O(n(635014)),c=O(n(974661)),f=n(956506),p=O(n(709578)),v=O(n(921532)),y=n(421622),h=I(n(449183)),_=n(770348),m=n(859089),g=O(n(367374)),E=O(n(398720));function O(e){
return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}var T=8+h.PARTICIPANTS_HEIGHT;function P(e){var t,n=e.onSelectParticipant,r=e.onContextMenuParticipant,O=e.onFullscreenParticipant,S=e.participants,I=e.filteredParticipants,P=e.popoutWindow,A=e.inCall,M=e.channel,N=e.selectedParticipant,R=e.showParticipants,w=void 0===R||R,D=e.className,L=e.paused,k=e.width,j=e.height,U=e.layout,G=e.idle,F=null!=P,x=d.default.getVideoComponent(),W=s.default.getId(),V=a.useState(null),H=V[0],B=V[1],Y=a.useState(!0),z=Y[0],K=Y[1],$=a.useState(!1),q=$[0],Z=$[1],X=N.type===m.ParticipantTypes.ACTIVITY,Q=!X&&null!=N.streamId,J=Q&&null!=H&&H.width>0&&H.height>0?H.width/H.height:1.7777777777777777,ee=j<=2*T+144,te=w&&!ee,ne=(0,u.default)(te),re=0;(X||te)&&(re+=72);X&&!te&&(re+=48);te&&(re+=.5*T+8)
;var ae,oe=j-2*re,ie=oe*J,ue=Math.floor(Math.min(k,ie)/J),le=j>k/J+72+T+8;ae=!te&&!X?40+Math.max(0,72-(j-ue)/2):te?-16:-8;a.useEffect((function(){var e=setTimeout((function(){K(!1)}),250);return function(){clearTimeout(e)}}),[]);var se=(0,i.useSpring)({value:te?1:0,delay:le||!te?0:100,config:C({},i.config.stiff,{clamp:!0}),onStart:function(){return Z(!0)},onChange:function(){return f.ComponentDispatch.dispatch(_.ComponentActions.REMEASURE_TARGET)},onRest:function(){Z(!1);f.ComponentDispatch.dispatch(_.ComponentActions.REMEASURE_TARGET)}}),de=(0,i.useSpring)({value:te?1:0,config:C({},i.config.stiff,{clamp:!0})}),ce=(0,i.useSpring)({value:ie,config:C({},i.config.stiff,{clamp:!0}),immediate:ne===te&&de.value.idle}),fe=(0,i.useSpring)({value:ae,config:C({},i.config.stiff,{clamp:!0})}),pe=(0,i.useTransition)(N,{keys:function(e){return null==e?void 0:e.id},config:C({},i.config.stiff,{clamp:!0}),initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),ve=a.useCallback((function(e){
B(e);K(!1)}),[]),ye=te||L?[]:(0,y.getPipParticipants)(S,N,W),he=(0,h.useVisibleParticipants)(k,I),_e=he.visibleParticipants,me=he.participantTileWidth;return b("div",{className:(0,o.default)(E.default.root,g.default.flexCenter,D)},void 0,b("div",{className:E.default.tileWrapper,style:{opacity:Q&&z?0:1}},void 0,b(i.animated.div,{className:E.default.videoFrame,style:{translateY:de.value.to((function(e){return-e*T/2}))}},void 0,b(i.animated.div,{style:{width:ce.value},className:E.default.videoWrapper},void 0,b(c.default,{className:g.default.videoSizer,aspectRatio:J},void 0,pe((function(e,t,a){var o=a.key;return null!=t?b(i.animated.div,{className:g.default.videoWrapperAnimated,style:e},o,b(p.default,{focused:!0,noBorder:ie>=k||oe>=j,channel:M,className:g.default.focusedVideo,videoComponent:x,paused:L,width:k,participant:t,onClick:n,onDoubleClick:O,onContextMenu:r,onVideoResize:ve,inCall:A,inPopout:F})):null
})))),ee||U===_.ChannelLayouts.MINIMUM||U===_.ChannelLayouts.NORMAL?null:b(i.animated.div,{className:(0,o.default)(E.default.actionRow,(t={},t[E.default.idle]=G,t)),style:{bottom:fe.value}},void 0,b(l.default,{channelId:M.id,isParticipantsOpen:w,isVertical:!0}))),b(i.animated.div,{className:E.default.participantsWrapperAnimated,style:{translateY:se.value.to((function(e){return e*T/2})),opacity:se.value,visibility:se.value.to((function(e){return 0===e?"hidden":"visible"}))}},void 0,b(h.default,{channel:M,onClick:n,onContextMenu:r,onDoubleClick:O,participants:_e,participantTileWidth:me,selectedParticipantId:N.id,inCall:A,paused:L||q||!w,popoutWindow:P}))),ye.length>0?b(v.default,{onContextMenuParticipant:r,width:k,height:j,channel:M,participants:ye}):null)}P.displayName="HorizontalFocusedView"},449183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARTICIPANTS_HEIGHT=void 0;t.default=O;t.useVisibleParticipants=function(e,t){
var n=a.useState(Date.now()),r=n[0],u=n[1];a.useEffect((function(){var e=setTimeout((function(){u(Date.now())}),1e4);return function(){clearTimeout(e)}}),[t]);var s=a.useRef({}),c=a.useMemo((function(){var n=Date.now(),r=(0,o.sortBy)(t,(function(e){return function(e,t){var n;void 0===t&&(t=Date.now());switch(e.type){case d.ParticipantTypes.ACTIVITY:return"\0"+e.sortKey;case d.ParticipantTypes.HIDDEN_STREAM:case d.ParticipantTypes.STREAM:return""+(0,i.userKey)(e.userNick,e.user);case d.ParticipantTypes.USER:var r="";e.speaking?r="":t-e.lastSpoke<g?r="":(null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&(r="");return""+r+(a=e.lastSpoke,o=String(_).length,String(_-a).padStart(o,"0"))+(0,i.userKey)(e.userNick,e.user)}var a,o}(e,n)})),a=(0,o.partition)(r,d.isStreamParticipant),u=a[0],c=a[1],f=c.findIndex(E),p=null;if(-1!==f){p=c[f];c.splice(f,1)}
var v=null!=p?e-m-8:e,y=Math.floor((v-8)/132),O=Math.max(0,Math.min(y,12,t.length)),S=Math.min((v-8)/O-8,m),I=Math.max(0,O-u.length),b=u.slice(0,O),C=c.slice(0,I),T=new Array(I);if(I>0){for(var P,A=[],M=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(C);!(P=M()).done;){var N=P.value,R=s.current[N.id]
;null!=R&&R<I?T[R]=N:A.push(N)}for(var w=0;w<T.length;w++)if(null==T[w]){var D=A.shift();if(null==D)break;T[w]=D}}var L=T.filter(l.isNotNullish),k=(0,o.keyBy)((0,o.range)(L.length),(function(e){return L[e].id}));s.current=k;var j=[].concat(b,L);null!=p&&j.push(p);return{visibleParticipants:j,participantTileWidth:S}}),[e,t,r]),f=c.visibleParticipants,p=c.participantTileWidth;return{visibleParticipants:f,participantTileWidth:p}};var r,a=v(n(667294)),o=n(496486),i=n(269503),u=f(n(423046)),l=n(71246),s=v(n(709578)),d=n(859089),c=f(n(388832));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=864e13;t.PARTICIPANTS_HEIGHT=112;var m=16/9*112+8,g=1e4;function E(e){var t,n=u.default.getId();return e.type===d.ParticipantTypes.USER&&e.user.id===n&&(null===(t=e.voiceState)||void 0===t?void 0:t.selfVideo)}function O(e){
var t=e.participants,n=e.participantTileWidth,r=e.selectedParticipantId,a=e.onDoubleClick,o=e.onContextMenu,i=e.onClick,u=e.channel,l=e.inCall,d=e.popoutWindow,f=e.paused,p=void 0!==f&&f,v=null!=d;return y("div",{className:c.default.root},void 0,t.map((function(e){if(null==e)return null;var t=E(e);return y("div",{className:c.default.tileSizer,style:t?{flexShrink:0}:void 0},e.id,y(s.default,{participant:e,selected:r===e.id,channel:u,className:c.default.tile,fit:s.CallTileFit.COVER,onClick:i,onDoubleClick:a,onContextMenu:o,width:t?m:n,inCall:l,paused:p,inPopout:v}))})))}O.displayName="HorizontalVideoParticipants"},531334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.stream,r=e.applicationId,m=e.channel,g=e.exitFullScreen,S=e.appContext,b=e.analyticsLocation,C=e.className,T=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a
}(e,_),P=null==m?void 0:m.getGuildId(),A=(0,u.useStateFromStores)([s.default],(function(){return null!=P?s.default.getGuild(P):null}),[P]);if(!function(e,t){return null!=e&&null!=t&&d.default.can(p.Permissions.CREATE_INSTANT_INVITE,t)}(A,m))return null;var M=y.default.Messages.INSTANT_INVITE;null!=t?M=y.default.Messages.INVITE_STREAM_HEADER:null!=r&&(M=y.default.Messages.EMBEDDED_ACTIVITIES_INVITE_TO_ACTIVITY);return a.createElement(a.Fragment,null,a.createElement(c.default,O({size:c.default.Sizes.TINY,color:h.default.buttonColor,onClick:function(){(0,i.default)(null!=A,"guild cannot be null");(0,i.default)(null!=m,"channel cannot be null");!function(e,t,r,o,i,u,l){null==u||u();(0,f.openModalLazy)(I(regeneratorRuntime.mark((function i(){var u,s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:u=i.sent;s=u.default;return i.abrupt("return",(function(n){
return a.createElement(s,O({},n,{guild:e,channel:t,streamUserId:r,applicationId:o,analyticsLocation:l,source:p.InstantInviteSources.STREAM_INVITE}))}));case 5:case"end":return i.stop()}}),i)}))),{modalKey:"stream-invite-modal",contextKey:i===p.AppContext.POPOUT?v.POPOUT_MODAL_CONTEXT:v.DEFAULT_MODAL_CONTEXT})}(A,m,null==t?void 0:t.ownerId,r,S,g,b)},className:(0,o.default)(C,h.default.textButton)},T),M),E(l.default,{channel:m,stream:t,appContext:S,className:(0,o.default)(C,h.default.iconButton),exitFullScreen:g,analyticsLocation:b}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=m(n(294184)),i=m(n(441143)),u=n(536211),l=m(n(336156)),s=m(n(30098)),d=m(n(689389)),c=m(n(956117)),f=n(194322),p=n(770348),v=n(371621),y=m(n(247001)),h=m(n(684592)),_=["stream","applicationId","channel","exitFullScreen","appContext","analyticsLocation","className"];function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}},232269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;s(n(667294));var r,a=u(n(229132)),o=s(n(518931)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=n(153996);function f(e){var t=e.width,n=e.className,r=e.channelId,u=e.noArt,l=void 0!==u&&u;return d(o.default,{artURL:c,noArt:l,size:(0,o.getSizeForWidth)(t),className:n,callToAction:i.default.Messages.STREAM_SHOW_ALL_PARTICIPANTS,header:i.default.Messages.STREAM_PARTICIPANTS_HIDDEN.format(),onCTAClick:function(){
return a.default.toggleVoiceParticipantsHidden(r,!1)}})}f.displayName="ParticipantsHidden"},603218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=ee(n(667294)),o=Q(n(441143)),i=Q(n(496486)),u=Q(n(536211)),l=Q(n(740207)),s=Q(n(505437)),d=n(264720),c=Q(n(136873)),f=n(844784),p=Q(n(825724)),v=Q(n(66384)),y=Q(n(310268)),h=n(678928),_=n(747868),m=Q(n(379310)),g=Q(n(925013)),E=Q(n(908921)),O=ee(n(8475)),S=n(139982),I=Q(n(625905)),b=Q(n(134893)),C=Q(n(244612)),T=Q(n(401311)),P=Q(n(866219)),A=Q(n(305914)),M=Q(n(199138)),N=Q(n(607209)),R=Q(n(423046)),w=Q(n(635014)),D=Q(n(290629)),L=Q(n(728429)),k=Q(n(529688)),j=Q(n(189434)),U=Q(n(949898)),G=Q(n(275189)),F=Q(n(776360)),x=Q(n(308920)),W=Q(n(29652)),V=Q(n(440556)),H=Q(n(381390)),B=Q(n(7969)),Y=Q(n(111014)),z=Q(n(493051)),K=Q(n(602824)),$=Q(n(310261)),q=n(770348),Z=n(859089),X=Q(n(10263));function Q(e){return e&&e.__esModule?e:{default:e}}function J(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(J=function(e){return e?n:t})(e)}function ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=J(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function te(){te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return te.apply(this,arguments)}function ne(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function ae(e,t){ae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ae(e,t)}var oe=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ae(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).state={screensharePopoutOpen:!1};t._ref=a.createRef();t.handleVideo=function(e){l.default.setVideoEnabled(e)};t.handleEnableVideoWhenUnavailable=function(){t.props.isVideoAvailable?t.handleVideo(!0):(0,z.default)()};t.handleJumpToChannel=function(){var e=t.props.channel;(0,d.popAllLayers)();var n=e.getGuildId()||q.ME
;s.default.channelListScrollTo(n,e.id);(0,S.transitionToGuild)(n,e.id)};t.handleStartStream=function(){var e=t.props,n=e.canGoLive,r=e.channel,a=r.getGuildId();(0,o.default)(null!=a,"Cannot go live in non guild channel");if(!n)return(0,K.default)();(0,$.default)(a,r.id,q.AnalyticsPages.GUILD_CHANNEL)};t.handleStopStream=function(){var e=t.props.participantOnScreen;(0,o.default)((0,Z.isStreamParticipant)(e),"cannot stop stream for non streamer");(0,E.default)(e.stream)};t.handleOpenPopout=function(){var e=t.props.channel;O.openChannelCallPopout(e)};t.handleDisconnect=function(){c.default.selectVoiceChannel(null)};t.renderBottomLeftControls=function(){var e=t.viewProperties.canSeeParticipantName;return a.createElement(a.Fragment,null,e?t.renderParticipantName():null)};t.renderBottomRightControls=function(){var e=t.viewProperties,n=e.canSettings,r=e.canPopout,o=e.canDisconnect,i=e.canStopStream,u=e.canSeeViewers
;return a.createElement(a.Fragment,null,u?t.renderViewersIcon():null,n?t.renderSettingsIcon():null,r?t.renderPopoutIcon():null,i?t.renderStopStreamButton():null,o?t.renderDisconnectButton():null)};t.renderDisconnectButton=function(){return ne(T.default,{className:X.default.rightTrayIcon,onClick:t.handleDisconnect})};t.renderStopStreamButton=function(){var e=t.viewProperties.isSelf;return ne(A.default,{isSelfStream:e,className:X.default.rightTrayIcon,onClick:t.handleStopStream})};t.renderViewersIcon=function(){var e=t.props,n=e.participantOnScreen,r=e.channel;(0,o.default)((0,Z.isStreamParticipant)(n)||(null==n?void 0:n.type)===Z.ParticipantTypes.ACTIVITY,"Cannot render participants for participant type "+(null==n?void 0:n.type));return ne(b.default,{},void 0,ne(y.default,{channelId:r.id,guildId:r.getGuildId(),className:X.default.rightTrayIcon,participant:n,compact:!0}))};t.renderPopoutIcon=function(){return ne(P.default,{className:X.default.rightTrayIcon,popoutOpen:!1,
onOpenPopout:t.handleOpenPopout,onClosePopout:q.NOOP_NULL})};t.renderSettingsIcon=function(){var e=t.props,n=e.participantOnScreen,r=e.activeStreams;(0,o.default)((0,Z.isStreamParticipant)(n),"Cannot render settings for non stream participant");var a=r.find((function(e){return(0,_.encodeStreamKey)(e)===n.id}));return null==a||a.state===q.ApplicationStreamStates.ENDED?null:ne(M.default,{stream:a,className:X.default.rightTrayIcon,appContext:q.AppContext.APP})};return t}var n=t.prototype;n.getScreenMessage=function(){var e=this.props,t=e.participantOnScreen,n=e.currentUserId;if(!(0,Z.isStreamParticipant)(t))return null;var r=this.activeStreamForSelectedParticipant;return null==r?null:(0,g.default)(r,t.user,t.user.id===n,this.streamerPaused)};n.componentDidMount=function(){var e=this.props.channel;x.default.track(q.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,te({video_layout:"pip"},(0,f.collectVoiceAnalyticsMetadata)(e.id)))};n.componentWillUnmount=function(){var e=this.props.channel
;x.default.track(q.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,te({video_layout:p.default.getLayout(e.id)},(0,f.collectVoiceAnalyticsMetadata)(e.id)))};n.renderStreamState=function(){var e=this.activeStreamForSelectedParticipant,t=this.props.participantOnScreen;return(null==e?void 0:e.state)===q.ApplicationStreamStates.ENDED?ne(H.default,{stream:e,width:Z.PIP_WIDTH}):(null==e?void 0:e.state)===q.ApplicationStreamStates.FAILED?ne(B.default,{stream:e,width:Z.PIP_WIDTH}):(null==t?void 0:t.type)===Z.ParticipantTypes.HIDDEN_STREAM?ne(Y.default,{participant:t,width:Z.PIP_WIDTH}):null};n.renderParticipantName=function(){var e=this.props,t=e.channel,n=e.participantOnScreen;if((null==n?void 0:n.type)===Z.ParticipantTypes.STREAM||(null==n?void 0:n.type)===Z.ParticipantTypes.USER){var r=W.default.getNickname(t.getGuildId(),t.id,n.user)||n.user.username;return ne(F.default,{size:F.default.Sizes.SIZE_16,color:q.Colors.WHITE,className:X.default.participantName},void 0,r)}return null};n.render=function(){
var e=this,t=this.props,n=t.channel,r=t.streamId,o=t.participantOnScreen,i=t.isVideoEnabled,u=(0,h.computeChannelName)(n,L.default,D.default),l=(null==o?void 0:o.id)===R.default.getId()&&i,s=this.renderStreamState(),d=null;(null==o?void 0:o.type)!==Z.ParticipantTypes.ACTIVITY&&(null!=s?d=s:(null==o?void 0:o.type)!==Z.ParticipantTypes.USER&&(null==o?void 0:o.type)!==Z.ParticipantTypes.STREAM||(d=ne(V.default,{paused:this.streamerPaused,streamId:r,component:w.default.getVideoComponent(),mirror:l},void 0,ne(G.default,{size:G.default.AvatarSizes.SIZE_80,src:null==o?void 0:o.user.getAvatarURL(n.guild_id,80),"aria-label":null==o?void 0:o.user.username}))));return ne(I.default,{timeout:1800},void 0,(function(t){var n;return a.createElement(C.default,te({title:u,backgroundKey:null!==(n=null==o?void 0:o.id)&&void 0!==n?n:"",screenMessage:e.getScreenMessage(),onJumpToChannel:e.handleJumpToChannel,renderBottomLeftControls:e.renderBottomLeftControls,
renderBottomRightControls:e.renderBottomRightControls,preventIdleComponent:b.default,width:Z.PIP_WIDTH},t),d)}))};!function(e,t,n){t&&re(e.prototype,t);n&&re(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"viewProperties",get:function(){var e=this.props,t=e.participantOnScreen,n=e.currentUserId,r=e.channel,a=(0,Z.isStreamParticipant)(t),o=null!=t&&t.type!==Z.ParticipantTypes.ACTIVITY&&t.user.id===n;return{canPopout:a&&!o,canSettings:a&&o,canStopStream:a,canSeeViewers:a,canSeeParticipantName:((null==t?void 0:t.type)===Z.ParticipantTypes.STREAM||(null==t?void 0:t.type)===Z.ParticipantTypes.USER)&&r.type!==q.ChannelTypes.DM,canDisconnect:!a,isSelf:o}}},{key:"streamerPaused",get:function(){var e=this.props,t=e.isMainWindowFocused,n=e.activeSelfStream,r=e.participantOnScreen;return null!=n&&(null==r?void 0:r.id)===(0,_.encodeStreamKey)(n)&&!t}},{key:"activeStreamForSelectedParticipant",get:function(){var e=this.props,t=e.participantOnScreen,n=e.activeStreams;return(0,
Z.isStreamParticipant)(t)?n.find((function(e){return(0,_.encodeStreamKey)(e)===t.id})):null}}]);return t}(a.PureComponent);oe.displayName="PictureInPictureVideoContainer";var ie=u.default.connectStores([w.default,p.default,R.default,k.default,j.default,N.default,U.default],(function(e){var t=e.channel,n=k.default.getSpeaker(t.id),r=p.default.getParticipant(t.id,n),a=(0,i.default)(w.default.getVideoDevices()).values().first(),o=null==a||a.disabled,u=null!=r&&r.type!==Z.ParticipantTypes.ACTIVITY&&r.type!==Z.ParticipantTypes.HIDDEN_STREAM?j.default.getStreamId(r.user.id,(0,v.default)(r.type)):null,l=!1===o,s=!o&&w.default.isVideoEnabled(),d=(0,m.default)(w.default),c=R.default.getId();return{channel:t,streamId:u,participantOnScreen:r,isVideoAvailable:l,isVideoEnabled:s,canGoLive:d,currentUserId:c,activeStreams:N.default.getAllActiveStreams(),activeSelfStream:N.default.getActiveStreamForUser(c),isMainWindowFocused:U.default.isFocused()}}))(oe);t.default=ie},474628:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=O(n(636602)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(720409)),i=O(n(177230)),u=O(n(303798)),l=O(n(902305)),s=O(n(607209)),d=O(n(644263)),c=O(n(122913)),f=O(n(635014)),p=O(n(218843)),v=O(n(893160)),y=O(n(211136)),h=O(n(790597)),_=O(n(387692)),m=n(770348),g=n(376293);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return S(e,t)}function I(){var e,t=r;if(null==t||!p.default.isOpen(t))return!1;a.default.wait((function(){return o.close(t)}));null===(e=v.default.getRTCConnection())||void 0===e||e.setPipOpen(!1);r=null}function b(){var e=v.default.getChannelId(),t=r===e;if(function(){var e=v.default.getChannelId(),t=y.default.getChannelId();if(!f.default.supports(g.Features.VIDEO))return!0;if(l.default.getWindowOpen(m.PopoutWindowKeys.CHANNEL_CALL_POPOUT))return!0;var n=s.default.getAllActiveStreams().length>0;if(!(null!=e&&Object.values(_.default.getVideoVoiceStatesForChannel(e)).some((function(e){var t=e.userId;return!f.default.isLocalVideoDisabled(t)}))||n))return!0;var r=c.default.hasLayers();return!(r&&c.default.getLayers().includes(m.Layers.RTC_DEBUG)||!r&&e!==t)}())return I();t||I();return null!=e&&function(e){var t,n=d.default.getChannel(e);if(null==n||p.default.isOpen(e))return!1;a.default.wait((function(){return o.open(n.id,m.PictureInPictureComponents.VIDEO,{channel:n})}))
;null===(t=v.default.getRTCConnection())||void 0===t||t.setPipOpen(!0);r=e}(e)}var C=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){y.default.addChangeListener(b);h.default.addChangeListener(b);v.default.addChangeListener(b);_.default.addChangeListener(b);c.default.addChangeListener(b);s.default.addChangeListener(b);l.default.addChangeListener(b);f.default.addChangeListener(b);u.default.addChangeListener(b)};n._terminate=function(){y.default.removeChangeListener(b);h.default.removeChangeListener(b);v.default.removeChangeListener(b);_.default.removeChangeListener(b);c.default.removeChangeListener(b);s.default.removeChangeListener(b);l.default.removeChangeListener(b);f.default.removeChangeListener(b);u.default.removeChangeListener(b)};return t}(i.default));t.default=C},381390:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=p;d(n(667294));var r,a,o=n(123516),i=n(747868),u=d(n(518931)),l=(r=n(247001))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=n(802566);function p(e){var t=e.stream,n=e.width,r=e.noArt,a=void 0!==r&&r,s=e.selected,d=void 0!==s&&s;return c(u.default,{artURL:f,noArt:a,selected:d,size:(0,u.getSizeForWidth)(n),header:l.default.Messages.STREAM_ENDED,onCTAClick:function(){return(0,o.closeStream)((0,i.encodeStreamKey)(t))},callToAction:l.default.Messages.CLOSE_STREAM})}p.displayName="StreamEnded"},7969:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;f(n(667294));var r,a=n(123516),o=n(747868),i=d(n(550270)),u=f(n(518931)),l=n(770348),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=n(192941);function y(e){var t=e.stream,n=e.width,r=e.selected,d=void 0!==r&&r,c=e.noArt,f=void 0!==c&&c;return p(u.default,{artURL:v,
header:s.default.Messages.STREAM_FAILED_TITLE,size:(0,u.getSizeForWidth)(n),noArt:f,selected:d,description:s.default.Messages.STREAM_FAILED_DESCRIPTION.format({helpUrl:i.default.getArticleURL(l.HelpdeskArticles.STREAM_FAILED)}),onCTAClick:function(){return(0,a.closeStream)((0,o.encodeStreamKey)(t))},callToAction:s.default.Messages.CLOSE_STREAM})}y.displayName="StreamFailed"},111014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;_(n(667294));var r,a=y(n(294184)),o=n(536211),i=n(123516),u=y(n(607209)),l=y(n(423046)),s=y(n(227134)),d=y(n(776360)),c=n(288146),f=_(n(518931)),p=y(n(247001)),v=y(n(207336));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=n(987601);function E(e){var t,n,r=e.participant,y=e.width,h=e.noArt,_=void 0!==h&&h,E=e.selected,O=void 0!==E&&E,S=y<195,I=(0,o.useStateFromStores)([u.default,l.default],(function(){return u.default.getAllActiveStreams().some((function(e){return e.ownerId!==l.default.getId()}))
}));return m("div",{className:(0,a.default)(v.default.content,v.default.streamHidden,(t={},t[v.default.small]=S,t))},void 0,m(f.default,{className:v.default.streamHiddenEmptyState,artURL:g,noArt:_,selected:O,size:(0,f.getSizeForWidth)(y),header:S?null:p.default.Messages.STREAM_HIDDEN,description:O?null:m("div",{className:(0,a.default)(v.default.streamHiddenCTA,(n={},n[v.default.largePaddingTop]=!S,n))},void 0,m(c.CallTileCTA,{isSmall:S},void 0,m(d.default,{size:S?d.default.Sizes.SIZE_14:d.default.Sizes.SIZE_16,color:d.default.Colors.CUSTOM},void 0,y<175?p.default.Messages.WATCH:p.default.Messages.WATCH_STREAM)),I?m(c.CallTileCTA,{className:v.default.addCTA,tooltip:p.default.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,i.watchStream)(r.stream,{forceMultiple:!0})},isSmall:S},void 0,m(s.default,{className:v.default.addStreamIcon})):null)}))}E.displayName="StreamHidden"},55055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.StreamTileIndicators=function(e){var t=e.participant,n=e.selected,r=e.focused,o=e.idle,u=e.width,l=(0,i.useStateFromStores)([f.default],(function(){return f.default.getActiveStreamForUser(t.user.id)})),s=(0,T.isVideoCompact)(u);return a.createElement(a.Fragment,null,n?null:k(C.default,{participant:t}),r||null==l||l.state===P.ApplicationStreamStates.ENDED||l.state===P.ApplicationStreamStates.FAILED?null:k(d.default,{size:g.default.Sizes.LARGE,className:R.default.liveIndicator,participant:t,showQuality:!s&&!o,isUpsellEnabled:!1}))};t.default=function(e){var t=e.participant,n=e.selected,r=e.onVideoResize,d=e.paused,g=e.fit,C=e.inPopout,T=e.width,w=v.default.getVideoComponent(),D=(0,i.useStateFromStores)([p.default],(function(){return p.default.getId()})),j=t.stream,U=t.user,G=t.streamId,F=(0,i.useStateFromStores)([f.default],(function(){return f.default.getActiveStreamForUser(U.id)}),[U.id]),x=(0,i.useStateFromStores)([f.default],(function(){
return f.default.getAllActiveStreams().length>0})),W=(0,i.useStateFromStores)([y.default],(function(){return y.default.isFocused()})),V=(null==F?void 0:F.ownerId)===D&&!W&&!C,H=null!=F?(0,l.default)(F,U,U.id===D,V):null,B=T<195;return(null==F?void 0:F.state)===P.ApplicationStreamStates.ENDED?k(S.default,{selected:n,stream:F,width:T}):(null==F?void 0:F.state)===P.ApplicationStreamStates.FAILED?k(I.default,{selected:n,stream:F,width:T}):t.type===A.ParticipantTypes.HIDDEN_STREAM?k(b.default,{selected:n,participant:t,width:T}):null!=F&&!n&&null!=w&&v.default.supports(M.Features.VIDEO)?a.createElement(a.Fragment,null,k(h.default,{onResize:r,wrapperClassName:R.default.videoWrapper,className:R.default.content,streamId:G,videoComponent:w,fit:g,paused:d||V}),null!=H?a.createElement(c.default,L({size:(0,O.getSizeForWidth)(T)},H)):null):k("div",{className:(0,o.default)(R.default.content,R.default.streamPreview,(Y={},Y[R.default.small]=B,Y))},void 0,k(s.default,{noText:!0,className:(0,
o.default)(R.default.absoluteFill,(z={},z[R.default.streamPreviewOpacity]=null==F,z)),stream:t.stream}),n?null:a.createElement(a.Fragment,null,k(E.CallTileCTA,{isSmall:B},void 0,k(m.default,{size:B?m.default.Sizes.SIZE_14:m.default.Sizes.SIZE_16,color:m.default.Colors.CUSTOM},void 0,T<175?N.default.Messages.WATCH:N.default.Messages.WATCH_STREAM)),x?k(E.CallTileCTA,{className:R.default.addCTA,tooltip:N.default.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,u.watchStream)(j,{forceMultiple:!0})},isSmall:B},void 0,k(_.default,{className:R.default.addStreamIcon})):null));var Y,z};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=w(n(294184)),i=n(536211),u=n(123516),l=w(n(925013)),s=w(n(645923)),d=w(n(57697)),c=w(n(896566)),f=w(n(607209)),p=w(n(423046)),v=w(n(635014)),y=w(n(949898)),h=w(n(971146)),_=w(n(227134)),m=w(n(776360)),g=w(n(528175)),E=n(288146),O=n(518931),S=w(n(381390)),I=w(n(7969)),b=w(n(111014)),C=w(n(697252)),T=n(227482),P=n(770348),A=n(859089),M=n(376293),N=w(n(247001)),R=w(n(32599));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},697252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.participant,n=e.className,r=function(e){if(null==e)return null;return i.default.isDeveloper?e.message+" ("+e.errorType+")":e.message}((0,a.default)(t));return null!=r?s(o.default,{className:n,errorMessage:r}):null};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(910333)),o=u(n(778339)),i=u(n(776115));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},522503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.participant,n=e.channel,r=e.inCall,E=e.width,O=e.paused,C=e.selected,T=e.fit,P=e.onVideoResize,A=e.blocked,M=e.noVideoRender,N=void 0!==M&&M,R=e.pulseSpeakingIndicator,w=void 0!==R&&R,D=d.default.getVideoComponent(),L=(0,o.useStateFromStores)([s.default],(function(){return s.default.getId()})),k=(0,o.useStateFromStores)([i.default],(function(){return i.default.useReducedMotion})),j=t.user,U=t.streamId,G=t.speaking,F=j.id===L,x=(0,y.default)(t),W=(0,o.useStateFromStores)([c.default],(function(){return c.default.isFocused()})),V=(0,o.useStateFromStores)([l.default],(function(){return l.default.getWindowFocused(h.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),H=(0,o.useStateFromStores)([d.default],(function(){return null!=j.id&&d.default.isLocalVideoDisabled(j.id,(0,u.default)(t.type))}),[j.id,t.type]),B=v.default.getName(n.getGuildId(),n.id,j),Y=E<124;if(r&&!H&&!N&&x&&!C&&null!=D&&d.default.supports(m.Features.VIDEO))return S(p.default,{onResize:P,
wrapperClassName:g.default.videoWrapper,className:g.default.content,mirror:F,streamId:U,videoComponent:D,fit:T,paused:O});var z,K=!k&&G&&(V||W);return S("div",{className:(0,a.default)(g.default.content,(z={},z[g.default.blockedAvatar]=A,z))},void 0,S(f.default,{"aria-label":B,src:j.getAvatarURL(n.guild_id,Y?_.SizeSpecs[b].size:_.SizeSpecs[I].size,K),backgroundSrc:j.getAvatarURL(n.guild_id,80),size:Y?b:I,pulseSpeakingIndicator:w,speaking:G}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=E(n(294184)),o=n(536211),i=E(n(235879)),u=E(n(66384)),l=E(n(902305)),s=E(n(423046)),d=E(n(635014)),c=E(n(949898)),f=E(n(275189)),p=E(n(971146)),v=E(n(29652)),y=E(n(183612)),h=n(770348),_=n(942675),m=n(376293),g=E(n(32599));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=f.default.AvatarSizes.SIZE_80,b=f.default.AvatarSizes.SIZE_40},486082:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y
;var r,a=c(n(667294)),o=s(n(974661)),i=s(n(521358)),u=c(n(709578)),l=s(n(438405));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=16/9;function v(){return null}function y(e){var t=e.participants,n=e.selectedParticipantId,r=e.onDoubleClick,s=e.onContextMenu,d=e.onClick,c=e.channel,y=e.inCall,h=e.popoutWindow,_=e.paused,m=void 0!==_&&_,g=null!=h,E=a.useMemo((function(){return[t.length]}),[t.length]);return f("div",{className:l.default.root},void 0,f(i.default,{paddingTop:8,className:l.default.list,renderSection:v,sectionHeight:0,rowHeight:131.75,renderRow:function(e){var a=e.row,i=t[a];return null==i?null:f(o.default,{className:l.default.tileSizer,aspectRatio:p},i.id,f(u.default,{participant:i,selected:n===i.id,channel:c,className:l.default.tile,fit:u.CallTileFit.COVER,onClick:d,onDoubleClick:r,onContextMenu:s,width:220,inCall:y,paused:m,inPopout:g}))},sections:E}))}y.displayName="VideoParticipants"},493051:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){a.default.supports(i.Features.VIDEO)?(0,o.openModalLazy)(f(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,d({},t,{header:u.default.Messages.CAMERA_UNAVAILABLE,body:u.default.Messages.CAMERA_NO_DEVICE,confirmText:u.default.Messages.OKAY,onConfirm:e}))}));case 5:case"end":return t.stop()}}),t)})))):(0,o.openModalLazy)(f(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:a=t.sent;i=a.default;return t.abrupt("return",(function(t){return r.createElement(i,d({},t,{header:u.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,
body:u.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:u.default.Messages.DOWNLOAD_APP,onConfirm:function(){null==e||e();(0,o.openModalLazy)(f(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,d({source:"Video unsupported browser"},e))}));case 5:case"end":return e.stop()}}),e)}))))}}))}));case 5:case"end":return t.stop()}}),t)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=l(n(635014)),o=n(194322),i=n(376293),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}},602824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){function e(){(0,o.openModalLazy)(d(regeneratorRuntime.mark((function e(){var t,r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,l({source:"Screenshare Unavailable"},e))}));case 5:case"end":return e.stop()}}),e)}))))}(0,o.openModalLazy)(d(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,l({},t,{header:i.default.Messages.SCREENSHARE_UNAVAILABLE,body:i.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:i.default.Messages.DOWNLOAD_APP,onConfirm:e}))}));case 5:case"end":return t.stop()}}),t)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(194322),i=(r=n(247001))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){
s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},227482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isNamesCompact=function(e){return e<=124};t.isVideoCompact=function(e){return e<=220}},30269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){a.AlwaysPreviewVideo.getSetting()?(0,o.openModalLazy)(c(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(93198),n.e(35390)]).then(n.bind(n,635390));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,s({},t,{onEnable:e,videoEnabled:!1}))}));case 5:case"end":return t.stop()}}),t)}))),{modalKey:"camera-preview",contextKey:t===i.AppContext.POPOUT?u.POPOUT_MODAL_CONTEXT:u.DEFAULT_MODAL_CONTEXT}):null==e||e()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(894826),o=n(194322),i=n(770348),u=n(371621);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){
d(o,r,a,i,u,"throw",e)}i(void 0)}))}}},700598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r,i,u,l=null,s=null,d=null,c=!1,f=!1;switch(e.type){case o.ParticipantTypes.ACTIVITY:break;case o.ParticipantTypes.USER:l=e.streamId;d=e.voiceState;c=e.speaking;f=e.ringing;break;case o.ParticipantTypes.STREAM:l=e.streamId;s=e.stream}return{streamId:l,stream:s,speaking:c,ringing:f,muted:null!==(n=null===(r=d)||void 0===r?void 0:r.isVoiceMuted())&&void 0!==n&&n,deafen:null!==(i=null===(u=d)||void 0===u?void 0:u.isVoiceDeafened())&&void 0!==i&&i,mirror:e.type===o.ParticipantTypes.USER&&e.user.id===t,hasVideo:(0,a.default)(e)}};var r,a=(r=n(183612))&&r.__esModule?r:{default:r},o=n(859089)},116780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var l=(0,r.useStateFromStores)([o.default],(function(){return null!=n?(0,a.getStreamerApplication)(n,o.default):null
}),[n]),s=i.default.getName(e.getGuildId(),e.id,t);if(null==n)return s;return null!=(null==l?void 0:l.name)?u.default.Messages.GO_LIVE_USER_PLAYING.format({applicationName:null==l?void 0:l.name,username:s}):u.default.Messages.GO_LIVE_TILE_SCREEN.format({username:s})};var r=n(536211),a=n(10614),o=l(n(788739)),i=l(n(29652)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}},222935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.children,n=(0,a.usePreventIdle)("popup"),o=n.preventIdle,i=n.allowIdle;r.useEffect((function(){o();return function(){return i()}}),[i,o]);return r.createElement(r.Fragment,null,t)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){
var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(134893);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},48102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOAST_LINGER_MS=void 0;t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(496486),i=n(248088),u=n(536211),l=E(n(229132)),s=E(n(252566)),d=E(n(116518)),c=n(907932),f=n(851757),p=E(n(427498)),v=E(n(201292)),y=E(n(290629)),h=E(n(16941)),_=n(961365),m=n(692711),g=E(n(123984));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return
;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.TOAST_LINGER_MS=1e4;function C(e){var t,n=e.message,r=(0,u.useStateFromStores)([y.default],(function(){return y.default.isBlocked(n.author.id)})),o=(0,c.useNullableMessageAuthor)(n),i=a.useContext(s.default),v=a.useCallback((function(e){"A"!==e.target.nodeName&&l.default.updateChatOpen(n.channel_id,!0)
}),[n.channel_id]),E=null!=n.content&&""!==n.content?(0,d.default)(n,{isInteracting:!0}).content:null,O=(0,_.renderSingleLineMessage)(n,E,r,g.default.messageContent,g.default.messageContentIcon),I=O.contentPlaceholder,b=O.renderedContent,C=O.icon,T=(0,f.getMessageStickers)(n),P=T.length>0?T.map((function(e){return S(p.default,{className:g.default.sticker,size:128,sticker:e,isInteracting:!0})})):null;return S(h.default,{className:g.default.toast,onClick:v},void 0,S("div",{className:g.default.messageContentWrapper},void 0,null!==(t=null!=b?b:P)&&void 0!==t?t:S("span",{},void 0,I),null!=P?null:C),S("img",{alt:"",src:null!=(null==o?void 0:o.guildMemberAvatar)&&null!=i?(0,m.getGuildMemberAvatarURLSimple)({guildId:i,userId:n.author.id,avatar:o.guildMemberAvatar}):n.author.getAvatarURL(i,32),className:g.default.avatar}))}C.displayName="ChatToast";function T(e){var t=e.channelId,n=e.className,r=(0,u.useStateFromStores)([v.default],(function(){return v.default.getMessages(t)
}),[t]),l=a.useState(!1),s=l[0],d=l[1],c=function(e){var t,n=e.messages,r=e.isFrozen,o=e.count,i=e.lingerMs,u=a.useState([]),l=u[0],s=u[1],d=a.useRef(null),c=a.useRef(),f=n.last();a.useEffect((function(){if(null!=f)if(null!=c.current){if(f.id!==c.current){var e={message:f,timeout:setTimeout((function(){s((function(e){return e.slice(1)}))}),i)};s((function(t){var n=[].concat(t),r=t.findIndex((function(e){return e.message.id===f.id}));-1!==r?n.splice(r,1,e):n.push(e);return n}))}}else c.current=f.id}),[o,f,i]);a.useEffect((function(){return function(){for(var e,t=I(l);!(e=t()).done;){var n=e.value;clearTimeout(n.timeout)}c.current=void 0}}),[]);a.useEffect((function(){l.length>3&&s((function(e){for(var t=e.length-3,n=0;n<t;n++)clearTimeout(e[n].timeout);return[].concat(e.slice(t))}))}),[l]);r&&null==d.current?d.current=l:r||null==d.current||(d.current=null);return(null!==(t=d.current)&&void 0!==t?t:l).map((function(e){return e.message}))}({messages:r,isFrozen:s,count:3,lingerMs:1e4
}),f=a.useRef({}),p=a.useState({}),y=p[0],h=p[1],_=a.useCallback((function(e,t){null==t?delete f.current[e]:f.current[e]=t}),[]);a.useLayoutEffect((function(){for(var e,t={},n=0,r=I(c);!(e=r()).done;){var a,i=e.value,u=null!==(a=f.current[i.id])&&void 0!==a?a:0;t[i.id]=n;n+=u+8}(0,o.isEqual)(t,y)||h(t)}),[c]);var m=c.map((function(e){return{message:e,height:f.current[e.id],y:y[e.id]}}));return S("div",{className:n,onMouseEnter:function(){d(!0)},onMouseLeave:function(){d(!1)}},void 0,(0,i.useTransition)(m,{keys:function(e){return e.message.id},from:function(){return{opacity:0}},enter:function(e){return{opacity:1,y:e.y}},update:function(e){return{y:e.y}},leave:function(e){var t=e.height;return{opacity:0,y:-(null!=t?t:0)-8}}})((function(e,t){var n=e.opacity,r=e.y;return a.createElement(i.animated.div,{ref:function(e){return _(t.message.id,null!=e?e.offsetHeight:null)},className:g.default.toastWrapper,style:{opacity:n,translateY:r}},S(C,{message:t.message}))})))}T.displayName="ChatToasts"
},430251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DisableGradient=void 0;t.default=h;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=c(n(294184)),u=c(n(530250)),l=c(n(896566)),s=c(n(744794)),d=["screenMessage","onDoubleClick","onActive","onForceIdle","idle","children","renderChatButton","renderChatToasts"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.DisableGradient=a;!function(e){e[e.TOP=0]="TOP";e[e.BOTTOM=1]="BOTTOM"}(a||(t.DisableGradient=a={}));function y(e){var t=e.disableGradients,n=void 0!==t&&t,r=e.renderHeader,o=e.renderBottomLeft,i=e.renderBottomCenter,l=e.renderBottomRight,d=e.renderCenter,c=n===a.TOP||!0===n,f=n===a.BOTTOM||!0===n;return v("div",{className:s.default.videoControls},void 0,!c&&v("div",{className:s.default.gradientTop
}),!f&&v("div",{className:s.default.gradientBottom}),v("div",{className:s.default.topControls},void 0,null==r?void 0:r()),null==d?void 0:d(),v("div",{className:s.default.bottomControls},void 0,v(u.default,{grow:0,shrink:1,basis:"50%",align:u.default.Align.CENTER},void 0,null==o?void 0:o()),v(u.default,{grow:1,justify:u.default.Justify.CENTER,align:u.default.Align.CENTER},void 0,null==i?void 0:i()),v(u.default,{grow:0,shrink:1,justify:u.default.Justify.END,basis:"50%",align:u.default.Align.CENTER},void 0,null==l?void 0:l())))}y.displayName="Controls";function h(e){var t,n=e.screenMessage,r=e.onDoubleClick,a=e.onActive,u=e.onForceIdle,c=e.idle,f=e.children,h=e.renderChatButton,_=e.renderChatToasts,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d);return v("div",{className:(0,i.default)(s.default.root,(t={},t[s.default.idle]=c,t)),onMouseMove:a,onMouseDown:a,onMouseLeave:u,onDoubleClick:r
},void 0,f,null!=n?o.createElement(l.default,p({size:"large"},n)):null,o.createElement(y,m),null==h?void 0:h({className:s.default.chatButton,showingClassName:s.default.chatButtonShowing}),null==_?void 0:_())}h.displayName="FullsizePlayer"},244612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PictureInPictureHeader=b;t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=E(n(294184)),i=n(536211),u=E(n(550024)),l=E(n(893160)),s=E(n(16941)),d=E(n(530250)),c=n(974286),f=E(n(889167)),p=E(n(971639)),v=E(n(77871)),y=E(n(896566)),h=n(770348),_=E(n(247001)),m=E(n(201768)),g=["children","idle","onJumpToChannel","backgroundKey","onActive","onForceIdle","renderBottomLeftControls","renderBottomRightControls","screenMessage"];function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){var t=e.title,n=e.onJumpToChannel,r=e.idle,a=e.preventIdleComponent,o=(0,i.useStateFromStores)([l.default],(function(){return l.default.getChannelId()})),u=null!=o?I(v.default,{voiceChannelId:o,idle:r}):null;return I(a,{className:m.default.headerIdleContainer},void 0,I(s.default,{className:m.default.headerTitle,onClick:n},void 0,I(f.default,{"aria-label":_.default.Messages.OPEN_IN_THEATER,className:m.default.backButton,width:20,height:20}),I(p.default,{className:m.default.headerText,size:p.default.Sizes.SIZE_16,color:h.Colors.WHITE},void 0,t)),u)}b.displayName="PictureInPictureHeader";function C(e){
var t,n=e.children,r=e.idle,i=e.onJumpToChannel,l=e.backgroundKey,s=e.onActive,f=e.onForceIdle,p=e.renderBottomLeftControls,v=e.renderBottomRightControls,h=e.screenMessage,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,g);return I("div",{onMouseMove:s,onMouseDown:s,onMouseLeave:f,className:(0,o.default)(m.default.pictureInPictureVideo,(t={},t[m.default.idle]=r,t)),onDoubleClick:i},void 0,I(u.default,{},void 0,I(c.BackgroundTransition,{},l,n)),null!=h?a.createElement(y.default,S({size:"small"},h)):null,I("div",{className:m.default.videoControls},void 0,I("div",{className:m.default.topControls},void 0,a.createElement(b,S({idle:r,onJumpToChannel:i},_))),I("div",{className:m.default.bottomControls},void 0,I(d.default,{grow:0,shrink:1,basis:"50%",align:d.default.Align.CENTER,className:m.default.bottomLeftControls},void 0,null==p?void 0:p()),I(d.default,{grow:0,shrink:1,justify:d.default.Justify.END,
basis:"50%",align:d.default.Align.CENTER},void 0,null==v?void 0:v()))))}C.displayName="PictureInPictureVideo"},77871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=b(n(667294)),o=n(536211),i=S(n(229132)),u=n(720409),l=S(n(303798)),s=S(n(825724)),d=b(n(145122)),c=S(n(607209)),f=S(n(288356)),p=S(n(218843)),v=S(n(728429)),y=S(n(16941)),h=S(n(160629)),_=S(n(301927)),m=n(770348),g=n(859089),E=S(n(247001)),O=S(n(201768));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e){var t=e.closePopout,n=e.idle,r=e.pipWindows,a=e.voiceChannelId,v=e.onSelect;n&&t();var y=(0,o.useStateFromStores)([l.default],(function(){return l.default.getSelfEmbeddedActivityForChannel(a)})),h=(0,o.useStateFromStores)([p.default],(function(){
return p.default.pipWindow})),_=(0,o.useStateFromStores)([s.default],(function(){return s.default.getSelectedParticipant(a)})),O=(0,o.useStateFromStores)([s.default],(function(){return s.default.getStreamParticipants(a)}));return T(d.default,{navId:"pip-menu","aria-label":"switch PIP",onClose:t,onSelect:v},void 0,function(){var e=r.find((function(e){return e.component===m.PictureInPictureComponents.EMBED_IFRAME})),t=r.find((function(e){return e.component===m.PictureInPictureComponents.VIDEO})),n=[];null!=e&&(null==h?void 0:h.id)!==e.id&&n.push({pipWindow:e});null!=t&&O.forEach((function(e){var r=c.default.getActiveStreamForApplicationStream(e.stream),a=e.id===(null==_?void 0:_.id)&&(null==h?void 0:h.id)===t.id;null==r||a||n.push({pipWindow:t,participant:e,stream:r})}));return n}().map((function(e){var t,n=e.pipWindow.id,r=null===(t=e.participant)||void 0===t?void 0:t.id,o=function(e){if(e.pipWindow.component===m.PictureInPictureComponents.EMBED_IFRAME&&null!=y){
var t,n=null===(t=f.default.getGame(y.application_id))||void 0===t?void 0:t.name;return null==n?E.default.Messages.SWITCH_PIP_TO_ACTIVITY:E.default.Messages.SWITCH_PIP_TO_ACTIVITY_NAME.format({activityName:n})}return null==e.participant||e.participant.type!==g.ParticipantTypes.STREAM?E.default.Messages.SWITCH_PIP_TO_GO_LIVE:E.default.Messages.SWITCH_PIP_TO_USER_STREAM.format({username:e.participant.userNick})}(e),l=""+n+(null!=r?r:"");return T(d.MenuItem,{id:l,label:o,action:function(){return function(e){(null==h?void 0:h.id)!==e.pipWindow.id&&(0,u.switchPIPFocus)(e.pipWindow.id);var t=e.participant;null!=t&&t.type!==g.ParticipantTypes.ACTIVITY&&i.default.selectParticipant(a,t.id)}(e)}},l)})))}P.displayName="PictureInPictureSwitchWindowMenu";function A(e){var t=e.voiceChannelId,n=e.idle,r=(0,o.useStateFromStores)([p.default],(function(){return p.default.pipWindows})),i=Array.from(r.values()),u=(0,o.useStateFromStoresArray)([c.default],(function(){
return c.default.getAllActiveStreamsForChannel(t)})).filter((function(e){var n;return e.ownerId!==(null===(n=v.default.getCurrentUser())||void 0===n?void 0:n.id)&&e.channelId===t})),l=1===i.length&&i[0].component===m.PictureInPictureComponents.EMBED_IFRAME||0===u.length,s=1===i.length&&u.length<=1;return l||s?null:T(h.default,{position:h.default.Positions.BOTTOM,renderPopout:function(e){return a.createElement(P,C({voiceChannelId:t,pipWindows:i,idle:n},e))}},void 0,(function(e){return a.createElement(y.default,C({className:O.default.menuIcon},e),T(_.default,{color:m.Colors.WHITE}))}))}A.displayName="PictureInPictureSwitchWindowPopout";var M=A;t.default=M},896566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(518931)),o=u(n(530250)),i=u(n(515506));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.mainText,n=e.supportingText,r=e.children,u=e.size;return s(o.default,{className:i.default.root,
justify:o.default.Justify.CENTER,align:o.default.Align.CENTER,direction:o.default.Direction.VERTICAL},void 0,s(a.default,{header:t,description:n,size:u}),r)}d.displayName="ScreenMessage"},778339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;c(n(667294));var r,a=s(n(294184)),o=c(n(730977)),i=s(n(417184)),u=s(n(134893)),l=s(n(400534));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.errorMessage,n=e.className;return f(o.TooltipContainer,{className:(0,a.default)(n,l.default.root),text:t,position:o.default.Positions.BOTTOM,color:o.TooltipColors.GREY},void 0,f(u.default,{},void 0,f(i.default,{"aria-label":null!=t?t:"",className:l.default.warningIcon})))}p.displayName="QualityWarning"},605520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(250003))&&r.__esModule?r:{default:r},i=n(143414),u=["isActivityActive"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e){var t=e.isActivityActive,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return a.createElement(i.CenterControlButton,s({color:t?"white":"primaryDark",
iconComponent:o.default},n))}d.displayName="ActivityButton"},116790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(160490)),u=d(n(143414)),l=d(n(810881)),s=["direction","className"];function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}!function(e){e[e.UP=0]="UP";e[e.DOWN=1]="DOWN"}(r||(r={}));function p(e){var t,n=e.direction,d=e.className,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return a.createElement(u.default,f({className:(0,o.default)(d,l.default.arrow,(t={},t[l.default.up]=n===r.UP,t)),iconComponent:i.default},c))}p.displayName="ArrowButton";p.Directions=r;var v=p;t.default=v},146529:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=R;t.useChatButtonState=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=O(n(294184)),i=n(496486),u=O(n(468811)),l=n(536211),s=O(n(229132)),d=O(n(825724)),c=O(n(191391)),f=O(n(946447)),p=n(730977),v=n(810919),y=O(n(776360)),h=n(48102),_=O(n(143414)),m=O(n(247001)),g=O(n(34021)),E=["channelId","className","showingClassName"];function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e){var t=(0,l.useStateFromStoresObject)([c.default],(function(){return{unreadCount:c.default.getUnreadCount(e),mentionCount:c.default.getMentionCount(e)}}),[e]),n=t.unreadCount,r=t.mentionCount,o=a.useState(!1),i=o[0],u=o[1];a.useEffect((function(){u(n>0);var e=setTimeout((function(){u(!1)}),h.TOAST_LINGER_MS);return function(){clearTimeout(e);u(!1)}}),[n]);return{unreadCount:n,mentionCount:r,isShowing:i||r>0}}var T=b("rect",{fill:"white",width:"100%",height:"100%"}),P=b("g",{fill:"black",transform:"translate(5.5, 8.5) scale("+11/24+")"},void 0,b(v.AnimatedDots,{dotRadius:3.5,spacing:3,fill:"black"})),A=b("circle",{cx:"20",cy:"19",r:"10",fill:"black"});function M(e){
var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,i=e.isBadged,l=void 0!==i&&i,s=e.isTyping,d=void 0!==s&&s,c=a.useState((function(){return u.default.v4()}))[0];return b("svg",{width:n,height:o,viewBox:"0 0 24 24"},void 0,b("defs",{},void 0,b("mask",{id:c},void 0,T,d&&P,l&&A)),b("path",{fill:"currentColor",d:"M4.79805 3C3.80445 3 2.99805 3.8055 2.99805 4.8V15.6C2.99805 16.5936 3.80445 17.4 4.79805 17.4H7.49805V21L11.098 17.4H19.198C20.1925 17.4 20.998 16.5936 20.998 15.6V4.8C20.998 3.8055 20.1925 3 19.198 3H4.79805Z",mask:"url(#"+c+")"}))}M.displayName="ChatBubbleIcon";function N(e){var t,n,r=e.className,a=e.unreadCount,i=e.mentionCount,u=e.isTyping,l=null!=i&&i>0,s=null!==(t=l?i:a)&&void 0!==t?t:0,d=s>99?"99+":s,c=null!=a&&a>0;return b("div",{className:(0,o.default)(g.default.chatIcon,r)},void 0,b(M,{isBadged:c,isTyping:u}),c&&b(y.default,{className:(0,o.default)(g.default.unreadCount,(n={},n[g.default.mention]=l,n)),size:y.default.Sizes.SIZE_12},void 0,d))}
N.displayName="ChatButtonContent";function R(e){var t,n=e.channelId,r=e.className,u=e.showingClassName,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,E),v=(0,l.useStateFromStores)([d.default],(function(){return d.default.getChatOpen(n)}),[n]),y=(0,l.useStateFromStores)([f.default],(function(){return!(0,i.isEmpty)(f.default.getTypingUsers(n))}),[n]),h=C(n),g=h.unreadCount,O=h.mentionCount,S=h.isShowing,T=a.useCallback((function(){s.default.updateChatOpen(n,!v)}),[n,v]),P=a.useCallback((function(e){return b(N,{className:e.className,unreadCount:g,mentionCount:O,isTyping:y})}),[g,O,y]);return a.createElement(_.default,I({onClick:T,label:v?m.default.Messages.VIDEO_CALL_HIDE_CHAT:m.default.Messages.VIDEO_CALL_SHOW_CHAT,iconComponent:P,tooltipPosition:p.TooltipPositions.BOTTOM,className:(0,o.default)(r,u&&(t={},t[u]=S||y,t))},c))}R.displayName="ChatButton"},928221:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(730977),o=l(n(775803)),i=l(n(143414)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e){var t=d({},e)
;return r.createElement(i.default,d({label:u.default.Messages.MORE,iconComponent:o.default,tooltipPosition:a.TooltipPositions.BOTTOM},t))}c.displayName="ContextButton"},278851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(536211)),o=p(n(902305)),i=p(n(949898)),u=p(n(775776)),l=p(n(814379)),s=n(245838),d=p(n(143414)),c=p(n(247001)),f=["enabled"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e){var t=e.enabled,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f),a=t?c.default.Messages.EXIT_FULL_SCREEN:c.default.Messages.FULL_SCREEN,o=t?l.default:u.default;return r.createElement(d.default,y({label:a,iconComponent:o},n))}h.displayName="FullscreenButton";var _=a.default.connectStores([i.default,o.default],(function(e){var t=e.node,n=e.guestWindow;return{enabled:(0,s.isFullScreen)(t,null==n?void 0:n.document)}}))(h);t.default=_},56396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=d(n(229132)),o=n(730977),i=d(n(852546)),u=d(n(143414)),l=d(n(247001)),s=["channelId"];function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e){var t=e.channelId,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s)
;return r.createElement(u.default,f({onClick:function(){a.default.selectParticipant(t,null)},label:l.default.Messages.VIDEO_CALL_RETURN_TO_GRID,iconComponent:i.default,tooltipPosition:o.TooltipPositions.BOTTOM},n))}p.displayName="GridButton"},643779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=d(n(667294)),a=l(n(119431)),o=d(n(143414)),i=l(n(247001)),u=["channel","centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e){var t=e.channel,n=e.centerButton,l=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),d=l?o.CenterControlButton:o.default,f=t.isManaged()||!t.isPrivate()?i.default.Messages.CONNECT:i.default.Messages.JOIN_CALL;return r.createElement(d,c({},s,{iconComponent:a.default,label:f}))}f.displayName="JoinCallButton"},67286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=d(n(667294)),a=l(n(434663)),o=d(n(143414)),i=l(n(247001)),u=["centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e){var t=e.centerButton,n=void 0!==t&&t,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),s=n?o.CenterControlButton:o.default
;return r.createElement(s,c({},l,{iconComponent:a.default,label:i.default.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY}))}f.displayName="LeaveCallButton"},401311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=d(n(667294)),a=l(n(331546)),o=d(n(143414)),i=l(n(247001)),u=["centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(){c=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e){var t=e.centerButton,n=void 0!==t&&t,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),s=n?o.CenterControlButton:o.default;return r.createElement(s,c({},l,{iconComponent:a.default,label:i.default.Messages.DISCONNECT_SELF}))}f.displayName="LeaveCallButton"},607576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=p(n(667294)),o=c(n(945926)),i=c(n(855480)),u=c(n(287317)),l=p(n(143414)),s=c(n(592695)),d=["selfMute","serverMute","suppress","centerButton"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.className;return y(u.default,{foreground:s.default.slash,className:t})}h.displayName="MuteWithForeground";function _(e){var t=e.selfMute,n=e.serverMute,r=e.suppress,u=e.centerButton,s=void 0!==u&&u,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d),f=t||n||r,p=s?l.CenterControlButton:l.default,y=(0,o.default)(t,n,r),_=f?h:i.default;return a.createElement(p,v({iconComponent:_,label:y},c))}_.displayName="MuteButton"},975577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ParticipantsCount=_;t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=n(730977),u=p(n(547282)),l=p(n(776360)),s=p(n(143414)),d=p(n(247001)),c=p(n(898641)),f=["count"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.className,n=e.count;return h("div",{className:(0,o.default)(c.default.root,c.default.comboIcon,t)},void 0,h(u.default,{className:c.default.icon}),h(l.default,{color:l.default.Colors.CUSTOM,className:c.default.count,size:l.default.Sizes.SIZE_16},void 0,n))}_.displayName="ParticipantsCount";function m(e){var t=e.count,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f);return a.createElement(s.default,y({label:d.default.Messages.CHANNEL_CALL_PARTICIPANTS,iconComponent:function(e){return h(_,{className:e.className,count:t})},tooltipPosition:i.TooltipPositions.BOTTOM},n))}m.displayName="ParticipantsButton"},866219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=d(n(294184)),o=d(n(435012)),i=d(n(143414)),u=d(n(247001)),l=d(n(946078)),s=["popoutOpen","onClosePopout","onOpenPopout"];function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e){
var t,n=e.popoutOpen,d=e.onClosePopout,c=e.onOpenPopout,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s),v=n?u.default.Messages.POPOUT_RETURN:u.default.Messages.POPOUT_PLAYER;return r.createElement(i.default,f({label:v,onClick:n?d:c,iconComponent:o.default,iconClassName:(0,a.default)((t={},t[l.default.popIn]=n,t))},p))}p.displayName="PopoutButton"},960401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=f(n(751037)),i=f(n(160629)),u=f(n(450474)),l=f(n(222935)),s=f(n(143414)),d=f(n(247001)),c=["channel"];function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.channel,n=function(e,t){if(null==e)return{}
;var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c);return y(i.default,{position:i.default.Positions.TOP,renderPopout:function(){return y(l.default,{},void 0,y(o.default,{guildId:t.guild_id}))}},void 0,(function(e){return a.createElement(s.default,v({},e,{label:d.default.Messages.GUILD_SETTINGS_SOUNDBOARD,iconComponent:u.default},n))}))}h.displayName="SoundboardButton"},861891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=s(n(227479)),o=s(n(41183)),i=s(n(143414)),u=s(n(247001)),l=["popoutWindowAlwaysOnTop","onToggleStayOnTop"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e){var t=e.popoutWindowAlwaysOnTop,n=e.onToggleStayOnTop,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),d=t?u.default.Messages.POPOUT_REMOVE_FROM_TOP:u.default.Messages.POPOUT_STAY_ON_TOP,f=t?o.default:a.default;return r.createElement(i.default,c({onClick:function(){return n(!t)},label:d,iconComponent:f},s))}f.displayName="StayOnTopButton"},305914:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r=c(n(667294)),a=s(n(422621)),o=s(n(487255)),i=c(n(143414)),u=s(n(247001)),l=["isSelfStream","centerButton"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return f.apply(this,arguments)}function p(e){return e?u.default.Messages.STOP_STREAMING:u.default.Messages.STOP_WATCHING}function v(e){var t=e.isSelfStream,n=e.centerButton,u=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),d=u?i.CenterControlButton:i.default;return r.createElement(d,f({label:p(t),iconComponent:t?a.default:o.default},s))}v.displayName="StopStreamButton"},735319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=d(n(667294)),a=l(n(952117)),o=d(n(143414)),i=l(n(247001)),u=["hasPermission","centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e){var t=e.hasPermission,n=e.centerButton,l=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),d=l?o.CenterControlButton:o.default,f=t?i.default.Messages.SHARE_YOUR_SCREEN:i.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE;return r.createElement(d,c({label:f,disabled:!t,iconComponent:a.default},s))}f.displayName="StreamButton"},
715801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(229132)),u=f(n(160490)),l=f(n(547282)),s=f(n(143414)),d=f(n(247001)),c=f(n(685109));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.className,n=e.isVertical;return v("div",{className:c.default.iconContainer},void 0,v(u.default,{className:(0,o.default)(n?c.default.upCaret:c.default.leftCaret,t)}),v(l.default,{className:(0,o.default)(c.default.members,t)}))}y.displayName="OpenIcon";function h(e){var t=e.className,n=e.isVertical;return v("div",{className:c.default.iconContainer},void 0,v(u.default,{className:(0,o.default)(n?c.default.downCaret:c.default.rightCaret,t)}),n&&v(l.default,{className:(0,o.default)(c.default.members,t)}))}h.displayName="CloseIcon";function _(e){var t=e.channelId,n=e.className,r=e.isParticipantsOpen,u=e.isVertical,l=void 0!==u&&u,f=e.hideTooltip,p=void 0!==f&&f
;var _=a.useCallback((function(e){var t=e.className;return v(r?h:y,{className:t,isVertical:l})}),[r,l]);return v(s.default,{label:r?d.default.Messages.VIDEO_CALL_HIDE_MEMBERS:d.default.Messages.VIDEO_CALL_SHOW_MEMBERS,className:(0,o.default)(c.default.participantsButton,n),onClick:function(){i.default.toggleParticipants(t,!r)},iconComponent:_,shouldShowTooltip:!p})}_.displayName="ToggleParticipantsButton"},645675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VideoButtonWrapper=g;t.default=E;var r,a=y(n(667294)),o=p(n(294184)),i=p(n(818994)),u=n(839370),l=p(n(79027)),s=y(n(143414)),d=p(n(283253)),c=["enabled","join","channel","onChange","onCameraUnavailable","cameraUnavailable","hasPermission","className","channelLimitReached","channelLimit","centerButton","onPopoutClick"],f=["unavailable"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){
return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function g(e){var t=(0,u.getVideoButtonLabel)(e),n=e.enabled,r=e.cameraUnavailable,o=e.onChange,s=e.onCameraUnavailable,d=e.hasPermission,c=e.children,f=e.channelLimitReached,p=void 0!==f&&f,v=a.useContext(i.default),y=r?function(){return s()}:function(){return o(!e.enabled,v)};return a.createElement(a.Fragment,null,c({onClick:y,active:n,disabled:!d||p&&!n,iconComponent:l.default,label:t,unavailable:r}))}function E(e){var t=e.enabled,n=e.join,r=e.channel,i=e.onChange,u=e.onCameraUnavailable,l=e.cameraUnavailable,p=e.hasPermission,v=e.className,y=e.channelLimitReached,E=e.channelLimit,O=e.centerButton,S=void 0!==O&&O,I=e.onPopoutClick,b=m(e,c),C=S?s.CenterControlButton:s.default;return h(g,{enabled:t,join:n,channel:r,onChange:i,
onCameraUnavailable:u,cameraUnavailable:l,hasPermission:p,channelLimitReached:y,channelLimit:E},void 0,(function(e){var t,n=e.unavailable,r=m(e,f);return a.createElement(C,_({},r,b,{className:(0,o.default)(v,(t={},t[d.default.fauxDisabled]=n,t)),onPopoutClick:I}))}))}E.displayName="VideoButton"},727012:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=f(n(229132)),o=n(730977),i=f(n(670427)),u=f(n(950291)),l=f(n(143414)),s=n(859089),d=f(n(247001)),c=["channelId","isHorizontal"];function f(e){
return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e){var t=e.channelId,n=e.isHorizontal,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c);return r.createElement(l.default,v({onClick:function(){a.default.selectParticipant(t,s.ParticipantSelectionTypes.AUTO)},label:d.default.Messages.VIDEO_CALL_AUTO_SELECT,iconComponent:n?i.default:u.default,tooltipPosition:o.TooltipPositions.BOTTOM},f))}y.displayName="VideoLayoutButton"},561603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(294184)),o=p(n(536211)),i=p(n(740207)),u=p(n(635014)),l=p(n(879567)),s=n(758956),d=n(864489),c=p(n(134893)),f=p(n(964063));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.iconClassName,n=e.currentVolume,r=e.sliderClassName,o=e.userId,u=e.currentWindow,p=void 0===u?window:u,v=e.muted,h=e.context;return y(c.default,{},void 0,y(l.default,{currentWindow:p,iconClassName:(0,a.default)(t,f.default.controlIcon),sliderClassName:r,value:(0,s.amplitudeToPerceptual)(n),muted:v,maxValue:d.isPlatformEmbedded?200:100,onValueChange:function(e){return function(e,t,n,r){e>0&&n&&i.default.toggleLocalMute(t,r);i.default.setLocalVolume(t,(0,s.perceptualToAmplitude)(e),r)}(e,o,v,h)},onToggleMute:function(){return function(e,t){i.default.toggleLocalMute(e,t)}(o,h)}}))}h.displayName="VolumeButton";var _=o.default.connectStores([u.default],(function(e){var t=e.userId,n=e.context;return{currentVolume:u.default.getLocalVolume(t,n),muted:u.default.isLocalMute(t,n)}}))(h);t.default=_},555325:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.shouldImmediatelyRequestVoicePermissions=E;var r=h(n(636602)),a=h(n(177230)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(406136)),i=h(n(258079)),u=n(104144),l=h(n(950673)),s=h(n(423046)),d=h(n(644263)),c=h(n(635014)),f=h(n(893160)),p=h(n(919158)),v=n(770348);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return _(e,t)}var m=null;function g(){o.default.requestPermission(o.NativePermissionTypes.AUDIO).then((function(e){e&&(0,p.default)(!0)}));c.default.getMode()===v.InputModes.PUSH_TO_TALK&&o.default.requestPermission(o.NativePermissionTypes.INPUT_MONITORING)}function E(e,t){var n;return!(null===(n=d.default.getChannel(t))||void 0===n?void 0:n.isListenModeCapable())||i.default.isSpeaker(e,t)}var O=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(v.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates);r.default.subscribe(v.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect)};n._terminate=function(){r.default.unsubscribe(v.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates);r.default.unsubscribe(v.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect)}
;n.handleVoiceChannelSelect=function(e){null==e.channelId&&(m=null)};n.handleVoiceStateUpdates=function(e){e.voiceStates.forEach((function(e){var t=e.userId,n=e.channelId;if(null!=n){if(s.default.getId()===t&&null!=f.default.getRTCConnectionId()&&m!==n){if(E(t,n)){m=n;g()}else{var r;if(r=new l.default(e),(0,u.getAudienceRequestToSpeakState)(r)===u.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK){m=n;g()}}}}}))};return t}(a.default));t.default=O},919158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){}},350539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=v(n(636602)),o=v(n(136873)),i=v(n(177230)),u=v(n(607209)),l=v(n(644263)),s=v(n(30098)),d=v(n(929230)),c=v(n(893160)),f=n(864489),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var m=new r.Timeout,g=new r.Timeout,E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(p.ActionTypes.IDLE,this.handleIdleUpdate)};n._terminate=function(){m.stop();g.stop();a.default.unsubscribe(p.ActionTypes.IDLE,this.handleIdleUpdate)};n.handleIdleUpdate=function(){var e=d.default.getIdleSince();if(f.isPlatformEmbedded){m.stop();g.stop();for(var t,n=y(u.default.getAllActiveStreams());!(t=n()).done;){if(t.value.state!==p.ApplicationStreamStates.ENDED)return}if(null!=e){var r=c.default.getChannelId();if(null!=r){g.start(18e6,(function(){o.default.selectVoiceChannel(null)}));var a=s.default.getGuild(c.default.getGuildId());if(null!=a&&null!=a.afkChannelId&&a.afkChannelId!==r&&null!=a.afkTimeout){var i=l.default.getChannel(r);null!=i&&(i.isGuildStageVoice()||m.start(e+1e3*a.afkTimeout-Date.now(),(function(){null!=(a=s.default.getGuild(c.default.getGuildId()))&&null!=a.afkChannelId&&o.default.selectVoiceChannel(a.afkChannelId)})))}}}}};return t}(i.default));t.default=E},
131629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NO_WELCOME_SCREEN=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};t.NO_WELCOME_SCREEN=s;var d={},c={},f=!1,p=!1,v=!1;function y(e){var t=e.invite.guild;if(null!=(null==t?void 0:t.welcome_screen)){d[t.id]=t.welcome_screen;return!0}return!1}function h(e){var t=e.welcomeScreen,n=e.guildId;d[n]=null!=t?t:s}var _=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.get=function(e){if(null!=e)return d[e]};n.isFetching=function(){return p};n.hasError=function(){return v};n.hasSeen=function(e,t){void 0===t&&(t=!1);return null!=e&&(t?f:c[e]||!1)};return t
}(a.default.Store))(o.default,((r={})[i.ActionTypes.INVITE_RESOLVE_SUCCESS]=y,r[i.ActionTypes.INVITE_ACCEPT_SUCCESS]=y,r[i.ActionTypes.WELCOME_SCREEN_SUBMIT_SUCCESS]=h,r[i.ActionTypes.WELCOME_SCREEN_UPDATE]=h,r[i.ActionTypes.WELCOME_SCREEN_VIEW]=function(e){var t=e.guildId,n=e.isLurking;c[t]=!0;n&&(f=!0)},r[i.ActionTypes.GUILD_STOP_LURKING]=function(){f=!1},r[i.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild.id;c[t]=!1},r[i.ActionTypes.WELCOME_SCREEN_FETCH_START]=function(){p=!0;v=!1},r[i.ActionTypes.WELCOME_SCREEN_FETCH_SUCCESS]=function(e){p=!1;v=!1;var t=e.welcomeScreen,n=e.guildId;d[n]=null!=t?t:s},r[i.ActionTypes.WELCOME_SCREEN_FETCH_FAIL]=function(){p=!1;v=!0},r));t.default=_},737931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=h(n(536211)),i=h(n(972247)),u=n(91817),l=h(n(636602)),s=h(n(312260)),d=n(811076),c=h(n(288356)),f=h(n(191839)),p=h(n(834162)),v=h(n(871778)),y=n(770348);function h(e){return e&&e.__esModule?e:{
default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
var E="ActivityTrackingStore",O=18e5,S=null!==(r=i.default.get(E))&&void 0!==r?r:{},I={},b=!1;function C(e,t){void 0===t&&(t=!0);t&&T(e,!0);var n=I[e.applicationId];if(null!=n){n.stop();delete I[e.applicationId]}delete S[e.applicationId];i.default.set(E,S)}function T(e,t){void 0===t&&(t=!1);var n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>21e5&&(r=0);s.default.updateActivity(e.applicationId,e.isDiscordApplication?y.Distributors.DISCORD:e.distributor,(0,d.shouldShareApplicationActivity)(e.applicationId,v.default,f.default),e.token,Math.floor(r/1e3),t);e.updatedAt=n;var a=I[e.applicationId];null==a&&(a=I[e.applicationId]=new u.Interval).start(O,(function(){return T(e)}));if(!t){S[e.applicationId]=e;i.default.set(E,S)}}function P(e){void 0===e&&(e=!0);for(var t,n=p.default.getRunningGames(),r=new Set,a=m(n);!(t=a()).done;){var o=t.value,i=o.name,u=o.distributor,l=c.default.getGameByName(i);if(null!=l){r.add(l.id);l.id in S||T({applicationId:l.id,updatedAt:Date.now(),distributor:u})}
}for(var s=0,d=Object.keys(S);s<d.length;s++){var f=d[s];r.has(f)||C(S[f],e)}}function A(){for(var e=0,t=Object.keys(S);e<t.length;e++){var n=t[e];C(S[n])}b=!1}var M=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(p.default,v.default,f.default);this.syncWith([v.default],P)};n.getActivities=function(){return S};return t}(o.default.Store))(l.default,((a={})[y.ActionTypes.RUNNING_GAMES_CHANGE]=function(){return P()},a[y.ActionTypes.CONNECTION_OPEN]=function(){if(b)return!1;for(var e=0,t=Object.keys(S);e<t.length;e++){var n=t[e];T(S[n])}P(!1);b=!0},a[y.ActionTypes.CONNECTION_CLOSED]=function(e){4004===e.code&&A()},a[y.ActionTypes.LOGOUT]=A,a[y.ActionTypes.ACTIVITY_UPDATE_SUCCESS]=function(e){var t=e.applicationId,n=e.token,r=S[t];if(null==r)return!1;r.token=n;i.default.set(E,S)},
a[y.ActionTypes.ACTIVITY_UPDATE_FAIL]=function(e){var t=e.applicationId,n=S[t];if(null==n)return!1;n.token=null;n.updatedAt=null;i.default.set(E,S)},a));t.default=M},938199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={toastsEnabledForChannel:{}},d=s;var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){d=null!=e?e:s};n.getToastsEnabled=function(e){var t;return null===(t=d.toastsEnabledForChannel[e])||void 0===t||t};n.getState=function(){return d};return t}(a.default.PersistedStore);c.persistKey="CallChatToasts";var f=new c(o.default,((r={})[i.ActionTypes.CALL_CHAT_TOASTS_SET_ENABLED]=function(e){
var t=e.channelId,n=e.toastsEnabled;d.toastsEnabledForChannel[t]=n},r[i.ActionTypes.LOGOUT]=function(){d.toastsEnabledForChannel={}},r));t.default=f},101820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=v(n(536211)),i=n(91817),u=v(n(636602)),l=v(n(786345)),s=v(n(136873)),d=v(n(387692)),c=v(n(487372)),f=n(770348),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=new i.Timeout;function _(){if(null!=a){l.default.sendBotMessage(a,p.default.Messages.BOT_CALL_IDLE_DISCONNECT);s.default.selectVoiceChannel(null)}}var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.initialize=function(){this.waitFor(d.default)};return t}(o.default.Store))(u.default,((r={})[f.ActionTypes.CONNECTION_CLOSED]=function(){a=null
;h.stop()},r[f.ActionTypes.VOICE_STATE_UPDATES]=function(e){return e.voiceStates.reduce((function(e,t){if(null!=t.guildId)return e;var n=d.default.getCurrentClientVoiceChannelId(null);if(null==n){h.stop();return e}if(1===c.default.countVoiceStatesForChannel(n)){a=n;h.start(3e5,_,!1)}else h.stop();return e}),!1)},r));t.default=m},484024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getSkuIdForChannel=function(e){return s[e]};return t}(a.default.Store))(o.default,((r={})[i.ActionTypes.CONNECTION_OPEN]=function(){s={}},r[i.ActionTypes.STORE_LISTING_FETCH_SUCCESS]=function(e){
var t=e.channelId,n=e.storeListing;null!=t&&(s[t]=n.sku.id)},r));t.default=d},42398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(636602)),u=p(n(32079)),l=p(n(491462)),s=p(n(30098)),d=p(n(689389)),c=p(n(89981)),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var g,E,O,S=[],I=null,b=!1,C=f.FormStates.CLOSED,T={},P=!1;function A(){E=l.default.getChannel();g=null!=E?s.default.getGuild(E.guild_id):null;S=null!=E&&null!=g&&d.default.can(f.Permissions.MANAGE_WEBHOOKS,E)?c.default.getWebhooksForChannel(g.id,E.id):[];if(null!=I){var e=N(I.id);null!=e&&(I=e)}C=f.FormStates.OPEN
;T={};P=!1}var M=a.default.debounce((function(){if(P){(null==I||a.default.isEqual(I,N(I.id)))&&(P=!1);P||R.emitChange()}}),500);function N(e){return S.find((function(t){return t.id===e}))}var R=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default,s.default,c.default,d.default)};n.hasChanges=function(){return P};n.getWebhook=function(e){return N(e)};n.showNotice=function(){return this.hasChanges()};n.getProps=function(){return{submitting:C===f.FormStates.SUBMITTING,webhooks:S,editedWebhook:I,section:O,hasChanges:this.hasChanges(),isFetching:b,errors:T}};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"webhooks",get:function(){return S}},{key:"editedWebhook",get:function(){return I}},{key:"formState",get:function(){return C}}]);return t
}(o.default.Store))(i.default,__OVERLAY__?{}:((r={})[f.ActionTypes.INTEGRATION_SETTINGS_INIT]=A,r[f.ActionTypes.INTEGRATION_SETTINGS_SAVE_SUCCESS]=A,r[f.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=function(e){if(e.section!==f.ChannelSettingsSections.INTEGRATIONS)return!1;O=f.IntegrationSettingsSections.OVERVIEW;if(null==g){var t=l.default.getChannel(),n=null==t?void 0:t.getGuildId();if(null!=t&&null!=n){u.default.fetchForChannel(n,t.id);b=!0}A()}},r[f.ActionTypes.INTEGRATION_SETTINGS_SET_SECTION]=function(e){var t=e.section;O=t},r[f.ActionTypes.INTEGRATION_SETTINGS_START_EDITING_WEBHOOK]=function(e){var t=N(e.webhookId);if(null==t)return!1;I=t;T={};P=!1},r[f.ActionTypes.INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK]=function(){I=null;T={};P=!1},r[f.ActionTypes.INTEGRATION_SETTINGS_UPDATE_WEBHOOK]=function(e){var t=e.settings;if(null==I)return!1;I=m({},I);if(null!=t.name&&I.name!==t.name){I.name=t.name;P=!0}if(void 0!==t.avatar&&I.avatar!==t.avatar){I.avatar=t.avatar;P=!0}
if(null!=t.channelId&&I.channel_id!==t.channelId){I.channel_id=t.channelId;P=!0}P&&M()},r[f.ActionTypes.CHANNEL_SETTINGS_CLOSE]=function(){E=null;g=null;S=[];I=null;C=f.FormStates.CLOSED},r[f.ActionTypes.WEBHOOKS_UPDATE]=function(e){var t=e.guildId,n=e.channelId,r=e.webhooks;if(null==g||t!==g.id||null==E||n!==E.id||null==r||C===f.FormStates.SUBMITTING)return!1;b=!1;for(var a=function(e){var t=S[e];if(null!=n&&(null==t?void 0:t.channel_id)!==n)return"continue";var a=r.find((function(e){if(e.id===t.id)return!0}));if(null!=a){var o,i=m({},t,{},a);S[e]=i;P||(null===(o=I)||void 0===o?void 0:o.id)!==i.id||(I=i)}else{var u;(null===(u=I)||void 0===u?void 0:u.id)===t.id&&(I=null);S.splice(e,1)}},o=S.length-1;o>=0;o--)a(o);for(var i,u=function(){var e=i.value;null==S.find((function(t){if(t.id===e.id)return!0}))&&S.push(e)},l=h(r);!(i=l()).done;)u();S=[].concat(S);M()},r[f.ActionTypes.INTEGRATION_SETTINGS_SUBMITTING]=function(){C=f.FormStates.SUBMITTING;T={}},
r[f.ActionTypes.INTEGRATION_SETTINGS_SAVE_FAILURE]=function(e){var t;if(C!==f.FormStates.SUBMITTING)return!1;C=f.FormStates.OPEN;T=null!==(t=e.errors)&&void 0!==t?t:{}},r)),w=R;t.default=w},847583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(972247)),u=p(n(636602)),l=p(n(656016)),s=p(n(491462)),d=p(n(644263)),c=n(770348),f=n(739889);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var g,E,O=new Set,S=c.FormStates.CLOSED,I=!1,b=null,C=null,T=null,P=null,A=null,M=null,N=i.default.get(f.ADVANCED_MODE_ON_KEY)||!1;function R(e){var t=e.getGuildId(),n=m({},e.permissionOverwrites)
;null!=t&&null==n[t]&&(n[t]=l.default.makeEveryoneOverwrite(t));return n}function w(){T=s.default.getChannel();P=s.default.getCategory();if(null==T)return!1;var e=T.getGuildId();C=b=R(T);null==b[A]&&(A=e);E=null!=P;g=l.default.areChannelsLocked(T,P);M=null;I=!1;S=c.FormStates.CLOSED;O.clear()}function D(e){if(null==T||T.id!==e)return!1;if(null==(T=d.default.getChannel(e)))return!1;P=s.default.getCategory();var t=T.getGuildId();if(null==t)return!1;C=R(T);var n={};O.forEach((function(e){null!=b&&(n[e]=b[e])}));null==n[t]&&null==T.permissionOverwrites[t]&&(n[t]=l.default.makeEveryoneOverwrite(t));if(null==(b=m({},T.permissionOverwrites,{},n))[A])A=t;else if(M&&null!=b[M]){A=M;M=null}g=l.default.areChannelsLocked(T,P);return!0}var L=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default,d.default)};n.hasChanges=function(){
return I};n.showNotice=function(){return this.hasChanges()};n.getPermissionOverwrite=function(e){var t;return null===(t=b)||void 0===t?void 0:t[e]};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"editedPermissionIds",get:function(){return Array.from(O)}},{key:"permissionOverwrites",get:function(){return b}},{key:"selectedOverwriteId",get:function(){return A}},{key:"formState",get:function(){return S}},{key:"isLockable",get:function(){return E}},{key:"locked",get:function(){return g}},{key:"channel",get:function(){return T}},{key:"category",get:function(){return P}},{key:"advancedMode",get:function(){return N}}]);return t}(o.default.Store))(u.default,((r={})[c.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=function(e){var t=e.section;if(null!=T||t!==c.ChannelSettingsSections.PERMISSIONS)return!1;w()},r[c.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_INIT]=w,r[c.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION]=function(e){
var t,n,r=e.id,o=e.allow,i=e.deny,u=null===(t=b)||void 0===t?void 0:t[r];if(null==u||null==T)return!1;u=m({},u,{allow:o,deny:i});b=m({},b,((n={})[r]=u,n));O.add(r);S=c.FormStates.OPEN;I=!a.default.isEqual(b,C);g=l.default.areChannelsLocked(T,P)},r[c.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION]=function(e){var t=e.id;if(null!=b&&null!=b[t])A=t;else{if(null==T)return!1;M=t}},r[c.ActionTypes.CHANNEL_SETTINGS_CLOSE]=function(){S=c.FormStates.CLOSED;b=null;C=null;T=null;P=null;I=!1;O.clear();A=null;M=null},r[c.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates;if(null==T)return!1;for(var n,r=!1,a=h(t);!(n=a()).done;){!1!==D(n.value.channel.id)&&(r=!0)}return r},r[c.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING]=function(){S=c.FormStates.SUBMITTING},r[c.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS]=function(e){if(e.silent)S=c.FormStates.OPEN;else{S=c.FormStates.CLOSED;w()}},r[c.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE]=function(e){
var t=e.advancedMode;N=t;i.default.set(f.ADVANCED_MODE_ON_KEY,t)},r));t.default=L},491462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(496486)),o=y(n(730381)),i=y(n(536211)),u=y(n(118915)),l=y(n(636602)),s=y(n(567186)),d=y(n(539563)),c=y(n(820068)),f=y(n(759027)),p=y(n(644263)),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0
;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}var E,O,S,I,b,C,T=v.FormStates.CLOSED,P={},A={},M=!1,N=!1,R=null,w=["name","type","topic","bitrate","userLimit","nsfw","rateLimitPerUser","defaultAutoArchiveDuration","rtcRegion","videoQualityMode","threadMetadata","banner"];function D(e){if(null==S||S.id!==e)return!1;if(S===I){var t=p.default.getChannel(e);if(null==t)return!1;I=S=t;b=p.default.getChannel(I.parent_id)}else{var n=p.default.getChannel(e);if(null==n)return!1;S=n;if(null!=I){
I=I.set("permissionOverwrites",S.permissionOverwrites);b=p.default.getChannel(I.parent_id)}}return!0}function L(e){var t,n=p.default.getChannel(e.channelId);if(null==n)return j();T=v.FormStates.OPEN;I=S=n;R="location"in e&&null!=e.location?e.location:null;O="subsection"in e?e.subsection:null;null!=I&&(I=I.set("nsfw",I.isNSFW()));b=p.default.getChannel(I.parent_id);C=I.getGuildId();P={};k({type:v.ActionTypes.CHANNEL_SETTINGS_SET_SECTION,section:null!==(t=E)&&void 0!==t?t:v.ChannelSettingsSections.OVERVIEW,subsection:O})}function k(e){E=e.section;O=e.subsection;if(null!=I&&E===v.ChannelSettingsSections.INSTANT_INVITES){M=!0;u.default.get({url:v.Endpoints.INSTANT_INVITES(I.id),oldFormErrors:!0}).then((function(e){M=!1;l.default.dispatch({type:v.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES,invites:e.body})}),(function(){return M=!1}))}}function j(){N=!1;T=v.FormStates.CLOSED;E=null;I=S=null;b=null;A={}}var U=a.default.debounce((function(){if(null==I||null==S)return!1
;var e=I.toJS(),t=S.toJS();if(w.every((function(n){return e[n]===t[n]}))&&I!==S){I=S;F.emitChange()}}),500);function G(e){return new c.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new f.default(e.inviter):null,channel:new s.default(e.channel),guild:null!=e.guild?new d.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,o.default)(e.created_at),type:e.type})}var F=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(p.default)};n.hasChanges=function(){return I!==S};n.isOpen=function(){return N};n.getSection=function(){return E};n.getInvites=function(){return{invites:A,loading:M}};n.showNotice=function(){return this.hasChanges()};n.getChannel=function(){return I};n.getFormState=function(){return T};n.getCategory=function(){return b};n.getProps=function(){
return{submitting:T===v.FormStates.SUBMITTING,errors:P,channel:I,section:E,subsection:O,invites:A,selectedOverwriteId:C,hasChanges:this.hasChanges(),analyticsLocation:R}};return t}(i.default.Store))(l.default,((r={})[v.ActionTypes.CHANNEL_SETTINGS_INIT]=L,r[v.ActionTypes.CHANNEL_SETTINGS_OPEN]=function(e){N=!0;L(e)},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT]=function(){T=v.FormStates.SUBMITTING;P={}},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT_SUCCESS]=function(){S=I;T=v.FormStates.OPEN},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT_FAILURE]=function(e){var t;T=v.FormStates.OPEN;P=null!==(t=e.errors)&&void 0!==t?t:{}},r[v.ActionTypes.CHANNEL_SETTINGS_CLOSE]=j,r[v.ActionTypes.CHANNEL_SETTINGS_OVERWRITE_SELECT]=function(e){var t=e.overwriteId;C=t},r[v.ActionTypes.CHANNEL_SETTINGS_UPDATE]=function(e){
var t=e.name,n=e.channelType,r=e.topic,a=e.bitrate,o=e.userLimit,i=e.nsfw,u=e.rateLimitPerUser,l=e.autoArchiveDuration,s=e.locked,d=e.invitable,c=e.defaultAutoArchiveDuration,f=e.rtcRegion,p=e.videoQualityMode,v=e.banner;if(null==I)return!1;null!=t&&(I=I.set("name",t));null!=r&&(I=I.set("topic",r));null!=a&&(I=I.set("bitrate",a));null!=o&&(I=I.set("userLimit",o));null!=i&&(I=I.set("nsfw",i));null!=u&&(I=I.set("rateLimitPerUser",u));null!=l&&(I=I.update("threadMetadata",{},(function(e){e.autoArchiveDuration=l;return e})));null!=s&&(I=I.update("threadMetadata",{},(function(e){e.locked=s;return e})));null!=d&&(I=I.update("threadMetadata",{},(function(e){e.invitable=d;return e})));null!=c&&(I=I.set("defaultAutoArchiveDuration",c));null!=n&&(I=I.set("type",n));void 0!==f&&(I=I.set("rtcRegion",f));null!=p&&(I=I.set("videoQualityMode",p));void 0!==v&&(I=I.set("banner",v));U()},r[v.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=k,r[v.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES]=function(e){A={}
;e.invites.forEach((function(e){A[e.code]=G(e)}))},r[v.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates;if(null==I)return!1;for(var n,r=!1,a=_(t);!(n=a()).done;){if(D(n.value.channel.id)&&null!=I){null!=C&&null==I.permissionOverwrites[C]&&(C=I.getGuildId());r=!0}}return r},r[v.ActionTypes.CHANNEL_DELETE]=function(e){var t=e.channel.id;if(null==I)return!1;if(I.id!==t)return!1;T=v.FormStates.CLOSED},r[v.ActionTypes.INSTANT_INVITE_REVOKE_SUCCESS]=function(e){delete(A=g({},A))[e.code]},r[v.ActionTypes.INSTANT_INVITE_CREATE_SUCCESS]=function(e){var t;A=g({},A,((t={})[e.invite.code]=G(e.invite),t))},r)),x=F;t.default=x},762214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.extractDisplayName=C;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(636602)),u=p(n(740207)),l=n(864489),s=p(n(635014)),d=p(n(871778)),c=n(770348),f=n(376293);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n]
;r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h={},_=h,m=!1,g={},E={},O={},S={id:null,justChanged:!1},I={id:null,justChanged:!1},b=/\(([^)]+)\)/;function C(e){if((0,l.getPlatform)()===l.PlatformTypes.WINDOWS){var t=e.name.match(b);if(null!=t)return t[1]}return e.name}function T(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===c.ConnectedDeviceType.INPUT&&n===c.ConnectedDeviceType.OUTPUT||e.type===c.ConnectedDeviceType.OUTPUT&&n===c.ConnectedDeviceType.INPUT?{displayName:t,type:c.ConnectedDeviceType.INPUT_AND_OUTPUT}:e}var P=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(s.default,d.default);_=null!=e?e:h};n.getUserAgnosticState=function(){
return _};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"initialized",get:function(){return m}},{key:"lastDeviceConnected",get:function(){return O}},{key:"inputDevices",get:function(){return g}},{key:"lastInputSystemDevice",get:function(){return S}},{key:"outputDevices",get:function(){return E}},{key:"lastOutputSystemDevice",get:function(){return I}}]);return t}(o.default.DeviceSettingsStore);P.persistKey="ConnectedDeviceStore";var A=new P(i.default,((r={})[c.ActionTypes.MEDIA_ENGINE_DEVICES]=function(e){var t=e.inputDevices,n=e.outputDevices,r={};S.justChanged=!1;t.forEach((function(e){r[C(e)]=e.id;if(e.id===f.DEFAULT_DEVICE_ID){var t=e.originalId||e.originalName;t!==S.id&&(S.justChanged=!0);S.id=t}}));var o={};I.justChanged=!1;n.forEach((function(e){o[C(e)]=e.id;if(e.id===f.DEFAULT_DEVICE_ID){var t=e.originalId||e.originalName;t!==I.id&&(I.justChanged=!0);I.id=t}}));if(m){
var i=Object.keys(g),u=Object.keys(r),l=Object.keys(E),s=Object.keys(o),d=a.default.difference(i,u),p=a.default.difference(l,s);if(d.length>0||p.length>0)O={};else{a.default.difference(u,i).forEach((function(e){O[e]=T(O[e],e,c.ConnectedDeviceType.INPUT)}));a.default.difference(s,l).forEach((function(e){O[e]=T(O[e],e,c.ConnectedDeviceType.OUTPUT)}))}if(!a.default.isEqual(i,u)||!a.default.isEqual(l,s)){g=r;E=o;return!0}return!1}g=r;E=o;m=!0},r[c.ActionTypes.CONNECTED_DEVICE_SET]=function(e){var t=e.displayName;!function(e,t,n){if(t===c.ConnectedDevicePreference.INPUT||t===c.ConnectedDevicePreference.INPUT_AND_OUTPUT){var r=g[e];null!=r&&i.default.wait((function(){return u.default.setInputDevice(r,n)}))}if(t===c.ConnectedDevicePreference.OUTPUT||t===c.ConnectedDevicePreference.INPUT_AND_OUTPUT){var a=E[e];i.default.wait((function(){return u.default.setOutputDevice(a,n)}))}}(t,e.connectedDevicePreference,e.location);delete O[t]},r[c.ActionTypes.CONNECTED_DEVICE_IGNORE]=function(e){
var t=e.displayName;delete O[t]},r[c.ActionTypes.CONNECTED_DEVICE_NEVER_SHOW_MODAL]=function(){O={};_={neverShowModal:!0}},r));t.default=A},528429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=n(229474),u=s(n(30098)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var f={},p=function(){f={guildAffinitiesByGuildId:{},guildAffinities:[],lastFetched:0}};p();var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(f=e);this.waitFor(u.default)};n.getState=function(){return f}
;n.getGuildAffinity=function(e){return f.guildAffinitiesByGuildId[e]};!function(e,t,n){t&&d(e.prototype,t);n&&d(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"affinities",get:function(){return f.guildAffinities}},{key:"hasRequestResolved",get:function(){return 0!==f.lastFetched}}]);return t}(a.default.PersistedStore);v.persistKey="GuildAffinitiesStore";var y=new v(o.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=function(){Date.now()-f.lastFetched>864e5&&(0,i.fetchGuildAffinities)();return!1},r[l.ActionTypes.LOAD_GUILD_AFFINITIES_SUCCESS]=function(e){var t=e.guildAffinities;f.guildAffinities=[];f.guildAffinitiesByGuildId={};f.lastFetched=Date.now();t.forEach((function(e,t){var n=e.affinity,r=e.guild_id,a={score:n,guildId:r,index:t};f.guildAffinitiesByGuildId[r]=a;f.guildAffinities.push(a)}))},r[l.ActionTypes.LOGOUT]=function(){p()},r));t.default=y},832721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o=O(n(536211)),i=O(n(636602)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(919255)),l=O(n(146411)),s=O(n(423046)),d=O(n(502546)),c=O(n(644263)),f=O(n(250650)),p=O(n(876874)),v=O(n(30098)),y=O(n(893160)),h=O(n(290629)),_=O(n(211136)),m=O(n(790597)),g=n(770348);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function I(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=new u.default((function(e,t){(null!=v.default.getGuild(e)||f.default.isUnavailable(e))&&i.default.dispatch({type:g.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,
subscriptions:t})}));function T(e,t){C.forEach((function(n){var r;if(n!==m.default.getGuildId()&&n!==y.default.getGuildId()&&n!==(null===(r=c.default.getChannel(_.default.getChannelId()))||void 0===r?void 0:r.getGuildId())&&(null==a||a.guildId!==n)){C.clearWithoutFlushing(n,e);t&&i.default.dirtyDispatch({type:g.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:n,subscriptions:C.get(n)})}}))}function P(e,t){C.subscribeToGuild(e);return null!=t&&d.default.getSection(t)===g.ChannelSections.MEMBERS&&A(e,t,u.DEFAULT_RANGES)}function A(e,t,n){var r=c.default.getChannel(t);if(null==r)return!1;var a=r.getGuildId();a!==e&&e===g.FAVORITES&&C.subscribeToGuild(a);return(null==r?void 0:r.isThread())?r.type===g.ChannelTypes.ANNOUNCEMENT_THREAD?C.subscribeChannel(a,r.parent_id,n):!!r.isActiveThread()&&C.subscribeThreadMemberList(a,t,_.default.getChannelId()):C.subscribeChannel(a,t,n)}function M(e){e.type===g.ActionTypes.CONNECTION_OPEN&&T(!0,!1);var t=m.default.getGuildId()
;null!=t&&P(t,_.default.getChannelId(t));C.forEach((function(e){null==v.default.getGuild(e)?C.clearWithoutFlushing(e,!0):i.default.dirtyDispatch({type:g.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:C.get(e)})}))}function N(e){var t=e.guildId,n=e.channelId;return!f.default.isUnavailable(t)&&P(t,n)}function R(){return P(m.default.getGuildId(),_.default.getChannelId())}function w(){var e=l.default.getSyncingWith();if(null==e){if(null!=a){C.unsubscribeUser(a.guildId,a.userId);a=null}}else{var t=e.userId;if(null!=a&&a.userId===t)return!1;if(h.default.isFriend(t))return!1;var n=p.default.memberOf(t);if(0===n.length)return!1;var r=n[0];a={guildId:r,userId:t};C.subscribeUser(r,t)}return!1}var D=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(c.default,v.default,m.default,_.default,y.default,s.default,d.default)
;this.syncWith([l.default],w);this.syncWith([d.default],R)};n.getSubscribedThreadIds=function(){return C.getSubscribedThreadIds()};return t}(o.default.Store))(i.default,((r={})[g.ActionTypes.CONNECTION_OPEN]=M,r[g.ActionTypes.CONNECTION_RESUMED]=M,r[g.ActionTypes.CONNECTION_CLOSED]=function(){T(!1,!1)},r[g.ActionTypes.IDLE]=function(e){if(!e.idle)return!1;T(!1,!0)},r[g.ActionTypes.LOGOUT]=function(){C.reset()},r[g.ActionTypes.VOICE_CHANNEL_SELECT]=N,r[g.ActionTypes.CHANNEL_SELECT]=N,r[g.ActionTypes.GUILD_CREATE]=function(e){e.guild.id===m.default.getGuildId()&&R()},r[g.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;C.clearWithoutFlushing(t.id,!0)},r[g.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_ADD]=function(e){var t=e.guildId;e.userIds.forEach((function(e){e!==s.default.getId()&&C.subscribeUser(t,e)}));return!1},r[g.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE]=function(e){var t=e.guildId;e.userIds.forEach((function(e){C.unsubscribeUser(t,e)}));return!1},
r[g.ActionTypes.GUILD_SUBSCRIPTIONS_CHANNEL]=function(e){return A(e.guildId,e.channelId,e.ranges)},r[g.ActionTypes.CHANNEL_PRELOAD]=function(e){return P(e.guildId,e.channelId)},r[g.ActionTypes.INBOX_OPEN]=function(e){for(var t,n=I(e.guildIds);!(t=n()).done;){var r=t.value;null!=r&&C.subscribeToGuild(r)}return!1},r[g.ActionTypes.THREAD_UPDATE]=function(e){var t=e.channel;if(t.isArchivedThread())return C.unsubscribeThreadMemberList(t.guild_id,t.id);if(!t.isActiveThread()||_.default.getChannelId()!==t.id)return!1;C.subscribeThreadMemberList(t.guild_id,t.id,_.default.getChannelId())},r[g.ActionTypes.THREAD_DELETE]=function(e){var t=e.channel;return C.unsubscribeThreadMemberList(t.guild_id,t.id)},r[g.ActionTypes.THREAD_LIST_SYNC]=R,r));t.default=D},958698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(728429)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){
s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=null;var c=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getHouseMembership=function(){return d};return t}(a.default.Store))(o.default,((r={})[u.ActionTypes.CONNECTION_OPEN]=function(){var e=i.default.getCurrentUser();null!=e&&(e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)?d=u.HypeSquadHouses.HOUSE_1:e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)?d=u.HypeSquadHouses.HOUSE_2:e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&(d=u.HypeSquadHouses.HOUSE_3))},r[u.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS]=function(){d=null},r[u.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS]=function(e){d=e.houseID},r));t.default=c},226720:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o=p(n(496486)),i=p(n(536211)),u=p(n(636602)),l=p(n(614166)),s=p(n(423046)),d=p(n(319111)),c=p(n(635014)),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h={};function _(){o.default.forEach(h,(function(e,t){e.destroy();delete h[t]}))}function m(e,t,n){var r=h[e];return null!=r?t(r):n}function g(e){var t=e.lobbyId,n=h[t];if(null==n)return!1;n.destroy();delete h[t]}function E(){return!0}var O=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.forEach=function(e){o.default.each(h,e)};n.getState=function(e){return m(e,(function(e){
return e.state}),f.RTCConnectionStates.DISCONNECTED)};n.isConnected=function(e){return this.getState(e)===f.RTCConnectionStates.RTC_CONNECTED};n.isDisconnected=function(e){return this.getState(e)===f.RTCConnectionStates.DISCONNECTED};n.getHostname=function(e){return m(e,(function(e){return e.hostname}),null)};n.getQuality=function(e){return m(e,(function(e){return e.quality}),f.RTCConnectionQuality.UNKNOWN)};n.getPings=function(e){return m(e,(function(e){return e.getPings()}),[])};n.getAveragePing=function(e){return m(e,(function(e){return e.getAveragePing()}),0)};n.getLastPing=function(e){return m(e,(function(e){return e.getLastPing()}),0)};n.getOutboundLossRate=function(e){return m(e,(function(e){return e.getOutboundLossRate()}),0)};n.getMediaSessionId=function(e){return m(e,(function(e){return e.getMediaSessionId()}),null)};n.getRTCConnectionId=function(e){return m(e,(function(e){return e.getRTCConnectionId()}),null)};n.getDuration=function(e){return m(e,(function(e){
return e.getDuration()}),0)};return t}(i.default.Store))(u.default,c.default.isSupported()?((r={})[f.ActionTypes.CONNECTION_OPEN]=function(e){a=e.sessionId;_()},r[f.ActionTypes.CONNECTION_CLOSED]=function(){a=null;_()},r[f.ActionTypes.RTC_CONNECTION_STATE]=E,r[f.ActionTypes.RTC_CONNECTION_PING]=E,r[f.ActionTypes.RTC_CONNECTION_LOSS_RATE]=E,r[f.ActionTypes.LOBBY_VOICE_STATE_UPDATE]=function(e){if(s.default.getId()!==e.userId)return!1;if(e.sessionId!==a)return!1;var t=h[e.lobbyId];if(null!=t&&null==e.channelId){t.destroy();delete h[e.lobbyId]}else if(null!=t)t.channelId=e.channelId;else if(null!=e.channelId){t=function(e,t){if(null==a)throw new Error("Creating RTCConnection without session.");var n=d.default.getLobby(e);if(null==n)throw new Error("Creating RTCConnection without lobby.");var r=n.application_id,o=new l.default(s.default.getId(),a,e,t,r);o.on("state",(function(t,n,r){u.default.dirtyDispatch(y({type:f.ActionTypes.RTC_CONNECTION_STATE,state:t,hostname:n},r,{lobbyId:e}))}))
;o.on("ping",(function(t,n){u.default.dispatch({type:f.ActionTypes.RTC_CONNECTION_PING,pings:t,quality:n,lobbyId:e})}));o.on("outboundlossrate",(function(t){u.default.dispatch({type:f.ActionTypes.RTC_CONNECTION_LOSS_RATE,lossRate:t,lobbyId:e})}));return o}(e.lobbyId,e.channelId);h[e.lobbyId]=t}},r[f.ActionTypes.LOBBY_VOICE_SERVER_UPDATE]=function(e){var t=h[e.lobbyId];if(null==t)return!1;t.connect(e.endpoint,e.token)},r[f.ActionTypes.LOBBY_DELETE]=g,r[f.ActionTypes.LOBBY_DISCONNECT]=g,r):{});t.default=O},218843:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(972247)),i=l(n(636602)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function c(){
c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var f,p="PictureInPictureLocation",v=new Map,y=u.PictureInPicturePositions.BOTTOM_RIGHT,h={};var _=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){y=o.default.get(p,u.PictureInPicturePositions.BOTTOM_RIGHT)};n.isEmbeddedActivityHidden=function(){var e;return null==f||(null===(e=v.get(f))||void 0===e?void 0:e.component)!==u.PictureInPictureComponents.EMBED_IFRAME};n.getDockedRect=function(e){return h[e]};n.isOpen=function(e){return null!=e&&v.has(e)};!function(e,t,n){t&&s(e.prototype,t);n&&s(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"pipWindow",get:function(){return null==f?null:v.get(f)}},{key:"pipWindows",get:function(){
return v}}]);return t}(a.default.Store))(i.default,((r={})[u.ActionTypes.PICTURE_IN_PICTURE_OPEN]=function(e){var t,n,r=e.id,a=e.component,o=e.props;if(null==v.get(r)){var i={id:r,component:a,position:null!==(t=o.position)&&void 0!==t?t:y,props:o,docked:null!==(n=o.docked)&&void 0!==n&&n};v.set(r,i);null==f&&(f=r)}},r[u.ActionTypes.PICTURE_IN_PICTURE_CLOSE]=function(e){var t=e.id;if(!v.has(t))return!1;v.delete(t);if(f===t){var n=Array.from(v.keys());f=0===n.length?null:n[0]}},r[u.ActionTypes.PICTURE_IN_PICTURE_MOVE]=function(e){var t=e.id,n=e.position;if(null==f||f!==t)return!1;var r=new Map;v.forEach((function(e,t){r.set(t,c({},e,{position:n}))}));v=r;y=n;o.default.set(p,n)},r[u.ActionTypes.PICTURE_IN_PICTURE_HIDE]=function(e){var t=e.id;if(f!==t)return!1;var n=v.get(t);if(null==n)return!1;v.set(t,c({},n,{hidden:!0}))},r[u.ActionTypes.PICTURE_IN_PICTURE_SHOW]=function(e){var t=e.id;if(f!==t)return!1;var n=v.get(t);if(null==n)return!1;v.set(t,c({},n,{hidden:!1}))},
r[u.ActionTypes.PICTURE_IN_PICTURE_UPDATE_RECT]=function(e){var t=e.id,n=e.rect;h[t]=n},r[u.ActionTypes.PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW]=function(e){var t=e.id;f=t},r[u.ActionTypes.LOGOUT]=function(){f=null;v=new Map},r));t.default=_},534930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(496486)),o=s(n(536211)),i=s(n(636602)),u=s(n(30098)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c=null,f={};var p=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default)};n.getOptimalRegion=function(e){var t;void 0===e&&(e=null);var n=this.getRegions(e);return null!=n?null!==(t=n.find((function(e){return e.optimal})))&&void 0!==t?t:a.default.sample(n):null}
;n.getOptimalRegionId=function(e){void 0===e&&(e=null);var t=this.getOptimalRegion(e);return null!=t?t.id:null};n.getRandomRegion=function(e){void 0===e&&(e=null);var t=this.getRegions(e);return null!=t?a.default.sample(t):null};n.getRandomRegionId=function(e){void 0===e&&(e=null);var t=this.getRandomRegion(e);return null!=t?t.id:null};n.getRegions=function(e){return null!=e?f[e]:c};return t}(o.default.Store))(i.default,((r={})[l.ActionTypes.LOAD_REGIONS]=function(e){var t=a.default.sortBy(e.regions,(function(e){return e.name}));e.guildId?f[e.guildId]=t:c=t},r[l.ActionTypes.GUILD_DELETE]=function(e){delete f[e.guild.id]},r));t.default=p},625424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=s(n(969226)),u=s(n(288356)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c=new(function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}return t}(a.default.Store))(o.default,((r={})[l.ActionTypes.USER_ACHIEVEMENT_UPDATE]=function(e){var t=e.userAchievement,n=t.application_id,r=t.achievement;if(100===t.percent_complete&&null!=r){var a=u.default.getGame(n),o=null!=a?a.getIconURL(64):null;i.default.showNotification(o,r.name,r.description)}},r));t.default=c},816624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,d,c,f,p=i.FormStates.CLOSED,v={},y=!1;function h(){p=i.FormStates.OPEN;v={}}var _=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this
}var n=t.prototype;n.getFormState=function(){return p};n.getErrors=function(){return v};n.showNotice=function(){return void 0!==s||void 0!==d||void 0!==c||void 0!==f};n.getPendingAvatar=function(){return s};n.getPendingBanner=function(){return d};n.getPendingBio=function(){return c};n.getPendingAccentColor=function(){return f};n.getAllPending=function(){return{pendingAvatar:s,pendingBanner:d,pendingBio:c,pendingAccentColor:f}};n.getIsDisableSubmit=function(){return y};return t}(a.default.Store))(o.default,((r={})[i.ActionTypes.USER_SETTINGS_ACCOUNT_INIT]=h,r[i.ActionTypes.USER_SETTINGS_MODAL_INIT]=h,r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS]=h,r[i.ActionTypes.USER_SETTINGS_MODAL_SET_SECTION]=function(e){return e.section===i.UserSettingsSections.ACCOUNT&&h()},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_CLOSE]=function(){p=i.FormStates.CLOSED;v={}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT]=function(){p=i.FormStates.SUBMITTING;v={}},
r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE]=function(e){var t;if(p!==i.FormStates.SUBMITTING)return!1;p=i.FormStates.OPEN;v=null!==(t=e.errors)&&void 0!==t?t:{}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR]=function(e){var t=e.avatar;s=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_BANNER]=function(e){var t=e.banner;d=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_BIO]=function(e){var t=e.bio;c=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_ACCENT_COLOR]=function(e){var t=e.color;f=t},r[i.ActionTypes.USER_SETTINGS_RESET_ALL_PENDING]=function(){s=void 0;d=void 0;c=void 0;f=void 0},r[i.ActionTypes.LOGOUT]=function(){s=void 0},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_DISABLE_SUBMIT]=function(e){var t=e.disable;y=t},r));t.default=_},529688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i=_(n(496486)),u=_(n(536211)),l=_(n(636602)),s=_(n(825724)),d=n(747868),c=_(n(607209)),f=_(n(423046)),p=_(n(635014)),v=_(n(397228)),y=n(770348),h=n(859089);function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function g(e){void 0===e&&(e=!0);var t;if(null==a)t=null;else{var n;t=s.default.getSelectedParticipantId(a);var r=c.default.getLastActiveStream(),u=null!=t?s.default.getParticipant(a,t):null;((null==u?void 0:u.type)===h.ParticipantTypes.ACTIVITY||(null==u?void 0:u.type)===h.ParticipantTypes.USER&&!(null===(n=u.voiceState)||void 0===n?void 0:n.selfVideo))&&(t=null);if(null!=r&&null==t){var l;t=null===(l=s.default.getParticipant(a,(0,d.encodeStreamKey)(r)))||void 0===l?void 0:l.id}if(null==t){var y=f.default.getId(),_=Date.now();t=(0,i.default)(s.default.getVideoParticipants(a)).filter((function(e){
return e.type===h.ParticipantTypes.USER&&e.user.id!==y&&!p.default.isLocalVideoDisabled(e.user.id)})).sortBy((function(e){return-v.default.getSpeakingDuration(e.user.id,_)})).map((function(e){return e.user.id})).first()}}if(o!==t){o=t;e&&S.emitChange()}}var E=i.default.debounce(g,300);function O(){E();return!1}var S=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default,f.default,v.default,c.default,p.default);this.syncWith([s.default,c.default],O)};n.getSpeaker=function(e){var t;if(a!==e){a=e;g(!1)}return null!==(t=o)&&void 0!==t?t:f.default.getId()};return t}(u.default.Store))(l.default,((r={})[y.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED]=O,r)),I=S;t.default=I},474261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=d(n(636602)),o=d(n(913955)),i=d(n(644263)),u=d(n(211136)),l=d(n(686182)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){
!function(){var e=u.default.getVoiceChannelId(),t=o.default.bitrate;if(null!=e){var n=i.default.getChannel(e);null!=n&&t!==n.bitrate&&a.default.dispatch({type:"SET_CHANNEL_BITRATE",bitrate:n.bitrate})}}();!function(){var e,t=u.default.getVoiceChannelId(),n=l.default.mode;if(null!=t){var r=i.default.getChannel(t);if(null!=r){var o=null!==(e=r.videoQualityMode)&&void 0!==e?e:s.VideoQualityMode.AUTO;n!==o&&a.default.dispatch({type:"SET_CHANNEL_VIDEO_QUALITY_MODE",mode:o})}}}()}function v(e){r=e.sessionId}function y(e){for(var t,n=c(e.updates);!(t=n()).done;){var r=t.value.channel;u.default.getVoiceChannelId()===r.id&&p()}}function h(e){e.voiceStates.forEach((function(e){r===e.sessionId&&p()}))}var _={init:function(){a.default.subscribe(s.ActionTypes.CONNECTION_OPEN,v);a.default.subscribe(s.ActionTypes.CHANNEL_UPDATES,y);a.default.subscribe(s.ActionTypes.VOICE_STATE_UPDATES,h)}};t.default=_},538647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=l(n(636602)),a=l(n(275363)),o=l(n(30098)),i=l(n(298698)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(o.default);this.syncWith([o.default],u.NOOP)};n.channelNoticePredicate=function(e,t){if(e.hasFeature(u.GuildFeatures.BANNER))return!1;a.default.trackExposure({guildId:e.id});return a.default.getCurrentConfig({guildId:e.id}).enableGuildBannerTooltip&&Date.now()-t>=u.CHANNEL_NOTICE_SHOW_DELAY};return t}(i.default))(r.default);t.default=d},329669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=n(682937),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}
function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var c={};c={lastDismissedGracePeriods:{},isVisible:{}};var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(c=e)};n.getLastDismissedGracePeriodForGuild=function(e){return null!=c.lastDismissedGracePeriods[e]?c.lastDismissedGracePeriods[e]:null};n.isVisible=function(e){return null!=e&&(null!=c.isVisible[e]&&c.isVisible[e])};n.getState=function(){return c};return t}(a.default.PersistedStore);f.persistKey="PremiumGuildGracePeriodNoticeStore";f.migrations=[function(e){return d({},e,{
lastDismissedGracePeriods:null!=e?d({},e.lastDismissedGracePeriods):{},isVisible:{}})}];var p=new f(o.default,((r={})[u.ActionTypes.GUILD_APPLIED_BOOSTS_FETCH_SUCCESS]=function(e){var t,n=e.guildId,r=e.appliedBoosts,a=null!=c.lastDismissedGracePeriods[n]?c.lastDismissedGracePeriods[n]:null,o=null!=a&&Date.now()-a<=u.GRACE_PERIOD_CHANNEL_NOTICE_SHOW_DELAY,l=null!=r&&!o&&(0,i.isInGracePeriod)(r,n);c=d({},c,{isVisible:d({},c.isVisible,(t={},t[n]=l,t))})},r[u.ActionTypes.BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS]=function(e){var t,n,r=e.guildId;c=d({},c,{lastDismissedGracePeriods:d({},c.lastDismissedGracePeriods,(t={},t[r]=Date.now(),t)),isVisible:d({},c.isVisible,(n={},n[r]=!1,n))})},r));t.default=p},742373:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=c(n(636602)),a=n(283894),o=c(n(528429)),i=c(n(311492)),u=c(n(30098)),l=n(682937),s=c(n(298698)),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){
f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=null;function h(){var e=o.default.affinities;if(null==e)return!1
;for(var t,n=p(e);!(t=n()).done;){var r=t.value,a=r.score,s=r.guildId,c=u.default.getGuild(s),f=i.default.getMemberCount(s);null!=c&&c.premiumSubscriberCount<(0,l.getAppliedGuildBoostsRequired)(s)[d.BoostedGuildTiers.TIER_3]&&null!=f&&f>=3&&(null==y||a>y.score)&&(y=r)}}var _=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,o.default,a.ExperimentStore,i.default);this.syncWith([u.default,o.default,a.ExperimentStore,i.default],h)};n.channelNoticePredicate=function(e,t){var n=a.ExperimentStore.getUserExperimentDescriptor(a.Experiments.GUILD_AFFINITY_PREMIUM_GUILD_SUBSCRIPTION_CTA),r=null!=y&&y.guildId===e.id&&Date.now()-t>=d.CHANNEL_NOTICE_SHOW_DELAY;r&&null!=n&&n.bucket===a.ExperimentBuckets.CONTROL&&(0,a.trackExposureToExperiment)(a.Experiments.GUILD_AFFINITY_PREMIUM_GUILD_SUBSCRIPTION_CTA,n)
;return r&&null!=n&&n.bucket===a.ExperimentBuckets.TREATMENT_1};return t}(s.default))(r.default);t.default=_},20446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(689389)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],i.NOOP)};n.channelNoticePredicate=function(e,t){return Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(i.Permissions.MANAGE_GUILD,e)};return t}(o.default))(r.default);t.default=s},535711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=s(n(536211)),o=s(n(636602)),i=s(n(517286)),u=s(n(728429)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c=null;function f(){var e=u.default.getCurrentUser();if(null==e||e.mfaEnabled===c)return!1;c=e.mfaEnabled}var p=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,i.default);this.syncWith([u.default,i.default],f)};n.isVisible=function(e){return null!=e&&e.mfaLevel===l.MFALevels.ELEVATED&&!1===c&&i.default.hasElevatedPermissions(e.id)};return t}(a.default.Store))(o.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=f,r[l.ActionTypes.GUILD_UPDATE]=function(){return!0},r));t.default=p},735653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=s(n(636602)),o=s(n(652566)),i=s(n(30098)),u=s(n(298698)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=!1;function v(e){var t=i.default.getGuild(e);if(null==t)return!1;if(!t.hasFeature(l.GuildFeatures.HUB))return!1;p=!0;return!0}function y(){return!0}var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(i.default,o.default);this.syncWith([o.default],y)};n.channelNoticePredicate=function(e){return!!e.hasFeature(l.GuildFeatures.LINKED_TO_HUB)&&!p};return t}(u.default))(a.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=function(e){for(var t,n=c(e.guilds);!(t=n()).done;){if(v(t.value.id))return!0}return!1},r[l.ActionTypes.GUILD_CREATE]=function(e){return v(e.guild.id)},r));t.default=h},477566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=u(n(636602)),a=u(n(689389)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(){return!0}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],s)};n.channelNoticePredicate=function(e,t){return Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(i.Permissions.ADMINISTRATOR,e)};return t}(o.default))(r.default);t.default=d},24e4:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(536211)),o=c(n(972247)),i=c(n(636602)),u=c(n(311492)),l=c(n(30098)),s=c(n(689389)),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return f(e,t)}var p={MAX_MEMBER_COUNT_100:new Set,MAX_MEMBER_COUNT_250:new Set};var v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e,t;this.waitFor(s.default,l.default,u.default);this.syncWith([s.default,l.default,u.default],d.NOOP);p[d.ChannelNoticeTypes.MAX_MEMBER_COUNT_100]=null!==(e=new Set(o.default.get(d.ChannelNoticeTypes.MAX_MEMBER_COUNT_100)))&&void 0!==e?e:new Set;p[d.ChannelNoticeTypes.MAX_MEMBER_COUNT_250]=null!==(t=new Set(o.default.get(d.ChannelNoticeTypes.MAX_MEMBER_COUNT_250)))&&void 0!==t?t:new Set};n.isVisible=function(e){var t,n=this.getNoticeType(e);if(null==e||null==n)return!1;var r=null!==(t=u.default.getMemberCount(e.id))&&void 0!==t?t:0,a=s.default.can(d.Permissions.ADMINISTRATOR,e);return!p[n].has(e.id)&&a&&e.maxMembers>0&&e.maxMembers-r<=1e4};n.getNoticeType=function(e){
return null==e?null:e.maxMembers<=1e5?d.ChannelNoticeTypes.MAX_MEMBER_COUNT_100:d.ChannelNoticeTypes.MAX_MEMBER_COUNT_250};return t}(a.default.Store))(i.default,((r={})[d.ActionTypes.MAX_MEMBER_COUNT_NOTICE_DISMISS]=function(e){var t=e.guildId,n=e.noticeType;if(!p[n].has(t)){p[n].add(t);o.default.set(n,p[n]);return!0}},r));t.default=v},905505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(86298)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(){return!0}var c=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(i.default)};n.getExperimentAssignment=function(e,t){return i.default.getGuildExperimentDescriptor(t,e)};return t
}(a.default.Store))(o.default,((r={})[u.ActionTypes.LOGOUT]=d,r[u.ActionTypes.LOGIN_SUCCESS]=d,r[u.ActionTypes.CONNECTION_OPEN]=d,r[u.ActionTypes.EXPERIMENTS_FETCH_SUCCESS]=d,r[u.ActionTypes.OVERLAY_INITIALIZE]=d,r[u.ActionTypes.CACHE_LOADED]=d,r[u.ActionTypes.EXPERIMENTS_FETCH_FAILURE]=d,r[u.ActionTypes.EXPERIMENT_REGISTER_LEGACY]=d,r[u.ActionTypes.EXPERIMENT_OVERRIDE_BUCKET]=d,r));t.default=c},801745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Rows=t.Row=void 0;var r,a=_(n(496486)),o=_(n(536211)),i=_(n(636602)),u=_(n(237923)),l=_(n(821896)),s=_(n(677520)),d=_(n(607209)),c=_(n(876874)),f=_(n(30098)),p=_(n(788739)),v=_(n(290629)),y=_(n(728429)),h=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function g(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function E(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function S(e){var t=y.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function I(e){return{status:p.default.getStatus(e),isMobile:p.default.isMobileOnline(e),activities:p.default.getActivities(e),applicationStream:d.default.getStreamForUser(e)}}function b(e){var t=[];(0,a.default)(c.default.memberOf(e)).map(f.default.getGuild).sortBy((function(e){return null!=e?e.name.toLowerCase():null})).forEach((function(e){null!=e&&t.push(e)}));return{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,h.MAX_MUTUAL_GUILDS)}}var C=function(e){E(t,e);function t(t){var n;(n=e.call(this)||this).key=t.key;n.type=t.type;n.status=t.status
;n.activities=t.activities;n.applicationStream=t.applicationStream;n.user=t.user;n.isMobile=t.isMobile;n.usernameLower=t.usernameLower;n.mutualGuildsLength=t.mutualGuildsLength;n.mutualGuilds=t.mutualGuilds;n.nickname=t.nickname;return n}!function(e,t,n){t&&g(e.prototype,t);n&&g(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"comparator",get:function(){var e,t;return[this.type,null!==(e=null===(t=this.nickname)||void 0===t?void 0:t.toLowerCase())&&void 0!==e?e:this.usernameLower]}}]);return t}(l.default);t.Row=C;var T=function(){function e(e){void 0===e&&(e=[]);this._rows=e}var t=e.prototype;t.reset=function(){var t=a.default.map(v.default.getRelationships(),(function(e,t){return new C(m({key:t,type:e,nickname:v.default.getNickname(t)},S(t),{},I(t),{},b(t)))})),n=a.default.map(s.default.getSuggestions(),(function(e){return new C(m({key:e.key,type:99,nickname:e.name},S(e.key),{},I(e.key),{},b(e.key)))}));return new e(a.default.concat(t,n))};t.clone=function(){
return new e(this._rows)};t.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var r=this._rows[n],a=r.merge(e(r.key));t=t||a!==r;this._rows[n]=a}return t};t.filter=function(e,t){return(0,a.default)(this._rows).filter((function(e){if(null==e.user)return!1;if(t){var n=t.toLowerCase();return[e.usernameLower,e.nickname].map((function(e){return null==e?void 0:e.toLowerCase()})).some((function(e){return null==e?void 0:e.includes(n)}))}return!0})).filter((function(t){switch(e){case h.FriendsSections.ONLINE:return t.type===h.RelationshipTypes.FRIEND&&t.status!==h.StatusTypes.OFFLINE;case h.FriendsSections.PENDING:return t.type===h.RelationshipTypes.PENDING_INCOMING||t.type===h.RelationshipTypes.PENDING_OUTGOING;case h.FriendsSections.SUGGESTIONS:return 99===t.type;case h.FriendsSections.BLOCKED:return t.type===h.RelationshipTypes.BLOCKED;case h.FriendsSections.ALL:default:return t.type===h.RelationshipTypes.FRIEND}})).sortBy((function(e){return e.comparator})).value()}
;t.getRelationshipCounts=function(){var e,t=((e={})[h.RelationshipTypes.FRIEND]=0,e[h.RelationshipTypes.PENDING_INCOMING]=0,e[h.RelationshipTypes.PENDING_OUTGOING]=0,e[99]=0,e[h.RelationshipTypes.BLOCKED]=0,e);this._rows.forEach((function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}));return t};return e}();t.Rows=T;var P=!0,A=!1,M=h.FriendsSections.ONLINE,N=new T,R=!0,w=!1;function D(e){void 0===e&&(e=!1);if(P&&(e||M!==h.FriendsSections.ONLINE&&M!==h.FriendsSections.ADD_FRIEND)&&!A){P=!1;A=!0;u.default.fetchRelationships()}}function L(){P=!0;R?A=!1:D();N=N.reset();if(!w){var e=N.getRelationshipCounts();M=0===e[h.RelationshipTypes.FRIEND]?0!==e[h.RelationshipTypes.PENDING_INCOMING]?h.FriendsSections.PENDING:h.FriendsSections.ADD_FRIEND:h.FriendsSections.ONLINE}}function k(){N=R?new T:N.reset()}function j(e){return function(){if(R)return!1;if(N.update(e)){N=N.clone();return!0}return!1}}var U=new(function(e){E(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype
;n.initialize=function(){this.waitFor(v.default,p.default,y.default,f.default,c.default,d.default,s.default);this.syncWith([v.default],k);this.syncWith([s.default],k);this.syncWith([y.default],j(S));this.syncWith([p.default,d.default],j(I));L()};n.getState=function(){return{fetching:A,section:M,pendingCount:v.default.getPendingCount(),rows:N}};return t}(o.default.Store))(i.default,((r={})[h.ActionTypes.CONNECTION_OPEN]=function(){L()},r[h.ActionTypes.FRIENDS_SET_SECTION]=function(e){M=e.section;D()},r[h.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId;R=null!=t;k();return!R},r[h.ActionTypes.LOAD_RELATIONSHIPS_SUCCESS]=function(){A=!1},r[h.ActionTypes.LOAD_RELATIONSHIPS_FAILURE]=function(){P=!0;A=!0},r[h.ActionTypes.DRAWER_SELECT_TAB]=function(e){var t=e.tab;R=t!==h.DrawerTabTypes.FRIENDS;k();return!R},r[h.ActionTypes.FRIENDS_SET_INITIAL_SECTION]=function(e){M=e.section;w=!0},r));t.default=U},730655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=k(n(496486)),o=k(n(536211)),i=k(n(636602)),u=k(n(234161)),l=k(n(206246)),s=k(n(762605)),d=k(n(969015)),c=k(n(460731)),f=k(n(319879)),p=k(n(814768)),v=L(n(101047)),y=n(336312),h=L(n(75300)),_=L(n(809204)),m=k(n(607209)),g=k(n(644263)),E=k(n(8549)),O=k(n(330445)),S=k(n(288356)),I=k(n(23535)),b=k(n(30098)),C=k(n(689389)),T=k(n(788739)),P=k(n(290629)),A=k(n(538983)),M=k(n(728429)),N=k(n(387692)),R=n(71246),w=n(770348);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}function k(e){return e&&e.__esModule?e:{default:e}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function U(e,t){U=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return U(e,t)}function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return x.apply(this,arguments)}var W=!1,V=!1,H=[],B=[],Y={},z={},K=new Set,$=new Set;function q(){var e=P.default.getFriendIDs();return E.default.hasConsented(w.Consents.PERSONALIZATION)?new Set([].concat(A.default.getUserAffinitiesUserIds(),e)):new Set(e)}function Z(e){return T.default.findActivity(e,(function(e){return e.type!==w.ActivityTypes.CUSTOM_STATUS}))}function X(e){if(null==Y[e]){var t;Y=x({},Y,((t={})[e]=new _.default({name:e}),t))}return Y[e]}function Q(e){if(null==z[e]){var t;z=x({},z,((t={})[e]=new h.default({url:e}),t))}return z[e]}
function J(e){$.has(e)||K.add(e)}function ee(e){if((0,d.default)(e))return y.SpotifyApplication;var t=null!=e.application_id?S.default.getGame(e.application_id):null;if(null!=t)return t;if((0,c.default)(e))return X(e.name);if((0,f.default)(e)&&null!=e.url)return Q(e.url);null!=e.application_id&&J(e.application_id);return t}function te(e){var t=N.default.getVoiceStateForUser(e);return null!=(null==t?void 0:t.channelId)&&C.default.canWithPartialContext(w.Permissions.VIEW_CHANNEL,{channelId:t.channelId})?t.channelId:null}function ne(e){return P.default.isFriend(e.id)}function re(e,t,n){for(var r,o,i=t.map((function(e){return e.id})),u=t.filter((function(t){return e.has(t.id)})),d=!1,c=[],f=new Set,E=!1,I=[],P=function(){var e,n,o=r.value,i=m.default.getStreamForUser(o.id),u=Z(o.id);null!=i&&I.push({stream:i,streamUser:o,activity:u});if(null==u)return"continue";if((0,s.default)(u)&&!(0,
l.default)(o,u,null===(e=N.default.getVoiceStateForUser(o.id))||void 0===e?void 0:e.channelId,g.default,N.default,C.default,b.default))return"continue";var T=null===(n=u.timestamps)||void 0===n?void 0:n.start;if(null==T&&!(0,s.default)(u))return"continue";var P=(0,p.default)(u);if(null==P)return"continue";E=P===y.SPOTIFY_APPLICATION_ID;if(!v.shouldShowActivity(u))return"continue";var A=function(e){var t=S.default.getGame(e);if(null!=t)return t;if(e===y.SPOTIFY_APPLICATION_ID)return y.SpotifyApplication;if(e.startsWith(_.XBOX_APPLICATION_ID_PREFIX))return X(e.slice(_.XBOX_APPLICATION_ID_PREFIX.length));if(e.startsWith(h.TWITCH_APPLICATION_ID_PREFIX))return Q(e.slice(h.TWITCH_APPLICATION_ID_PREFIX.length));J(e);return null}(P);if(null==A||f.has(A.id))return"continue";var R=null!=u?ee(u):null;null!=R&&R.id===A.id||(u=null);var w=[];if(null!=u&&null!=u.party&&null!=u.party.id){var D,L=null!==(D=O.default.getParty(u.party.id))&&void 0!==D?D:[];w=Array.from(L).reduce((function(e,t){
var n=M.default.getUser(t);null!=n&&e.push(n);return e}),[])}else w=t.filter((function(e){var t=Z(e.id),n=null!=t?ee(t):null;return null!=n&&n.id===A.id}));(w=a.default.orderBy(w,[ne],["desc"])).length!==t.length&&(d=!0);f.add(A.id);c.push({game:A,activity:u,activityUser:o,startedPlayingTime:T,playingMembers:w})},A=G(t);!(r=A()).done;)P();for(var w,D,L,k=1===u.length,j=[],U=new Set,F=new Set,x=G(t);!(w=x()).done;){var W=te(w.value.id),V=g.default.getChannel(W),H=null!=V?V.getGuildId():null,B=b.default.getGuild(H);if(F.has(H)&&U.has(W)||null==V||null==B||V.id===B.afkChannelId){if(null==V){o=null;k=!0}}else{var Y=(0,a.default)(N.default.getVoiceStatesForChannel(V.id)).map((function(e){var t=e.userId;return M.default.getUser(t)})).filter(R.isNotNullish).orderBy([ne],["desc"]).value();Y.filter((function(e){return!i.includes(e.id)})).forEach((function(e){return t.push(e)}));if(k)F.has(H)||(o=null);else{o=B;k=!0}F.add(H);U.add(W);j.push({channel:V,guild:B,members:Y})}}return{id:n,
voiceChannels:j,isSpotifyActivity:E,priorityMembers:u.map((function(e){return{user:e,status:T.default.getStatus(e.id)}})),partiedMembers:t,showPlayingMembers:d,guildContext:o,currentActivities:(D=c,L=function(e){var t;return null!==(t=e.startedPlayingTime)&&void 0!==t?t:0},(0,a.default)(D).orderBy([L,function(e){return e.game.name}],["desc","asc"])).value(),applicationStreams:I}}function ae(){return W&&I.default.isConnected()}function oe(){if(!ae())return!1;K.clear();var e,t,n,r,o=Array.from(q()).reduce((function(e,t){var n=M.default.getUser(t);null==n||n.bot||e.push(n);return e}),[]),i=(e=o,(0,a.default)(e).groupBy((function(e){var t,n=te(e.id),r=Z(e.id);return null!=n?"channel--"+n:null!=(null==r||null===(t=r.party)||void 0===t?void 0:t.id)?"party--"+r.party.id:"user--"+e.id}))),l=(t=i,n=q(),r=re.bind(null,n),(0,a.default)(t).mapValues(r)),s=l.values().orderBy([function(e){return e.partiedMembers.length>1},function(e){return e.applicationStreams.length>0},function(e){
return e.voiceChannels.length>0},function(e){return e.currentActivities.length>0},function(e){return e.isSpotifyActivity},function(e){return e.priorityMembers.map((function(e){return e.user.username.toLowerCase()})).join(" ")}],["desc","desc","desc","desc","asc","asc"]).value();H=function(e){return e.filter((function(e){return e.voiceChannels.length>=1||e.currentActivities.length>0||e.applicationStreams.length>0}))}(s);B=function(e){return e.map((function(e){return{type:w.ActivityCardTypes.USER,party:e}}))}(H);!function(){if(K.size>0){var e=Array.from(K);u.default.fetchApplications(e);e.forEach((function(e){return $.add(e)}));K.clear()}}();V=!0}var ie=a.default.throttle((function(){oe();le.emitChange()}),1e3);function ue(){if(!ae())return!1;ie();return!1}var le=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;U(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.initialize=function(){
this.syncWith([M.default,S.default,T.default,O.default,N.default,m.default,P.default,E.default,A.default],ue);this.waitFor(I.default,b.default,S.default,M.default,A.default)};!function(e,t,n){t&&j(e.prototype,t);n&&j(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"currentActivityParties",get:function(){return H}},{key:"nowPlayingCards",get:function(){return B}},{key:"isMounted",get:function(){return W}},{key:"loaded",get:function(){return V}}]);return t}(o.default.Store))(i.default,((r={})[w.ActionTypes.LOGOUT]=function(){W=!1;H=[];B=[];K.clear()},r[w.ActionTypes.NOW_PLAYING_MOUNTED]=function(){W=!0;ie()},r[w.ActionTypes.NOW_PLAYING_UNMOUNTED]=function(){W=!1},r)),se=le;t.default=se},944537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;f(n(667294));var r,a=d(n(496486)),o=d(n(9056)),i=f(n(762214)),u=d(n(635014)),l=n(194322),s=n(376293);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}var h=new Set(["DisplayPort"]),_=!1;function m(){if(!_){var e=u.default.getInputDeviceId(),t=u.default.getOutputDeviceId();if(!i.default.getState().neverShowModal&&!a.default.isEmpty(i.default.lastDeviceConnected)){var r=(0,i.extractDisplayName)(u.default.getInputDevices()[e]),d=(0,i.extractDisplayName)(u.default.getOutputDevices()[t]),c=a.default.some(i.default.lastDeviceConnected,(function(e){return h.has(e.displayName)||e.displayName===r||e.displayName===d}));if(!c){var f=a.default.some(i.default.lastDeviceConnected,(function(e){return o.default.isCertified(i.default.inputDevices[e.displayName])||o.default.isCertified(i.default.outputDevices[e.displayName])}))
;if(!(e===s.DEFAULT_DEVICE_ID&&i.default.lastInputSystemDevice.justChanged||t===s.DEFAULT_DEVICE_ID&&i.default.lastOutputSystemDevice.justChanged)||f){var v=a.default.first(Object.keys(i.default.lastDeviceConnected)),m=v?i.default.lastDeviceConnected[v]:null;if(null!=m){var g;i.default.initialized&&null!=v&&(o.default.isCertified(i.default.inputDevices[v])?g=o.default.getCertifiedDevice(i.default.inputDevices[v]):o.default.isCertified(i.default.outputDevices[v])&&(g=o.default.getCertifiedDevice(i.default.outputDevices[v])));_=!0;(0,l.openModalLazy)(y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(36672)]).then(n.bind(n,936672));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){var t=e.transitionState,n=e.onClose;return p(r,{device:m,certifiedDeviceMetadata:g,transitionState:t,onClose:function(){_=!1;return n()}})}));case 5:case"end":return e.stop()}
}),e)}))))}}}}}}var g={init:function(){i.default.addChangeListener(m)}};t.default=g},931411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(536211)),o=c(n(972247)),i=c(n(636602)),u=c(n(423046)),l=c(n(644263)),s=c(n(690445)),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p="IncomingCallStore",v=232,y=315,h=new Set,_=[],m=new Map,g=new Set,E=0,O=0,S=!1;!function(){0;var e=o.default.get(p);if(null!=e){E=+e.x;O=+e.y}else{var t=n(949898).default.windowSize();E=t.width/2-v/2;O=t.height/2-y/2}}();function I(e){if(null==e)return!1;if(null==m.get(e))return!1;m.delete(e);(g=new Set(g)).delete(e)}function b(e){var t=e.channelId,n=e.ringing.includes(u.default.getId());if(!g.has(t)&&n){var r=l.default.getChannel(t);if(null==r)return!1;var a=10*g.size;m.set(t,{channel:r,x:E+a,y:O+a});(g=new Set(g)).add(t)}else{if(!g.has(t)||n)return!1
;I(t)}}function C(){S=s.default.getStatus()===d.StatusTypes.DND}var T=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default,s.default);this.syncWith([s.default],C)};n.getIncomingCalls=function(){return S?_:Array.from(m.values())};n.getIncomingCallChannelIds=function(){return S?h:g};n.getFirstIncomingCallId=function(){return S?null:g.values().next().value};n.hasIncomingCalls=function(){return!S&&g.size>0};return t}(a.default.Store))(i.default,((r={})[d.ActionTypes.CALL_CREATE]=b,r[d.ActionTypes.CALL_UPDATE]=b,r[d.ActionTypes.CALL_DELETE]=function(e){return I(e.channelId)},r[d.ActionTypes.VOICE_CHANNEL_SELECT]=function(e){return I(e.channelId)},r[d.ActionTypes.INCOMING_CALL_MOVE]=function(e){var t=e.x,n=e.y;E=t;O=n;o.default.set(p,{x:E,y:O});return!1},r[d.ActionTypes.CHANNEL_DELETE]=function(e){return I(e.channel.id)},
r));t.default=T},853068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=(r=n(636602))&&r.__esModule?r:{default:r},i=n(194322),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}var f=!1,p=null;var v={init:function(){o.default.subscribe(u.ActionTypes.CONNECTION_OPEN,(function(e){var t=e.pendingPayments;if(null!=t&&t.length>0){if(p===t[0])return;if(null==(p=t[0]))return;!function(e){if(!f){f=!0;(0,i.openModalLazy)(c(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(23438)]).then(n.bind(n,123438));case 2:r=t.sent;a=r.default
;return t.abrupt("return",(function(t){var n=t.transitionState,r=t.onClose;return s(a,{pendingPayment:e,transitionState:n,onClose:function(){f=!1;return r()}})}));case 5:case"end":return t.stop()}}),t)}))))}}(p)}}))}};t.default=v},558402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Types=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(294184)),o=n(773336),i=l(n(66636)),u=["children","editable","type","className","outline"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var f={PRIMARY:"cardPrimary",DANGER:"cardDanger",WARNING:"cardWarning",SUCCESS:"cardSuccess",BRAND:"cardBrand",CUSTOM:"card"};t.Types=f;var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,n=t.children,l=t.editable,s=t.type,c=t.className,p=t.outline,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,u);p?e="outline":s===f.PRIMARY&&l&&(e="editable");return r.createElement("div",d({
className:(0,a.default)(c,(0,o.getClass)(i.default,s,e))},v),n)};return t}(r.PureComponent);p.displayName="Card";p.Types=f;p.defaultProps={type:f.PRIMARY,outline:!1,editable:!1};var v=p;t.default=v},895108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(730977)),i=l(n(247001)),u=l(n(126388));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){
d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=Math.ceil(2*Math.PI*20);function p(e){return"rgb("+Math.round(-85*e+199)+", "+Math.round(-71*e+208)+", "+Math.round(-22*e+240)+")"}function v(e){return Math.floor(f*e)+", "+f}var y=function(e){var t=e.total,n=e.used,r=Math.max(0,Math.min(1,n/t)),l=Math.floor(100*r)+"%";return c(o.default,{text:i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})
},void 0,(function(e){return a.createElement("div",d({className:u.default.wrapper,role:"progressbar","aria-label":i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},e),c("svg",{viewBox:"25 25 50 50",className:u.default.svg,"aria-hidden":!0},void 0,c("circle",{className:u.default.background,cx:"50",cy:"50",r:20}),c("circle",{className:u.default.foreground,cx:"50",cy:"50",r:20,stroke:p(r),strokeDasharray:v(r)})),c("aside",{className:u.default.usageInfo,"aria-hidden":!0},void 0,l))}))};y.displayName="DiskSpaceCircle";var h=y;t.default=h},222318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(973935),i=(r=n(74854))&&r.__esModule?r:{default:r},u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c=Math.pow(3,2),f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._height=0;n._width=0;n._dragStart={x:0,y:0};n._offsetX=0;n._offsetY=0;n._removeListeners=function(){};n.handleSetRef=function(e){n._ref=e};n.handleMouseDown=function(e){
var t=n.props,r=t.dragAnywhere,a=t.disabled,o=t.selector;if(!a){var i=n.state.position,l=e.target;if(e.button===u.MouseButtons.PRIMARY&&(r||null!=o&&l.matches(o))){n.grabDimensions();n._dragStart={x:e.clientX,y:e.clientY};n._offsetX=e.clientX-i.x._value;n._offsetY=e.clientY-i.y._value;var s=e.nativeEvent.view;n._removeListeners();s.addEventListener("mousemove",n.handleMouseMove);s.addEventListener("mouseup",n.handleMouseUp);n._removeListeners=function(){s.removeEventListener("mousemove",n.handleMouseMove);s.removeEventListener("mouseup",n.handleMouseUp)}}}};n.handleMouseMove=function(e){e.preventDefault();var t=n.props,r=t.onDragStart,a=t.onDrag;if(!t.disabled){var o,i,u,l,s,d,f=n.state,p=f.dragging,v=f.dragging;!p&&(o=n._dragStart,i={x:e.clientX,y:e.clientY},u=o.x,l=o.y,s=i.x,d=i.y,Math.pow(u-s,2)+Math.pow(l-d,2))>c&&(p=!0);if(p){n.animateToPosition(e.clientX-n._offsetX,e.clientY-n._offsetY,{tension:80,friction:8},null,!1);n.setState({dragging:p},(function(){
v||null==r||r(e.clientX,e.clientY);null==a||a(e.clientX,e.clientY)}))}}};n.handleMouseUp=function(e){n._removeListeners();n.state.dragging&&n.setState({dragging:!1},(function(){var t=n.props.onDragEnd;null==t||t(e.clientX,e.clientY)}))};var r=new i.default.Value(t.initialX),a=new i.default.Value(t.initialY);n.state={dragging:!1,position:new i.default.ValueXY({x:r,y:a})};return n}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)};n.componentWillUnmount=function(){this._removeListeners()};n.animateToPosition=function(e,t,n,r,a){void 0===n&&(n={});void 0===a&&(a=!0);a&&this.grabDimensions();var o=this.translate(e,t);i.default.spring(this.state.position,s({toValue:{x:o.x,y:o.y}},n)).start(r)};n.setPosition=function(e,t,n){void 0===n&&(n=!0);n&&this.grabDimensions();var r=this.translate(e,t);this.state.position.setValue({x:r.x,y:r.y})};n.grabDimensions=function(){var e=(0,o.findDOMNode)(this._ref)
;if(null!=e&&!(e instanceof Text)){this._height=e.clientHeight;this._width=e.clientWidth}};n.translate=function(e,t){var n=this.props,r=n.maxX,a=n.maxY;e<0?e=0:e>r-this._width&&(e=r-this._width);t<0?t=0:t>a-this._height&&(t=a-this._height);return{x:e,y:t}};n.render=function(){var e=this.state,t=e.dragging,n=e.position,r=this.props,o=r.className,u=r.children,l=[0,1],d=["0px","1px"],c=i.default.accelerate(s({pointerEvents:t?"none":"auto",transform:[{translateX:n.x.interpolate({inputRange:l,outputRange:d})},{translateY:n.y.interpolate({inputRange:l,outputRange:d})}]},this.props.style));return a.createElement(i.default.div,{ref:this.handleSetRef,className:o,onMouseDown:this.handleMouseDown,style:c},u)};return t}(a.PureComponent);f.displayName="Draggable";f.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,disabled:!1,dragAnywhere:!1};var p=f;t.default=p},784241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=g(n(667294)),o=_(n(294184)),i=_(n(468811)),u=n(91817),l=g(n(956117)),s=_(n(279950)),d=n(688388),c=n(3400),f=n(770348),p=_(n(247001)),v=_(n(978607)),y=_(n(3066)),h=_(n(380203));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var I=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._animItem=null;t._timeout=new u.Timeout;t._headerId=i.default.v4();t.state={resent:!1,shouldClose:!1,email:"",password:""};t.setLottieRef=function(e){t._lottieRef=e};t.handleVerify=function(){(0,t.props.onVerify)(t.state.email,t.state.password)};t.handleResendEmail=function(){
var e=t.props,n=e.onResend,r=e.onClose;n();if(!t.state.resent){t.setState({resent:!0,shouldClose:!0});t._timeout.start(3e3,(function(){t.state.shouldClose&&r()}))}};t.handleChangeEmailClick=function(){var e=t.props.onChangeEmailClick;t.setState({resent:!1,shouldClose:!1});e()};t.handleEmailChange=function(e){t.setState({email:e})};t.handlePasswordChange=function(e){t.setState({password:e})};t.handleKeyPress=function(e){var n=t.state,r=n.email,a=n.password;if(13===e.which&&r.length>0&&a.length>0){e.preventDefault();t.handleVerify()}};return t}var r=t.prototype;r.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(63266).then(n.t.bind(n,763266,19)),n.e(11248).then(n.t.bind(n,211248,23))]);case 2:t=e.sent;r=t[0];a=t[1].default;this._animItem=a.loadAnimation({container:this._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:r})
;case 6:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();r.componentWillUnmount=function(){this._timeout.stop();if(null!=this._animItem){this._animItem.destroy();this._animItem=void 0}};r.renderInputs=function(){var e=this.props,t=e.emailError,n=e.passwordError,r=e.submitting,a=this.state,o=a.email,i=a.password;return E("div",{className:v.default.container},void 0,E(d.FormItem,{title:p.default.Messages.FORM_LABEL_EMAIL,className:h.default.marginBottom20},void 0,E(s.default,{value:o,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})),E(d.FormItem,{title:p.default.Messages.FORM_LABEL_PASSWORD,className:h.default.marginBottom40},void 0,E(s.default,{type:"password",value:i,error:n,onChange:this.handlePasswordChange,
onKeyPress:this.handleKeyPress})),E(l.default,{fullWidth:!0,size:l.default.Sizes.LARGE,onClick:this.handleVerify,submitting:r,disabled:0===o.length||0===i.length},void 0,p.default.Messages.VERIFY_ACCOUNT))};r.renderActions=function(){return E("div",{className:v.default.container},void 0,E(l.default,{className:h.default.marginTop20,fullWidth:!0,size:l.default.Sizes.LARGE,look:l.ButtonLooks.INVERTED,color:l.ButtonColors.PRIMARY,onClick:this.handleResendEmail},void 0,p.default.Messages.RESEND_EMAIL),E(l.default,{className:h.default.marginTop20,fullWidth:!0,size:l.default.Sizes.MEDIUM,look:l.ButtonLooks.LINK,color:l.ButtonColors.PRIMARY,onClick:this.handleChangeEmailClick},void 0,p.default.Messages.CHANGE_EMAIL))};r.render=function(){var e,t=this.state.resent,n=this.props,r=n.email,i=n.canResend,u=n.transitionState;e=t&&null!=r?p.default.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:r}):i?p.default.Messages.VERIFY_EMAIL_BODY:p.default.Messages.ENTER_EMAIL_BODY;return E(c.ModalRoot,{
transitionState:u,"aria-labelledby":this._headerId,className:(0,o.default)(v.default.emailVerificationModal,y.default.vertical,y.default.alignCenter,y.default.justifyCenter,h.default.marginTop60)},void 0,a.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),E("div",{className:(0,o.default)(v.default.title,h.default.marginBottom8)},void 0,p.default.Messages.VERIFY_BY_EMAIL),E("div",{className:(0,o.default)(v.default.body,h.default.marginBottom20)},void 0,e),i?this.renderActions():this.renderInputs())};return t}(a.PureComponent);I.displayName="EmailVerificationModal";I.defaultProps={canResend:!1,onChangeEmailClick:f.NOOP,onVerify:function(e,t){},onResend:f.NOOP,onClose:f.NOOP};var b=I;t.default=b},737705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.EmptyStateText=t.EmptyStateImage=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(530250)),u=n(770348),l=d(n(643193)),s=d(n(380203));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=a.createContext(u.ThemeTypes.DARK),_=h.Provider,m=h.Consumer,g=function(e){v(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.lightSrc,n=e.darkSrc,r=e.width,a=e.height,d=e.offsetX,c=e.offsetY,v=e.style;return f(m,{},void 0,(function(e){return f(i.default.Child,{grow:0,className:(0,o.default)(l.default.image,s.default.marginBottom40),style:p({},v,{width:r,height:a,marginLeft:d,marginTop:c,backgroundImage:"url("+(e===u.ThemeTypes.DARK?n:t)+")"})})}))};return t}(a.PureComponent);t.EmptyStateImage=g
;g.displayName="EmptyStateImage";var E=function(e){var t=e.children,n=e.className,r=e.noteClassName,a=e.note,u=e.style;return f(i.default.Child,{grow:0,direction:i.default.Direction.VERTICAL,style:u},void 0,null!=t&&f("h4",{className:(0,o.default)(n,l.default.title)},void 0,t),a&&f("div",{className:(0,o.default)(r,l.default.text,s.default.marginTop8)},void 0,a))};t.EmptyStateText=E;E.displayName="EmptyStateText";var O=function(e){v(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,r=e.className,a=e.style;return f(_,{value:n},void 0,f(i.default,{direction:i.default.Direction.VERTICAL,align:i.default.Align.CENTER,justify:i.default.Justify.CENTER,className:(0,o.default)(l.default.wrapper,r),style:a},void 0,t))};return t}(a.PureComponent);t.default=O;O.displayName="EmptyState";O.Text=E;O.Image=g},358255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NotchBackground=void 0
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=n(8916),u=n(770348),l=s(n(14573));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=(0,i.cssValueToNumber)(l.default.notchWidth),v=Object.freeze({BLACK:l.default.black,GRAY:l.default.gray});t.NotchBackground=v;var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={barWidth:0};t.sizerRef=a.createRef();t.computeBars=function(){var e=t.sizerRef.current;t.setState({barWidth:null!=e?t.roundToNearestStep(e.clientWidth):0})};return t}var n=t.prototype;n.componentDidMount=function(){this.computeBars();window.addEventListener("resize",this.computeBars)};n.componentWillUnmount=function(){window.removeEventListener("resize",this.computeBars)}
;n.roundToNearestStep=function(e){return Math.round(e/p)*p};n.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,r=n*t/100,a=this.roundToNearestStep(r);return{transform:"translateX("+Math.abs(a-n)+"px)"}};n.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,r=e.progress;return{width:this.state.barWidth+"px",background:r<=0?"none":"linear-gradient(to right, "+n+", "+t+")"}};n.render=function(){var e=this.props,t=e.className,n=e.notchBackground;return a.createElement("div",{className:l.default.wrapper,ref:this.sizerRef},c("div",{className:(0,o.default)(l.default.container,t),style:this.getGradientStyles()},void 0,c("div",{className:l.default.progress,style:this.getProgressStyles()}),c("div",{className:(0,o.default)(l.default.notches,n)})))};return t}(a.Component);y.displayName="GradientProgress";y.defaultProps={gradientStart:u.Colors.STATUS_YELLOW_400,gradientEnd:u.Colors.STATUS_GREEN_600};var h=y
;t.default=h},275621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(956117)),o=s(n(971639)),i=s(n(776360)),u=s(n(247001)),l=s(n(20057));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.onLogin,r=e.onRegister;return c("div",{className:l.default.wrapper},void 0,c("div",{className:l.default.content},void 0,c("img",{alt:"",src:n(96446),className:l.default.image}),c("div",{},void 0,c(o.default,{size:o.default.Sizes.SIZE_20,className:l.default.header},void 0,u.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_HEADER),c(i.default,{className:l.default.subHeader},void 0,u.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_BODY))),c("div",{className:l.default.buttonContainer},void 0,c(a.default,{className:l.default.button,size:a.default.Sizes.MEDIUM,onClick:t,look:a.default.Looks.OUTLINED,color:a.default.Colors.WHITE},void 0,u.default.Messages.LOGIN),c(a.default,{className:l.default.button,
size:a.default.Sizes.MEDIUM,onClick:r},void 0,u.default.Messages.REGISTER)))};f.displayName="GuestLurkerGuard";var p=f;t.default=p},2022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=A(n(294184)),i=n(376871),u=n(378158),l=n(263996),s=n(523024),d=n(328092),c=A(n(886836)),f=n(800055),p=n(894826),v=A(n(692711)),y=n(465537),h=A(n(16941)),_=A(n(189950)),m=A(n(80828)),g=A(n(730977)),E=A(n(971639)),O=A(n(272544)),S=A(n(776360)),I=n(770348),b=A(n(247001)),C=A(n(976351)),T=A(n(860321)),P=A(n(145792));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}var k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).state={loaded:!1,hasBeenSeen:!1,isVisible:!1,submitting:!1};t.handleClickView=function(){var e=D(regeneratorRuntime.mark((function e(n){var r,a,o,i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.target;if(!r.className.includes("Menu")){e.next=3;break}return e.abrupt("return");case 3:a=t.props,o=a.onView,i=a.guild;n.stopPropagation();t.setState({submitting:!0});e.prev=6;e.t0=null!=o;if(!e.t0){e.next=11;break}e.next=11;return o(i.id);case 11:e.prev=11;t.setState({submitting:!1});return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[6,,11,14]])})));return function(t){return e.apply(this,arguments)}}();t.handleVisibilityChange=function(e){var n=t.props,r=n.onGuildCardSeen,a=n.guild;if(null!=a&&!t.state.hasBeenSeen&&e){t.setState({hasBeenSeen:e});null!=r&&r(a.id)}};t.handleContextMenu=function(e){(0,u.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,184767));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){
return a.createElement(o,R({},e,{guild:t.props.guild}))}));case 5:case"end":return e.stop()}}),e)}))))};t.setIsVisible=function(e){t.setState({isVisible:e})};return t}var r=t.prototype;r.getDefaultSplashURL=function(e){switch(e){case I.ThemeTypes.DARK:return T.default;case I.ThemeTypes.LIGHT:return P.default}};r.render=function(){var e,t,n,r=this,a=this.props,u=a.guild,I=a.className,T=a.theme,P=a.onTagClick,A=this.state,M=A.loaded,R=A.hasBeenSeen,w=A.isVisible,D=A.submitting,L=u.name,k=u.description,j=u.presenceCount,U=u.memberCount,G=u.keywords,F=v.default.getGuildDiscoverySplashURL({id:u.id,splash:u.discoverySplash,size:300*(0,f.getDevicePixelRatio)()}),x=null!=F?F:this.getDefaultSplashURL(T),W=v.default.getGuildIconURL({id:u.id,icon:u.icon,size:40})||void 0;d.DiscoveryTagsExperiment.trackExposure({});var V=d.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayTags,H=s.DiscoveryInAppReportingExperiment.getCurrentConfig({}).canSeeInAppReportingButtons
;s.DiscoveryInAppReportingExperiment.trackExposure({});var B=p.DeveloperMode.getSetting()||H;return N(i.VisibilitySensor,{active:!w,onChange:this.setIsVisible,threshold:.1},void 0,w?N(i.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!R,threshold:.55},void 0,N("div",{className:(0,o.default)(I,(e={},e[C.default.loaded]=M,e[C.default.loading]=!M,e))},void 0,D?N(m.default,{type:m.default.Type.PULSING_ELLIPSIS,className:C.default.spinner}):null,N(h.default,{onClick:this.handleClickView,className:(0,o.default)(C.default.card,(t={},t[C.default.submitting]=D,t[C.default.cardWithTags]=V,t)),onContextMenu:this.handleContextMenu},void 0,N("div",{className:C.default.cardHeader},void 0,N("div",{className:C.default.splash},void 0,N("img",{src:x,alt:"",className:C.default.splashImage,onLoad:function(){return r.setState({loaded:!0})}})),B?N("div",{className:C.default.actionButtons},void 0,N(c.default,{guild:u})):null,N("div",{className:C.default.guildIcon},void 0,N(O.default,{
mask:O.default.Masks.SQUIRCLE,width:48,height:48},void 0,N("div",{className:C.default.iconMask},void 0,N(O.default,{mask:O.default.Masks.SQUIRCLE,width:40,height:40},void 0,N("img",{src:W,alt:"",className:C.default.avatar})))))),N("div",{className:C.default.guildInfo},void 0,N("div",{className:C.default.title},void 0,N(_.default,{className:C.default.guildBadge,guild:u,tooltipColor:g.default.Colors.PRIMARY}),N(E.default,{tag:E.default.Tags.H4,size:S.default.Sizes.SIZE_16,className:C.default.guildName},void 0,L)),N(S.default,{className:C.default.description,size:S.default.Sizes.SIZE_14,color:S.default.Colors.HEADER_SECONDARY},void 0,k),V&&G&&P&&N(l.DiscoveryTags,{tags:G,onTagClick:function(e){return P(e,u.id)},guildId:u.id,section:y.AnalyticsContexts.POPULAR}),N("div",{className:C.default.memberInfo},void 0,null!=j&&N("div",{className:C.default.memberCount},void 0,N("div",{className:C.default.dotOnline}),N(S.default,{size:S.default.Sizes.SIZE_12,color:S.default.Colors.HEADER_SECONDARY
},void 0,b.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:j}))),null!=U&&N("div",{className:C.default.memberCount},void 0,N("div",{className:C.default.dotOffline}),N(S.default,{size:S.default.Sizes.SIZE_12,color:S.default.Colors.HEADER_SECONDARY},void 0,b.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:U})))))))):N("div",{className:(0,o.default)(C.default.card,(n={},n[C.default.cardWithTags]=V,n))}))};return t}(a.PureComponent);k.displayName="GuildDiscoveryCard";k.Placeholder=function(e){return N("div",{className:(0,o.default)(e.className,C.default.cardPlaceholder)})};var j=k;t.default=j},618993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(294184)),i=l(n(776680)),u=["tag","children","hoverText","className","forceHover"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,n=t.tag,r=t.children,l=t.hoverText,s=t.className,f=t.forceHover,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,u);return a.createElement("div",d({},p,{className:(0,o.default)(s,i.default.hoverRoll,(e={},e[i.default.disabled]=null==l,e[i.default.forceHover]=f,e))}),c(n,{className:i.default.hovered},void 0,l),c(n,{className:i.default.default},void 0,r))};return t}(a.PureComponent);p.displayName="HoverRoll";p.defaultProps={tag:"div",forceHover:!1};var v=p
;t.default=v},365561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PictureInPictureWindow=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=n(973935),u=n(864489),l=f(n(222318)),s=n(770348),d=f(n(347754)),c=f(n(480798));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var m=80,g=132,E=80,O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._width=0;t._height=0;t._velocityX=0;t._velocityY=0;t._lastMoveX=0;t._lastMoveY=0;t.ensureIsInPosition=function(){t.setPosition(t.props.position)};t.handleSetInnerDivRef=function(e){t._innerDiv=e;var n=null==e?void 0:e.ownerDocument.defaultView;if(null!=e&&null!=n){var r;t._resizeObserver=new n.ResizeObserver(t.ensureIsInPosition);null===(r=t._resizeObserver)||void 0===r||r.observe(e)}};t.handleSetDraggableRef=function(e){t._draggable=e};t.handleDragStart=function(e,n){t._velocityX=0;t._velocityY=0;t._lastMoveX=e;t._lastMoveY=n;t._lastMoveTime=new Date};t.handleDrag=function(e,n){var r=new Date,a=Number(r)-Number(t._lastMoveTime);t._velocityX=(e-t._lastMoveX)/a;t._velocityY=(n-t._lastMoveY)/a;t._lastMoveX=e;t._lastMoveY=n;t._lastMoveTime=r};t.handleDragEnd=function(e,n){
var r,a=t.props,o=a.maxX,i=a.maxY,u=t.calculateDecayingPosition(e,n,t._velocityX,t._velocityY),l=!0,d=!0;u.x>o/2&&(d=!1);u.y>i/2&&(l=!1);r=l&&d?s.PictureInPicturePositions.TOP_LEFT:l&&!d?s.PictureInPicturePositions.TOP_RIGHT:!l&&d?s.PictureInPicturePositions.BOTTOM_LEFT:s.PictureInPicturePositions.BOTTOM_RIGHT;t.animateToPosition(r,t.ensureIsInPosition);if(r!==t.props.position){var c=t.props,f=c.id,p=c.onMove;null==p||p(f,r)}};return t}var n=t.prototype;n.componentDidMount=function(){this.setPosition(this.props.position)};n.componentDidUpdate=function(e){e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY&&e.dockedRect===this.props.dockedRect||this.ensureIsInPosition()};n.componentWillUnmount=function(){var e;null===(e=this._resizeObserver)||void 0===e||e.disconnect()};n.getPosition=function(e){
var t=(0,i.findDOMNode)(this._innerDiv);if(null!=t){var n=t.getBoundingClientRect();this._width=n.width;this._height=n.height}var r=this.props,a=r.edgeOffsetTop,o=r.edgeOffsetLeft,l=r.edgeOffsetBottom,d=r.edgeOffsetRight,c=r.maxX,f=r.maxY,p=r.dockedRect,v=a,y=f-l-this._height,h=o,_=c-d-this._width,m=(0,u.getPlatform)()!==u.PlatformTypes.WINDOWS||this.inPopout?0:22;if(null!=p){var g,E;return{y:(null!==(g=null==p?void 0:p.y)&&void 0!==g?g:0)-m,x:null!==(E=null==p?void 0:p.x)&&void 0!==E?E:0}}switch(e){case s.PictureInPicturePositions.TOP_LEFT:return{y:v,x:h};case s.PictureInPicturePositions.BOTTOM_LEFT:return{y,x:h};case s.PictureInPicturePositions.TOP_RIGHT:return{y:v,x:_};default:return{y,x:_}}};n.setPosition=function(e){var t,n=this.getPosition(e),r=n.x,a=n.y;null===(t=this._draggable)||void 0===t||t.setPosition(r,a)};n.animateToPosition=function(e,t){var n,r=this.getPosition(e),a=r.x,o=r.y;null===(n=this._draggable)||void 0===n||n.animateToPosition(a,o,{},t)}
;n.calculateDecayingPosition=function(e,t,n,r){return{x:e+200*n,y:t+200*r}};n.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,r=e.edgeOffsetRight;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.BOTTOM_LEFT:return-n;default:return r}};n.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,r=e.edgeOffsetBottom;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.TOP_RIGHT:return-n;default:return r}};n.render=function(){var e,t=this.props,n=t.maxX,r=t.maxY,i=t.dockedRect,u=t.hidden,s={};null!=i&&(s={transform:"translate3d("+i.x+", "+i.y+", 0)",width:i.width,height:i.height});return a.createElement(l.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:(0,o.default)(d.default.pictureInPictureWindow,c.default.elevationHigh,(e={},e[d.default.hidden]=u,e)),maxX:n,maxY:r,disabled:null!=i,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd
},a.createElement("div",{ref:this.handleSetInnerDivRef,style:s},this.props.children))};!function(e,t,n){t&&h(e.prototype,t);n&&h(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"inPopout",get:function(){return this.props.appContext===s.AppContext.POPOUT}}]);return t}(a.PureComponent);t.PictureInPictureWindow=O;O.displayName="PictureInPictureWindow";O.defaultProps={hidden:!1};var S=function(e){var t=e.selectedPIPWindow,n=e.pipWindows,r=e.maxX,o=e.maxY,i=e.onWindowMove,u=e.dockedRect,l=e.pictureInPictureComponents,c=e.appContext;return v("div",{className:d.default.pictureInPicture},void 0,function(){if(null==t)return null;var e=Array.from(n.values()).map((function(e){if(e.id!==t.id&&e.component!==s.PictureInPictureComponents.EMBED_IFRAME)return null;var n="string"==typeof e.component?l[e.component]:e.component;return a.createElement(n,y({key:"pipWindow-"+e.id},e.props))}));return v(O,{appContext:c,position:t.position,id:t.id,hidden:t.hidden,onMove:i,maxX:r,maxY:o,
dockedRect:u,edgeOffsetTop:m,edgeOffsetBottom:g,edgeOffsetLeft:E,edgeOffsetRight:m},void 0,e)}())};S.displayName="PictureInPicture";var I=a.memo(S);t.default=I},604753:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PremiumPaymentGuildAnimation=t.PremiumPaymentAnimationTier2=t.PremiumPaymentAnimationTier1=void 0;var r,a,o,i,u,l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),s=v(n(294184)),d=n(248088),c=v(n(74854)),f=v(n(88793)),p=v(n(369689));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}!function(e){e.NORMAL="normal";e.SPEED_START="speed_start";e.SPEED_LOOP="speed_loop";e.FINISH="finish";e.IDLE="idle"}(u||(u={}));var E,O=((r={})[u.NORMAL]={BEG:0,END:600,shouldForcePlayAfter:!0},
r[u.SPEED_START]={BEG:601,END:636},r[u.SPEED_LOOP]={BEG:637,END:668},r[u.FINISH]={BEG:669,END:870},r[u.IDLE]={BEG:871,END:878},r),S=function(e){m(t,e);function t(){return e.apply(this,arguments)||this}t.getNextScene=function(e){switch(e){case t.Scenes.SPEED_START:return t.Scenes.SPEED_LOOP;case t.Scenes.FINISH:return t.Scenes.IDLE;default:return e}};var r=t.prototype;r.importDefault=function(){return n.e(64849).then(n.t.bind(n,909412,19)).then((function(e){return e.default}))};r.render=function(){var e=this.props,t=e.className,n=e.nextScene,r=e.onScenePlay,a=e.onSceneComplete,o=e.pause,i=e.pauseWhileUnfocused;return _(f.default,{className:t,importData:this.importDefault,nextScene:o?u.IDLE:n,sceneSegments:O,onScenePlay:r,onSceneComplete:a,pauseWhileUnfocused:i,pause:o})};return t}(l.PureComponent);t.PremiumPaymentAnimationTier1=S;S.displayName="PremiumPaymentAnimationTier1";S.Scenes=u;!function(e){e.IDLE_ENTRY="idle_entry";e.IDLE_LOOP="idle_loop";e.BOOST_START="boost_start"
;e.BOOST_LOOP="boost_loop";e.BOOST_END="boost_end";e.VICTORY="victory";e.ERROR="error"}(E||(E={}));var I=((a={})[E.IDLE_ENTRY]={BEG:0,END:50},a[E.IDLE_LOOP]={BEG:50,END:230,shouldForcePlayAfter:!0},a[E.BOOST_START]={BEG:230,END:275},a[E.BOOST_LOOP]={BEG:275,END:290},a[E.BOOST_END]={BEG:386,END:455},a[E.VICTORY]={BEG:470,END:525},a[E.ERROR]={BEG:290,END:375},a),b=function(e){m(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getStyle=function(e){var t=this.props.animation;return{transform:[{translateX:t.x.interpolate({inputRange:[0,1],outputRange:e?["100%","0%"]:["0%","-100%"]})},{translateY:t.y.interpolate({inputRange:[0,1],outputRange:["100%","0%"]})}]}};n.render=function(){var e=this.props.className;return _("div",{className:p.default.panningAnimation},void 0,_(c.default.div,{className:e,style:this.getStyle(!1)}),_(c.default.div,{className:e,style:this.getStyle(!0)}))};return t}(l.PureComponent);b.displayName="PanningAnimation";var C,T=Object.freeze({
IDLE_ENTRY:{toValue:1,duration:1500},IDLE_LOOP:{toValue:1,duration:6e3,easing:c.default.Easing.linear},BOOST_START:{toValue:0,duration:2e3,delay:500},ERROR:{toValue:1,duration:1500,delay:1e3}}),P=1.2,A=function(e){m(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).backgroundAnimation=new c.default.ValueXY({x:0,y:0});t.foregroundAnimation=new c.default.ValueXY({x:0,y:0});t.didUnmount=!1;t.animateIdleLoopBackground=function(){if(!t.didUnmount){t.backgroundAnimation.x.setValue(0);c.default.timing(t.backgroundAnimation.x,{toValue:T.IDLE_LOOP.toValue,duration:T.IDLE_LOOP.duration*P,easing:c.default.Easing.linear}).start(t.animateIdleLoopBackground)}};t.animateIdleLoopForeground=function(){if(!t.didUnmount){t.foregroundAnimation.x.setValue(0);c.default.timing(t.foregroundAnimation.x,{toValue:T.IDLE_LOOP.toValue,duration:T.IDLE_LOOP.duration,easing:T.IDLE_LOOP.easing}).start(t.animateIdleLoopForeground)}}
;t.handleScenePlay=function(e){switch(e){case E.IDLE_ENTRY:t.animateIdleEntry();t.animateIdleLoop();break;case E.ERROR:t.animateError();break;case E.BOOST_START:t.animateBoostStart()}var n=t.props.onScenePlay;null!=n&&n(e)};return t}t.getNextScene=function(e){switch(e){case t.Scenes.IDLE_ENTRY:return t.Scenes.IDLE_LOOP;case t.Scenes.BOOST_START:return t.Scenes.BOOST_LOOP;case t.Scenes.BOOST_END:return t.Scenes.VICTORY;case t.Scenes.VICTORY:return t.Scenes.IDLE_ENTRY;case t.Scenes.ERROR:return t.Scenes.IDLE_LOOP;default:return e}};var r=t.prototype;r.componentWillUnmount=function(){this.didUnmount=!0};r.importData=function(){return n.e(56576).then(n.t.bind(n,219177,19)).then((function(e){return e.default}))};r.animateEntry=function(e){c.default.parallel([c.default.timing(this.foregroundAnimation.y,{toValue:e.toValue,duration:e.duration,delay:e.delay||0}),c.default.timing(this.backgroundAnimation.y,{toValue:e.toValue,duration:e.duration*P,delay:e.delay||0})]).start()}
;r.animateIdleEntry=function(){this.animateEntry(T.IDLE_ENTRY)};r.animateError=function(){this.animateEntry(T.ERROR)};r.animateIdleLoop=function(){this.animateIdleLoopBackground();this.animateIdleLoopForeground()};r.animateBoostStart=function(){c.default.parallel([c.default.timing(this.foregroundAnimation.y,{toValue:T.BOOST_START.toValue,duration:T.BOOST_START.duration,delay:T.BOOST_START.delay}),c.default.timing(this.backgroundAnimation.y,{toValue:T.BOOST_START.toValue,duration:T.BOOST_START.duration*P,delay:T.BOOST_START.delay})]).start()};r.render=function(){var e=this.props,t=e.className,n=e.nextScene,r=e.pause,a=e.onSceneComplete;return _("div",{className:(0,s.default)(p.default.tier2Animation,t)},void 0,r?l.createElement(l.Fragment,null,_("div",{className:p.default.panningAnimation},void 0,_("div",{className:p.default.tier2Background}),_("div",{className:p.default.tier2Foreground}))):l.createElement(l.Fragment,null,_(b,{className:p.default.tier2Background,
animation:this.backgroundAnimation}),_(b,{className:p.default.tier2Foreground,animation:this.foregroundAnimation})),_(f.default,{importData:this.importData,nextScene:r?E.IDLE_LOOP:n,sceneSegments:I,onScenePlay:this.handleScenePlay,onSceneComplete:a,pauseWhileUnfocused:!1,pause:r}))};return t}(l.PureComponent);t.PremiumPaymentAnimationTier2=A;A.displayName="PremiumPaymentAnimationTier2";A.Scenes=E;!function(e){e.ENTRY="entry";e.IDLE="idle";e.STARS="stars";e.ERROR="error";e.SUCCESS="success"}(C||(C={}));var M=((o={})[C.ENTRY]={BEG:0,END:180},o[C.IDLE]={BEG:180,END:360,shouldForcePlayAfter:!0},o[C.STARS]={BEG:180,END:360,shouldForcePlayAfter:!0},o[C.ERROR]={BEG:360,END:540},o[C.SUCCESS]={BEG:540,END:778},o),N=Object.freeze({WHITE:"#ebf0f7",PINK:"#fa6ef6"}),R=[{left:29,top:100,color:N.WHITE},{left:245,top:11,color:N.PINK},{left:393,top:22,color:N.WHITE},{left:74,top:30,color:N.PINK},{left:188,top:9,color:N.WHITE},{left:379,top:97,color:N.PINK}],w=Object.freeze({SCALE_INITIAL:0,
SCALE_MIDDLE:1,SCALE_END:0,ROTATE_INITIAL:0,ROTATE_MIDDLE:180,ROTATE_END:360,DELAY_MIN:200,DELAY_MAX:500,DELAY_STAGGER:200,DURATION_MIDDLE:400,DURATION_END:250,SIZE_MIN:7,SIZE_MAX:15,EASING_MIDDLE:c.default.Easing.bezier(.3,.01,0,.99),EASING_END:c.default.Easing.bezier(0,-.01,.99,0)});function D(e){var t=e.animate,n=l.useState(0),r=n[0],a=n[1],o=(0,d.useSprings)(R.length,R.map((function(e,n){var o,i,u=n>0?w.DELAY_STAGGER*n+Math.random()*(w.DELAY_MAX-w.DELAY_MIN)+w.DELAY_MIN:0,l=Math.random()*(w.SIZE_MAX-w.SIZE_MIN)+w.SIZE_MIN;return{from:{scale:w.SCALE_INITIAL,rotate:w.ROTATE_INITIAL,top:e.top,left:e.left,width:l,height:l},to:(i=(o=regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}e.next=3;return o({scale:w.SCALE_MIDDLE,rotate:w.ROTATE_MIDDLE,delay:u,config:{duration:w.DURATION_MIDDLE,easing:w.EASING_MIDDLE}});case 3:e.next=5;return o({scale:w.SCALE_END,rotate:w.ROTATE_END,config:{
duration:w.DURATION_END,easing:w.EASING_END}});case 5:e.next=7;return o({scale:w.SCALE_INITIAL,rotate:w.ROTATE_INITIAL,immediate:!0});case 7:n===R.length-1&&a(r+1);e.next=12;break;case 10:e.next=12;return o({scale:w.SCALE_INITIAL,rotate:w.ROTATE_INITIAL});case 12:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){h(a,n,r,i,u,"next",e)}function u(e){h(a,n,r,i,u,"throw",e)}i(void 0)}))}),function(e){return i.apply(this,arguments)})}})));return l.createElement(l.Fragment,null,o.map((function(e,t){var n=R[t];return _(d.animated.svg,{style:e,className:p.default.guildStar,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12.14 12.24"},t,_("path",{
d:"M5.62 10.22l-4 1.9a1.17 1.17 0 01-1.5-.5 1.7 1.7 0 010-1l1.9-4a.91.91 0 000-1l-1.9-4a1.14 1.14 0 01.5-1.5 1.39 1.39 0 01.9 0l4 1.9a.91.91 0 001 0l4-1.9a1.14 1.14 0 011.5.5 1.39 1.39 0 010 .9l-1.9 4a.91.91 0 000 1l1.9 4a1.17 1.17 0 01-.5 1.5 1.7 1.7 0 01-1 0l-4-1.9a1 1 0 00-.9.1z",fill:n.color}))})))}var L=function(e){m(t,e);function t(){return e.apply(this,arguments)||this}t.getNextScene=function(e){switch(e){case C.ENTRY:case C.ERROR:case C.SUCCESS:return C.IDLE;default:return e}};var r=t.prototype;r.importData=function(){return n.e(85789).then(n.t.bind(n,632500,19)).then((function(e){return e.default}))};r.render=function(){var e=this.props,t=e.className,n=e.nextScene,r=e.pause,a=e.onScenePlay,o=e.onSceneComplete,i=e.pauseWhileUnfocused;return _("div",{className:(0,s.default)(p.default.guildWrapper,t)},void 0,_(f.default,{className:p.default.guildBackground,importData:this.importData,nextScene:r?C.IDLE:n,sceneSegments:M,onScenePlay:a,onSceneComplete:o,pauseWhileUnfocused:i,pause:r
}),_(D,{animate:!r&&n===C.STARS}))};return t}(l.PureComponent);t.PremiumPaymentGuildAnimation=L;L.displayName="PremiumPaymentGuildAnimation";L.Scenes=C},463922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(237745))&&r.__esModule?r:{default:r},i=n(770348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=function(e){return a.createElement(o.default,l({sitekey:i.RECAPTCHA_SITE_KEY},e))};s.displayName="Recaptcha";s.Themes={LIGHT:"light",DARK:"dark"};s.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};var d=s;t.default=d},49465:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(131795)),i=l(n(74854)),u=l(n(23966));function l(e){return e&&e.__esModule?e:{
default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function f(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)}]}}var p=d("defs",{},void 0,d("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})),v=d("g",{mask:"url(#search-index-foreground-mask-b)"},void 0,d("path",{
fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),d("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),d("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",
strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),d("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),d("path",{fill:"#FFD773",
d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",
strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),d("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),d("path",{stroke:"#1E2126",
strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",
d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),d("path",{fill:"#E4E9F8",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{
fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),d("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#5871B7",
d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),d("path",{
fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#5865f2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),d("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})),y=d("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),h=d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),_=d("path",{fill:"#9F7373",
d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),m=d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),g=d("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),E=d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),O=d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),S=d("path",{d:"M84 66h130v130H84z"}),I=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={x:new i.default.Value(0),y:new i.default.Value(0)};t._isMounted=!1;t.shouldLoop=function(){return t._isMounted};return t}var n=t.prototype;n.componentDidMount=function(){this._isMounted=!0;var e=this.state,t=e.x,n=e.y;if("Firefox"!==o.default.name){i.default.animate(t,{
loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop});i.default.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop})}};n.componentWillUnmount=function(){this._isMounted=!1};n.render=function(){return d("div",{className:u.default.searchIndexAnimation},void 0,d("div",{className:u.default.searchIndexBackground}),d("svg",{className:u.default.searchIndexForeground,width:"320",height:"280"},void 0,p,d("g",{fill:"none",fillRule:"evenodd"},void 0,d("g",{transform:"translate(120 80)"},void 0,d("mask",{id:"search-index-foreground-mask-b",fill:"#fff"},void 0,d(i.default.use,{style:f(this.state),className:u.default.mask,xlinkHref:"#search-index-foreground-mask-a"})),v),d(i.default.g,{className:u.default.magnifyingGlass,style:f(this.state)},void 0,y,h,_,m,g,E,O,S))))};return t}(a.Component);I.displayName="SearchIndexForeground";var b=I;t.default=b},413542:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=i(n(496486)),o=i(n(235879));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){
for(var t,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];(t=e.call.apply(e,[this].concat(i))||this).ref=r.createRef();t.shouldRenderFrame=!0;t.animate=function(){var e=t.props,n=e.intensity;if(e.isShaking){var r=t.ref.current;if(t.shouldRenderFrame&&null!=r){var i=a.default.random(-n,n,!0),u=a.default.random(-n,n,!0);r.style.transform=o.default.useReducedMotion?"":"translate3d("+i+"px,"+u+"px,0px)"}t.shouldRenderFrame=!t.shouldRenderFrame;t.animationFrame=requestAnimationFrame(t.animate)}};return t}var n=t.prototype;n.componentDidMount=function(){this.props.isShaking&&this.startShaking()};n.componentDidUpdate=function(e){this.props.isShaking!==e.isShaking&&this.setShaking(this.props.isShaking)};n.setShaking=function(e){e?this.startShaking():this.stopShaking()};n.startShaking=function(){this.shouldRenderFrame=!0;this.animationFrame=requestAnimationFrame(this.animate)};n.stopShaking=function(){null!=this.animationFrame&&cancelAnimationFrame(this.animationFrame)
;var e=this.ref.current;null!=e&&(e.style.transform="")};n.render=function(){var e=this.props,t=e.className,n=e.children;return r.createElement("div",{className:t,ref:this.ref},n)};return t}(r.Component);s.displayName="Shaker";s.defaultProps={isShaking:!0,intensity:5};var d=s;t.default=d},427370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.padded,n=void 0===t||t,l=e.inset,s=void 0!==l&&l,c=e.active,f=void 0!==c&&c,p=e.className,v=e.children,y=e.onClick,h=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);if(null!=y){var _;return r.createElement(o.default,d({onClick:y,tabIndex:null!=y?0:-1,className:(0,a.default)(p,(_={},_[i.default.outer]=!s,_[i.default.inset]=s,_[i.default.padded]=n,_[i.default.active]=f,_[i.default.interactive]=null!=y,_))},h),v)}var m;return r.createElement("div",d({className:(0,a.default)(p,(m={},m[i.default.outer]=!s,
m[i.default.inset]=s,m[i.default.padded]=n,m[i.default.active]=f,m))},h),v)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(294184)),o=l(n(16941)),i=l(n(202133)),u=["padded","inset","active","className","children","onClick"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return d.apply(this,arguments)}},118777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MarkerPositions=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=f(n(294184)),u=f(n(496486)),l=f(n(235879)),s=f(n(314234)),d=f(n(730977)),c=f(n(73432));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}t.MarkerPositions=a;!function(e){e[e.ABOVE=0]="ABOVE";e[e.BELOW=1]="BELOW"}(a||(t.MarkerPositions=a={}));function _(e,t){for(var n=0,r=0;r<t.length;r++){var a=t[r];if(e===a)return r;if(e<a)return 0===n||a-e<n?r:r-1;n=e-a}return null}function m(e){var t=e.markers,n=e.initialValue,r=e.minValue,a=e.maxValue,o=e.equidistant,i=[],u=[];if(null==t)return{min:r,max:a,
range:a-r,sortedMarkers:i,markerPositions:u};var l=_(n,i=t.sort((function(e,t){return e-t}))),s=i[0],d=i[i.length-1],c=d-s;if(o){var f=100/(i.length-1);u=i.map((function(e,t){return t*f}))}else{u=i.map((function(e){return 100*(e-s)/c}))}return{min:s,max:d,range:c,sortedMarkers:i,markerPositions:u,closestMarkerIndex:l}}function g(e){return h({value:Math.min(Math.max(e.initialValue,e.minValue),e.maxValue),initialValueProp:e.initialValue,newClosestIndex:null},m(e))}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).containerRef=o.createRef();n.grabberRef=o.createRef();n.moveGrabber=function(e){var t=n.state,r=t.sortedMarkers,a=t.value,o=t.min,i=t.max,l=n.props,s=l.asValueChanges,d=l.onValueChange,c={};if(l.stickToMarkers){var f=r.indexOf(a);if(f<0)return;var p=f+e,v=r[p];if(null==v)return;c.value=v;c.closestMarkerIndex=p;c.newClosestIndex=p}else c.value=u.default.clamp(a+e,o,i)
;n.setState(c);if(c.value!==n.state.value){null==s||s(c.value);null==d||d(c.value)}};n.handleContainerMouseDown=function(e){var t=n.props,r=t.disabled,a=t.maxValue,o=t.minValue,i=t.asValueChanges,u=t.onValueChange,l=t.stickToMarkers,s=n.state,d=s.sortedMarkers,c=s.markerPositions;if(!r){var f=e.clientX,p=e.currentTarget;if(1===(null==p?void 0:p.nodeType)){var v,y=p.getBoundingClientRect(),h=(f-y.left)/y.width;if(l){var _=c.reduce((function(e,t,n){var r=Math.abs(t/100-h);return r<=e.smallestDelta?{smallestDelta:r,nextClosestMarkerIndex:n}:e}),{smallestDelta:1,nextClosestMarkerIndex:-1}).nextClosestMarkerIndex;if(-1===_)return;n.setState({closestMarkerIndex:_});v=d[_]}else{v=o+(a-o)*h;n.setState({value:v});n.handleMouseDown(e)}null!=u&&u(v);null!=i&&i(v)}}};n.handleKeyDown=function(e){var t=n.props,r=t.disabled,a=t.orientation,o=t.keyboardStep,i=void 0===o?1:o;if(!r){var u=e.key,l=[],s=[];switch(a){case"horizontal":l=["ArrowRight"];s=["ArrowLeft"];break;case"vertical":l=["ArrowUp"]
;s=["ArrowDown"];break;default:l=["ArrowRight","ArrowUp"];s=["ArrowLeft","ArrowDown"]}if(s.includes(u)){e.preventDefault();e.stopPropagation();n.moveGrabber(-i)}else if(l.includes(u)){e.preventDefault();e.stopPropagation();n.moveGrabber(i)}}};n.handleMouseDown=function(e){var t,r;if(!n.props.disabled){e.stopPropagation();var a=n.containerRef.current;null==a||null===(t=a.ownerDocument)||void 0===t||t.addEventListener("mousemove",n.handleMouseMove,!0);null==a||null===(r=a.ownerDocument)||void 0===r||r.addEventListener("mouseup",n.handleMouseUp,!0);if(1!==(null==a?void 0:a.nodeType))throw new Error("[UIKit]Slider.handleMouseDown(): assert failed: domNode nodeType !== Element");n.setState({x:e.clientX,active:!0,boundingRect:a.getBoundingClientRect(),newClosestIndex:n.state.closestMarkerIndex})}};n.handleMouseUp=function(e){e.stopPropagation();n.reset();var t=n.props,r=t.onValueChange,a=t.stickToMarkers,o=n.state.newClosestIndex;if(a&&null!=o){null==r||r(n.state.sortedMarkers[o])
;n.setState({newClosestIndex:null,closestMarkerIndex:o})}else null==r||r(n.state.value);n.setState({active:!1})};n.handleMouseMove=function(e){e.preventDefault();n.props.stickToMarkers?n.moveStaggered(e):n.moveSmoothly(e)};n.onFocus=function(){n.setState({focused:!0})};n.onBlur=function(){n.setState({focused:!1})};n.state=h({active:!1,focused:!1},g(t));return n}t.getDerivedStateFromProps=function(e,t){return e.initialValue!==t.initialValueProp?h({},g(e),{active:t.active}):null};var n=t.prototype;n.componentWillUnmount=function(){this.reset()};n.renderMark=function(e){var t=this.props.onMarkerRender;return null!=t?t(e):e};n.render=function(){
var e,t=this,n=this.state,r=n.value,u=n.active,f=n.focused,p=n.sortedMarkers,y=n.markerPositions,_=n.closestMarkerIndex,m=n.newClosestIndex,g=n.min,E=n.max,O=this.props,S=O.disabled,I=O.stickToMarkers,b=O.className,C=O.children,T=O.barStyles,P=O.fillStyles,A=O.mini,M=O.hideBubble,N=O.defaultValue,R=O.orientation,w=O.onValueRender,D=O.renderMarker,L=O.barClassName,k=O.grabberClassName,j=O.grabberStyles,U=void 0===j?{}:j,G=O.markerPosition,F=void 0===G?a.ABOVE:G,x=O["aria-hidden"],W=O["aria-label"],V=O["aria-labelledby"],H=O["aria-describedby"],B=0;I?null!=y&&(null!=m?B=y[m]:null!=_&&(B=y[_])):B=this.scaleValue(r);var Y=B+"%",z=null!=y&&null!=p?y.map((function(e,n){var r,u=p[n],l=null!=N&&N===u,s=t.renderMark(u);return v("div",{className:(0,i.default)(c.default.mark,(r={},r[c.default.defaultValue]=l,r[c.default.markAbove]=F===a.ABOVE,r[c.default.markBelow]=F===a.BELOW,r)),style:{left:e+"%"}},n,null!=D?D(u):o.createElement(o.Fragment,null,v("div",{className:c.default.markValue
},void 0,s),v("div",{className:c.default["markDash"+(null==s?"simple":"")]})))})):null,K=null!=w?w(r):B.toFixed(0)+"%";return v(s.default,{focusTarget:this.containerRef,ringTarget:this.grabberRef},void 0,o.createElement("div",{className:(0,i.default)(c.default.slider,b,(e={},e[c.default.disabled]=S,e[c.default.mini]=A,e)),"aria-valuemin":g,"aria-valuemax":E,"aria-valuenow":r,"aria-disabled":S,"aria-orientation":R,"aria-hidden":x,"aria-label":W,"aria-labelledby":V,"aria-describedby":H,role:"slider",tabIndex:0,onKeyDown:this.handleKeyDown,onMouseDown:this.handleContainerMouseDown,onFocus:this.onFocus,onBlur:this.onBlur,ref:this.containerRef},v("input",{type:"number",className:c.default.input,value:B.toFixed(0),readOnly:!0}),v("div",{className:c.default.track},void 0,z),v("div",{className:(0,i.default)(c.default.bar,L),style:T},void 0,v("div",{className:c.default.barFill,style:h({},P,{width:Y})})),C,v("div",{className:c.default.track},void 0,v(d.default,{color:d.default.Colors.GREY,
hideOnClick:!1,text:M||I?null:K,forceOpen:u||f&&l.default.keyboardModeEnabled},void 0,(function(e){return o.createElement("div",h({},e,{className:(0,i.default)(c.default.grabber,k),style:h({},U,{left:Y}),onMouseDown:t.handleMouseDown,ref:t.grabberRef}))})))))};n.reset=function(){var e,t,n,r;null===(e=this.containerRef.current)||void 0===e||null===(t=e.ownerDocument)||void 0===t||t.removeEventListener("mousemove",this.handleMouseMove,!0);null===(n=this.containerRef.current)||void 0===n||null===(r=n.ownerDocument)||void 0===r||r.removeEventListener("mouseup",this.handleMouseUp,!0)};n.scaleValue=function(e){return 100*(e-this.state.min)/this.state.range};n.unscaleValue=function(e){return e*this.state.range/100+this.state.min};n.focus=function(){var e;null===(e=this.containerRef.current)||void 0===e||e.focus()};n.blur=function(){var e;null===(e=this.containerRef.current)||void 0===e||e.blur()};n.moveStaggered=function(e){
var t=this.state,n=t.boundingRect,r=t.x,a=void 0===r?0:r,o=t.closestMarkerIndex,i=t.markerPositions,u=t.sortedMarkers,l=this.props.asValueChanges,s=null!=n?n:{left:NaN,right:NaN},d=s.left,c=s.right;if(!(e.clientX<=d||e.clientX>=c)){var f,p=c-d,v=(e.clientX-a)/p,y=i[o]+100*v;if(this.props.equidistant)f=_(y,i);else{f=_(this.unscaleValue(y),u)}null!=f&&l&&l(u[f]);this.setState({newClosestIndex:f})}};n.moveSmoothly=function(e){var t=this.props,n=t.minValue,r=t.maxValue,a=t.handleSize,o=t.asValueChanges,i=this.state.boundingRect,u=i.left,l=i.right,s=this.state.x-e.clientX,d=(this.state.value-n)/(r-n);if(!(e.clientX<=u&&s<0||e.clientX>=l&&s>0)){var c=l-u-a,f=c*d;d=Math.min(Math.max(f-s,0),c)/c}var p=n+d*(r-n);null==o||o(p);this.setState({value:p,x:e.clientX})};return t}(o.PureComponent);E.displayName="Slider";E.defaultProps={initialValue:10,minValue:0,maxValue:100,keyboardStep:1,handleSize:10,disabled:!1,stickToMarkers:!1,fillStyles:{}};var O=E;t.default=O},409236:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(667294)),o=l(n(496486)),i=d(n(925182)),u=l(n(531198));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).canvas=a.createRef();t.updateAnimation=function(e){var n=t.canvas.current;if(null!=n){var r=t.props,a=r.data,o=r.updateInterval,u=r.color,l=r.numUpdatesToShow,s=r.lineWidth,d=r.animate,c=r.gradientStopColor;if(!(a.length<2)){var f=Math.max(Math.min((e-t.dataChangedAt)/o,1),0),p=n.getContext("2d"),v=t.maxValue;p.strokeStyle=u;p.lineWidth=s;var y=n.height-p.lineWidth,h=p.createLinearGradient(0,0,0,y);if(null!=c)h.addColorStop(0,c);else{
var _=i.hexToRgb(u),m=_.r,g=_.g,E=_.b;h.addColorStop(0,"rgba("+m+", "+g+", "+E+", 0)")}h.addColorStop(1,t.fillColor);p.fillStyle=h;var O=a.length>=l?l:a.length;p.setTransform(1,0,0,-1,0,n.height);p.clearRect(0,0,n.width,n.height);p.translate(0,.5*p.lineWidth);var S,I,b=Math.floor(n.width/(O-3)),C=.5*b,T=b-b*f;p.translate(T,0);p.beginPath();var P=-b;a.forEach((function(e,t){S={x:P,y:y*e/v};0===t?p.moveTo(S.x,S.y):p.bezierCurveTo(I.x+C,I.y,S.x-C,S.y,S.x,S.y);I=S;P+=b}));p.stroke();p.lineTo(P-b,0);p.lineTo(0,0);p.fill();d&&f<1&&(t.animationFrameRequestId=window.requestAnimationFrame(t.updateAnimation))}}};return t}var n=t.prototype;n.onDataUpdate=function(e,t){var n=this.props,r=n.maxValue,a=n.data,u=n.animate,l=null==e||e.data!==t.data&&!o.default.isEqual(e.data,t.data);if(l){this.dataChangedAt=performance.now();this.maxValue=null!=r?r:Math.max.apply(Math,a)}if(l||null==e||!e.animate&&u||e.color!==this.props.color){var s=i.hexToRgb(this.props.color)
;this.fillColor="rgba("+s.r+", "+s.g+", "+s.b+", 0.5)";window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}};n.componentDidMount=function(){this.animationFrameRequestId=0;this.onDataUpdate(null,this.props)};n.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)};n.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=0};n.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,r=e.pixelHeight;return c("div",{className:t},void 0,a.createElement("canvas",{ref:this.canvas,className:u.default.canvas,width:n,height:r}))};return t}(a.PureComponent);p.displayName="SparkChart";p.defaultProps={animate:!0};var v=p;t.default=v},961664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=s(n(294184)),i=s(n(496486)),u=n(770348),l=s(n(995071));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}!function(e){e.XSMALL="xsmall";e.SMALL="small";e.LARGE="large"}(a||(a={}));var p=function(e){var t=e.className,n=e.percents,r=e.size,s=void 0===r?a.SMALL:r,d=e.foregroundColors,p=void 0===d?[u.Colors.BRAND]:d,v=e.backgroundColor,y=void 0===v?"var(--background-modifier-active)":v,h=e.animate,_=void 0===h||h,m=i.default.zip(n,p).map((function(e,t){var n,r,a=e[0],i=e[1];r=Array.isArray(i)?{background:"linear-gradient(to right, "+i[0]+", "+i[1]+")"}:{backgroundColor:i};return c("div",{className:(0,o.default)(l.default.progressBar,l.default[s],(n={},n[l.default.animating]=_,n)),style:f({transform:"translate3d("+(Math.min(Math.max(0,a),100)-100)+"%, 0, 0)"},r)},t)})).reverse();return c("div",{className:(0,o.default)(t,l.default.progress,l.default[s]),style:{backgroundColor:y
}},void 0,m)};p.displayName="StackedProgress";p.Sizes=a;var v=p;t.default=v},279950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Error=O;t.default=t.TextInputSizes=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=n(248088),u=v(n(345034)),l=v(n(314234)),s=n(773336),d=v(n(776360)),c=v(n(641501)),f=["transform"],p=["error","className","inputClassName","inputPrefix","disabled","size","editable","inputRef","prefixElement","focusProps"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}var E={
DEFAULT:"default",MINI:"mini"};t.TextInputSizes=E;function O(e){var t=e.error,n=(0,i.useTransition)(t,{config:{tension:250,clamp:!0},from:{marginTop:0,height:0,opacity:0,transform:"translate3d(0, -100%, 0)"},enter:{marginTop:4,height:"auto",opacity:1,transform:"translate3d(0, -0px, 0)"},leave:{marginTop:0,height:0,opacity:0,transform:"translate3d(0, -100%, 0)"}}),r=(0,u.default)(t);return a.createElement(a.Fragment,null,n((function(e,n,a){var o=a.key,u=e.transform,l=g(e,f);return n&&_(i.animated.div,{style:m({},l,{overflow:"hidden"})},o,_(i.animated.div,{style:{transform:u}},void 0,_(d.default,{color:d.default.Colors.ERROR,size:d.default.Sizes.SIZE_12},void 0,t||r)))})))}var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).onChange=function(e){var n,r
;null===(n=(r=t.props).onChange)||void 0===n||n.call(r,e.currentTarget.value,t.props.name)};t.onFocus=function(e){var n,r;null===(n=(r=t.props).onFocus)||void 0===n||n.call(r,e,t.props.name)};t.onBlur=function(e){var n,r;null===(n=(r=t.props).onBlur)||void 0===n||n.call(r,e,t.props.name)};return t}t.prototype.render=function(){var e,t=this.props,n=t.error,r=t.className,i=t.inputClassName,u=t.inputPrefix,d=t.disabled,f=t.size,v=t.editable,y=t.inputRef,h=t.prefixElement,E=t.focusProps,S=g(t,p);return _("div",{className:(0,o.default)(c.default.inputWrapper,r)},void 0,null!=h&&h,u?_("span",{className:c.default.inputPrefix},void 0,u):null,a.createElement(l.default,E,a.createElement("input",m({className:(0,o.default)((0,s.getClass)(c.default,"input",f),i,(e={},e[c.default.error]=n,e[c.default.disabled]=d,e[c.default.editable]=v,e)),disabled:d,readOnly:!1===v||void 0},S,{onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,ref:y}))),_(O,{error:n}))};return t}(a.PureComponent)
;S.displayName="TextInput";S.Sizes=E;S.defaultProps={name:"",size:E.DEFAULT,disabled:!1,type:"text",placeholder:"",autoFocus:!1,maxLength:999};var I=S;t.default=I},288800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=v(n(550270)),u=v(n(956117)),l=v(n(530250)),s=v(n(463922)),d=n(770348),c=v(n(247001)),f=v(n(959665)),p=v(n(380203));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;null==n||n(e)};return t}var n=t.prototype;n.renderFields=function(){var e=this,t=this.props,n=t.type,r=t.captchaKey,a=t.theme,o=t.onCaptchaVerify
;return n===d.VerificationTypes.CAPTCHA?h(s.default,{onVerify:o,theme:a},r):h(u.default,{onClick:function(){return e.handleClick(n)}},void 0,c.default.Messages.START_VERIFICATION_BUTTON)};n.render=function(){return h(l.default,{className:f.default.verification,align:l.default.Align.CENTER,direction:l.default.Direction.VERTICAL},void 0,h(l.default,{className:f.default.container,direction:l.default.Direction.VERTICAL,align:l.default.Align.CENTER,justify:l.default.Justify.CENTER},void 0,h("div",{className:f.default.image}),h("div",{className:(0,o.default)(f.default.title,p.default.marginTop20)},void 0,c.default.Messages.VERIFICATION_TITLE),h("div",{className:(0,o.default)(f.default.body,p.default.marginTop4,p.default.marginBottom20)},void 0,c.default.Messages.VERIFICATION_BODY.format()),h(l.default,{grow:0,justify:l.default.Justify.CENTER},void 0,this.renderFields())),h("div",{className:(0,o.default)(f.default.footer,p.default.marginTop20)
},void 0,c.default.Messages.VERIFICATION_FOOTER),h(l.default,{className:(0,o.default)(p.default.marginTop4,p.default.marginBottom20),grow:0},void 0,h("div",{className:(0,o.default)(f.default.footer,f.default.footerAction)},void 0,c.default.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:i.default.getSubmitRequestURL()})),h("div",{className:(0,o.default)(f.default.footer,f.default.footerBullet)},void 0,"â€¢"),h("div",{className:(0,o.default)(f.default.footer,f.default.footerAction)},void 0,c.default.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout}))))};return t}(a.PureComponent);m.displayName="Verification";m.defaultProps={type:d.VerificationTypes.CAPTCHA,onCaptchaVerify:d.NOOP,onLogout:d.NOOP};var g=m;t.default=g},974286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.BackgroundTransition=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=p(n(294184)),u=p(n(74854)),l=n(91817),s=p(n(550024)),d=p(n(530250)),c=n(770348),f=p(n(913127));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var m=((r={})[c.ChannelLayouts.NORMAL]=f.default.normal,r[c.ChannelLayouts.MINIMUM]=f.default.minimum,r[c.ChannelLayouts.NO_CHAT]=f.default.noChat,r[c.ChannelLayouts.FULL_SCREEN]=f.default.fullScreen,r),g=function(e){h(t,e);function t(t){var n;(n=e.call(this,t)||this).state={animation:new u.default.Value(0)};return n}var n=t.prototype;n.componentDidAppear=function(){this.state.animation.setValue(1)};n.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0);u.default.spring(t,{toValue:1,overshootClamping:!0}).start(e)};n.componentWillLeave=function(e){u.default.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)};n.render=function(){return y(u.default.div,{className:f.default.videoBackgroundTransition,style:{
opacity:this.state.animation}},void 0,this.props.children)};return t}(o.PureComponent);t.BackgroundTransition=g;g.displayName="BackgroundTransition";var E=function(e){h(t,e);function t(t){var n;(n=e.call(this,t)||this)._timeout=new l.Timeout;n.handleMouseEvent=function(){var e=n.props.layout;if(e===c.ChannelLayouts.FULL_SCREEN||e===c.ChannelLayouts.NO_CHAT){n._timeout.start(3e3,(function(){return n.setState({idle:!0})}));n.state.idle&&n.setState({idle:!1})}};n.state={idle:!1,backgroundAnimation:new u.default.Value(0),layoutProp:t.layout};return n}var n=t.prototype;n.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0);document.addEventListener("mousemove",this.handleMouseEvent,!0)};n.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0);document.removeEventListener("mousemove",this.handleMouseEvent,!0);this._timeout.stop()};t.getDerivedStateFromProps=function(e,t){
return e.layout!==t.layoutProp?t.idle?{idle:!1,layoutProp:e.layout}:{layoutProp:e.layout}:null};n.componentDidUpdate=function(e){this.props.layout!==e.layout&&this._timeout.stop()};n.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,r=e.layout+"-"+(n||"");return y(s.default,{className:f.default.videoBackground,component:"div"},void 0,y(g,{},r,t))};n.renderContents=function(){var e,t,n=this.props,r=n.top,a=n.center,o=n.bottom,u=n.layout,l=n.focused,s=this.state.idle;return y(d.default,{className:(0,i.default)(f.default.video,m[u],(e={},e[f.default.idle]=s,e)),direction:d.default.Direction.VERTICAL,justify:d.default.Justify.CENTER},void 0,y(d.default,{className:f.default.videoWrapper,direction:d.default.Direction.VERTICAL},void 0,this.renderBackground(),y(d.default,{className:(0,i.default)(f.default.videoInner,(t={},t[f.default.focused]=l,t)),direction:d.default.Direction.VERTICAL,justify:d.default.Justify.BETWEEN},void 0,y(d.default,{
className:f.default.videoTop,grow:0},void 0,r),y(d.default,{className:f.default.videoCenter},void 0,a),y(d.default,{className:f.default.videoBottom,grow:0},void 0,o))))};n.render=function(){var e,t=this.props,n=t.layout,r=t.className,a=t.animated;return y("div",{className:(0,i.default)(f.default.videoHeight,m[n],r,(e={},e[f.default.animated]=a,e))},void 0,this.renderContents())};return t}(o.PureComponent);E.displayName="Video";E.defaultProps={layout:c.ChannelLayouts.MINIMUM,animated:!0};var O=E;t.default=O},275189:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(125478)),i=f(n(492626)),u=f(n(530250)),l=f(n(628551)),s=n(770348),d=f(n(114957)),c=["style","src","backgroundSrc","pulseSpeakingIndicator","speaking"];function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e){var t=e.style,n=e.src,r=e.backgroundSrc,f=e.pulseSpeakingIndicator,p=void 0!==f&&f,h=e.speaking,_=void 0!==h&&h,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c),g=null!=r?r:n,E=(0,o.default)(g,s.Colors.PRIMARY_DARK_800);if(null==n)return null;var O=a.createElement(l.default,y({className:d.default.avatarWrapper,src:n},m));return v(u.default,{style:y({},t,{backgroundColor:E}),className:d.default.background,justify:u.default.Justify.CENTER,align:u.default.Align.CENTER},void 0,p?v(i.default,{shouldAnimate:_},void 0,O):O)}h.displayName="VideoBackground";h.AvatarSizes=l.default.Sizes;var _=h;t.default=_},838696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(864345)),u=d(n(974661)),l=d(n(808988)),s=d(n(550542));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=16/9;function y(e,t){return Math.floor((t-e)/(8+e))+1}function h(e,t,n){for(var r=t-e;r>0;){var a=e,o=Math.floor(r/2);if(n(a+=o)){e=a+1;r-=o+1}else r=o}return e}function _(e,t,n){var r,a=Math.floor(t/25),o=t;if(e>25)r=h(a,o,(function(e){var r=y(e,t),a=function(e,t){var n=e/v;return Math.ceil((t-n)/(8+n))+1}(e,n);return r*a>25}));else{r=h(a,o,(function(r){var a=y(r,t),o=function(e,t){var n=e/v;return Math.floor((t-n)/(8+n))+1}(r,n);return a*o>=e}));r-=1}var i=y(r,t),u=function(e,t){return Math.ceil(t/e)}(i,e);return{tileWidth:r,columns:Math.max(1,i),rows:u}}var m=(0,i.default)((function(e){
var t,n=e.width,r=e.height,i=e.className,d=e.children,c=e.keyExtractor,f=e.paddingTop,y=void 0===f?0:f,h=e.paddingBottom,m=void 0===h?0:h,g=null!==(t=null==d?void 0:d.length)&&void 0!==t?t:0,E=n-16,O=r-(y+m),S=a.useMemo((function(){return function(e,t,n){var r=_(e,t,n),a=r.rows,o=r.columns,i=r.tileWidth;return{tileStyle:{width:i},tileWidth:i,rows:a,columns:o}}(g,E,O)}),[g,E,O]),I=S.tileStyle,b=S.tileWidth,C=S.rows,T=S.columns,P=T+1,A=P*b+8*(P-1)<=n,M=Math.floor(b/v)+8,N=Math.max(0,O-M*C)/2;return p(l.default,{fade:!0,className:i,listPadding:[y+N,0,m+N-8,8],renderRow:function(e){var t,n=e*T;return p("div",{className:s.default.row},e,null==d||null===(t=d.slice(n,n+T))||void 0===t?void 0:t.map((function(e,t){var r,a,i=n+t;return p("div",{style:I,className:(0,o.default)(s.default.tile,(a={},a[s.default.padColumn]=A,a[s.default.noVerticalMargin]=i>=(C-1)*T,a[s.default.noHorizontalMargin]=(i+1)%T==0||i===g-1,a))},null!==(r=null==c?void 0:c(i))&&void 0!==r?r:i,p(u.default,{
className:s.default.tileSizer,aspectRatio:v},void 0,e(b)))})))},rowCount:C,rowCountBySection:[C],rowHeight:M})})),g=a.forwardRef((function(e,t){return a.createElement(m,f({ref:t},e))}));t.default=g},971146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.VideoStreamFit=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=c(n(294184)),u=n(773336),l=c(n(974661)),s=c(n(80828)),d=c(n(2329));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}t.VideoStreamFit=a;!function(e){e.CONTAIN="contain";e.COVER="cover"}(a||(t.VideoStreamFit=a={}));var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleReady=function(){n.state.loading&&n.setState({loading:!1})};n.state={loading:!0};return n}var n=t.prototype;n.renderPlaceholder=function(){
var e=this.props.streamPreviewURL,t=null!=e?p("img",{src:e,alt:"",className:d.default.previewImage}):p(l.default,{aspectRatio:16/9,className:d.default.emptyPreviewWrapper},void 0,p("div",{className:d.default.emptyPreview}));return p(o.Fragment,{},void 0,t,p(s.default,{className:d.default.spinner}))};n.render=function(){var e,t,n=this.props,r=n.streamId,a=n.onResize,o=n.wrapperClassName,l=n.videoComponent,s=n.className,c=n.fit,f=n.mirror,v=n.paused,y=this.state.loading;return p("div",{className:(0,i.default)(d.default.wrapper,o)},void 0,null!=r&&p(l,{className:(0,i.default)(d.default.video,(0,u.getClass)(d.default,"video",c),(e={},e[d.default.mirror]=f,e),s),streamId:r,onResize:a,onReady:this.handleReady,paused:v}),v?null:p("div",{className:(0,i.default)(d.default.previewWrapper,(t={},t[d.default.loading]=y,t))},void 0,y&&this.renderPlaceholder()))};return t}(o.PureComponent);y.displayName="VideoStream";y.Fit=a;y.defaultProps={fit:a.CONTAIN,mirror:!1,paused:!1};var h=y;t.default=h},
510596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(667294)),o=l(n(662197)),i=["children","disabled","className","titleClassName","tag","required","style","title","error"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var c=function(e){var t=e.children,n=e.disabled,r=void 0!==n&&n,u=e.className,l=e.titleClassName,c=e.tag,f=void 0===c?o.Tags.H5:c,p=e.required,v=void 0!==p&&p,y=e.style,h=e.title,_=e.error,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,i);return s("div",{className:null!=u?u:void 0,style:null!=y?y:void 0},void 0,null!=h||null!=_?a.createElement(o.default,d({tag:f,disabled:r,required:v,error:_,className:l},m),h):null,t)};c.displayName="FormItem"
;c.Tags=o.Tags;var f=c;t.default=f},811198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground","background"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=e.background,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:f,fill:c,d:"M21.178 1.70703L22.592 3.12103L4.12103 21.593L2.70703 20.178L21.178 1.70703Z"}),d("path",{className:p,fill:c,
d:"M18 10.5283L10.5287 18H21V17C19.344 17 18 15.657 18 14V10.5283Z"}),d("path",{className:p,fill:c,d:"M8.957 19.5718L9.52877 19H15.4449C14.7519 20.19 13.4759 21 11.9999 21C10.7748 21 9.68752 20.442 8.957 19.5718Z"}),d("path",{className:p,fill:c,d:"M12 3C13.417 3 14.71 3.5 15.734 4.321L5.99805 14.058C5.99805 14.0479 5.99856 14.038 5.99907 14.0283C5.99956 14.0188 6.00005 14.0094 6.00005 14V9C6.00005 5.686 8.68605 3 12 3Z"}))}c.displayName="BellOff"},337322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=d("clipPath",{},void 0,d("path",{d:"m.000183 0h16v16h-16z"}));function f(e){
var t=e.width,n=void 0===t?32:t,r=e.height,a=void 0===r?32:r,l=e.color,f=void 0===l?"currentColor":l,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 16 16",fill:"none"}),c,d("g",{clipPath:"url(#a)"},void 0,d("path",{d:"m7.90039 1c-3.9 0-6.999999 3.1-6.999999 7s3.099999 7 6.999999 7c3.90001 0 7.00001-3.1 7.00001-7s-3.2-7-7.00001-7zm0 2.3c.8 0 1.6.3 2.30001.7l-6.40001 6.4c-.3-.7-.6-1.5-.6-2.4 0-2.6 2.1-4.7 4.7-4.7zm0 9.4c-.9 0-1.7-.3-2.4-.7l6.40001-6.4c.4.7.7 1.5.7 2.4-.1 2.6-2.2 4.7-4.70001 4.7z",fill:f})))}f.displayName="Blocked"},989983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e){return"CloudDone-"+e}var p=d("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,h=e.gradientConfig,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),m=null;null!=h&&(m=a.createElement(o.default,c({},h,{color:v,id:f(h.id)})));return a.createElement("svg",c({},(0,i.default)(_),{width:n,height:l,viewBox:"0 0 24 24"}),d("defs",{},void 0,m),p,d("path",{fill:null!=h?"url(#"+f(h.id)+")":v,className:y,
d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"}))}v.displayName="CloudDone"},635114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e){return"CloudDownload-"+e}var p=d("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,h=e.gradientConfig,_=function(e,t){if(null==e)return{}
;var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),m=null;null!=h&&(m=a.createElement(o.default,c({},h,{color:v,id:f(h.id)})));return a.createElement("svg",c({},(0,i.default)(_),{width:n,height:l,viewBox:"0 0 24 24"}),d("defs",{},void 0,m),p,d("path",{fill:null!=h?"url(#"+f(h.id)+")":v,className:y,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}))}v.displayName="CloudDownload"},809898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e){return"CloudUpload-"+e}var p=d("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,h=e.gradientConfig,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),m=null;null!=h&&(m=a.createElement(o.default,c({},h,{color:v,id:f(h.id)})));return a.createElement("svg",c({},(0,i.default)(_),{width:n,height:l,viewBox:"0 0 24 24"}),d("defs",{},void 0,m),p,d("path",{fill:null!=h?"url(#"+f(h.id)+")":v,className:y,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}))}v.displayName="CloudUpload"},688599:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","strokeWidth","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.strokeWidth,p=void 0===f?"1.5":f,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(y),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("path",{className:v,stroke:c,strokeWidth:p,strokeLinecap:"round",strokeLinejoin:"round",
d:"M4.25892 16.5936C3.14073 14.7086 2.74913 12.4802 3.15765 10.3269C3.56618 8.17362 4.74672 6.24353 6.47761 4.89906C8.2085 3.55459 10.3707 2.88823 12.5581 3.02511C14.7455 3.16199 16.8077 4.0927 18.3575 5.64247C19.9073 7.19223 20.838 9.25445 20.9749 11.4419C21.1118 13.6293 20.4454 15.7915 19.101 17.5224C17.7565 19.2532 15.8264 20.4338 13.6731 20.8423C11.5198 21.2509 9.29146 20.8593 7.40646 19.7411L7.40648 19.741L4.29805 20.6291C4.16944 20.6659 4.03335 20.6676 3.90387 20.634C3.7744 20.6005 3.65625 20.5329 3.56167 20.4383C3.4671 20.3437 3.39953 20.2256 3.36598 20.0961C3.33243 19.9666 3.33412 19.8306 3.37086 19.7019L4.25898 16.5935L4.25892 16.5936Z"}))}c.displayName="CreateForumPostIcon"},429130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["color","height","width"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.color,n=e.height,r=void 0===n?24:n,a=e.width,l=void 0===a?24:a,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:l,height:r,viewBox:"0 0 24 24"}),d("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2929 9.8299L19.9409 9.18278C21.353 7.77064 21.353 5.47197 19.9409 4.05892C18.5287 2.64678 16.2292 2.64678 14.817 4.05892L14.1699 4.70694L19.2929 9.8299ZM12.8962 5.97688L5.18469 13.6906L10.3085 18.813L18.0201 11.0992L12.8962 5.97688ZM4.11851 20.9704L8.75906 19.8112L4.18692 15.239L3.02678 19.8796C2.95028 20.1856 3.04028 20.5105 3.26349 20.7337C3.48669 20.9569 3.8116 21.046 4.11851 20.9704Z",fill:t}))}c.displayName="EditPencilIcon"},877622:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=d("rect",{width:"16",height:"16"});function f(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,f=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,width:n,height:a,viewBox:"0 0 16 16"},(0,i.default)(y)),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:v,fill:f,
d:"M0,1.99406028 C0,0.892771196 0.894513756,0 1.99406028,0 L14.0059397,0 C15.1072288,0 16,0.894513756 16,1.99406028 L16,14.0059397 C16,15.1072288 15.1054862,16 14.0059397,16 L1.99406028,16 C0.892771196,16 0,15.1054862 0,14.0059397 L0,1.99406028 Z M8.23182341,16 L10.3991764,16 L10.3991764,9.93141161 L12.5663127,9.93141161 L13,7.76405862 L10.3991764,7.76405862 L10.3246195,6.3468265 C10.3246195,5.66107601 10.5049432,5.17342158 11.4698488,5.17342158 L12.974642,5.17385505 L12.974642,3.12202197 C12.7618079,3.09319618 12.3142495,3 11.4644304,3 C9.69001851,3 8.18500859,4.20353112 8.18500859,6.23043964 L8.23182341,7.76405862 L6.06425368,7.76405862 L6.06425368,9.93141161 L8.23182341,9.93141161 L8.23182341,16 Z"}),c))}f.displayName="Facebook"},155084:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?22:t,r=e.height,a=void 0===r?20:r,l=e.color,c=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 22 20"}),d("path",{d:"M19.0013 3.27074L16.8648 1.13516L18 0L22 4L18 8L16.8648 6.86484L19.0013 4.72926H14V3.27074H19.0013Z",fill:c}),d("path",{d:"M13.9829 8.45686C14.4834 8.90823 15.0602 9.2765 15.6918 9.53993C15.1979 10.7194 14.1545 11.6141 12.8834 11.9017C12.8022 11.8683 12.7203 11.8358 12.6378 11.8042C13.3982 10.8786 13.8873 9.72194 13.9829 8.45686Z",fill:c}),d("path",{
d:"M12 8C12 10.205 10.206 12 8 12C5.795 12 4 10.205 4 8C4 5.795 5.794 4 8 4C10.206 4 12 5.795 12 8Z",fill:c}),d("path",{d:"M0 19C0 15.467 3.29 13 8 13C12.711 13 16 15.467 16 19V20H0V19Z",fill:c}),d("path",{d:"M20.0001 20H18.0001V19C18.0001 16.7999 17.0621 14.9067 15.5213 13.5292C18.2697 14.4355 20.0001 16.4373 20.0001 19V20Z",fill:c}))}c.displayName="GoToAudience"},622193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r)}(n(667294));function a(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i=function(e){var t=e.id,n=e.startColor,r=e.stopColor,a=e.color,i=e.stop;return o("linearGradient",{id:t},void 0,o("stop",{offset:"0",stopColor:n}),o("stop",{offset:i,stopColor:r}),o("stop",{offset:i,stopColor:a}),o("stop",{offset:"1",stopColor:a}))};i.displayName="Gradient";var u=i;t.default=u},852546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("rect",{className:f,x:"4",y:"4",width:"7",height:"7",rx:"1",fill:c}),d("rect",{className:f,x:"4",y:"13",width:"7",height:"7",rx:"1",fill:c}),d("rect",{className:f,x:"13",y:"4",width:"7",height:"7",rx:"1",fill:c}),d("rect",{className:f,x:"13",y:"13",width:"7",height:"7",rx:"1",fill:c}))}c.displayName="Grid"},670427:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("rect",{className:f,x:"3",y:"3",width:"18",height:"10",rx:"1",fill:c}),d("rect",{className:f,x:"3",y:"15",width:"8",height:"6",rx:"1",fill:c}),d("rect",{className:f,x:"13",y:"15",width:"8",height:"6",rx:"1",fill:c
}))}c.displayName="HorizontalVideoLayout"},129321:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("path",{fillRule:"evenodd",clipRule:"evenodd",className:f,
d:"M13.2899 2H6C3.79086 2 2 3.79086 2 6V18C2 20.2091 3.79086 22 6 22H18C20.2091 22 22 20.2091 22 18V10.7101C21.3663 10.8987 20.695 11 20 11C16.134 11 13 7.86599 13 4C13 3.30503 13.1013 2.63371 13.2899 2ZM8 6C9.1032 6 10 6.8952 10 8C10 9.1056 9.1032 10 8 10C6.8944 10 6 9.1056 6 8C6 6.8952 6.8944 6 8 6ZM6 18L9 14L11 16L15 11L18 18H6Z",fill:c}),d("path",{d:"M21 0V3H24V5H21V8H19V5H16V3H19V0H21Z",fill:c}))}c.displayName="ImagePlaceholderWithPlusIcon"},908306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{}
;var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2899 2L6 2C3.79086 2 2 3.79086 2 6V18C2 20.2091 3.79086 22 6 22H18C20.2091 22 22 20.2091 22 18V10.7101C21.3663 10.8987 20.695 11 20 11C16.134 11 13 7.86599 13 4C13 3.30503 13.1013 2.63371 13.2899 2ZM8 6C9.1032 6 10 6.8952 10 8C10 9.1056 9.1032 10 8 10C6.8944 10 6 9.1056 6 8C6 6.8952 6.8944 6 8 6ZM6 18L9 14L11 16L15 11L18 18H6Z",fill:c}),d("path",{d:"M21 0V3H24V5H21V8H19V5H16V3H19V0H21Z",fill:c}))}c.displayName="ImageUpload"},170331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=d("rect",{width:"16",height:"16"});function f(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,f=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,xmlns:"http://www.w3.org/2000/svg",width:n,height:a,viewBox:"0 0 16 16"},(0,i.default)(y)),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:v,fill:f,
d:"M4.70012698,0.0531746 C3.84888888,0.092 3.2675238,0.22720635 2.7588254,0.42492063 C2.23292063,0.62926983 1.78692063,0.90273016 1.3422857,1.34733333 C0.89768254,1.79196825 0.62422222,2.23796825 0.41987302,2.76387303 C0.22215872,3.27257143 0.08695238,3.85393651 0.04812698,4.7051746 C0.00920635,5.55819048 0,5.83053968 0,8.00253968 C0,10.1745079 0.00920635,10.4468571 0.04812698,11.299873 C0.08695238,12.1511111 0.22215873,12.7324762 0.41987302,13.2411746 C0.62422222,13.7670794 0.89768254,14.2130794 1.34228572,14.6577143 C1.78692062,15.1023175 2.23292062,15.3757778 2.7588254,15.5801587 C3.2675238,15.7778413 3.8488889,15.9130476 4.70012698,15.951873 C5.55314286,15.9907937 5.82549206,16 7.99749206,16 C10.1694603,16 10.4418095,15.9907937 11.2948254,15.951873 C12.1460635,15.9130476 12.7274286,15.7778413 13.236127,15.5801587 C13.7620317,15.3757778 14.2080317,15.1023175 14.6526667,14.6577143 C15.0972698,14.2130794 15.3707302,13.7670794 15.5751111,13.2411746 C15.7727937,12.7324762 15.908,12.1511111 15.9468254,11.299873 C15.985746,10.4468571 15.9949524,10.1745079 15.9949524,8.00253968 C15.9949524,5.83053968 15.985746,5.55819048 15.9468254,4.7051746 C15.908,3.8539365 15.7727937,3.27257143 15.5751111,2.76387302 C15.3707302,2.23796825 15.0972698,1.79196825 14.6526667,1.34733332 C14.2080317,0.90273016 13.7620317,0.62926984 13.236127,0.42492064 C12.7274286,0.22720634 12.1460635,0.092 11.2948254,0.0531746 C10.4418095,0.01425397 10.1694603,0.00504762 7.99749206,0.00504762 C5.82549206,0.00504762 5.55314286,0.01425397 4.70012698,0.0531746 L4.70012698,0.0531746 Z M8.00001453,2.00504762 C9.95416635,2.00504762 10.185649,2.01251386 10.9573741,2.04772432 C11.6709381,2.08026206 12.0584565,2.19948958 12.3163471,2.29971739 C12.6579641,2.43248289 12.9017646,2.59107525 13.157854,2.84719363 C13.4139723,3.10328295 13.5725647,3.34708347 13.7053302,3.68870053 C13.805558,3.94659105 13.9247856,4.33410953 13.9573233,5.04767346 C13.9925338,5.8193986 14,6.05088127 14,8.00506213 C14,9.95921396 13.9925338,10.1906966 13.9573233,10.9624217 C13.9247856,11.6759857 13.805558,12.0635042 13.7053302,12.3213947 C13.5725647,12.6630117 13.4139723,12.9068123 13.157854,13.1629016 C12.9017646,13.41902 12.6579641,13.5776123 12.3163471,13.7103779 C12.0584565,13.8106057 11.6709381,13.9298332 10.9573741,13.9623709 C10.1857652,13.9975814 9.9543116,14.0050476 8.00001453,14.0050476 C6.04568839,14.0050476 5.81426383,13.9975814 5.04262587,13.9623709 C4.32906195,13.9298332 3.94154347,13.8106057 3.68365294,13.7103779 C3.34203588,13.5776123 3.09823536,13.41902 2.84214604,13.1629016 C2.58605671,12.9068123 2.42743531,12.6630117 2.29466977,12.3213947 C2.19444197,12.0635042 2.07521444,11.6759857 2.04267671,10.9624217 C2.00746628,10.1906966 2,9.95921395 2,8.00506212 C2,6.05088125 2.00746625,5.81939858 2.0426767,5.04767347 C2.07521444,4.33410953 2.19444196,3.94659104 2.29466977,3.68870052 C2.42743531,3.34708346 2.58602767,3.10328294 2.84214604,2.84719362 C3.09823536,2.59107524 3.34203588,2.43248288 3.68365294,2.29971735 C3.94154346,2.19948953 4.32906194,2.08026201 5.04262587,2.04772428 C5.81435097,2.01251381 6.04583365,2.00504758 8.00001453,2.00504758 L8.00001453,2.00504762 Z"
}),d("path",{className:v,fill:f,d:"M8.0000119,10 C6.89542535,10 6,9.10457466 6,8.0000119 C6,6.89542535 6.89542534,6 8.0000119,6 C9.10457467,6 10,6.89542534 10,8.0000119 C10,9.10457467 9.10457466,10 8.0000119,10 L8.0000119,10 Z M8.00001546,4 C5.7908468,4 4,5.7908468 4,8.00001546 C4,10.2091532 5.7908468,12 8.00001546,12 C10.2091532,12 12,10.2091532 12,8.00001546 C12,5.7908468 10.2091532,4 8.00001546,4 L8.00001546,4 Z M13,4.00001654 C13,4.55230644 12.5522734,5 11.9999835,5 C11.4477266,5 11,4.55230645 11,4.00001654 C11,3.44772664 11.4477266,3 11.9999835,3 C12.5522734,3 13,3.44772663 13,4.00001654 L13,4.00001654 Z"}),c))}f.displayName="Instagram"},434663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:f,fill:c,d:"M18 2H7C5.897 2 5 2.898 5 4V11H12.59L10.293 8.708L11.706 7.292L16.414 11.991L11.708 16.706L10.292 15.294L12.582 13H5V20C5 21.103 5.897 22 7 22H18C19.103 22 20 21.103 20 20V4C20 2.898 19.103 2 18 2Z"}))}c.displayName="Logout"},814379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:f,fill:c,d:"M16,8V3H14V8a2,2,0,0,0,2,2h5V8Z"}),d("path",{className:f,fill:c,d:"M14,16v5h2V16h5V14H16A2,2,0,0,0,14,16Z"}),d("path",{className:f,fill:c,d:"M8,8H3v2H8a2,2,0,0,0,2-2V3H8Z"}),d("path",{className:f,fill:c,d:"M8,14H3v2H8v5h2V16A2,2,0,0,0,8,14Z"}))}c.displayName="MinimizeScreen"},833837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 24 24"}),d("g",{clipPath:"url(#clip0)"},void 0,d("path",{d:"M18.8648 1.13516L21.0013 3.27074H16V4.72926H21.0013L18.8648 6.86484L20 8L24 4L20 0L18.8648 1.13516Z",fill:c}),d("path",{d:"M12 2C12.4342 2 12.8466 2.0917 13.2188 2.25683C13.0759 2.81411 13 3.39819 13 4C13 5.90397 13.7601 7.6304 14.9935 8.89235L14.99 11C14.99 12.66 13.66 14 12 14C10.34 14 9 12.66 9 11V5C9 3.34 10.34 2 12 2Z",fill:c}),d("path",{
d:"M12 16.1C14.76 16.1 17.3 14 17.3 11H19C19 14.42 16.28 17.24 13 17.72V22H11V17.72C7.72 17.23 5 14.41 5 11H6.7C6.7 14 9.24 16.1 12 16.1Z",fill:c})),d("defs",{},void 0,d("clipPath",{id:"clip0"},void 0,d("rect",{width:"24",height:"24",fill:c}))))}c.displayName="MoveToSpeaker"},26285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}),d("path",{className:f,d:"M10.889 4C10.889 3.44772 11.3367 3 11.889 3H12.1112C12.6635 3 13.1112 3.44772 13.1112 4V20C13.1112 20.5523 12.6635 21 12.1112 21H11.889C11.3367 21 10.889 20.5523 10.889 20V4Z",fill:c}),d("path",{className:f,d:"M6.44439 6.25C6.44439 5.69772 6.89211 5.25 7.44439 5.25H7.66661C8.2189 5.25 8.66661 5.69772 8.66661 6.25V17.75C8.66661 18.3023 8.2189 18.75 7.66661 18.75H7.44439C6.89211 18.75 6.44439 18.3023 6.44439 17.75V6.25Z",fill:c}),d("path",{className:f,d:"M3.22222 15.375C3.77451 15.375 4.22222 14.9273 4.22222 14.375L4.22222 9.625C4.22222 9.07272 3.77451 8.625 3.22222 8.625H3C2.44772 8.625 2 9.07272 2 9.625V14.375C2 14.9273 2.44772 15.375 3 15.375H3.22222Z",fill:c}),d("path",{className:f,
d:"M22.0001 13.25C22.0001 13.8023 21.5523 14.25 21.0001 14.25H20.7778C20.2255 14.25 19.7778 13.8023 19.7778 13.25V10.75C19.7778 10.1977 20.2255 9.75 20.7778 9.75H21.0001C21.5523 9.75 22.0001 10.1977 22.0001 10.75V13.25Z",fill:c}),d("path",{className:f,d:"M16.3333 7.5C15.781 7.5 15.3333 7.94772 15.3333 8.5V15.5C15.3333 16.0523 15.781 16.5 16.3333 16.5H16.5555C17.1078 16.5 17.5555 16.0523 17.5555 15.5V8.5C17.5555 7.94772 17.1078 7.5 16.5555 7.5H16.3333Z",fill:c}))}c.displayName="NoiseCancellationActive"},400217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),d("path",{d:"M30.6666 24.9644L35.1111 20.5199V31C35.1111 32.1046 34.2156 33 33.1111 33H32.6666C31.562 33 30.6666 32.1046 30.6666 31V24.9644Z",fill:c}),d("path",{d:"M26.2224 14.1463V8C26.2224 6.89543 25.327 6 24.2224 6H23.7779C22.6734 6 21.7779 6.89543 21.7779 8V18.5907L26.2224 14.1463Z",fill:c}),d("path",{d:"M21.7779 33.8543L21.9254 33.7056L26.2224 29.4086V40C26.2224 41.1046 25.327 42 24.2224 42H23.7779C22.6734 42 21.7779 41.1046 21.7779 40V33.8543Z",fill:c}),d("path",{
d:"M17.3332 23.0354L12.8888 27.4799V12.5C12.8888 11.3954 13.7842 10.5 14.8888 10.5H15.3332C16.4378 10.5 17.3332 11.3954 17.3332 12.5V23.0354Z",fill:c}),d("path",{d:"M8.44445 28.75C8.44445 29.8546 7.54902 30.75 6.44445 30.75H6C4.89543 30.75 4 29.8546 4 28.75V19.25C4 18.1454 4.89543 17.25 6 17.25H6.44445C7.54902 17.25 8.44445 18.1454 8.44445 19.25L8.44445 28.75Z",fill:c}),d("path",{d:"M44.0001 26.5C44.0001 27.6046 43.1047 28.5 42.0001 28.5H41.5557C40.4511 28.5 39.5557 27.6046 39.5557 26.5V21.5C39.5557 20.3954 40.4511 19.5 41.5557 19.5H42.0001C43.1047 19.5 44.0001 20.3954 44.0001 21.5V26.5Z",fill:c}),d("path",{d:"M42 8.54L39.46 6L6 39.46L8.54 42L16.92 33.64L19.38 31.16L22.7 27.84L29.98 20.56L42 8.54Z",fill:c,className:f}))}c.displayName="NoiseCancellationDisabled"},330998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=d("rect",{x:"2",y:"20",width:"26",height:"2",transform:"rotate(-45 2 20)",fill:"#ed4245"});function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,p=e.foreground,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{width:n,height:a,viewBox:"0 0 24 24"}),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:p,fill:f,
d:"M8.67872 19H11V21H7V23H17V21H13V19H20C21.103 19 22 18.104 22 17V6C22 5.89841 21.9924 5.79857 21.9777 5.70101L20 7.67872V15H12.6787L8.67872 19ZM13.1496 6H4V15H4.14961L2.00515 17.1445C2.00174 17.0967 2 17.0486 2 17V6C2 4.897 2.897 4 4 4H15.1496L13.1496 6Z"}),c))}f.displayName="OverlayOff"},523356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:f,fill:c,fillRule:"evenodd",clipRule:"evenodd",d:"M20.2949 0.298996L21.7089 1.713L19.4169 4.006L21.7089 6.299L20.2949 7.713L18.0019 5.42L15.7099 7.713L14.2949 6.299L16.5879 4.006L14.2949 1.713L15.7099 0.298996L18.0019 2.592L20.2949 0.298996ZM8.00195 13.006C10.207 13.006 12.002 11.211 12.002 9.006C12.002 6.801 10.207 5.006 8.00195 5.006C5.79695 5.006 4.00195 6.801 4.00195 9.006C4.00195 11.211 5.79695 13.006 8.00195 13.006ZM8.00195 14.006C3.29095 14.006 0.00195312 16.473 0.00195312 20.006V21.006H16.002V20.006C16.002 16.473 12.713 14.006 8.00195 14.006Z"}))}c.displayName="PersonRemove"},303213:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 60 60"}),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:f,fill:c,
d:"M8.95185131,8.62650012 L8.92775494,8.65059649 C3.20486729,14.2891468 -0.0119979765,21.9758886 5.02080018e-05,29.9999795 C-0.0119979765,36.56624 2.14462705,42.9517778 6.13257613,48.1686417 C6.16872068,48.2168345 6.24100979,48.252979 6.28920253,48.2168345 C6.33739527,48.1806899 6.34944345,48.120449 6.32534708,48.0602081 C4.03619202,40.9879237 15.722931,23.8433572 21.7711196,16.6626392 C21.795216,16.6385428 21.8193124,16.6144465 21.8193124,16.5783019 C21.8193124,16.5421573 21.795216,16.5060128 21.7590715,16.4819164 C11.6024519,6.37348961 8.8795622,8.68674104 8.92775494,8.65059649 M51.048208,8.62650012 L51.0723044,8.65059649 C56.795192,14.2770987 60.0000091,21.9758886 59.9879609,29.9999795 C60.0000091,36.56624 57.8433841,42.9517778 53.855435,48.1686417 C53.8192905,48.2168345 53.7470014,48.252979 53.6988086,48.2168345 C53.6506159,48.1806899 53.6506159,48.120449 53.6626641,48.0602081 C55.9518191,40.9879237 44.2650801,23.831309 38.2289397,16.650591 C38.2048433,16.6264946 38.180747,16.6023983 38.180747,16.5662537 C38.180747,16.518061 38.2048433,16.4939646 38.2409879,16.4698682 C48.4096556,6.36144143 51.0964008,8.68674104 51.0602562,8.65059649 M30.0000297,0 C36.0482183,0 41.0361667,1.66264946 45.626525,4.38553917 C45.6867659,4.40963554 45.6988141,4.48192464 45.6747177,4.53011738 C45.6506214,4.57831012 45.5903804,4.5903583 45.5301395,4.57831012 C39.7229146,3.32529893 30.8915953,8.33734369 30.0602706,8.84336744 C30.0361742,8.85541562 30.024126,8.86746381 30.0000297,8.86746381 C29.9759333,8.86746381 29.9518369,8.85541562 29.9397887,8.84336744 C27.7229228,7.56625988 19.5663019,3.28915437 14.4217271,4.61445467 C14.3614862,4.62650286 14.3012452,4.61445467 14.2771489,4.56626193 C14.2530525,4.50602101 14.2771489,4.44578009 14.3253416,4.42168372 C18.9156999,1.66264946 23.9638892,0 30.0000297,0 M30.0000297,24.0602245 C30.0361742,24.0602245 30.0723188,24.0843209 30.0964151,24.1084172 C39.0723126,30.9397379 54.4337479,47.8071962 49.7470041,52.5782773 L49.7590523,52.5662291 L49.7590523,52.5782773 L49.7470041,52.5782773 C44.2771283,57.3734547 37.2650849,60.0120071 30.0000297,59.9999589 C22.7349744,60.0120071 15.7108828,57.3734547 10.2530552,52.5782773 L10.2410071,52.5662291 L10.2530552,52.5782773 C5.56631146,47.8071962 20.9277467,30.9276897 29.9036442,24.1084172 C29.9156924,24.0843209 29.9638851,24.0602245 30.0000297,24.0602245"
})))}c.displayName="PlatformXbox"},311591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:f,fill:c,d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H19C18.47 16.11 15.72 19.78 12 20.93V12H5V6.3L12 3.19V11.99Z"}))
}c.displayName="PrivacyAndSafety"},924671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}
function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{
d:"M21.03 7.76998C20.955 7.60998 20.81 7.48998 20.635 7.44498C20.545 7.41998 20.445 7.39498 20.35 7.36998C19.805 7.22998 19.135 7.56498 18.85 8.11498L17.87 9.99998C17.585 10.55 17.225 10.51 17.07 9.90998L14.895 1.38498C14.74 0.779981 14.14 0.459981 13.55 0.664981C12.96 0.869981 12.595 1.52498 12.725 2.13498L13.995 7.95998C14.13 8.56998 14.075 9.11498 13.875 9.18498C13.675 9.25498 13.35 8.83498 13.15 8.24498L11.05 2.07498C10.85 1.48498 10.21 1.17498 9.62004 1.37998C9.03004 1.58498 8.71504 2.22998 8.91004 2.81998L10.97 8.99998C11.165 9.58998 11.165 10.125 10.965 10.195C10.765 10.265 10.385 9.86498 10.125 9.29998L7.77504 4.29998C7.51004 3.73998 6.82004 3.44498 6.23004 3.64998C5.64504 3.85498 5.37504 4.47498 5.64004 5.03998L8.60004 11.045C8.86004 11.61 8.91004 12.125 8.71004 12.195C8.51004 12.265 8.03004 11.93 7.64004 11.445L5.60504 8.82498C5.21504 8.33998 4.54004 8.07498 4.09504 8.22998C3.65504 8.38498 3.54004 8.94498 3.84504 9.48998L6.34504 13.865C6.40004 14.02 7.85504 16.8 7.96004 16.915C9.00004 18.565 10.645 19.51 12.73 18.79L14.91 18.035C16.145 17.605 17.095 16.735 17.63 15.7C17.64 15.69 20.15 10.205 21.03 8.28498C21.105 8.11498 21.105 7.92998 21.03 7.76998Z",
fill:c}),d("path",{d:"M21.3251 23.4001L19.1101 19.0301C18.8501 18.5201 18.2501 18.2851 17.7151 18.4851L12.3101 20.5101C12.0201 20.6201 11.7851 20.8451 11.6651 21.1351C11.5451 21.4251 11.5551 21.7501 11.6851 22.0301L12.3151 23.3951H21.3251V23.4001Z",fill:c}))}c.displayName="RaisedHand"},496709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 24 24"}),d("g",{clipPath:"url(#clip0)"},void 0,d("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M20.53 7.76998C20.455 7.60998 20.31 7.48998 20.135 7.44498C20.075 7.42832 20.0106 7.41165 19.9462 7.39498L19.85 7.36998C19.305 7.22998 18.635 7.56498 18.35 8.11498L17.37 9.99998C17.085 10.55 16.725 10.51 16.57 9.90998L14.395 1.38498C14.24 0.779981 13.64 0.459981 13.05 0.664981C12.46 0.869981 12.095 1.52498 12.225 2.13498L13.495 7.95998C13.63 8.56998 13.575 9.11498 13.375 9.18498C13.175 9.25498 12.85 8.83498 12.65 8.24498L10.55 2.07498C10.35 1.48498 9.71004 1.17498 9.12004 1.37998C8.53004 1.58498 8.21504 2.22998 8.41004 2.81998L10.47 8.99998C10.665 9.58998 10.665 10.125 10.465 10.195C10.265 10.265 9.88504 9.86498 9.62504 9.29998L7.27504 4.29998C7.01004 3.73998 6.32004 3.44498 5.73004 3.64998C5.14504 3.85498 4.87504 4.47498 5.14004 5.03998L8.10004 11.045C8.36004 11.61 8.41004 12.125 8.21004 12.195C8.01004 12.265 7.53004 11.93 7.14004 11.445L5.10504 8.82498C4.71504 8.33998 4.04004 8.07498 3.59504 8.22998C3.15504 8.38498 3.04004 8.94498 3.34504 9.48998L5.84504 13.865C5.90004 14.02 7.35504 16.8 7.46004 16.915C8.50004 18.565 10.145 19.51 12.23 18.79L12.96 18.5372V15.84C12.96 14.2494 14.2494 12.96 15.84 12.96H18.3887C18.763 12.143 19.1735 11.2467 19.5492 10.4262L19.5592 10.4045L19.5647 10.3926L19.5648 10.3922L19.5702 10.3804L19.581 10.3569C19.9595 9.53048 20.3003 8.78624 20.53 8.28498C20.605 8.11498 20.605 7.92998 20.53 7.76998ZM11.81 20.51L12.96 20.0792V23.395H11.815L11.185 22.03C11.055 21.75 11.045 21.425 11.165 21.135C11.285 20.845 11.52 20.62 11.81 20.51ZM14.4 16.32C14.4 15.2596 15.2596 14.4 16.32 14.4H22.08C23.1404 14.4 24 15.2596 24 16.32V22.08C24 23.1404 23.1404 24 22.08 24H16.32C15.2596 24 14.4 23.1404 14.4 22.08V16.32ZM16.32 16.56H22.08V17.52H16.32V16.56ZM22.08 18.72H16.32V19.68H22.08V18.72ZM16.32 20.88H22.08V21.84H16.32V20.88Z",
fill:c})),d("defs",{},void 0,d("clipPath",{id:"clip0"},void 0,d("rect",{width:"24",height:"24",fill:c}))))}c.displayName="RaisedHandList"},233121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:f,fill:c,
d:"M13.5605 11L11.2646 8.706L12.6842 7.294L17.4023 12.009L12.6822 16.708L11.2656 15.292L13.5685 13H2C2.50429 18.045 6.7842 22 11.9744 22C17.5025 22 22 17.513 22 12C22 6.487 17.5025 2 11.9744 2C6.7842 2 2.50429 5.954 2 11H13.5605Z"}))}c.displayName="StageLeave"},980351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?32:t,r=e.height,a=void 0===r?32:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{
width:n,height:a,viewBox:"0 0 32 32"}),d("rect",{width:"32",height:"32",rx:"16",fill:c}),d("path",{d:"M23 9.99995C19.56 9.99995 16.826 6.43495 16.799 6.39795C16.421 5.89795 15.579 5.89795 15.201 6.39795C15.174 6.43495 12.44 9.99995 9 9.99995C8.447 9.99995 8 10.4479 8 10.9999V17.9999C8 21.8069 14.764 25.4779 15.534 25.8839C15.68 25.9609 15.84 25.9979 16 25.9979C16.16 25.9979 16.32 25.9599 16.466 25.8839C17.236 25.4779 24 21.8069 24 17.9999V10.9999C24 10.4479 23.553 9.99995 23 9.99995ZM19 19.9999L16 17.9999L13 19.9999L14 16.9999L12 14.9999H15L16 11.9999L17 14.9999H20L18 16.9999L19 19.9999Z",className:f}))}c.displayName="StarBadge"},934297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?14:t,r=e.height,a=void 0===r?14:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 14 14"}),d("path",{fill:c,className:f,
d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"}))}c.displayName="Status"},485308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 16 16"}),d("path",{fill:c,className:f,d:"M2.66663 7.40747H7.40737H8.59255H8.66663H13.3333V8.59266H8.59255H7.40737H2.66663V7.40747Z"}))}c.displayName="Subtract"},12713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?20:t,r=e.height,a=void 0===r?20:r,l=e.color,c=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),d("path",{
d:"M13.4996 0H6.72144C6.62254 1.34004e-06 6.52586 0.0293272 6.44363 0.0842743C6.36141 0.139221 6.29733 0.217322 6.25949 0.308693C6.22165 0.400063 6.21176 0.500602 6.23106 0.597595C6.25037 0.694589 6.298 0.783679 6.36794 0.8536L7.63564 2.1213C7.82317 2.30884 7.92853 2.56319 7.92853 2.8284C7.92853 3.09361 7.82317 3.34796 7.63564 3.5355L6.22144 4.9498C5.65884 5.51241 5.34277 6.27546 5.34277 7.0711C5.34277 7.86674 5.65884 8.62979 6.22144 9.1924C6.40897 9.37993 6.66331 9.48528 6.92853 9.48528C7.19374 9.48528 7.4481 9.37993 7.63564 9.1924L9.75703 7.0711C10.1321 6.69603 10.6408 6.48533 11.1712 6.48533C11.7017 6.48533 12.2104 6.69603 12.5854 7.0711L13.146 7.6317C13.2159 7.70164 13.305 7.74927 13.402 7.76858C13.499 7.78788 13.5996 7.77799 13.6909 7.74015C13.7823 7.70231 13.8604 7.63823 13.9154 7.556C13.9703 7.47377 13.9996 7.37709 13.9996 7.2782V0.5C13.9996 0.367392 13.9469 0.240214 13.8532 0.146446C13.7594 0.052678 13.6322 0 13.4996 0Z",fill:c}),d("path",{
d:"M4.5 17.9999H11.2782C11.3771 17.9999 11.4738 17.9706 11.556 17.9157C11.6382 17.8607 11.7023 17.7826 11.7401 17.6912C11.778 17.5999 11.7879 17.4993 11.7686 17.4023C11.7493 17.3053 11.7016 17.2163 11.6317 17.1463L10.364 15.8786C10.1765 15.6911 10.0711 15.4367 10.0711 15.1715C10.0711 14.9063 10.1765 14.652 10.364 14.4644L11.7782 13.0501C12.3408 12.4875 12.6569 11.7245 12.6569 10.9288C12.6569 10.1332 12.3408 9.37014 11.7782 8.80753C11.5907 8.62 11.3363 8.51465 11.0711 8.51465C10.8059 8.51465 10.5515 8.62 10.364 8.80753L8.2426 10.9288C7.86753 11.3039 7.35883 11.5146 6.8284 11.5146C6.29797 11.5146 5.78927 11.3039 5.4142 10.9288L4.85361 10.3682C4.78369 10.2983 4.69459 10.2507 4.5976 10.2314C4.5006 10.2121 4.40006 10.2219 4.30869 10.2598C4.21731 10.2976 4.13922 10.3617 4.08427 10.4439C4.02933 10.5262 4 10.6228 4 10.7217V17.4999C4 17.6325 4.05269 17.7597 4.14645 17.8535C4.24022 17.9473 4.36739 17.9999 4.5 17.9999Z",fill:c}))}c.displayName="SwitchAccountsIcon"},637853:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=d("rect",{width:"20",height:"16"});function f(e){var t=e.width,n=void 0===t?20:t,r=e.height,a=void 0===r?16:r,l=e.color,f=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,width:n,height:a,viewBox:"0 0 20 16"},(0,i.default)(y)),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:v,fill:f,
d:"M1,14.1538462 L1.95,14.1538462 C3.73125,14.1538462 5.5125,13.5384615 6.81875,12.4307692 C5.15625,12.4307692 3.73125,11.2 3.1375,9.6 C3.375,9.6 3.6125,9.72307692 3.85,9.72307692 C4.20625,9.72307692 4.5625,9.72307692 4.91875,9.6 C3.1375,9.23076923 1.7125,7.63076923 1.7125,5.66153846 C2.1875,5.90769231 2.78125,6.15384615 3.49375,6.15384615 C2.425,5.41538462 1.83125,4.18461538 1.83125,2.70769231 C1.83125,1.96923077 2.06875,1.23076923 2.30625,0.615384615 C4.20625,3.07692308 7.05625,4.67692308 10.38125,4.8 C10.2625,4.67692308 10.2625,4.30769231 10.2625,4.06153846 C10.2625,1.84615385 12.04375,0 14.18125,0 C15.25,0 16.31875,0.492307692 17.03125,1.23076923 C17.8625,1.10769231 18.8125,0.738461538 19.525,0.246153846 C19.2875,1.23076923 18.575,1.96923077 17.8625,2.46153846 C18.575,2.46153846 19.2875,2.21538462 20,1.84615385 C19.525,2.70769231 18.8125,3.32307692 18.1,3.93846154 L18.1,4.43076923 C18.1,9.84615385 14.18125,16 6.9375,16 C4.68125,16 2.6625,15.3846154 1,14.1538462 Z"}),c))}
f.displayName="Twitter"},298408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}
function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{fill:c,
d:"M12 14C7.289 14 4 16.467 4 20V22H20V20C20 16.467 16.711 14 12 14ZM11 19C10.447 19 10 18.553 10 18C10 17.447 10.447 17 11 17C11.553 17 12 17.447 12 18C12 18.553 11.553 19 11 19ZM14 19C13.447 19 13 18.553 13 18C13 17.447 13.447 17 14 17C14.553 17 15 17.447 15 18C15 18.553 14.553 19 14 19Z"}),d("path",{fill:c,d:"M18 6H17.91C17.432 3.167 14.967 1 12 1C9.033 1 6.568 3.167 6.09 6H6C4.896 6 4 6.896 4 8V9C4 10.104 4.896 11 6 11C6 12.102 6.897 13 8 13H16C17.104 13 18 12.102 18 11C19.104 11 20 10.104 20 9V8C20 6.896 19.104 6 18 6ZM16 10H8V6H16V10Z"}))}c.displayName="UnknownUser"},950291:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("rect",{className:f,x:"1",y:"4",width:"13",height:"16",rx:"2",fill:c}),d("rect",{className:f,x:"16",y:"4",width:"7",height:"7",rx:"1",fill:c}),d("rect",{className:f,x:"16",y:"13",width:"7",height:"7",rx:"1",fill:c}))}c.displayName="VideoLayout"},251689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(294184)),i=S(n(441143)),u=S(n(711195)),l=S(n(530250)),s=S(n(160629)),d=S(n(730977)),c=S(n(167870)),f=S(n(259530)),p=S(n(347114)),v=S(n(628551)),y=S(n(550270)),h=S(n(139574)),_=S(n(902060)),m=S(n(683898)),g=n(770348),E=S(n(247001)),O=S(n(110854));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var P=5,A=4,M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];(t=e.call.apply(e,[this].concat(r))||this).renderPartyMember=function(e,n){if(null==e)return null;var r,l=t.props,c=l.host,f=l.renderUserPopout,p=l.onUserContextMenu;r=(null==c?void 0:c.id)===e.id?E.default.Messages.SPOTIFY_LISTEN_ALONG_HOST:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;return b(s.default,{preload:function(){return(0,
u.default)(e.id,e.getAvatarURL(void 0,80))},renderPopout:function(t){(0,i.default)(null!=e,"");return f(t,e)},position:s.default.Positions.TOP,align:s.default.Align.CENTER},e.id,(function(t){return b(d.default,{text:r},void 0,(function(r){var i=r.onMouseEnter,u=r.onMouseLeave;return a.createElement(v.default,C({},t,{key:e.id,src:e.getAvatarURL(void 0,24),size:v.default.Sizes.SIZE_24,className:(0,o.default)(O.default.avatar,n),"aria-label":e.username,onMouseEnter:i,onMouseLeave:u,onContextMenu:function(t){null!=e&&(null==p||p(t,e))}}))}))}))};t.renderPartyMemberOverflow=function(e,n,r){var i=t.props.renderOverflowPopout;return b(s.default,{renderPopout:i},r,(function(t){return b(d.default,{text:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS},void 0,(function(r){return a.createElement("div",C({className:(0,o.default)(O.default.overflow,n)},r,t),e)}))}))};return t}var n=t.prototype;n.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===(null==n?void 0:n.id)}
;n.renderTitle=function(){return b("div",{},void 0,b(m.default,{},void 0,this.isHost()?E.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):E.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER),b(_.default,{},void 0,E.default.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER))};n.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:b(h.default,{tooltipText:E.default.Messages.SPOTIFY_LISTEN_ALONG_STOP,onClick:e,icon:f.default})};n.renderHelpIcon=function(){if(!this.isHost())return null;return b(h.default,{tooltipText:E.default.Messages.SPOTIFY_LISTEN_ALONG_INFO,onClick:function(){window.open(y.default.getArticleURL(g.HelpdeskArticles.SPOTIFY_CONNECTION),"_blank")},icon:p.default})};n.render=function(){return b("div",{className:O.default.listeningAlong},void 0,this.renderTitle(),b(l.default,{justify:l.default.Justify.END,className:O.default.party},void 0,b(c.default,{users:this.props.party,
max:this.isHost()?P:A,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})),b("div",{className:O.default.icons},void 0,this.renderHelpIcon(),this.renderStopListeningButton()))};return t}(a.PureComponent);M.displayName="ListeningAlong";var N=M;t.default=N},57754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=v(n(667294)),i=f(n(294184)),u=f(n(324582)),l=f(n(287317)),s=v(n(272544)),d=n(942675),c=f(n(786588));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}!function(e){e[e.OUTGOING=0]="OUTGOING";e[e.INCOMING=1]="INCOMING"}(a||(a={}));var m=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderStatus=function(){var e=this.props,t=e.muted,n=e.deafen,r=n?u.default:l.default;return t||n?h(r,{className:c.default.status},"status"):null};n.renderBorder=function(){var e,t=this.props.speaking;return h("div",{className:(0,i.default)(c.default.border,(e={},e[c.default.speaking]=t,e))},"border")};n.renderVoiceCallAvatar=function(){var e,t=this.props,n=t.src,r=t.disabled,o=t.ringing,u=t.ringingType,l=t.avatarClassName,f=t.muted,p=t.deafen,v=t.size,y=t.renderIcon,_=(0,d.getAvatarSize)(v),m=h("img",{src:n,alt:" ",className:(0,i.default)(c.default.voiceAvatar,l,(e={},e[c.default.ringingOutgoing]=o&&u===a.OUTGOING,e))});if(r)return m;var g=s.MaskIDs.AVATAR_DEFAULT;null!=y?g=v===d.Sizes.SIZE_32?s.MaskIDs.AVATAR_CALL_ICON_32:s.MaskIDs.AVATAR_CALL_ICON:(f||p)&&(g=s.MaskIDs.AVATAR_VOICE_CALL_80);return h(s.default,{
className:c.default.callAvatarMask,width:_,height:_,mask:g},void 0,null==y?void 0:y(),m,f||p?this.renderStatus():this.renderBorder())};n.render=function(){var e,t=this.props,n=t.size,r=t.onClick,o=t.style,u=t.onContextMenu,l=t.className,s=t.ringingType,f=t.ringing,p=(0,i.default)(c.default.wrapper,((e={})[c.default.clickable]=null!=r,e[c.default.ringingOutgoing]=f&&s===a.OUTGOING,e[c.default.ringingIncoming]=f&&s===a.INCOMING,e),l),v=(0,d.getAvatarSize)(n);return h("div",{style:y({height:v,width:v},o),onContextMenu:u,className:p},void 0,this.renderVoiceCallAvatar())};return t}(o.PureComponent);m.displayName="CallAvatar";m.defaultProps={size:d.Sizes.SIZE_80,ringingType:a.OUTGOING,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,paused:!1};m.RingingType=a;var g=m;t.default=g},540671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPartyMetadata=function(e){return{af_voice_chat:e.voiceChannels.length>0,
af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some((function(e){var t=e.activity;return(0,a.default)(t)})),game_platform:e.currentActivities.length>0?(0,r.default)(e.currentActivities[0].activity):null}};var r=o(n(200738)),a=o(n(93392));function o(e){return e&&e.__esModule?e:{default:e}}},899984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(120053))&&r.__esModule?r:{default:r};function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return o.apply(this,arguments)}var i,u=a.default.defaultRules.lheading,l=a.default.defaultRules.heading,s=a.default.defaultRules.link,d=a.default.defaultRules.image,c=a.default.defaultRules.list,f=a.default.defaultRules.blockQuote,p=a.default.defaultRules.paragraph,v=/\{(.+?)}/,y=/^\$(\w+?)\$/;i=n(222234);var h=function(e){
var t=e.transformUpperCase,n=void 0!==t&&t;return function(e,t,r){var o=v.exec(e[1]),i=e[1].replace(v,"");n&&(i=i.toUpperCase());return{className:null!=o?o[1]:null,level:"="===e[2]?1:2,content:a.default.parseInline(t,i,r)}}},_=function(e){return o({},i.baseRules,{image:o({},d,{},"function"==typeof i.customRules.image?i.customRules.image(e):i.customRules.image),link:o({},s,{},"function"==typeof i.customRules.link?i.customRules.link(e):i.customRules.link),list:o({},c,{},"function"==typeof i.customRules.list?i.customRules.list(e):i.customRules.list),interpolation:{order:a.default.defaultRules.text.order,match:function(e){return y.exec(e)},parse:function(e,t,n){var r=n.interpolations[e[1]];return null==r?{type:"text",content:e[0]}:{type:"interpolation",renderer:r}},react:function(e){return e.renderer()}},lheading:o({},u,{parse:h({transformUpperCase:!0})},"function"==typeof i.customRules.lheading?i.customRules.lheading(e):i.customRules.lheading),
heading:o({},l,{},"function"==typeof i.customRules.heading?i.customRules.heading(e):i.customRules.heading),blockQuote:o({},f,{},"function"==typeof i.customRules.blockQuote?i.customRules.blockQuote(e):i.customRules.blockQuote),paragraph:o({},p,{},"function"==typeof i.customRules.paragraph?i.customRules.paragraph(e):i.customRules.paragraph)})},m={getDefaultRules:function(e){return o({},_(e))},getSpecialRules:function(e){return o({},_(e),{},function(e){return{lheading:o({},u,{parse:h({transformUpperCase:!1})},"function"==typeof i.customRules.lheading?i.customRules.lheading(e):i.customRules.lheading)}}(e))}};t.default=m},303763:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.RowTypes=void 0;t.generateRowsForQuery=function(e,t,n,r,a){var o=new Set,v=[],y={numFriends:0,numDms:0,numGroupDms:0};if(""===e){if(null!=n)for(var _,g=h(n);!(_=g()).done;){var E=_.value;if(null!=r&&r>0&&v.length>=r)break;if(!t.has(E)){var O=d.default.getUser(E)
;if(!(null==O||null!=a&&u.default.isMember(a,O.id))){o.add(O.id);v.push({type:m.FRIEND,item:O,isSuggested:!0});y.numFriends++}}}for(var S,I=h(c.default.getPrivateChannelIds());!(S=I()).done;){var b=S.value;if(null!=r&&r>0&&v.length>=r)break;var C=i.default.getChannel(b);if(null!=C)if(C.type!==p.ChannelTypes.GROUP_DM){if(null!=l.default.lastMessageId(C.id)){var T=C.getRecipientId();if(null!=T&&!t.has(T)&&!o.has(T)){var P=d.default.getUser(T);if(null==P||P.bot||null!=a&&u.default.isMember(a,P.id))continue;o.add(P.id);v.push({type:m.DM,item:P,isSuggested:!1});y.numDms++}}}else{v.push({type:m.GROUP_DM,item:C,isSuggested:!1});y.numGroupDms++}}for(var A,M=h(s.default.getFriendIDs());!(A=M()).done;){var N=A.value;if(null!=r&&r>0&&v.length>=r)break;if(!t.has(N)&&!o.has(N)){var R=d.default.getUser(N);if(!(null==R||null!=a&&u.default.isMember(a,R.id))){v.push({type:m.FRIEND,item:R,isSuggested:!1});y.numFriends++}}}}else{f.default.queryDMUsers(e,50,!1).forEach((function(e){var n=e.user
;if(!t.has(n.id)){var r=i.default.getDMFromUserId(n.id);if(null!=r){if(null!=l.default.lastMessageId(r)){o.add(n.id);v.push({type:m.DM,item:n,isSuggested:!1});y.numDms++}}}}));f.default.queryGroupDMs(e,50,!1).forEach((function(e){var t=e.channel;v.push({type:m.GROUP_DM,item:t,isSuggested:!1});y.numGroupDms++}));f.default.queryFriends(e,500,!1).forEach((function(e){var n=e.user;if(!t.has(n.id)&&!o.has(n.id)){v.push({type:m.FRIEND,item:n,isSuggested:!1});y.numFriends++}}))}return{rows:v,counts:y}};t.getMostRecentDMedUser=function(e,t){for(var n,r=h(c.default.getPrivateChannelIds());!(n=r()).done;){var a=n.value,o=i.default.getChannel(a);if(null!=o&&o.type===p.ChannelTypes.DM&&null!=l.default.lastMessageId(o.id)){var s=o.getRecipientId();if(null!=s&&!e.has(s)){var f=d.default.getUser(s);if(null==f||f.bot||null!=t&&u.default.isMember(t,f.id))continue;return f}}}return null};t.maxAgeString=function(e,t){var n=parseInt(t,10),r=0===n,a=I[e].value;switch(I[e].type){case g:
return r?v.default.Messages.INVITE_EXPIRES_MINUTES:v.default.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:n});case E:return r?v.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:a}):v.default.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:a,numUses:n});case O:return r?v.default.Messages.INVITE_EXPIRES_DAYS_PLURAL.format({numDays:a}):v.default.Messages.INVITE_EXPIRES_DAYS_OR_USES_PLURAL.format({numDays:a,numUses:n});case S:return r?v.default.Messages.INVITE_EXPIRES_NEVER:v.default.Messages.INVITE_EXPIRES_USES.format({numUses:n});default:return""}};t.urgentShareMessageString=function(e,t){if(null==e)return v.default.Messages.INVITE_MESSAGE_PLACEHOLDER.format({link:t});var n=I[e].value;switch(I[e].type){case g:return v.default.Messages.INVITE_URGENT_MINUTES_PLACEHOLDER.format({numMinutes:n,link:t});case E:return v.default.Messages.INVITE_URGENT_HOURS_MESSAGE_PLACEHOLDER.format({numHours:n,link:t});case O:
return v.default.Messages.INVITE_URGENT_DAYS_MESSAGE_PLACEHOLDER.format({numDays:n,link:t});default:return v.default.Messages.INVITE_MESSAGE_PLACEHOLDER.format({link:t})}};var r,a,o=y(n(213192)),i=y(n(644263)),u=y(n(876874)),l=y(n(191391)),s=y(n(290629)),d=y(n(728429)),c=y(n(417501)),f=y(n(424956)),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}a=n(990054);var m=(0,o.default)({GROUP_DM:null,DM:null,FRIEND:null});t.RowTypes=m;var g="minutes",E="hours",O="days",S="never",I=((r={})[a.INVITE_OPTIONS_30_MINUTES.value]={value:30,type:g},r[a.INVITE_OPTIONS_1_HOUR.value]={value:1,type:E},r[a.INVITE_OPTIONS_6_HOURS.value]={value:6,type:E},r[a.INVITE_OPTIONS_12_HOURS.value]={value:12,type:E},r[a.INVITE_OPTIONS_1_DAY.value]={value:1,type:O},r[a.INVITE_OPTIONS_7_DAYS.value]={value:7,type:O},r[a.INVITE_OPTIONS_FOREVER.value]={value:0,type:S},r);var b={getMaxAgeOptions:a.MAX_AGE_OPTIONS,getMaxUsesOptions:a.MAX_USES_OPTIONS,INVITE_OPTIONS_FOREVER:a.INVITE_OPTIONS_FOREVER,INVITE_OPTIONS_1_DAY:a.INVITE_OPTIONS_1_DAY,INVITE_OPTIONS_7_DAYS:a.INVITE_OPTIONS_7_DAYS,
INVITE_OPTIONS_12_HOURS:a.INVITE_OPTIONS_12_HOURS,INVITE_OPTIONS_6_HOURS:a.INVITE_OPTIONS_6_HOURS,INVITE_OPTIONS_1_HOUR:a.INVITE_OPTIONS_1_HOUR,INVITE_OPTIONS_30_MINUTES:a.INVITE_OPTIONS_30_MINUTES,INVITE_OPTIONS_UNLIMITED:a.INVITE_OPTIONS_UNLIMITED,INVITE_OPTIONS_ONCE:a.INVITE_OPTIONS_ONCE,INVITE_OPTIONS_5_TIMES:a.INVITE_OPTIONS_5_TIMES,INVITE_OPTIONS_10_TIMES:a.INVITE_OPTIONS_10_TIMES,INVITE_OPTIONS_25_TIMES:a.INVITE_OPTIONS_25_TIMES,INVITE_OPTIONS_50_TIMES:a.INVITE_OPTIONS_50_TIMES,INVITE_OPTIONS_100_TIMES:a.INVITE_OPTIONS_100_TIMES};t.default=b},86997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.resolveThunk=t.default=void 0;var r,a=(r=n(496486))&&r.__esModule?r:{default:r};var o=function(e){return"function"==typeof e?e():e};t.resolveThunk=o;var i=a.default.curry((function(e,t,n){return o(t)?e(n):n({})}));t.default=i},262045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.doLineSegmentsIntersect=r
;t.doesLineSegmentIntersectRectangle=function(e,t,n){var a={x:n.x,y:n.y},o={x:n.x+n.width,y:n.y},i={x:n.x,y:n.y+n.height},u={x:n.x+n.width,y:n.y+n.height};return r(e,t,a,o)||r(e,t,o,u)||r(e,t,u,i)||r(e,t,i,a)};t.extendLineSegment=function(e,t,n){var r=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));return{x:t.x+(t.x-e.x)/r*n,y:t.y+(t.y-e.y)/r*n}};function n(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function r(e,t,r,a){return n(e,r,a)!==n(t,r,a)&&n(e,t,r)!==n(e,t,a)}},40856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=f(n(496486)),i=f(n(728429)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(86997)),l=["promiseFn","resolve","reject","code","mfaCodeHandler","isModalOpen"],s=["hooks"],d=["checkEnabled"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y=function(){throw new Error("updateModal has not been implemented.")},h=n(546331);r=h.showModal;y=h.updateModalProps;a=n(194322).closeModal;function _(){var e,t;return null!==(e=null===(t=i.default.getCurrentUser())||void 0===t?void 0:t.mfaEnabled)&&void 0!==e&&e}
function m(e){var t=e.promiseFn,n=e.resolve,o=e.reject,i=e.confirmModalProps,u=e.hooks.onEarlyClose;if(null!=r)var l=r(f,s,i);else u();function s(){null==u||u()}function d(e){a(l);n(e)}function c(e){a(l);o(e)}function f(e){y(l,f,s,v({},i,{isLoading:!0}));return g({promiseFn:t,resolve:d,reject:c,code:e,mfaCodeHandler:p,isModalOpen:!0})}function p(e){var t=e.res;y(l,f,s,v({},i,{error:t.body.message}))}}function g(e){var t=e.promiseFn,n=e.resolve,r=e.reject,a=e.code,o=e.mfaCodeHandler,i=void 0===o?m:o,u=e.isModalOpen,s=void 0!==u&&u,d=p(e,l);return t(null!=a?{code:a}:{}).then(n,(function(e){if(function(e,t){return e.body&&60008===e.body.code||t&&429===e.status}(e,s))return i(v({promiseFn:t,resolve:n,reject:r,res:e},d));r(e)}))}var E=o.default.curry((function(e,t,n){void 0===n&&(n={});var r=n,a=r.checkEnabled,o=void 0===a?_:a;return function(e,t){var n=e.hooks,r=void 0===n?{}:n,a=p(e,s);return(0,u.default)((function(e){return new Promise((function(n,o){((0,u.resolveThunk)(t)?m:g)(v({
promiseFn:e,resolve:n,reject:o,hooks:r},a))}))}),!0)}(v({confirmModalProps:e},p(r,d)),o)(t)}),2);t.default=E},951530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRecipients=function(e,t){return(0,a.default)(e).map(t.getUser).unshift(t.getCurrentUser()).filter(o.isNotNullish).sortBy((function(e){return e.username.toLowerCase()})).value()};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(71246)},522731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showAcceptedNotification=function(e){c(e,s.default.Messages.NOTIFICATION_ACCEPTED_FRIEND_REQUEST,(function(){r.default.openPrivateChannel(e.id)}))};t.showPendingNotification=function(e){c(e,s.default.Messages.NOTIFICATION_PENDING_FRIEND_REQUEST,(function(){(0,n(910992).openUserProfileModal)({userId:e.id});(0,i.transitionTo)(l.Routes.FRIENDS);a.default.setSection(l.FriendsSections.PENDING)}))}
;var r=d(n(709403)),a=d(n(99694)),o=d(n(969226)),i=n(139982),u=d(n(692711)),l=n(770348),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){o.default.showNotification(u.default.getUserAvatarURL(e),e.username,t,{tag:e.id,onClick:n})}},222234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.customRules=t.baseRules=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(120053)),u=p(n(241165)),l=p(n(226800)),s=p(n(268389)),d=p(n(151097)),c=p(n(308920)),f=n(770348);function p(e){return e&&e.__esModule?e:{
default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}var _=i.default.defaultRules.link,m={section:f.AnalyticsSections.SETTINGS_CHANGELOG};function g(e,t){return null==t?[]:t.split(" ").map((function(t){return e[t]}))}var E=function(e){
var t=e.level,n=e.children,r=e.className,i=void 0===r?null:r,u=e.styleSheet,l=void 0===u?{}:u;return a.createElement("h"+t,{className:o.default.apply(void 0,g(l,i))},n)},O=s.default.defaultRules;t.baseRules=O;var S={link:{parse:function(e,t,n){var r,a=e[2],o=a.startsWith("https://discordapp.com/nitro")||a.startsWith("https://discord.com/nitro"),i=a.startsWith("https://discordapp.com/hypesquad")||a.startsWith("https://discord.com/hypesquad");r=o||i?function(e){c.default.track(f.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:m});o?l.default.open(f.UserSettingsSections.PREMIUM):i&&l.default.open(f.UserSettingsSections.HYPESQUAD_ONLINE);n.changeLog.track(f.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"nitro"});u.default.hideChangeLog();e.preventDefault()}:function(){n&&"function"==typeof n.onLinkClick&&n.onLinkClick(a);n.changeLog.track(f.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,h({},c.default.getCampaignParams(a)))};return h({},_.parse(e,t,n),{callToAction:r})},react:function(e,t,n){
return y(d.default,{href:i.default.sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":void 0},n.key,t(e.content,n))}},lheading:function(e){return{react:function(t,n,r){return y(E,{level:t.level,className:t.className,styleSheet:e},r.key,n(t.content,r))}}},heading:{react:function(e,t,n){return y(E,{level:e.level},n.key,t(e.content,n))}},image:{react:function(e,t,r){var a=n(478717)("./"+e.target);return y("img",{alt:e.alt,src:a},r.key)}},blockQuote:{react:O.blockQuote.react},paragraph:{react:function(e,t,n){return y("p",{},n.key,t(e.content,n))}}};t.customRules=S},990054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.MAX_USES_OPTIONS=t.MAX_AGE_OPTIONS=t.INVITE_OPTIONS_UNLIMITED=t.INVITE_OPTIONS_ONCE=t.INVITE_OPTIONS_FOREVER=t.INVITE_OPTIONS_7_DAYS=t.INVITE_OPTIONS_6_HOURS=t.INVITE_OPTIONS_5_TIMES=t.INVITE_OPTIONS_50_TIMES=t.INVITE_OPTIONS_30_MINUTES=t.INVITE_OPTIONS_25_TIMES=t.INVITE_OPTIONS_1_HOUR=t.INVITE_OPTIONS_1_DAY=t.INVITE_OPTIONS_12_HOURS=t.INVITE_OPTIONS_10_TIMES=t.INVITE_OPTIONS_100_TIMES=void 0;var r,a=(r=n(247001))&&r.__esModule?r:{default:r};function o(e,t){return{value:e,get label(){return t()}}}var i=o(0,(function(){return a.default.Messages.MAX_USES.format({maxUses:0})}));t.INVITE_OPTIONS_UNLIMITED=i;var u=o(1,(function(){return a.default.Messages.MAX_USES.format({maxUses:1})}));t.INVITE_OPTIONS_ONCE=u;var l=o(5,(function(){return a.default.Messages.MAX_USES.format({maxUses:5})}));t.INVITE_OPTIONS_5_TIMES=l;var s=o(10,(function(){return a.default.Messages.MAX_USES.format({maxUses:10})}));t.INVITE_OPTIONS_10_TIMES=s;var d=o(25,(function(){
return a.default.Messages.MAX_USES.format({maxUses:25})}));t.INVITE_OPTIONS_25_TIMES=d;var c=o(50,(function(){return a.default.Messages.MAX_USES.format({maxUses:50})}));t.INVITE_OPTIONS_50_TIMES=c;var f=o(100,(function(){return a.default.Messages.MAX_USES.format({maxUses:100})}));t.INVITE_OPTIONS_100_TIMES=f;var p=[i,u,l,s,d,c,f];t.MAX_USES_OPTIONS=p;var v=o(1800,(function(){return a.default.Messages.DURATION_MINUTES.format({minutes:30})}));t.INVITE_OPTIONS_30_MINUTES=v;var y=o(3600,(function(){return a.default.Messages.DURATION_HOURS.format({hours:1})}));t.INVITE_OPTIONS_1_HOUR=y;var h=o(21600,(function(){return a.default.Messages.DURATION_HOURS.format({hours:6})}));t.INVITE_OPTIONS_6_HOURS=h;var _=o(43200,(function(){return a.default.Messages.DURATION_HOURS.format({hours:12})}));t.INVITE_OPTIONS_12_HOURS=_;var m=o(86400,(function(){return a.default.Messages.DURATION_DAYS.format({days:1})}));t.INVITE_OPTIONS_1_DAY=m;var g=o(604800,(function(){
return a.default.Messages.DURATION_DAYS.format({days:7})}));t.INVITE_OPTIONS_7_DAYS=g;var E=o(0,(function(){return a.default.Messages.MAX_AGE_NEVER}));t.INVITE_OPTIONS_FOREVER=E;var O=[v,y,h,_,m,g,E];t.MAX_AGE_OPTIONS=O},546331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showModal=function(e,t,n){return(0,i.openModal)(s(e,t,n))};t.updateModalProps=function(e,t,n,r){return(0,i.updateModal)(e,s(t,n,r))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(410671))&&r.__esModule?r:{default:r},i=n(194322);function u(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=function(e,t,n){return function(r){return a.createElement(o.default,l({handleSubmit:e,handleEarlyClose:t},n,r))}}},229354:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=function(){function e(e,t){this._capacity=e;this._tokenCount=e;this._queue=[];this._intervalPeriod=t/e;this._intervalID=null}var t=e.prototype;t._processQueue=function(){var e=this;setTimeout((function(){if(e._queue.length>0&&e._tokenCount>0){e._tokenCount--;null==e._intervalID&&(e._intervalID=setInterval((function(){return e._iterate()}),e._intervalPeriod));var t=e._queue.shift();null==t||t();e._processQueue()}}),0)};t._iterate=function(){
this._tokenCount=Math.min(this._capacity,this._tokenCount+1);if(this._tokenCount>=this._capacity&&null!=this._intervalID){clearInterval(this._intervalID);this._intervalID=null}this._processQueue()};t.process=function(){var e=this;return new Promise((function(t){e._queue.push(t);e._processQueue()}))};return e}();t.default=n},479049:(e,t)=>{var n,r;r=function(e){"use strict";e=e||{};var t,n,r,a,o,i,u,l,s,d,c,f,p,v,y,h,_={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1,dataUrl:!1,win:window};(p={}).ff="undefined"!=typeof InstallTrigger;p.chrome=!!window.chrome;p.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0;p.ie=!1;p.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;p.supported=p.chrome||p.ff||p.opera;var m=[];c=function(){};l=f=!1;var g={ready:function(){l=!0;g.reset();c()},reset:function(){if(l){m=[];s=!1;d=!1;i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r)
;I.setIcon(o);window.clearTimeout(v);window.clearTimeout(y)}},start:function(){if(l&&!d&&m.length>0){d=!0;var e=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach((function(e){e in m[0].options&&(t[e]=m[0].options[e])}));T.run(m[0].options,(function(){!function(){s=m[0];d=!1;if(m.length>0){m.shift();g.start()}}()}),!1)};s?T.run(s.options,(function(){e()}),!0):e()}}},E={},O=function(e){e.n="number"==typeof e.n?Math.abs(0|e.n):e.n;e.x=a*e.x;e.y=r*e.y;e.w=a*e.w;e.h=r*e.h;e.len=(""+e.n).length;return e};E.circle=function(e){var n=!1;if(2===(e=O(e)).len){e.x=e.x-.4*e.w;e.w=1.4*e.w;n=!0}else if(e.len>=3){e.x=e.x-.65*e.w;e.w=1.65*e.w;n=!0}i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);i.beginPath();i.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.85:1))+"px "+t.fontFamily;i.textAlign="center";if(n){i.moveTo(e.x+e.w/2,e.y);i.lineTo(e.x+e.w-e.h/2,e.y);i.quadraticCurveTo(e.x+e.w,e.y,e.x+e.w,e.y+e.h/2);i.lineTo(e.x+e.w,e.y+e.h-e.h/2)
;i.quadraticCurveTo(e.x+e.w,e.y+e.h,e.x+e.w-e.h/2,e.y+e.h);i.lineTo(e.x+e.h/2,e.y+e.h);i.quadraticCurveTo(e.x,e.y+e.h,e.x,e.y+e.h-e.h/2);i.lineTo(e.x,e.y+e.h/2);i.quadraticCurveTo(e.x,e.y,e.x+e.h/2,e.y)}else i.arc(e.x+e.w/2,e.y+e.h/2,e.h/2,0,2*Math.PI);i.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")";i.fill();i.closePath();i.beginPath();i.stroke();i.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")";"number"==typeof e.n&&e.n>999?i.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):i.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h));i.closePath()};E.rectangle=function(e){if(2===(e=O(e)).len){e.x=e.x-.4*e.w;e.w=1.4*e.w}else if(e.len>=3){e.x=e.x-.65*e.w;e.w=1.65*e.w}i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);i.beginPath();i.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.9:1))+"px "+t.fontFamily;i.textAlign="center"
;i.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")";i.fillRect(e.x,e.y,e.w,e.h);i.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")";"number"==typeof e.n&&e.n>999?i.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):i.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h));i.closePath()};function S(e){if(e.paused||e.ended||f)return!1;try{i.clearRect(0,0,a,r);i.drawImage(e,0,0,a,r)}catch(e){}y=setTimeout((function(){S(e)}),T.duration);I.setIcon(o)}var I={getIcon:function(){var e=!1;if(t.element)e=t.element;else if(t.elementId)(e=h.getElementById(t.elementId)).setAttribute("href",e.getAttribute("src"));else{e=function(){for(var e=h.getElementsByTagName("head")[0].getElementsByTagName("link"),t=e.length-1;t>=0;t--)if(/(^|\s)icon(\s|$)/i.test(e[t].getAttribute("rel")))return e[t];return!1}();if(!1===e){(e=h.createElement("link")).setAttribute("rel","icon")
;h.getElementsByTagName("head")[0].appendChild(e)}}e.setAttribute("type","image/png");return e},setIcon:function(e){var r=e.toDataURL("image/png");t.dataUrl&&t.dataUrl(r);if(t.element){t.element.setAttribute("href",r);t.element.setAttribute("src",r)}else if(t.elementId){var a=h.getElementById(t.elementId);a.setAttribute("href",r);a.setAttribute("src",r)}else if(p.ff||p.opera){var o=n;n=h.createElement("link");p.opera&&n.setAttribute("rel","icon");n.setAttribute("rel","icon");n.setAttribute("type","image/png");h.getElementsByTagName("head")[0].appendChild(n);n.setAttribute("href",r);o.parentNode&&o.parentNode.removeChild(o)}else n.setAttribute("href",r)}};function b(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return!!t&&{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}function C(e,t){var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r}var T={duration:40,
types:{}};T.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}]
;T.run=function(e,n,r,a){var i=T.types[h.hidden||h.msHidden||h.webkitHidden||h.mozHidden?"none":t.animation];a=!0===r?void 0!==a?a:i.length-1:void 0!==a?a:0;n=n||function(){};if(a<i.length&&a>=0){E[t.type](C(e,i[a]));v=setTimeout((function(){r?a-=1:a+=1;T.run(e,n,r,a)}),T.duration);I.setIcon(o)}else n()};!function(){(t=C(_,e)).bgColor=b(t.bgColor);t.textColor=b(t.textColor);t.position=t.position.toLowerCase();t.animation=T.types[""+t.animation]?t.animation:_.animation;h=t.win.document;var l=t.position.indexOf("up")>-1,s=t.position.indexOf("left")>-1;if(l||s)for(var d=0;d<T.types[""+t.animation].length;d++){var c=T.types[""+t.animation][d];l&&(c.y<.6?c.y=c.y-.4:c.y=c.y-2*c.y+(1-c.w));s&&(c.x<.6?c.x=c.x-.4:c.x=c.x-2*c.x+(1-c.h));T.types[""+t.animation][d]=c}t.type=E[""+t.type]?t.type:_.type;n=I.getIcon();o=document.createElement("canvas");u=document.createElement("img");if(n.hasAttribute("href")){u.setAttribute("crossOrigin","anonymous");u.onload=function(){r=u.height>0?u.height:32
;a=u.width>0?u.width:32;o.height=r;o.width=a;i=o.getContext("2d");g.ready()};u.setAttribute("src",n.getAttribute("href"))}else{u.onload=function(){r=32;a=32;u.height=r;u.width=a;o.height=r;o.width=a;i=o.getContext("2d");g.ready()};u.setAttribute("src","")}}();return{badge:function(e,t){t=("string"==typeof t?{animation:t}:t)||{};c=function(){try{if("number"==typeof e?e>0:""!==e){var n={type:"badge",options:{n:e}};"animation"in t&&T.types[""+t.animation]&&(n.options.animation=""+t.animation);"type"in t&&E[""+t.type]&&(n.options.type=""+t.type);["bgColor","textColor"].forEach((function(e){e in t&&(n.options[e]=b(t[e]))}));["fontStyle","fontFamily"].forEach((function(e){e in t&&(n.options[e]=t[e])}));m.push(n);if(m.length>100)throw new Error("Too many badges requests in queue.");g.start()}else g.reset()}catch(e){throw new Error("Error setting badge. Message: "+e.message)}};l&&c()},video:function(e){c=function(){try{if("stop"===e){f=!0;g.reset();f=!1;return}
e.addEventListener("play",(function(){S(this)}),!1)}catch(e){throw new Error("Error setting video. Message: "+e.message)}};l&&c()},image:function(e){c=function(){try{var t=e.width,n=e.height,u=document.createElement("img"),l=t/a<n/r?t/a:n/r;u.setAttribute("crossOrigin","anonymous");u.onload=function(){i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);I.setIcon(o)};u.setAttribute("src",e.getAttribute("src"));u.height=n/l;u.width=t/l}catch(e){throw new Error("Error setting image. Message: "+e.message)}};l&&c()},webcam:function(e){if(!window.URL||!window.URL.createObjectURL){window.URL=window.URL||{};window.URL.createObjectURL=function(e){return e}}if(p.supported){var t=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia;c=function(){try{if("stop"===e){f=!0;g.reset();f=!1;return}(t=document.createElement("video")).width=a;t.height=r;navigator.getUserMedia({video:!0,audio:!1},(function(e){
t.src=URL.createObjectURL(e);t.play();S(t)}),(function(){}))}catch(e){throw new Error("Error setting webcam. Message: "+e.message)}};l&&c()}},reset:g.reset,browser:{supported:p.supported}}},void 0!==(n=function(){return r}.apply(t,[]))&&(e.exports=n)},145911:(e,t,n)=>{e.exports=n.p+"e92599c3548209f77ec833c649f8939a.svg"},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"},684795:(e,t,n)=>{e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},662325:(e,t,n)=>{e.exports=n.p+"ae046b62e28bb1ec1fbdde8185d32b9e.mp4"},15176:(e,t,n)=>{e.exports=n.p+"19ee7a767639c0af819b5976b493e9d8.png"},788557:(e,t,n)=>{e.exports=n.p+"230cd026d4bfdeb914b266938cc506a1.jpg"},22625:(e,t,n)=>{e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},603628:(e,t,n)=>{e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},879334:(e,t,n)=>{e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},133650:(e,t,n)=>{e.exports=n.p+"abaa70ae2be9f361759c60b2ee85ff12.png"},631896:(e,t,n)=>{
e.exports=n.p+"3522a06815d204da075ffda2431ef7f2.png"},931806:(e,t,n)=>{e.exports=n.p+"9acacf43b5dddb33196fa60a4a6c6b2f.jpg"},425058:(e,t,n)=>{e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},428915:(e,t,n)=>{e.exports=n.p+"1b9af825f3ccd5ffdf9580e338d4e5e7.png"},561323:(e,t,n)=>{e.exports=n.p+"bb867095876d3f6d81cc12e745ee9f58.png"},949223:(e,t,n)=>{e.exports=n.p+"8a5c84a9635d7e691e9276ff7ddfab31.svg"},412466:(e,t,n)=>{e.exports=n.p+"6b1abb79089f84d154f8a248dfb90b46.svg"},226586:(e,t,n)=>{e.exports=n.p+"0251a4f9294a3617de380fe28c486932.svg"},373135:(e,t,n)=>{e.exports=n.p+"fbef95afb1a9c8cf52e941375c360491.svg"},361850:(e,t,n)=>{e.exports=n.p+"06d8e21539e634cbc0f2ecf38f1bb2bb.svg"},15808:(e,t,n)=>{e.exports=n.p+"fe875f7f2f0c4869d155e7e487f570f2.png"},227227:(e,t,n)=>{e.exports=n.p+"7f9b927507a1c9321da58ab0fafffcd0.png"},999455:(e,t,n)=>{e.exports=n.p+"1c3ba8528a8f16c8cf0c55e286010420.png"},678811:(e,t,n)=>{e.exports=n.p+"831ba24f72b89cc77c325317372b7239.png"},236340:(e,t,n)=>{
e.exports=n.p+"3785e11ebe8fdcd64db5bb49f2e5299d.png"},359546:(e,t,n)=>{e.exports=n.p+"506bf478f5e1a271a27b673e6f25749a.png"},35448:(e,t,n)=>{e.exports=n.p+"07d9032e5d30865e0cc076396f0b027a.png"},404252:(e,t,n)=>{e.exports=n.p+"9d402086959fccbf418074a4b96f6d19.jpg"},123451:(e,t,n)=>{e.exports=n.p+"9f65387c814dd4cb5aff4e4e1e7e0446.svg"},16697:(e,t,n)=>{e.exports=n.p+"ed2007aab2da31a5436e70a28b4d59f9.svg"},105045:(e,t,n)=>{e.exports=n.p+"7ad95b56788fc31c3e5eec667129ba68.svg"},128112:(e,t,n)=>{e.exports=n.p+"9ae90b4dd4d7e4ddd9c8935dae4e87c4.svg"},876406:(e,t,n)=>{e.exports=n.p+"a92681efceabc4ee91964a7cef2571cf.svg"},937849:(e,t,n)=>{e.exports=n.p+"96ad9c7f6f636a7fb2028e2a07847776.svg"},772144:(e,t,n)=>{e.exports=n.p+"ef3a1ed683cfcf029971b12a26462072.svg"},492623:(e,t,n)=>{e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},399898:(e,t,n)=>{e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},74700:(e,t,n)=>{e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},607603:(e,t,n)=>{
e.exports=n.p+"02625ee29f851ec588c2020a88d82665.svg"},376354:(e,t,n)=>{e.exports=n.p+"b36de980b174d7b798c89f35c116e5c6.svg"},688224:(e,t,n)=>{e.exports=n.p+"fd879a28807b66b38d54e7db6ea18a69.svg"},96972:(e,t,n)=>{e.exports=n.p+"b36c705f790dad253981f1893085015a.svg"},540579:(e,t,n)=>{e.exports=n.p+"36c9a2fb7d0593a581a92373121c2848.svg"},947079:(e,t,n)=>{e.exports=n.p+"3fba9b3d08682f3ce0344e289fe668cb.svg"},96446:(e,t,n)=>{e.exports=n.p+"3b076f0988ebd746a2566e93f3d96fcb.svg"},961565:(e,t,n)=>{e.exports=n.p+"50f98223ba5e447f9b9368ec3965232c.svg"},389515:(e,t,n)=>{e.exports=n.p+"816e71b3225c71bc105db7209fb4b796.svg"},785538:(e,t,n)=>{e.exports=n.p+"7866fb01d8b75b6fe9e6591373a0ddf2.svg"},534413:(e,t,n)=>{e.exports=n.p+"e73889dfe6cc46c9161dd9c1d19cc5ca.svg"},182105:(e,t,n)=>{e.exports=n.p+"109dff8689b0dcedc5485a0b26c647f2.svg"},727869:(e,t,n)=>{e.exports=n.p+"5e690f4c63a19a36bff7f6364eaa6ea2.svg"},10439:(e,t,n)=>{e.exports=n.p+"fda43f574092d89177a4412046f51c44.svg"},755645:(e,t,n)=>{
e.exports=n.p+"6f35b2fc488e26dc1d56b253d01c7b75.svg"},928793:(e,t,n)=>{e.exports=n.p+"99c599a00313a16fa4babba64d461f34.svg"},324752:(e,t,n)=>{e.exports=n.p+"6ac195d9605dfb0719e73f002fad38a8.svg"},655916:(e,t,n)=>{e.exports=n.p+"c998fecc59ff94fe8e8e7f3557586c07.svg"},315879:(e,t,n)=>{e.exports=n.p+"255b326a18a4f8a078c90e6c35f6013b.svg"},80210:(e,t,n)=>{e.exports=n.p+"3ed9c7cdbea131bc485afa998a5ec93e.svg"},333993:(e,t,n)=>{e.exports=n.p+"1a23068e966efce6fb32ca9fecc65eed.svg"},987601:(e,t,n)=>{e.exports=n.p+"d61d4aa409613f4dcfb6163ef0d739de.svg"},192941:(e,t,n)=>{e.exports=n.p+"0d16e62fc3a84fc7e76b06584b646df9.svg"},232353:(e,t,n)=>{e.exports=n.p+"acb954ff414b98380056308d56efcbfd.svg"},802566:(e,t,n)=>{e.exports=n.p+"16770cd8548bce331bed7218db02fb4f.svg"},319927:(e,t,n)=>{e.exports=n.p+"779000e162efdb2fc8b14280e336ba02.svg"},484771:(e,t,n)=>{e.exports=n.p+"7de1e682a4fbf1483ad81f3872e5a9b2.png"},393270:(e,t,n)=>{e.exports=n.p+"3928af68d4d1bc83af46a3159f126a66.svg"},746932:(e,t,n)=>{
e.exports=n.p+"ed28635ce7d107f1a8b04379d009dd41.svg"},946137:(e,t,n)=>{e.exports=n.p+"a8007d2ecb3aec65119698bff7052451.svg"},692760:(e,t,n)=>{e.exports=n.p+"a50c50c963aab21b5c3d58e7fd06664e.svg"},557152:(e,t,n)=>{e.exports=n.p+"d160451ebc1c401c479353b3f32bfbba.svg"},705206:(e,t,n)=>{e.exports=n.p+"984b386302bacf7fb81985ab31c5beec.png"},255359:(e,t,n)=>{e.exports=n.p+"2466a28ab8ed658362042f10eb50f9c9.png"},162478:(e,t,n)=>{e.exports=n.p+"d814379acce96753a1e33220f692be28.png"},989823:(e,t,n)=>{e.exports=n.p+"838e63f498f009d41b30afd76bb07964.png"},140561:(e,t,n)=>{e.exports=n.p+"eeacc28d3c62a7cf1154a2bc11968ad8.svg"},237018:(e,t,n)=>{e.exports=n.p+"6ac195d9605dfb0719e73f002fad38a8.svg"},31890:(e,t,n)=>{e.exports=n.p+"c23a59030cd2583c8b8ae0e85bc99737.svg"},222917:(e,t,n)=>{e.exports=n.p+"ec499e7dcc451566caeda997fa9265db.svg"},153996:(e,t,n)=>{e.exports=n.p+"e3da44ce48e0ff29426d0cfb99c2580c.svg"},470661:e=>{"use strict";e.exports=function(e){var a,o
;if((e=String(e).toLowerCase()).length<3)return e;if(e.charCodeAt(0)===t){a=!0;e="Y"+e.substr(1)}E.test(e)?e=e.substr(0,e.length-2):g.test(e)&&(e=e.substr(0,e.length-1));if(o=m.exec(e))u.test(o[1])&&(e=e.substr(0,e.length-1));else if((o=h.exec(e))&&d.test(o[1])){e=o[1];_.test(e)?e+="e":O.test(e)?e=e.substr(0,e.length-1):c.test(e)&&(e+="e")}(o=v.exec(e))&&d.test(o[1])&&(e=o[1]+"i");(o=S.exec(e))&&u.test(o[1])&&(e=o[1]+n[o[2]]);(o=I.exec(e))&&u.test(o[1])&&(e=o[1]+r[o[2]]);(o=b.exec(e))?s.test(o[1])&&(e=o[1]):(o=y.exec(e))&&s.test(o[1])&&(e=o[1]);(o=p.exec(e))&&(s.test(o[1])||l.test(o[1])&&!c.test(o[1]))&&(e=o[1]);f.test(e)&&s.test(e)&&(e=e.substr(0,e.length-1));a&&(e="y"+e.substr(1));return e};var t="y".charCodeAt(0),n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},r={icate:"ic",
ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},a="[aeiouy]",o="([^aeiou][^aeiouy]*)",i="([aeiouy][aeiou]*)",u=new RegExp("^([^aeiou][^aeiouy]*)?"+i+o),l=new RegExp("^([^aeiou][^aeiouy]*)?"+i+o+i+"?$"),s=new RegExp("^([^aeiou][^aeiouy]*)?("+i+o+"){2,}"),d=new RegExp("^([^aeiou][^aeiouy]*)?"+a),c=new RegExp("^"+o+a+"[^aeiouwxy]$"),f=/ll$/,p=/^(.+?)e$/,v=/^(.+?)y$/,y=/^(.+?(s|t))(ion)$/,h=/^(.+?)(ed|ing)$/,_=/(at|bl|iz)$/,m=/^(.+?)eed$/,g=/^.+?[^s]s$/,E=/^.+?(ss|i)es$/,O=/([^aeiouylsz])\1$/,S=new RegExp("^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$"),I=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,b=new RegExp("^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$")}}]);
//# sourceMappingURL=6d878dec53fda7b548f1.js.map