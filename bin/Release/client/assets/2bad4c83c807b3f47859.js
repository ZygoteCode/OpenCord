"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[39447],{651510:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.StatusTab=t.PrivacyTab=void 0;t.useActiveGuildThreads=function(e){var t=(0,o.useStateFromStoresArray)([s.default,p.default,d.default],(function(){return(0,l.default)(p.default.getThreadsForGuild(e)).values().map((function(e){var t=e.id;return d.default.getChannel(t)})).filter(c.isNotNullish).filter((function(e){return s.default.can(b.Permissions.VIEW_CHANNEL,e)})).map((function(e){return e.id})).value()}),[]);return u.useMemo((function(){return(0,l.default)(t).sort((function(e,t){return v.default.compare(f.default.lastMessageId(e),f.default.lastMessageId(t))})).reverse().value()}),[t])};t.useActiveThreadIds=E;t.useActiveThreads=function(e){var t=E(e),r=(0,o.useStateFromStores)([m.default],(function(){return l.default.partition(t,(function(e){return m.default.hasJoined(e)}))}),[t],o.statesWillNeverBeEqual),a=r[0],n=r[1];return{
joinedThreadIds:a,unjoinedThreadIds:n}};t.useArchivedThreads=function(e,t,r){var a=t===n.Public?S.ArchivedThreadListType.ALL_PUBLIC_THREADS:r?S.ArchivedThreadListType.ALL_PRIVATE_THREADS:S.ArchivedThreadListType.MY_PRIVATE_THREADS,f=u.useCallback((function(t){s.default.can(b.Permissions.READ_MESSAGE_HISTORY,e)&&y.default.loadArchivedThreads(e.guild_id,e.id,a,t)}),[e,a]);u.useEffect((function(){return f()}),[f]);u.useEffect((function(){i.default.resort(e.id)}),[e.id]);var c=(0,o.useStateFromStoresObject)([h.default],(function(){return{canLoadMore:h.default.canLoadMore,loading:h.default.isLoading(e.id,a)}})),v=c.canLoadMore,p=c.loading;return{threadIds:(0,o.useStateFromStoresArray)([h.default,d.default,s.default],(function(){return(0,l.default)(h.default.getThreads(e.id,a)).filter((function(e){var t=d.default.getChannel(e);return null!=t&&s.default.can(b.Permissions.VIEW_CHANNEL,t)})).value()})),canLoadMore:v,loading:p,loadMore:f}};t.useTrackThreadBrowserTab=function(e,t){
var r=e?"Active Threads":(null==t?void 0:t.tab)===n.Public?"Public Archived Threads":(null==t?void 0:t.moderatorView)?"All Private Archived Threads":"My Private Archived Threads";u.useEffect((function(){(0,T.trackThreadBrowserTab)(r)}),[r])};var a,n,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=n?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;r&&r.set(e,a);return a}(r(667294)),l=g(r(496486)),o=r(536211),i=g(r(649563)),d=g(r(644263)),s=g(r(689389)),f=g(r(191391)),c=r(71246),v=g(r(71636)),p=g(r(782270)),h=g(r(612548)),m=g(r(730451)),y=g(r(887174)),T=r(566142),S=r(64072),b=r(478036);function g(e){return e&&e.__esModule?e:{default:e}}function _(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}t.StatusTab=a;!function(e){e[e.Active=0]="Active";e[e.Archived=1]="Archived"}(a||(t.StatusTab=a={}));t.PrivacyTab=n;!function(e){e[e.Public=0]="Public";e[e.Private=1]="Private"}(n||(t.PrivacyTab=n={}));function E(e){var t=(0,o.useStateFromStoresArray)([s.default,p.default,d.default],(function(){return(0,l.default)(p.default.getThreadsForGuild(e.guild_id)).values().map((function(e){var t=e.id;return d.default.getChannel(t)})).filter(c.isNotNullish).filter((function(t){return!0===window._THREAD_BROWSER_ALL_CHANNELS||t.parent_id===e.id})).filter((function(e){return s.default.can(b.Permissions.VIEW_CHANNEL,e)})).map((function(e){return e.id})).value()}),[]);return u.useMemo((function(){return(0,l.default)(t).sort((function(e,t){return v.default.compare(f.default.lastMessageId(e),f.default.lastMessageId(t))})).reverse().value()}),[t])}},11258:(e,t,r)=>{
Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var a,n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=n?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;r&&r.set(e,a);return a}(r(667294)),u=p(r(294184)),l=p(r(776360)),o=p(r(521358)),i=r(651510),d=p(r(895377)),s=p(r(903086)),f=r(330042),c=p(r(247001)),v=p(r(484317));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function m(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={
children:void 0}),1===l)t.children=n;else if(l>1){for(var o=new Array(l),i=0;i<l;i++)o[i]=arguments[i+3];t.children=o}if(t&&u)for(var d in u)void 0===t[d]&&(t[d]=u[d]);else t||(t=u||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function y(e){var t=e.channel,r=e.startThread,a=e.gotoThread,l=(0,i.useActiveThreads)(t),p=l.joinedThreadIds,h=l.unjoinedThreadIds,y=n.useCallback((function(e){return 0===e.section?m(T,{text:c.default.Messages.THREAD_BROWSER_JOINED_HEADER.format({count:p.length})},e.section):m(T,{text:c.default.Messages.THREAD_BROWSER_OTHER_HEADER.format({count:h.length}),divider:p.length>0},e.section)}),[p.length,h.length]),S=n.useCallback((function(e){return 1===e&&p.length>0?64:32}),[p.length]),b=n.useCallback((function(e){var t=0===e.section?p[e.row]:h[e.row];return m(s.default,{threadId:t,type:f.RowType.Active,gotoThread:a},e.section+"-"+e.row)}),[p,h,a]);return 0===p.length&&0===h.length?m(d.default,{channel:t,
header:c.default.Messages.THREAD_BROWSER_EMPTY_STATE_ACTIVE_HEADER,startThread:r}):m(o.default,{className:(0,u.default)(v.default.list,v.default.activeThreadsList),fade:!0,sections:[p.length,h.length],sectionHeight:S,rowHeight:80,renderRow:b,renderSection:y,chunkSize:20})}y.displayName="ActiveThreadsTab";function T(e){var t=e.text,r=e.divider;return n.createElement(n.Fragment,null,r?m("div",{className:v.default.divider}):null,m(l.default,{color:l.default.Colors.HEADER_SECONDARY,size:l.default.Sizes.SIZE_12,className:v.default.sectionHeader},void 0,t))}},648794:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=R;var a,n=E(r(667294)),u=g(r(294184)),l=g(r(644263)),o=g(r(789446)),i=g(r(80828)),d=E(r(186465)),s=g(r(730977)),f=g(r(347114)),c=g(r(776360)),v=g(r(521358)),p=r(651510),h=r(819235),m=g(r(895377)),y=g(r(903086)),T=r(330042),S=g(r(247001)),b=g(r(484317));function g(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=n?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;r&&r.set(e,a);return a}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};return A.apply(this,arguments)}function M(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=n;else if(l>1){for(var o=new Array(l),i=0;i<l;i++)o[i]=arguments[i+3]
;t.children=o}if(t&&u)for(var d in u)void 0===t[d]&&(t[d]=u[d]);else t||(t=u||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function R(e){var t=e.channel,r=e.startThread,a=e.gotoThread,g=n.useState(p.PrivacyTab.Public),_=g[0],E=g[1],R=n.useState(!1),O=R[0],w=R[1],P=(0,h.useIsThreadModerator)(t),N=O&&P,I=_===p.PrivacyTab.Private&&!N;(0,p.useTrackThreadBrowserTab)(!1,{tab:_,moderatorView:N});var C=(0,p.useArchivedThreads)(t,_,N),D=C.threadIds,k=C.canLoadMore,j=C.loading,H=C.loadMore,W=n.useRef(null),B=n.useMemo((function(){var e,t;return M("div",{className:b.default.controls},void 0,M(d.default,{selectedItem:_,type:d.Types.TOP_PILL,onItemSelect:E,className:b.default.tabBar},"tabs",M(d.Item,{id:p.PrivacyTab.Public,className:(0,u.default)(b.default.tab,(e={},e[b.default.active]=_===p.PrivacyTab.Public,e))},void 0,S.default.Messages.THREAD_BROWSER_PUBLIC),M(d.Item,{id:p.PrivacyTab.Private,className:(0,u.default)(b.default.tab,(t={},
t[b.default.active]=_===p.PrivacyTab.Private,t))},void 0,S.default.Messages.THREAD_BROWSER_PRIVATE)),P&&_===p.PrivacyTab.Private?M("div",{className:b.default.moderatorView},void 0,M(o.default,{value:O,onChange:function(e,t){return w(t)},className:b.default.checkbox,type:o.default.Types.INVERTED,size:20}),M(c.default,{size:c.default.Sizes.SIZE_16,color:c.default.Colors.INTERACTIVE_NORMAL},void 0,S.default.Messages.MODERATOR_VIEW,M(s.default,{text:S.default.Messages.MODERATOR_VIEW_TOOLTIP},void 0,(function(e){return n.createElement(f.default,A({},e,{className:b.default.infoIcon}))})))):null)}),[_,P,O]),L=n.useCallback((function(){return B}),[B]),F=n.useCallback((function(e){return M(y.default,{threadId:D[e.row],type:I?T.RowType.MyArchived:T.RowType.AllArchived,gotoThread:a},e.section+"-"+e.row)}),[D,I,a]),x=n.useCallback((function(){var e,t,r=null===(e=W.current)||void 0===e?void 0:e.getScrollerState();if(null!=r){var a=l.default.getChannel(D[D.length-1]);if(null!=a){
var n=I?a.id:null===(t=a.threadMetadata)||void 0===t?void 0:t.archiveTimestamp;if(null!=n){var u=r.scrollTop+r.scrollHeight;r.offsetHeight-u<200&&H(n)}}}}),[D,H,I]);return 0===D.length?j?M("div",{className:b.default.list},void 0,B,M(i.default,{className:b.default.spinner}),";"):M("div",{className:b.default.list},void 0,B,M(m.default,{channel:t,header:S.default.Messages.THREAD_BROWSER_EMPTY_STATE_ARCHIVED_HEADER,startThread:r})):n.createElement(v.default,{ref:W,className:b.default.list,fade:!0,sections:[D.length],sectionHeight:64,rowHeight:80,renderRow:F,renderSection:L,chunkSize:20,onScroll:k?x:void 0})}R.displayName="ArchivedThreadsTab"},789317:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var a,n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=n?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;r&&r.set(e,a);return a}(r(667294)),u=v(r(294184)),l=v(r(644263)),o=v(r(521358)),i=v(r(895377)),d=v(r(903086)),s=r(330042),f=v(r(247001)),c=v(r(484317));function v(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function h(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=n;else if(l>1){for(var o=new Array(l),i=0;i<l;i++)o[i]=arguments[i+3];t.children=o}if(t&&u)for(var d in u)void 0===t[d]&&(t[d]=u[d]);else t||(t=u||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function m(e){
var t=e.channel,r=e.threadIds,a=e.startThread,v=e.gotoThread,p=n.useCallback((function(e){var t,a;return h(d.default,{threadId:r[e.row],type:(null===(t=l.default.getChannel(r[e.row]))||void 0===t||null===(a=t.threadMetadata)||void 0===a?void 0:a.archived)?s.RowType.AllArchived:s.RowType.Active,gotoThread:v},e.section+"-"+e.row)}),[r,v]);return 0===r.length?h(i.default,{channel:t,header:f.default.Messages.THREAD_BROWSER_EMPTY_STATE_ACTIVE_HEADER,startThread:a}):h(o.default,{className:(0,u.default)(c.default.list,c.default.activeThreadsList),fade:!0,sections:[r.length],sectionHeight:0,rowHeight:80,renderRow:p,renderSection:function(){return null},chunkSize:20})}m.displayName="SearchThreadsTab"},39447:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=W
;var a,n=C(r(667294)),u=N(r(294184)),l=r(536211),o=N(r(118915)),i=N(r(636602)),d=r(391869),s=N(r(689389)),f=N(r(956117)),c=N(r(16941)),v=N(r(665759)),p=C(r(186465)),h=N(r(259530)),m=N(r(348763)),y=N(r(830759)),T=N(r(971639)),S=N(r(887174)),b=r(651510),g=r(819235),_=r(566142),E=N(r(11258)),A=N(r(648794)),M=N(r(789317)),R=r(64072),O=r(770348),w=N(r(247001)),P=N(r(386545));function N(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(I=function(e){return e?r:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=I(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=n?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;r&&r.set(e,a);return a}
function D(e,t,r,a,n,u,l){try{var o=e[u](l),i=o.value}catch(e){r(e);return}o.done?t(i):Promise.resolve(i).then(a,n)}function k(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=n;else if(l>1){for(var o=new Array(l),i=0;i<l;i++)o[i]=arguments[i+3];t.children=o}if(t&&u)for(var d in u)void 0===t[d]&&(t[d]=u[d]);else t||(t=u||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var j=k(m.default,{width:20,height:20}),H=k(h.default,{});function W(e){var t,r,a,v,h,m,N,I,C,W,L,F,x,z,V,$,Y,Z,G=e.channel,U=e.className,q=e.onClose,J=n.useState(b.StatusTab.Active),K=J[0],Q=J[1],X=n.useState(!1),ee=X[0],te=X[1],re=(0,l.useStateFromStores)([s.default],(function(){return s.default.can(O.Permissions.READ_MESSAGE_HISTORY,G)})),ae=(0,g.useCanStartThread)(G),ne=function(){q()
;S.default.openThreadSidebarForCreating(G,void 0,"Thread Browser Empty State")},ue=n.useCallback((function(e,t){q();t?S.default.openThreadSidebarForViewing(e):(0,d.transitionToThread)(e,R.OpenThreadAnalyticsLocations.BROWSER)}),[q]),le=(a=G.guild_id,v=G.id,h=n.useState(""),m=h[0],N=h[1],I=n.useState(!1),C=I[0],W=I[1],L=n.useState(!1),F=L[0],x=L[1],z=n.useState([]),V=z[0],$=z[1],Y=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,n,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=m&&""!==m){e.next=2;break}return e.abrupt("return");case 2:if(!C){e.next=4;break}return e.abrupt("return");case 4:W(!0);e.prev=5;e.next=8;return o.default.get({url:O.Endpoints.THREAD_SEARCH(v),query:{name:m}});case 8:t=e.sent;r=t.body;n=r.threads;u=r.members;i.default.dispatch({type:O.ActionTypes.LOAD_THREADS_SUCCESS,threads:n,members:u,guildId:a,channelId:v});x(!0);$(n.map((function(e){return e.id})));case 15:e.prev=15;W(!1);return e.finish(15)
;case 18:case"end":return e.stop()}}),e,null,[[5,,15,18]])})),function(){var t=this,r=arguments;return new Promise((function(a,n){var u=e.apply(t,r);function l(e){D(u,a,n,l,o,"next",e)}function o(e){D(u,a,n,l,o,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}(),Z=function(e){N(e);0===e.length&&x(!1)},{query:m,setQuery:Z,isLoading:C,hasResults:F,submit:Y,results:V});n.useEffect((function(){re||K===b.StatusTab.Active||Q(b.StatusTab.Active)}),[re,K]);n.useEffect((function(){K===b.StatusTab.Active&&(0,_.trackThreadBrowserTab)("Active Threads")}),[K]);return k("div",{className:(0,u.default)(U,P.default.container)},void 0,k("div",{className:P.default.header},void 0,k(y.default,{className:P.default.threadIcon}),k(T.default,{size:T.default.Sizes.SIZE_16,className:P.default.title},void 0,w.default.Messages.THREAD_BROWSER_TITLE),re?ee?n.createElement(n.Fragment,null,k("div",{className:P.default.divider}),n.createElement(B,le)):n.createElement(n.Fragment,null,k("div",{
className:P.default.divider}),k(c.default,{className:P.default.searchIcon,onClick:function(){return te(!0)},"aria-label":w.default.Messages.SEARCH},void 0,j),k(p.default,{selectedItem:K,type:p.Types.TOP_PILL,onItemSelect:Q,className:P.default.tabBar},void 0,k(p.Item,{id:b.StatusTab.Active,className:(0,u.default)(P.default.tab,(t={},t[P.default.active]=K===b.StatusTab.Active,t))},void 0,w.default.Messages.THREAD_BROWSER_ACTIVE),k(p.Item,{id:b.StatusTab.Archived,className:(0,u.default)(P.default.tab,(r={},r[P.default.active]=K===b.StatusTab.Archived,r))},void 0,w.default.Messages.THREAD_BROWSER_ARCHIVED))):null,k("div",{className:P.default.spacer}),ae?k(f.default,{size:f.default.Sizes.MIN,className:P.default.createButton,onClick:function(){q();S.default.openThreadSidebarForCreating(G,void 0,"Thread Browser Toolbar")}},void 0,w.default.Messages.CREATE):null,k(c.default,{className:P.default.closeIcon,onClick:q,"aria-label":w.default.Messages.CLOSE},void 0,H)),le.hasResults?k(M.default,{
channel:G,startThread:ne,gotoThread:ue,threadIds:le.results}):K===b.StatusTab.Active?k(E.default,{channel:G,startThread:ne,gotoThread:ue}):k(A.default,{channel:G,startThread:ne,gotoThread:ue}))}W.displayName="ThreadBrowser";function B(e){var t=e.query,r=e.setQuery,a=e.submit,n=e.isLoading;return k(v.default,{autoFocus:!0,className:P.default.searchBox,query:t,isLoading:n,onChange:function(e){return r(e)},onClear:function(){return r("")},onKeyDown:function(e){return"Enter"===e.key&&a()}})}B.displayName="SearchBox"},895377:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=n?Object.getOwnPropertyDescriptor(e,u):null
;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;r&&r.set(e,a)}(r(667294));var a,n=c(r(956117)),u=c(r(571830)),l=c(r(830759)),o=c(r(971639)),i=c(r(776360)),d=r(819235),s=c(r(247001)),f=c(r(170471));function c(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function p(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=n;else if(l>1){for(var o=new Array(l),i=0;i<l;i++)o[i]=arguments[i+3];t.children=o}if(t&&u)for(var d in u)void 0===t[d]&&(t[d]=u[d]);else t||(t=u||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var h=p(l.default,{width:36,height:36});function m(e){var t=e.channel,r=e.header,a=e.startThread,l=(0,d.useCanStartPublicThread)(t),c=(0,d.useCanStartPrivateThread)(t)
;return p("div",{className:f.default.container},void 0,p("div",{className:f.default.iconContainer},void 0,p("div",{className:f.default.icon},void 0,h),p(u.default,{className:f.default.stars})),p(o.default,{className:f.default.header,size:o.default.Sizes.SIZE_24},void 0,r),p(i.default,{color:i.default.Colors.HEADER_SECONDARY,size:i.default.Sizes.SIZE_16},void 0,s.default.Messages.THREAD_BROWSER_EMPTY_STATE_SUBTEXT),l||c?p(n.default,{className:f.default.cta,onClick:a},void 0,s.default.Messages.CREATE_THREAD):null)}m.displayName="ThreadBrowserEmptyState"},903086:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){
var l=n?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;r&&r.set(e,a);return a}(r(667294)),u=r(536211),l=r(378158),o=y(r(644263)),i=y(r(737483)),d=y(r(728429)),s=y(r(16941)),f=y(r(971639)),c=y(r(152731)),v=y(r(864061)),p=y(r(330042)),h=r(64072),m=y(r(259869));function y(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}function S(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=n;else if(l>1){for(var o=new Array(l),i=0;i<l;i++)o[i]=arguments[i+3];t.children=o}if(t&&u)for(var d in u)void 0===t[d]&&(t[d]=u[d]);else t||(t=u||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function b(){b=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};return b.apply(this,arguments)}function g(e,t,r,a,n,u,l){try{var o=e[u](l),i=o.value}catch(e){r(e);return}o.done?t(i):Promise.resolve(i).then(a,n)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var u=e.apply(t,r);function l(e){g(u,a,n,l,o,"next",e)}function o(e){g(u,a,n,l,o,"throw",e)}l(void 0)}))}}var E=n.memo((function(e){var t=e.threadId,a=e.type,i=e.gotoThread,d=e.showChannelName,c=(0,u.useStateFromStores)([o.default],(function(){return o.default.getChannel(t)})),v=(0,u.useStateFromStores)([o.default],(function(){return o.default.getChannel(c.parent_id)}));return S(s.default,{className:m.default.container,onClick:function(e){return i(c,e.shiftKey)},onContextMenu:function(e){return(0,l.openContextMenuLazy)(e,_(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([r.e(40532),r.e(79762),r.e(63579)]).then(r.bind(r,818228));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return n.createElement(a,b({},e,{channel:c}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,S("div",{className:m.default.left},void 0,S(f.default,{className:m.default.threadNameLine,size:f.default.Sizes.SIZE_16},void 0,S("span",{className:m.default.threadName},void 0,c.name),d&&null!=v?S("span",{className:m.default.parentName},void 0,"#"+v.name):null),(0,p.default)(c,a)),S(A,{channel:c}))}));t.default=E;function A(e){var t=e.channel,r=(0,u.useStateFromStores)([v.default],(function(){var e;return null!==(e=v.default.getMemberIdsPreview(t.id))&&void 0!==e?e:[]})),a=(0,u.useStateFromStores)([v.default],(function(){var e;return null!==(e=v.default.getMemberCount(t.id))&&void 0!==e?e:0})),l=(0,u.useStateFromStoresArray)([d.default],(function(){return r.map((function(e){
return d.default.getUser(e)}))}));n.useEffect((function(){r.filter((function(e,t){return null==l[t]})).forEach((function(e){i.default.requestMember(t.guild_id,e)}))}),[]);return 0===r.length?null:S(c.default,{className:m.default.facepile,showDefaultAvatarsForNullUsers:!0,guildId:t.guild_id,users:l,count:a,max:h.MAX_THREAD_MEMBERS_PREVIEW})}A.displayName="Facepile"},330042:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.RecentMessageSubtext=C;t.RowType=void 0;t.default=function(e,t){return t===n.Active?P(N,{channel:e}):t===n.AllArchived?P(D,{channel:e}):P(k,{channel:e})};var a,n,u=w(r(667294)),l=R(r(730381)),o=r(536211),i=w(r(538930)),d=r(982437),s=R(r(786661)),f=R(r(116518)),c=R(r(907932)),v=R(r(876874)),p=R(r(191391)),h=R(r(290629)),m=R(r(728429)),y=R(r(830759)),T=r(961365),S=R(r(776360)),b=w(r(35033)),g=R(r(71636)),_=R(r(979674)),E=r(566142),A=R(r(247001)),M=R(r(259869));function R(e){return e&&e.__esModule?e:{default:e}}function O(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=n?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;r&&r.set(e,a);return a}function P(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=n;else if(l>1){for(var o=new Array(l),i=0;i<l;i++)o[i]=arguments[i+3];t.children=o}if(t&&u)for(var d in u)void 0===t[d]&&(t[d]=u[d]);else t||(t=u||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}t.RowType=n
;!function(e){e[e.Active=0]="Active";e[e.AllArchived=1]="AllArchived";e[e.MyArchived=2]="MyArchived"}(n||(t.RowType=n={}));function N(e){var t=e.channel,r=(0,o.useStateFromStores)([_.default],(function(){return _.default.getMostRecentMessage(t.id)}));return null==r?P(I,{channel:t}):P(C,{channel:t,message:r})}function I(e){var t=e.channel,r=(0,o.useStateFromStores)([p.default],(function(){return p.default.lastMessageId(t.id)}));return P(S.default,{className:M.default.subtext,size:S.default.Sizes.SIZE_14,color:S.default.Colors.HEADER_SECONDARY},void 0,A.default.Messages.THREAD_BROWSER_NO_RECENT_MESSAGES,"  •  ",(0,E.getTimestampString)(g.default.extractTimestamp(r)))}I.displayName="NoRecentMessageSubtext";function C(e){var t,r=e.channel,a=e.message;(0,d.useSubscribeGuildMembers)(((t={})[r.guild_id]=[a.author.id],t));var n=(0,o.useStateFromStores)([m.default],(function(){var e;return null!==(e=m.default.getUser(a.author.id))&&void 0!==e?e:a.author})),l=(0,
c.default)(a),s=l.nick,v=l.colorString,p=(0,o.useStateFromStores)([h.default],(function(){return h.default.isBlocked(a.author.id)})),y=u.useMemo((function(){var e=null!=a.content&&""!==a.content?(0,f.default)(a,{formatInline:!0}).content:null,t=(0,T.renderSingleLineMessage)(a,e,p,M.default.messageContent,M.default.messageContentIcon),r=t.contentPlaceholder,n=t.renderedContent,l=t.icon;return u.createElement(u.Fragment,null,null!=n?n:P("span",{},void 0,r),l)}),[a,p]);return P(S.default,{className:M.default.subtext,size:S.default.Sizes.SIZE_14,color:S.default.Colors.HEADER_SECONDARY},void 0,P(i.default,{className:M.default.avatar,user:n,size:i.Sizes.SIZE_16}),P("span",{className:M.default.authorName,style:{color:v}},void 0,s,":")," ",y,"  •  ",(0,E.getTimestampString)(g.default.extractTimestamp(a.id)))}C.displayName="RecentMessageSubtext";function D(e){var t=e.channel;return P(j,{channel:t,timestamp:A.default.Messages.THREAD_BROWSER_ARCHIVE_TIME.format({time:b.calendarFormat((0,
l.default)(t.threadMetadata.archiveTimestamp))})})}D.displayName="ArchiveTimeSubtext";function k(e){var t=e.channel;return P(j,{channel:t,timestamp:A.default.Messages.THREAD_BROWSER_CREATION_TIME.format({time:b.calendarFormat((0,l.default)(new Date(g.default.extractTimestamp(t.id))))})})}k.displayName="CreatedTimeSubtext";function j(e){var t,r,a=e.channel,n=e.timestamp;(0,d.useSubscribeGuildMembers)(((t={})[a.guild_id]=[a.ownerId],t));var l=(0,o.useStateFromStores)([m.default],(function(){return m.default.getUser(a.ownerId)})),f=(0,o.useStateFromStores)([v.default],(function(){return v.default.getMember(a.guild_id,a.ownerId)})),c=null!==(r=(0,s.default)(a))&&void 0!==r?r:y.default;return P(S.default,{className:M.default.subtext,size:S.default.Sizes.SIZE_14,color:S.default.Colors.HEADER_SECONDARY},void 0,null==l?u.createElement(u.Fragment,null,P("div",{className:M.default.noAvatarIcon},void 0,P(c,{width:10,height:10})),n):u.createElement(u.Fragment,null,P(i.default,{
className:M.default.avatar,user:l,size:i.Sizes.SIZE_16}),A.default.Messages.THREAD_BROWSER_STARTED_BY.format({authorHook:function(e,t){var r,a;return P("span",{className:M.default.startedByName,style:{color:null!==(r=null==f?void 0:f.colorString)&&void 0!==r?r:void 0}},t," ",null!==(a=null==f?void 0:f.nick)&&void 0!==a?a:l.username)}}),P("span",{className:M.default.bullet},void 0,"•"),n))}j.displayName="StartedBySubtext"}}]);
//# sourceMappingURL=2bad4c83c807b3f47859.js.map