"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[57166,75659],{603201:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.canEveryoneRoleViewEvent=E;t.default=function(e){return(0,a.useStateFromStores)([i.default,l.default,o.default,u.default],(function(){return g(e,[i.default,l.default,o.default,u.default])}),[e])};t.isGuildEventInvitable=g;var a=n(536211),r=n(689575),u=p(n(217964)),l=p(n(644263)),i=p(n(517286)),o=p(n(30098)),d=p(n(689389)),s=p(n(656016)),f=n(330321),c=n(198756),v=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function E(e,t){var n=(void 0===t?[l.default]:t)[0],a=function(e){return"entity_type"in e?{entityType:e.entity_type,channelId:e.channel_id}:e}(e),r=a.entityType,u=a.channelId;if(r===c.GuildScheduledEventEntityTypes.EXTERNAL)return!0;var i=n.getChannel(u);return null!=i&&s.default.canEveryoneRole(v.Permissions.VIEW_CHANNEL,i)}function g(e,t){
var n=void 0===t?[i.default,l.default,o.default,u.default]:t,a=n[0],s=n[1],v=n[2],p=n[3];if((0,f.isGuildEventEnded)(e))return!1;var g=e.guild_id,y=e.channel_id,_=e.entity_type===c.GuildScheduledEventEntityTypes.EXTERNAL?a.getDefaultChannel(e.guild_id):s.getChannel(y),m=v.getGuild(g),h=p.getStageInstanceByChannel(y);return!!(0,r.canViewInviteModal)(d.default,m,_,h)&&(null!=_&&E(e,[s]))}},316901:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.id,n=e.data,d=n.guild,s=n.instance,f=n.speakers,c=n.participantCount,v=e.context,p=(0,a.useStateFromStores)([o.default,i.default],(function(){var e;return o.default.getGuild(null===(e=i.default.getChannel(t))||void 0===e?void 0:e.getGuildId())}),[t]),E=(0,a.useStateFromStores)([l.default],(function(){return l.default.getStageInstanceByChannel(t)}),[t]),g=(0,r.useStageParticipants)(t,u.StageChannelParticipantNamedIndex.SPEAKER),y=(0,
r.useStageParticipantsCount)(t),_=null!=p?p:d,m=null!=E?E:s,h=null!=E?g:f,S=(null!=E?y:c)-h.length;return{channelId:t,guild:_,stage:m,speakers:h,audienceCount:S,context:v}};var a=n(536211),r=n(216554),u=n(921867),l=d(n(217964)),i=d(n(644263)),o=d(n(30098));function d(e){return e&&e.__esModule?e:{default:e}}},363470:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return(0,a.useStateFromStoresObject)([u.default,r.default],(function(){var n=u.default.getGuild(e),a=null!=n;null==n&&null!=t&&(n=r.default.getCachedGuildByEventId(t));return{isMember:a,guild:n}}),[e,t])};var a=n(536211),r=l(n(412911)),u=l(n(30098));function l(e){return e&&e.__esModule?e:{default:e}}},619683:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.SHARE_EVENT_DETAILS_LINK=void 0;t.SHARE_EVENT_DETAILS_LINK=function(e){return"https://discord.com/events/"+e.guildId+"/"+e.guildEventId}},803562:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=b
;var a=M(n(667294)),r=n(536211),u=C(n(762029)),l=C(n(930409)),i=C(n(217964)),o=C(n(644263)),d=C(n(689389)),s=C(n(893160)),f=C(n(728429)),c=n(452453),v=M(n(330321)),p=C(n(603201)),E=C(n(316901)),g=C(n(363470)),y=n(549905),_=C(n(60667)),m=M(n(69252)),h=C(n(751469)),S=n(770348);function C(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=r?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;n&&n.set(e,a);return a}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return I.apply(this,arguments)}function b(e){var t,n=e.guildEvent,C=e.guildId,N=e.truncate,M=e.onActionTaken,b=e.className,O=e.isNew,k=n.id,P=n.guild_id,T=n.channel_id,L=n.creator_id,A=n.name,w=n.description,D=n.scheduled_start_time,G=n.user_count,R=n.entity_type,j=n.image,U=(0,r.useStateFromStores)([v.default],(function(){return v.default.hasRsvp(k,P)}),[k,P]),V=(0,r.useStateFromStores)([l.default],(function(){return l.default.isLurking(P)}),[P]),x=(0,r.useStateFromStores)([i.default],(function(){return i.default.getStageInstanceByChannel(T)}),[T]),z=(0,r.useStateFromStores)([o.default],(function(){return o.default.getChannel(T)}),[T]),H=(0,r.useStateFromStores)([f.default],(function(){return f.default.getUser(L)}),[L]),F=(0,E.default)({id:T,data:{guild:null,instance:x,speakers:[],participantCount:0},context:{guildId:P,instance:x}}).speakers,B=(0,r.useStateFromStores)([s.default],(function(){
return s.default.getChannelId()})),W=(0,v.isGuildScheduledEventActive)(n),Y=(0,v.isGuildEventEnded)(n),J=B===T&&null!=B&&W,Z=F.length,$=(0,r.useStateFromStores)([d.default],(function(){return d.default.can(S.Permissions.CONNECT,z)}),[z]),K=(0,p.default)(n),X=(0,g.default)(P,k),q=X.isMember,Q=X.guild,ee=(0,h.default)({guild:Q,channel:z,guildScheduledEvent:n,isActive:W,rsvped:U,onActionTaken:M}),te=(0,u.default)(C),ne=V?void 0:function(){return(0,c.openGuildEventDetails)(k,C)};return a.createElement(m.default,I({guild:Q,channel:z,creator:H,userCount:G,name:A,entityType:R,description:null!=w?w:void 0,location:null!==(t=(0,y.getLocationFromEvent)(n))&&void 0!==t?t:void 0,startTime:D,imageSource:j?(0,_.default)(n):void 0,imageLocation:m.GuildEventBodyImageLocation.THUMBNAIL,isActive:W,isUserLurking:V,isEnded:Y,isJoined:J,isMember:q,isHub:te,speakers:F,canConnect:$,speakerCount:Z,rsvped:U,canInvite:K},ee,{className:b,onClick:ne,truncate:N,isNew:O}))}b.displayName="GuildEvent"},
69252:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.GuildEventBodyImageLocation=void 0;t.default=D;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=r?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;n&&n.set(e,a);return a}(n(667294)),u=b(n(294184)),l=n(536211),i=b(n(250490)),o=n(341186),d=b(n(689389)),s=b(n(16941)),f=b(n(380439)),c=b(n(730977)),v=b(n(934018)),p=b(n(776360)),E=n(647261),g=n(515234),y=b(n(938509)),_=b(n(13700)),m=b(n(958078)),h=b(n(503797)),S=b(n(630565)),C=n(198756),N=n(770348),M=b(n(247001)),I=b(n(919569));function b(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function k(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=r;else if(l>1){for(var i=new Array(l),o=0;o<l;o++)i[o]=arguments[o+3];t.children=i}if(t&&u)for(var d in u)void 0===t[d]&&(t[d]=u[d]);else t||(t=u||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return P.apply(this,arguments)}var T;t.GuildEventBodyImageLocation=T;!function(e){e[e.BANNER=0]="BANNER";e[e.THUMBNAIL=1]="THUMBNAIL"}(T||(t.GuildEventBodyImageLocation=T={}));function L(e){var t=e.channel,n=e.onClick,a=(0,l.useStateFromStores)([d.default],(function(){return d.default.can(N.Permissions.MANAGE_EVENTS,t)
}),[t]),f=(0,l.useStateFromStores)([d.default],(function(){return!t.isVocal()||d.default.can(N.Permissions.CONNECT,t)}),[t]),v=r.useMemo((function(){return(0,i.default)(t)}),[t]),E=(0,o.getChannelIconComponent)(t);return k(c.default,{text:M.default.Messages.GUILD_EVENT_CANNOT_CONNECT,shouldShow:!f&&null!=n},void 0,(function(e){var l;return r.createElement(s.default,P({},e,{className:(0,u.default)(I.default.inline,I.default.channelContainer,(l={},l[I.default.channelContainerEnabled]=f&&null!=n,l[I.default.channelContainerDisabled]=!f&&null!=n,l)),onClick:n}),k(c.default,{text:M.default.Messages.GUILD_EVENT_PRIVATE_CHANNEL_TOOLTIP,shouldShow:a&&v&&f&&null!=n},void 0,(function(e){return null!=E?r.createElement(E,P({},e,{width:20,height:20,className:I.default.icon})):null})),k(p.default,{size:p.default.Sizes.SIZE_14,color:p.default.Colors.CUSTOM,className:I.default.channelLocation},void 0,t.name))}))}L.displayName="ChannelDisplay";var A=k("div",{});function w(e){
var t=e.guild,n=e.channel,a=e.onJoinClick,r=e.handleLocationClick,l=e.location,i=e.isExternal;return e.isHub?null==t?A:k("div",{className:I.default.inline},void 0,k(f.default,{className:I.default.guildIcon,size:f.default.Sizes.MINI,active:!0,guild:t}),k(p.default,{size:p.default.Sizes.SIZE_14,color:p.default.Colors.HEADER_SECONDARY},void 0,null==t?void 0:t.name)):null!=n?k(L,{channel:n,onClick:a}):k(s.default,{className:I.default.inline,onClick:r},void 0,k(v.default,{height:20,width:20,className:(0,u.default)(I.default.channelContainer,I.default.icon)}),k(p.default,{className:i?I.default.externalLocation:I.default.channelLocation},void 0,(0,E.guildEventDetailsParser)(l,!0)))}function D(e){
var t,n=e.className,a=e.guild,r=e.channel,l=e.creator,i=e.userCount,o=e.name,d=e.entityType,f=e.description,c=e.startTime,v=e.imageLocation,p=void 0===v?T.BANNER:v,E=e.imageSource,N=e.isActive,M=e.isUserLurking,b=e.isEnded,O=e.isJoined,P=void 0!==O&&O,L=e.isMember,A=void 0!==L&&L,D=e.isHub,G=void 0!==D&&D,R=e.speakers,j=e.speakerCount,U=e.rsvped,V=e.canInvite,x=e.location,z=e.truncate,H=e.onContextMenu,F=e.onJoinClick,B=e.onJoinGuildClick,W=e.onGoToGuildClick,Y=e.onRsvpClick,J=e.onStartClick,Z=e.onInviteClick,$=e.onEndClick,K=e.onClick,X=e.isNew,q=(0,g.isChannelPublic)(r,d),Q=d===C.GuildScheduledEventEntityTypes.EXTERNAL,ee=Q?function(e){return e.stopPropagation()}:void 0;return k(s.default,{onClick:K,onContextMenu:H,className:(0,u.default)(I.default.card,(t={},t[I.default.joined]=P,t[I.default.lurking]=M,t),n)},void 0,p===T.BANNER&&k(_.default,{source:E}),k(m.default,{userCount:i,creator:l,name:o,description:f,startTime:c,imageSource:p===T.THUMBNAIL?E:null,isActive:N,isEnded:b,
truncate:z,guildId:null==a?void 0:a.id,eventType:d,isHub:G,isNew:X}),N&&null!=a&&null!=R&&j>0&&k(S.default,{guild:a,speakers:R,speakerCount:j,className:I.default.spacing}),k("hr",{className:I.default.divider}),k("div",{className:(0,u.default)(I.default.inline,I.default.footer)},void 0,k(w,{guild:a,channel:r,onJoinClick:F,handleLocationClick:ee,location:x,isExternal:Q,isHub:G}),G?k(h.default,{isActive:N,isUserLurking:M,isMember:A,rsvped:U,onRsvpClick:Y,onJoinGuildClick:B,onGoToGuildClick:W,guildName:null==a?void 0:a.name,canInvite:V,isChannelPublic:q,onInviteClick:Z}):k(y.default,{entityType:d,isJoined:P,isActive:N,isUserLurking:M,rsvped:U,canInvite:V,isChannelPublic:q,onContextMenu:H,onJoinClick:F,onRsvpClick:Y,onStartClick:J,onInviteClick:Z,onEndClick:$})))}D.displayName="GuildEventBody"},757166:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=F
;var a,r=U(n(667294)),u=R(n(496486)),l=R(n(795715)),i=n(508510),o=U(n(421910)),d=R(n(97982)),s=R(n(517286)),f=R(n(737483)),c=R(n(30098)),v=R(n(191391)),p=R(n(956117)),E=R(n(16941)),g=n(354479),y=R(n(32443)),_=R(n(259530)),m=n(3400),h=n(194322),S=R(n(971639)),C=R(n(308920)),N=n(71246),M=n(883662),I=n(59343),b=R(n(701593)),O=R(n(3594)),k=R(n(902399)),P=R(n(803562)),T=R(n(302962)),L=n(198756),A=n(770348),w=n(916736),D=R(n(247001)),G=R(n(555175));function R(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=r?Object.getOwnPropertyDescriptor(e,u):null
;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;n&&n.set(e,a);return a}function V(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=r;else if(l>1){for(var i=new Array(l),o=0;o<l;o++)i[o]=arguments[o+3];t.children=i}if(t&&u)for(var d in u)void 0===t[d]&&(t[d]=u[d]);else t||(t=u||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return x.apply(this,arguments)}function z(e,t,n,a,r,u,l){try{var i=e[u](l),o=i.value}catch(e){n(e);return}i.done?t(o):Promise.resolve(o).then(a,r)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var u=e.apply(t,n);function l(e){z(u,a,r,l,i,"next",e)}
function i(e){z(u,a,r,l,i,"throw",e)}l(void 0)}))}}function F(e){var t=e.transitionState,a=e.onClose,R=e.guildId,j=(0,g.useUID)(),U=(0,I.useGuildEventExperiment)(R)[0],z=(0,O.default)(R),F=(0,k.default)(R),B=r.useRef(v.default.ackMessageId(R,w.ReadStateTypes.GUILD_EVENT));r.useEffect((function(){b.default.getGuildEventUserCounts(R);b.default.getGuildEventsForCurrentUser(R)}),[R]);r.useEffect((function(){var e=c.default.getGuild(R);if(null==e?void 0:e.hasFeature(A.GuildFeatures.HUB)){if(d.default.getCurrentConfig({guildId:R}).showHubEventsList){var t=s.default.getDefaultChannel(R);null!=t&&o.fetchDirectoryEntries(t.id)}}}),[R]);r.useEffect((function(){U&&C.default.track(A.AnalyticEvents.OPEN_MODAL,{type:L.ANALYTICS_GUILD_EVENTS_MODAL_NAME,guild_id:R,guild_events_count:F.length})}),[]);r.useEffect((function(){(0,u.default)(F).map((function(e){return e.creator_id})).filter(N.isNotNullish).uniq().forEach((function(e){f.default.requestMember(R,e)}))}),[R,F]);r.useEffect((function(){
null!=R&&(0,M.isGuildEventReadStatesEnabled)(R)&&(0,i.ackGuildFeature)(R,w.ReadStateTypes.GUILD_EVENT)}),[R]);if(!U)return null;return V(m.ModalRoot,{size:m.ModalSize.MEDIUM,transitionState:t,"aria-labelledby":j},void 0,V(m.ModalHeader,{className:G.default.header},void 0,V(y.default,{className:G.default.icon}),V(S.default,{size:S.default.Sizes.SIZE_16},void 0,F.length>0?D.default.Messages.GUILD_EVENTS_PLURAL.format({number:F.length}):D.default.Messages.GUILD_EVENTS),z&&r.createElement(r.Fragment,null,V("div",{className:G.default.divider},void 0,"|"),V(p.default,{size:p.default.Sizes.MIN,onClick:function(){(0,h.openModalLazy)(H(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865),n.e(13557),n.e(8062),n.e(1025),n.e(10928),n.e(84716)]).then(n.bind(n,901025));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,x({},e,{guildId:R
}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:A.NOOP_NULL})},innerClassName:G.default.button},void 0,D.default.Messages.SCHEDULE_EVENT)),V(E.default,{onClick:a,className:G.default.iconButton,"aria-label":D.default.Messages.CLOSE},void 0,V(_.default,{className:G.default.icon}))),V(m.ModalContent,{className:G.default.content},void 0,F.length>0?F.map((function(e){return V(P.default,{guildEvent:e,guildId:R,onActionTaken:a,className:G.default.eventCard,isNew:null!=B.current&&l.default.compare(e.id,B.current)>0},e.id)})):V(T.default,{guildId:R,onClose:a})))}F.displayName="GuildEventsModal"},302962:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){
var l=r?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;n&&n.set(e,a)}(n(667294));var a,r=n(536211),u=g(n(964285)),l=g(n(97982)),i=g(n(991636)),o=g(n(30098)),d=g(n(689389)),s=g(n(32443)),f=g(n(971639)),c=g(n(776360)),v=n(770348),p=g(n(247001)),E=g(n(596113));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=r;else if(l>1){for(var i=new Array(l),o=0;o<l;o++)i[o]=arguments[o+3];t.children=i}if(t&&u)for(var d in u)void 0===t[d]&&(t[d]=u[d]);else t||(t=u||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.guildId,n=e.onClose,a=l.default.useExperiment({
guildId:t}).showHubEventsList,g=(0,r.useStateFromStores)([o.default,d.default],(function(){var e=o.default.getGuild(t);return d.default.can(v.Permissions.MANAGE_ROLES,e)}),[t]),y=(0,r.useStateFromStores)([o.default],(function(){var e=o.default.getGuild(t);return a&&(null==e?void 0:e.hasFeature(v.GuildFeatures.HUB))}),[t,a]);return _("div",{className:E.default.container},void 0,_(i.default,{},void 0,_("div",{className:E.default.circle},void 0,_(s.default,{height:40,width:40,className:E.default.icon}))),_(f.default,{color:c.default.Colors.HEADER_PRIMARY,size:c.default.Sizes.SIZE_24,className:E.default.title},void 0,y?p.default.Messages.HUB_EVENTS_HEADER_TITLE:p.default.Messages.GUILD_EVENT_MODAL_EMPTY_TITLE),_(c.default,{color:c.default.Colors.HEADER_SECONDARY,size:c.default.Sizes.SIZE_14,className:E.default.subtitle},void 0,y?p.default.Messages.HUB_EVENTS_HEADER_DESCRIPTION:p.default.Messages.GUILD_EVENT_MODAL_EMPTY_SUBTITLE),g&&_(c.default,{color:c.default.Colors.HEADER_SECONDARY,
size:c.default.Sizes.SIZE_14,className:E.default.roleTip},void 0,p.default.Messages.GUILD_EVENT_ROLE_TIP.format({onClick:function(){u.default.open(t,v.GuildSettingsSections.ROLES);n()}})))}m.displayName="GuildEventsNoContent"},630565:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=r?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;n&&n.set(e,a)}(n(667294));var a,r=s(n(294184)),u=s(n(855480)),l=s(n(628551)),i=s(n(776360)),o=s(n(247001)),d=s(n(811948));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(f=function(e){return e?n:t})(e)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=r;else if(l>1){for(var i=new Array(l),o=0;o<l;o++)i[o]=arguments[o+3];t.children=i}if(t&&u)for(var d in u)void 0===t[d]&&(t[d]=u[d]);else t||(t=u||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=c(u.default,{height:12});function p(e){var t=e.guild,n=e.speakers,a=e.speakerCount,u=e.className,s=n.slice(0,5),f=s.map((function(e){var n,a;return c("div",{className:d.default.speakerContainer},null==e||null===(n=e.user)||void 0===n?void 0:n.id,c(l.default,{src:null==e||null===(a=e.user)||void 0===a?void 0:a.getAvatarURL(t.id,24),size:l.default.Sizes.SIZE_24,className:d.default.avatar,"aria-label":(null==e?void 0:e.userNick)+"-avatar"}),c("div",{className:d.default.textInGridContainer},void 0,c(i.default,{
color:i.default.Colors.HEADER_SECONDARY,size:i.default.Sizes.SIZE_14,className:d.default.textInGrid},void 0,null==e?void 0:e.userNick)))})),p=a-s.length;return c("div",{className:(0,r.default)(d.default.grid,u)},void 0,f,p>0&&c("div",{className:d.default.speakerContainer},void 0,c("div",{className:d.default.iconMicrophone},void 0,v),c(i.default,{color:i.default.Colors.HEADER_SECONDARY,size:i.default.Sizes.SIZE_14,className:d.default.textInGrid},void 0,o.default.Messages.STAGE_DISCOVERY_LIVE_STAGE_TILE_SPEAKER_SUMMARY_OVERFLOW.format({count:p}))))}p.displayName="SpeakerSummarySection"},751469:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guild,a=e.channel,P=e.guildScheduledEvent,T=e.isActive,w=e.rsvped,G=e.onActionTaken,R=P.scheduled_start_time,j=P.id,U=P.entity_type,V=P.guild_id,x=(0,S.useCanCreateEditDeleteEvent)(null==t?void 0:t.id,a),z=(0,C.default)(P),H=(0,N.useIsChannelPublic)(null==a?void 0:a.id,P.id),F=(0,
M.getEventTimeData)(R).withinStartWindow,B=(0,u.useStateFromStores)([p.default],(function(){return!(null==a?void 0:a.isVocal())||p.default.can(O.Permissions.CONNECT,a)}),[a]),W=(0,o.useShowMemberVerificationGate)(V);function Y(e){e.stopPropagation();w?h.default.deleteRsvpForGuildEvent(j,V):h.default.createRsvpForGuildEvent(j,V)}function J(){return(J=D(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation();e.next=3;return i.default.joinGuild(V);case 3:v.default.addConditionalChangeListener((function(){if(null==v.default.getGuild(V))return!0;T||Y(t);Z(t);return!1}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){e.stopPropagation();var t=c.default.getDefaultChannel(V);(0,g.closeAllModals)();(0,s.transitionToGuild)(V,null==t?void 0:t.id)}return{onDeleteClick:x?function(e){e.stopPropagation();x&&!T&&(0,g.openModal)((function(e){return r.createElement(E.default,A({},e,{
header:k.default.Messages.GUILD_EVENT_DELETE_CONFIRM_HEADER,confirmText:k.default.Messages.DELETE,cancelText:k.default.Messages.CANCEL,onConfirm:function(){return h.default.deleteGuildEvent(j,V)}}),L(y.default,{size:y.default.Sizes.SIZE_16},void 0,k.default.Messages.GUILD_EVENT_DELETE_CONFIRM_BODY))}))}:void 0,onContextMenu:function(e){e.stopPropagation();null!=t&&(0,l.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(16807),n.e(11315),n.e(75639),n.e(52389),n.e(73100),n.e(37797),n.e(7844)]).then(n.bind(n,944300));case 2:u=e.sent;l=u.default;return e.abrupt("return",(function(e){return r.createElement(l,A({guildEventId:j,channel:a,guildId:t.id},e))}));case 5:case"end":return e.stop()}}),e)}))))},onJoinClick:B||W?function(e){e.stopPropagation();if(W){null==G||G();(0,d.default)(V)}else if(null==a?void 0:a.isGuildStageVoice()){(0,
f.connectAndOpen)(a);null==G||G()}else if(null==a?void 0:a.isGuildVoice()){h.default.joinVoiceEvent(a.guild_id,a.id);null==G||G()}}:void 0,onRsvpClick:Y,onStartClick:x&&F?function(e){e.stopPropagation();(0,g.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(11315),n.e(46734),n.e(33988)]).then(n.bind(n,746734));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,A({},e,{event:P,onSuccess:G}))}));case 5:case"end":return e.stop()}}),e)}))))}:void 0,onInviteClick:function(e){e.stopPropagation();if(null!=t)if(z&&H)(0,g.openModalLazy)(D(regeneratorRuntime.mark((function e(){var u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865),n.e(13557),n.e(24956),n.e(81388)]).then(n.bind(n,115865));case 2:u=e.sent;l=u.default
;return e.abrupt("return",(function(e){return r.createElement(l,A({},e,{guild:t,channel:a,guildScheduledEvent:P,source:O.InstantInviteSources.GUILD_EVENTS}))}));case 5:case"end":return e.stop()}}),e)}))));else{var u=(0,I.SHARE_EVENT_DETAILS_LINK)({guildId:V,guildEventId:j});(0,m.copy)(u);_.default.track(O.AnalyticEvents.GUILD_SCHEDULED_EVENT_LINK_COPIED,{guild_id:V,guild_scheduled_event_id:j})}},onEndClick:x&&U===b.GuildScheduledEventEntityTypes.EXTERNAL&&T?function(e){e.stopPropagation();if(x){var t=function(){h.default.endEvent(j,V);(0,g.closeAllModals)()};(0,g.openModal)((function(e){return r.createElement(E.default,A({},e,{header:k.default.Messages.END_EVENT,confirmText:k.default.Messages.GUILD_EVENT_END_PROMPT_CONFIRM,cancelText:k.default.Messages.CANCEL,onConfirm:t}),L(y.default,{size:y.default.Sizes.SIZE_16},void 0,k.default.Messages.GUILD_EVENT_EXTERNAL_END_PROMPT_TITLE))}))}}:void 0,onJoinGuildClick:function(e){return J.apply(this,arguments)},onGoToGuildClick:Z}}
;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=r?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e;n&&n.set(e,a);return a}(n(667294)),u=n(536211),l=n(378158),i=P(n(415275)),o=n(897502),d=P(n(678875)),s=n(139982),f=n(637356),c=P(n(517286)),v=P(n(30098)),p=P(n(689389)),E=P(n(502197)),g=n(194322),y=P(n(776360)),_=P(n(308920)),m=n(179495),h=P(n(736428)),S=n(668516),C=P(n(603201)),N=n(515234),M=n(834547),I=n(619683),b=n(198756),O=n(770348),k=P(n(247001));function P(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function L(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=r;else if(l>1){for(var i=new Array(l),o=0;o<l;o++)i[o]=arguments[o+3];t.children=i}if(t&&u)for(var d in u)void 0===t[d]&&(t[d]=u[d]);else t||(t=u||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return A.apply(this,arguments)}function w(e,t,n,a,r,u,l){try{var i=e[u](l),o=i.value}catch(e){n(e);return}i.done?t(o):Promise.resolve(o).then(a,r)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var u=e.apply(t,n);function l(e){w(u,a,r,l,i,"next",e)}function i(e){w(u,a,r,l,i,"throw",e)}l(void 0)}))}}}}]);
//# sourceMappingURL=ee1544fb6b17abdfdca2.js.map