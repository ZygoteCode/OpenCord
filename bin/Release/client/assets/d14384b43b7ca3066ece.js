(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[1025],{674657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getDirectoryEntryBroadcastInfo=function(e,t,n){return i.apply(this,arguments)};var r,a=(r=n(118915))&&r.__esModule?r:{default:r},l=n(770348);function u(e,t,n,r,a,l,u){try{var o=e[l](u),i=o.value}catch(e){n(e);return}o.done?t(i):Promise.resolve(i).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function o(e){u(l,r,a,o,i,"next",e)}function i(e){u(l,r,a,o,i,"throw",e)}o(void 0)}))}}function i(){return(i=o(regeneratorRuntime.mark((function e(t,n,r){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.get({url:l.Endpoints.DIRECTORY_ENTRIES_BROADCAST_INFO(t),query:{type:n,entity_id:r}});case 2:u=e.sent;return e.abrupt("return",u.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},
975994:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r=a.useState(E),f=r[0],v=r[1],_=a.useState(!1),p=_[0],y=_[1],S=a.useRef(!1),I=null==e?void 0:e.id,T=null==e?void 0:e.hasFeature(s.GuildFeatures.HAS_DIRECTORY_ENTRY);a.useEffect((function(){if(T){if(!S.current&&null!=I){var e=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.current=!0;e.prev=1;e.next=4;return(0,i.getDirectoryEntryBroadcastInfo)(I,d.DirectoryEntryTypes.GUILD_SCHEDULED_EVENT,t);case 4:n=e.sent;v(n);e.next=11;break;case 8:e.prev=8;e.t0=e.catch(1);v(E);case 11:S.current=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function u(e){c(l,r,a,u,o,"next",e)}function o(e){c(l,r,a,u,o,"throw",e)}u(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}}else v(E)
}),[I,T,t]);a.useEffect((function(){var e;f.can_broadcast?y(null===(e=f.has_broadcast)||void 0===e||e):y(!1)}),[f]);var g=(0,l.useStateFromStores)([o.default],(function(){return(0,u.canEveryoneRoleViewEvent)(n,[o.default])}));return{broadcastInfo:f,broadcastToDirectoryChannels:g&&p,setBroadcastToDirectoryChannels:y,canEveryoneRoleViewEvent:g}};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}r.default=e;n&&n.set(e,r);return r}(n(667294)),l=n(536211),u=n(603201),o=(r=n(644263))&&r.__esModule?r:{default:r},i=n(674657),d=n(218044),s=n(770348);function f(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,r,a,l,u){try{var o=e[l](u),i=o.value}catch(e){n(e);return}o.done?t(i):Promise.resolve(i).then(r,a)}var E={can_broadcast:!1}},493158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getEventChannelsByType=c;t.useCanCreateEventInStageChannel=function(e){var t=(0,r.useStateFromStores)([u.default],(function(){return u.default.can(o.CREATE_GUILD_EVENT_STAGE_CHANNEL_PERMISSIONS,e)}),[e]),n=(0,r.useStateFromStores)([a.default],(function(){return a.default.getStageInstanceByChannel(e.id)}));return e.isGuildStageVoice()&&t&&null==n};t.useCanCreateEventInVoiceChannel=function(e){var t=(0,r.useStateFromStores)([u.default],(function(){return u.default.can(o.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,e)}),[e]);return e.isGuildVoice()&&t};t.useGetEventChannelsByType=function(e,t){return(0,r.useStateFromStoresArray)([u.default,l.default],(function(){return c(e,t,[l.default,u.default])
}),[e,t])};var r=n(536211),a=d(n(217964)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}r.default=e;n&&n.set(e,r);return r}(n(517286)),u=d(n(689389)),o=n(432040);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){var r=void 0===n?[l.default,u.default]:n,a=r[0],i=r[1];if(null==t)return[];for(var d,f=[],c=s(a.getChannels(e)[l.GUILD_VOCAL_CHANNELS_KEY]);!(d=c()).done;){var E=d.value.channel;E.type===t&&((E.isGuildVoice()&&i.can(o.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,E)||E.isGuildStageVoice()&&i.can(o.CREATE_GUILD_EVENT_STAGE_CHANNEL_PERMISSIONS,E))&&f.push(E))}return f}},516577:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=r.useState(!1),n=t[0],l=t[1],o=r.useState(null),i=o[0],d=o[1],s=function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l(!0);d(null);t.prev=2;t.next=5;return e();case 5:n=t.sent;l(!1);d(null);return t.abrupt("return",n);case 11:t.prev=11;t.t0=t.catch(2);r=new a.APIError(t.t0);d(r);l(!1);return t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[2,11]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var l=t.apply(e,n);function o(e){u(l,r,a,o,i,"next",e)}function i(e){u(l,r,a,o,i,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return[s,{loading:n,error:i}]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=a?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(r,u,o):r[u]=e[u]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(327269);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n,r,a,l,u){try{var o=e[l](u),i=o.value}catch(e){n(e);return}o.done?t(i):Promise.resolve(i).then(r,a)}},938159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EditGuildEventScreens=void 0;t.convertToFakeGuildEvent=function(e,t,n){var r=e.name,a=e.description,u=e.privacyLevel,o=e.channelId,d=e.scheduledStartTime,s=e.scheduledEndTime,f=e.entityType,c=e.entityMetadata,E=e.image;return{id:null!=n?n:"FAKELOL",name:r,description:null!=a?a:null,privacy_level:u,scheduled_start_time:d,scheduled_end_time:s,entity_type:f,
entity_metadata:null!=c?c:null,image:null!=E?E:void 0,channel_id:o,guild_id:t,creator_id:l.default.getId(),status:i.GuildScheduledEventStatus.SCHEDULED,user_count:1}};t.getInitialGuildEventData=function(e,t){var n,r,a,l,s,f,c={name:null!==(n=null==e?void 0:e.name)&&void 0!==n?n:"",privacyLevel:null!==(r=null==e?void 0:e.privacy_level)&&void 0!==r?r:i.GuildScheduledEventPrivacyLevel.GUILD_ONLY,description:null!==(a=null==e?void 0:e.description)&&void 0!==a?a:"",scheduledStartTime:null!==(l=null==e?void 0:e.scheduled_start_time)&&void 0!==l?l:(0,o.getInitialEventStartDate)().toISOString(),entityType:null!==(s=null==e?void 0:e.entity_type)&&void 0!==s?s:i.GuildScheduledEventEntityTypes.NONE,entityMetadata:null!==(f=null==e?void 0:e.entity_metadata)&&void 0!==f?f:void 0,channelId:null==e?void 0:e.channel_id,creatorId:null==e?void 0:e.creator_id,image:null==e?void 0:e.image,scheduledEndTime:null==e?void 0:e.scheduled_end_time}
;if(d(e)&&(null==e?void 0:e.entity_type)===i.GuildScheduledEventEntityTypes.EXTERNAL){var E=(0,u.getLocationFromEvent)(e);null!=E&&(c.entityMetadata={location:E})}else if(null==c.channelId&&null!=t){c.channelId=t.id;t.isGuildStageVoice()?c.entityType=i.GuildScheduledEventEntityTypes.STAGE_INSTANCE:t.isGuildVoice()&&(c.entityType=i.GuildScheduledEventEntityTypes.VOICE)}return c};t.isEditingEvent=function(e){return Boolean(null==e?void 0:e.id)};t.isExistingGuildEvent=d;var r,a,l=(r=n(423046))&&r.__esModule?r:{default:r},u=n(549905),o=n(834547),i=n(198756);t.EditGuildEventScreens=a;!function(e){e.CHANNEL_SELECTOR="ChannelSelector";e.DETAILS="Details";e.PREVIEW="Preview"}(a||(t.EditGuildEventScreens=a={}));function d(e){return null!=e&&"id"in e}},82375:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.guildEvent,n=e.guildEventId,r=e.guildId,f=e.editBroadcastInfoData,v=e.error,O=e.validationErrorMessage,A=e.onChange,M=e.canSetFocus,b=void 0!==M&&M,G=t.entityType,P=t.channelId,R=t.description,w=t.name,V=t.image,U=t.scheduledEndTime,j=t.scheduledStartTime,k=(0,i.useStageBlockedUsersCount)(P),F=null!=t&&(0,y.isGuildScheduledEventActive)(t),H=a.useMemo((function(){var e=(0,I.getScheduleFromEventData)(t);return null!=e?e:{startDate:(0,l.default)(j)}}),[t,j]),B=a.useRef(null);a.useEffect((function(){if(b){var e;null===(e=B.current)||void 0===e||e.focus()}}),[b]);var z=function(e){A({image:e})};return a.createElement(a.Fragment,null,D("div",{className:C.default.blockedUsersContainer},void 0,null!=P&&!F&&k>0&&D(d.BlockedUsersNotice,{channelId:P})),D("div",{className:C.default.form},void 0,D(_.FormItem,{title:m.default.Messages.GUILD_EVENT_CREATE_TOPIC_LABEL,className:C.default.topicFormItem,required:!0},void 0,D(E.default,{className:C.default.textInput,onChange:function(e){A({name:e
})},placeholder:m.default.Messages.GUILD_EVENT_CREATE_TOPIC_PLACEHOLDER,maxLength:h.MAX_STAGE_TOPIC_LENGTH,value:w,autoComplete:"off",inputRef:B}),null!=v?D(p.default,{color:p.default.Colors.STATUS_RED,size:p.default.Sizes.SIZE_12,className:C.default.warning},void 0,v.getAnyErrorMessage()):null),D(g.default,{className:C.default.formItem,onScheduleChange:function(e){var t=e.startDate,n=e.endDate,r={scheduledStartTime:null==t?void 0:t.toISOString(),scheduledEndTime:null==n?void 0:n.toISOString()};null!=t&&null!=U&&(null==n?void 0:n.isBefore(t))&&(r.scheduledEndTime=t.add(1,"hour").toISOString());A(r)},schedule:H,showEndDate:G===N.GuildScheduledEventEntityTypes.EXTERNAL,requireEndDate:G===N.GuildScheduledEventEntityTypes.EXTERNAL,disableStartDateTime:F}),null!=O?D(p.default,{color:p.default.Colors.STATUS_RED,size:p.default.Sizes.SIZE_12,className:C.default.warning},void 0,O):null,D(_.FormItem,{title:m.default.Messages.CREATE_STAGE_INSTANCE_DESCRIPTION_INPUT_LABEL,
className:C.default.formItem},void 0,D(c.default,{className:C.default.descriptionInput,placeholder:m.default.Messages.GUILD_EVENT_CREATE_DESCRIPTION_PLACEHOLDER,value:R,onChange:function(e){A({description:e})},maxLength:N.GUILD_EVENT_MAX_DESCRIPTION_LENGTH,autosize:!0})),D(_.FormItem,{title:m.default.Messages.GUILD_EVENT_IMAGE,className:C.default.formItem},void 0,D(p.default,{size:p.default.Sizes.SIZE_12,color:p.default.Colors.HEADER_SECONDARY,className:C.default.addImageHint},void 0,m.default.Messages.GUILD_EVENT_ADD_IMAGE_SUGGESTION),null!=V?a.createElement(a.Fragment,null,D(u.default,{className:C.default.imagePreview,image:V,makeURL:function(e){if(null==e)return null;if(null!=r){var a;return null!==(a=(0,T.default)((0,S.convertToFakeGuildEvent)(t,r,n)))&&void 0!==a?a:null}},onChange:z,hint:m.default.Messages.GUILD_EVENT_CHANGE_IMAGE,showRemoveButton:!1,enabled:!0}),D(s.default,{size:s.default.Sizes.SMALL,onClick:function(){return z(null)}
},void 0,m.default.Messages.GUILD_EVENT_REMOVE_IMAGE)):D(s.default,{size:s.default.Sizes.SMALL},void 0,m.default.Messages.GUILD_EVENT_ADD_IMAGE,D(o.default,{onChange:z}))),D(L,{editBroadcastInfoData:f})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}r.default=e;n&&n.set(e,r);return r}(n(667294)),l=O(n(730381)),u=O(n(810928)),o=O(n(32735)),i=n(123718),d=n(173539),s=O(n(956117)),f=O(n(789446)),c=O(n(39118)),E=O(n(279950)),v=O(n(730977)),_=n(688388),p=O(n(776360)),y=n(330321),S=n(938159),I=n(834547),T=O(n(60667)),g=O(n(228811)),N=n(198756),h=n(808961),m=O(n(247001)),C=O(n(225970));function O(e){return e&&e.__esModule?e:{
default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=a;else if(u>1){for(var o=new Array(u),i=0;i<u;i++)o[i]=arguments[i+3];t.children=o}if(t&&l)for(var d in l)void 0===t[d]&&(t[d]=l[d]);else t||(t=l||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e){var t=e.editBroadcastInfoData,n=t.broadcastInfo,r=t.broadcastToDirectoryChannels,l=t.setBroadcastToDirectoryChannels,u=t.canEveryoneRoleViewEvent;return n.can_broadcast?D(_.FormItem,{title:m.default.Messages.CREATE_EVENT_PRIVACY_LABEL,className:C.default.formItem},void 0,D(v.default,{text:D(p.default,{className:C.default.broadcastInfoTooltip
},void 0,m.default.Messages.HUB_EVENTS_SHARE_CHANNEL_EVERYONE_VIEWABLE_WARNING),"aria-label":m.default.Messages.HUB_EVENTS_SHARE_CHANNEL_EVERYONE_VIEWABLE_WARNING,shouldShow:!u},void 0,(function(e){return a.createElement("div",e,D(f.default,{type:f.default.Types.INVERTED,disabled:!u,value:r,onChange:function(e,t){return l(t)}},void 0,D(p.default,{size:p.default.Sizes.SIZE_16,color:p.default.Colors.INTERACTIVE_ACTIVE},void 0,m.default.Messages.HUB_EVENTS_SHARE_TITLE)))})),D(p.default,{className:C.default.broadcastInfoDescription,size:p.default.Sizes.SIZE_12,color:p.default.Colors.HEADER_SECONDARY},void 0,m.default.Messages.HUB_EVENTS_SHARE_DESCRIPTION)):null}L.displayName="BroadcastInfoSettings"},901025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Y
;var r,a=w(n(667294)),l=n(536211),u=P(n(23170)),o=P(n(975994)),i=P(n(517286)),d=P(n(30098)),s=P(n(956117)),f=n(380703),c=P(n(547690)),E=n(477537),v=n(354479),_=n(3400),p=P(n(303763)),y=w(n(330321)),S=P(n(736428)),I=n(603201),T=n(493158),g=P(n(516577)),N=n(938159),h=n(549905),m=P(n(800518)),C=P(n(236674)),O=P(n(682185)),A=P(n(648628)),D=P(n(834641)),L=n(198756),M=n(770348),b=P(n(247001)),G=P(n(161248));function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}
r.default=e;n&&n.set(e,r);return r}function V(e,t,n,r,a,l,u){try{var o=e[l](u),i=o.value}catch(e){n(e);return}o.done?t(i):Promise.resolve(i).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function u(e){V(l,r,a,u,o,"next",e)}function o(e){V(l,r,a,u,o,"throw",e)}u(void 0)}))}}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=a;else if(u>1){for(var o=new Array(u),i=0;i<u;i++)o[i]=arguments[i+3];t.children=o}if(t&&l)for(var d in l)void 0===t[d]&&(t[d]=l[d]);else t||(t=l||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return k.apply(this,arguments)}
var F,H=p.default.INVITE_OPTIONS_7_DAYS,B=p.default.INVITE_OPTIONS_UNLIMITED,z={sprites:[n(156800),n(856981),n(758971),n(514937),n(36370)],colors:["#FF73FA","#FFC0FF","#FFD836","#FF9A15","#A5F7DE","#51BC9D","#AEC7FF","#3E70DD"],fireCount:1,count:80,size:12,sizeSpread:7,angle:180,angleSpread:90,velocity:100,velocitySpread:50,gravity:20,dragCoefficient:0};!function(e){e[e.ENTITY=0]="ENTITY";e[e.SETTINGS=1]="SETTINGS";e[e.PREVIEW=2]="PREVIEW";e[e.SUCCESS=3]="SUCCESS"}(F||(F={}));function x(e){var t=e.firing;return j(f.ConfettiCanvas,{className:G.default.cannon},void 0,(function(e){return a.createElement(a.Fragment,null,a.createElement(f.ConfettiCannon,k({},e,z,{angle:120,position:{x:50,y:50},firing:t})),a.createElement(f.ConfettiCannon,k({},e,z,{angle:240,position:{x:50,y:50},firing:t})))}))}x.displayName="EditGuildEventConfettiCannon";function W(e){
var t=e.guildId,n=e.guildEvent,r=e.guildEventId,l=e.editBroadcastInfoData,u=e.isEdit,o=e.formErrors,i=e.transitionState,d=e.loading,f=e.error,p=e.onChange,S=e.onSave,I=e.onClose,T=e.createdEvent,g=(0,v.useUID)(),N=a.useMemo((function(){return[{slideId:F.ENTITY,label:b.default.Messages.GUILD_EVENT_MODAL_PROGRESS_BAR_STEP_1,valid:null==o.entity,userErrorMessage:o.entity},{slideId:F.SETTINGS,label:b.default.Messages.GUILD_EVENT_MODAL_PROGRESS_BAR_STEP_2,valid:null==o.schedule&&null==o.topic,userErrorMessage:o.schedule},{slideId:F.PREVIEW,label:b.default.Messages.GUILD_EVENT_MODAL_PROGRESS_BAR_STEP_3,valid:!0}]}),[o]),h=Object.keys(F).length,D=(0,y.isGuildScheduledEventActive)(n)?F.SETTINGS:F.ENTITY,L=function(e){return Math.max(0,Math.min(e,h-1))},M=a.useState(D),P=M[0],R=M[1],w=a.useState(!1),V=w[0],U=w[1],k=a.useMemo((function(){return N.slice(0,P+1).map((function(e){return e.valid})).every(Boolean)}),[N,P]),H=P>=N.length?F.SUCCESS:N[L(P)].slideId,B=H===F.SUCCESS,z=function(e){U(!1)
;R(L(e))};a.useEffect((function(){null!=T&&z(F.SUCCESS)}),[null==T?void 0:T.id,z]);var W=function(){if(k){H===F.PREVIEW?S():B?I():z(P+1)}},Y=function(){z(P-1)},Z=b.default.Messages.NEXT;H===F.PREVIEW&&(Z=u?b.default.Messages.SAVE_EVENT:b.default.Messages.SCHEDULE_EVENT);return a.createElement(a.Fragment,null,j(x,{firing:B}),j(_.ModalRoot,{transitionState:i,"aria-labelledby":g,size:_.ModalSize.DYNAMIC},void 0,j(_.ModalContent,{className:G.default.content},void 0,!B&&j(c.default,{steps:N.map((function(e){return e.label})),stepIndex:P,onClick:function(e){e<P?Y():e>P&&W()}}),j(E.Slides,{activeSlide:H,width:440,onSlideReady:function(e){U(e===H)}},void 0,j(E.Slide,{id:F.ENTITY},void 0,j(m.default,{guildId:t,guildEvent:n,validationErrorMessage:o.entity,isSlideReady:V,onChange:p})),j(E.Slide,{id:F.SETTINGS},void 0,j(O.default,{guildEvent:n,guildEventId:r,guildId:t,editBroadcastInfoData:l,onChange:p,error:f,validationErrorMessage:o.schedule,isSlideReady:V})),j(E.Slide,{id:F.PREVIEW
},void 0,j(C.default,{guildId:t,guildEvent:n,guildEventId:r,error:f})),j(E.Slide,{id:F.SUCCESS},void 0,j(A.default,{onClose:I,event:T})))),!B&&j(_.ModalFooter,{className:G.default.footer},void 0,j("div",{className:G.default.inline},void 0,j(s.default,{color:s.default.Colors.PRIMARY,onClick:I},void 0,b.default.Messages.CANCEL),j(s.default,{onClick:W,disabled:!k,className:G.default.button,submitting:d},void 0,Z)),H!==F.ENTITY&&j(s.default,{look:s.default.Looks.LINK,size:s.default.Sizes.MIN,onClick:Y,color:s.default.Colors.LINK},void 0,b.default.Messages.BACK))))}function Y(e){var t=e.guildId,n=e.guildScheduledEventId,r=e.transitionState,s=e.onClose,f=(0,l.useStateFromStores)([d.default],(function(){return d.default.getGuild(t)})),c=(0,l.useStateFromStores)([y.default],(function(){return y.default.getGuildScheduledEvent(n)}),[n]),E=(0,l.useStateFromStores)([i.default],(function(){return i.default.getDefaultChannel(t)}),[t]),v=(0,
N.getInitialGuildEventData)(c,E),_=a.useState(v),p=_[0],m=_[1],C=a.useState((0,N.isEditingEvent)(c))[0],O=a.useState(null),A=O[0],b=O[1],G=function(e){var t=(0,I.isGuildEventInvitable)(e),n=e.channel_id||(null==E?void 0:E.id);null!=n&&u.default.createInvite(n,{max_age:H.value,max_uses:B.value},M.InstantInviteSources.GUILD_EVENTS);t?b(e):s()},P=(0,o.default)(f,null==c?void 0:c.id,p),R=(0,g.default)(U(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==A){e.next=2;break}return e.abrupt("return");case 2:r={broadcastToDirectoryChannels:P.broadcastToDirectoryChannels};if(!C||null==n){e.next=8;break}e.next=6;return S.default.saveEvent(n,p,t,r);case 6:e.sent;return e.abrupt("return",s());case 8:e.next=10;return S.default.createGuildEvent(p,t,r);case 10:a=e.sent;G(a.body);return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))),w=R[0],V=R[1],F=V.loading,z=V.error,x=a.useMemo((function(){return(0,
D.default)(p,C)}),[p,C]);return j(W,{guildId:t,guildEvent:p,guildEventId:n,editBroadcastInfoData:P,isEdit:C,formErrors:x,transitionState:r,loading:F,error:z,onChange:function(e){if(null!=e.entityType){var n,r=(0,h.getChannelTypeFromEntity)(e.entityType),a=(0,T.getEventChannelsByType)(t,r)[0];e.channelId=null!==(n=null==a?void 0:a.id)&&void 0!==n?n:null;e.entityType!==L.GuildScheduledEventEntityTypes.EXTERNAL&&p.entityType===L.GuildScheduledEventEntityTypes.EXTERNAL&&(e.entityMetadata=null)}m((function(t){return k({},t,{},e)}))},onSave:w,onClose:s,createdEvent:A})}Y.displayName="ScheduleEventModal"},800518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=K;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}r.default=e;n&&n.set(e,r);return r}(n(667294)),l=U(n(730381)),u=n(536211),o=n(678928),i=U(n(644263)),d=U(n(30098)),s=U(n(689389)),f=U(n(290629)),c=U(n(728429)),E=U(n(26172)),v=U(n(279950)),_=n(688388),p=U(n(934018)),y=U(n(149982)),S=U(n(482357)),I=U(n(332282)),T=U(n(538765)),g=n(194322),N=U(n(971639)),h=U(n(614617)),m=U(n(776360)),C=n(330321),O=U(n(3594)),A=n(668516),D=n(493158),L=n(395310),M=n(515234),b=n(549905),G=U(n(379344)),P=n(198756),R=n(770348),w=U(n(247001)),V=U(n(456727));function U(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function k(e,t,n,r,a,l,u){try{var o=e[l](u),i=o.value}catch(e){n(e);return}o.done?t(i):Promise.resolve(i).then(r,a)}function F(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function u(e){k(l,r,a,u,o,"next",e)}function o(e){k(l,r,a,u,o,"throw",e)}u(void 0)}))}}function H(){H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return H.apply(this,arguments)}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=a;else if(u>1){for(var o=new Array(u),i=0;i<u;i++)o[i]=arguments[i+3];t.children=o}if(t&&l)for(var d in l)void 0===t[d]&&(t[d]=l[d]);else t||(t=l||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z=function(e){return e===P.GuildScheduledEventEntityTypes.EXTERNAL},x=function(e,t){var n=i.default.getChannel(e);if(null==n)return null;var r=n.type===R.ChannelTypes.GUILD_STAGE_VOICE,a=(0,
M.isChannelPublic)(n,t),l=a?y.default:S.default,u=a?I.default:T.default;return B(r?u:l,{height:24,className:V.default.channelOptionIcon})};x.displayName="renderOptionPrefix";var W=function(e){var t=e.guildId,n=e.channelType,r=e.channel,a=e.onSelectChannel,l=e.disabled,u=e.entityType,i=n===R.ChannelTypes.GUILD_STAGE_VOICE,d=(0,M.isChannelPublic)(r,u),s=(0,D.useGetEventChannelsByType)(t,n);return B(_.FormItem,{title:i?w.default.Messages.START_STAGE_MODAL_SET_TOPIC_SELECT_LABEL:w.default.Messages.GUILD_EVENT_LOCATION_VOICE_FIELD_LABEL,className:V.default.options,disabled:l,required:!0},void 0,B(h.default,{value:null==r?void 0:r.id,options:s.map((function(e){return{value:e.id,label:(0,o.computeChannelName)(e,c.default,f.default,!0)}})),onChange:function(e){var t=s.find((function(t){return t.id===e}));a(null!=t?t:void 0)},renderOptionPrefix:function(e){return x(null==e?void 0:e.value,u)},isDisabled:l}),!d&&B(m.default,{color:m.default.Colors.HEADER_SECONDARY,
className:V.default.channelPrivate},void 0,w.default.Messages.GUILD_EVENT_PRIVATE_DESCRIPTION))};W.displayName="ChannelSelector";function Y(e,t,n,r){return t?{disabled:!0,tooltipText:w.default.Messages.GUILD_EVENT_LOCATION_DISABLED_CANNOT_EDIT}:n?0===r&&e!==P.GuildScheduledEventEntityTypes.EXTERNAL?{disabled:!0,tooltipText:w.default.Messages.GUILD_EVENT_LOCATION_DISABLED_NO_AVAILABLE_CHANNEL}:{disabled:!1,tooltipText:null}:{disabled:!0,tooltipText:w.default.Messages.GUILD_EVENT_LOCATION_DISABLED_NO_PERMISSION}}var Z=function(e,t){return function(n){var r=n.value,a={entityType:r,scheduledEndTime:void 0};if(z(r)){var u,o=(null!==(u=(0,l.default)(t.scheduledStartTime))&&void 0!==u?u:(0,l.default)()).add(2,"hour");a.scheduledEndTime=o.toISOString()}e(a)}};function $(e){var t=e.guildId,n=e.guildEvent,r=e.onChange,l=e.isFocusReady,o=n.entityType,d=n.channelId,s=(0,u.useStateFromStores)([i.default],(function(){return i.default.getChannel(d)}),[d]),f=a.useRef(null);a.useEffect((function(){
if(l&&z(o)){var e;null===(e=f.current)||void 0===e||e.focus()}}),[l,o]);var c=function(e){return function(t){e({entityMetadata:{location:t}})}}(r),E=function(e){return function(t){var n;e({channelId:null!==(n=null==t?void 0:t.id)&&void 0!==n?n:null})}}(r),p=(0,b.getLocationFromEventData)(n),y=(0,b.getChannelTypeFromEntity)(o),S=(0,C.isGuildScheduledEventActive)(n);return null==o||o===P.GuildScheduledEventEntityTypes.NONE?null:z(o)?B(_.FormItem,{title:w.default.Messages.GUILD_EVENT_LOCATION_ELSEWHERE_FIELD_LABEL,className:V.default.options,required:!0},void 0,B(v.default,{className:V.default.textInput,onChange:c,placeholder:w.default.Messages.GUILD_EVENT_LOCATION_OPTION_ELSEWHERE_PLACEHOLDER,maxLength:P.MAX_EVENT_LOCATION_LENGTH,value:null!=p?p:"",inputRef:f})):null==y?null:B(W,{guildId:t,channelType:y,onSelectChannel:E,channel:s,entityType:o,disabled:S})}$.displayName="LocationSelector";function X(e){var t=e.guildId,n=e.guildEvent,r=e.onChange,l=(0,
u.useStateFromStores)([d.default],(function(){return d.default.getGuild(t)}),[t]),o=(0,A.useCanCreateEditDeleteEvent)(t,void 0),i=(0,O.default)(t,R.ChannelTypes.GUILD_VOICE),s=(0,O.default)(t,R.ChannelTypes.GUILD_STAGE_VOICE),f=(0,D.useGetEventChannelsByType)(t,R.ChannelTypes.GUILD_VOICE),c=(0,L.useChannelsUserCanStartStageIn)(l),v=null==l?void 0:l.hasFeature(R.GuildFeatures.COMMUNITY),_=(0,C.isGuildScheduledEventActive)(n),S=Z(r,n),T=a.useMemo((function(){var e=[H({name:w.default.Messages.VOICE_CHANNEL,value:P.GuildScheduledEventEntityTypes.VOICE,desc:w.default.Messages.GUILD_EVENT_LOCATION_OPTION_VOICE_HINT,icon:y.default},Y(P.GuildScheduledEventEntityTypes.VOICE,_,i,f.length)),H({name:w.default.Messages.GUILD_EVENT_LOCATION_EXTERNAL,value:P.GuildScheduledEventEntityTypes.EXTERNAL,desc:w.default.Messages.GUILD_EVENT_LOCATION_OPTION_ELSEWHERE_HINT,icon:p.default},Y(P.GuildScheduledEventEntityTypes.EXTERNAL,_,o,0))];return v?[H({name:w.default.Messages.STAGE_CHANNEL,
value:P.GuildScheduledEventEntityTypes.STAGE_INSTANCE,desc:w.default.Messages.GUILD_EVENT_LOCATION_OPTION_STAGE_HINT,icon:I.default},Y(P.GuildScheduledEventEntityTypes.STAGE_INSTANCE,_,s,c.length))].concat(e):e}),[o,i,s,v,f.length,c.length,_]);return B(E.default,{value:n.entityType,options:T,onChange:S,className:V.default.options})}X.displayName="EntitySelector";function K(e){var t=e.guildId,r=e.guildEvent,l=(e.validationErrorMessage,e.onChange),o=e.isSlideReady,i=void 0!==o&&o,f=r.entityType,c=(0,u.useStateFromStores)([d.default],(function(){return d.default.getGuild(t)}),[t]),E=(0,L.useChannelsUserCanStartStageIn)(c),v=(0,u.useStateFromStores)([s.default],(function(){return s.default.can(R.Permissions.MANAGE_CHANNELS,c)})),_=null==c?void 0:c.hasFeature(R.GuildFeatures.COMMUNITY),p=Z(l,r),y=_&&!z(f)&&0===E.length&&v&&null!=f;return B("div",{className:V.default.container},void 0,B(N.default,{size:N.default.Sizes.SIZE_24,className:V.default.header
},void 0,w.default.Messages.GUILD_EVENT_LOCATION_TITLE),B(m.default,{color:m.default.Colors.HEADER_SECONDARY,className:V.default.text},void 0,w.default.Messages.GUILD_EVENT_LOCATION_SUBTITLE),B(X,{guildId:t,guildEvent:r,onChange:l}),B($,{guildId:t,guildEvent:r,isFocusReady:i,onChange:l}),y?B(G.default,{onClick:function(){p({value:P.GuildScheduledEventEntityTypes.STAGE_INSTANCE,name:w.default.Messages.STAGE_CHANNEL});(0,g.openModalLazy)(F(regeneratorRuntime.mark((function e(){var r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(35666),n.e(54587),n.e(32660),n.e(71473),n.e(24724),n.e(6379),n.e(98628),n.e(66579),n.e(64434),n.e(30237),n.e(62764),n.e(23046),n.e(23950),n.e(90054),n.e(29731),n.e(44461),n.e(91391),n.e(68457),n.e(44087),n.e(74416),n.e(42758),n.e(71667),n.e(3575),n.e(37240)]).then(n.bind(n,871667));case 2:r=e.sent;l=r.default;return e.abrupt("return",(function(e){return a.createElement(l,H({},e,{
channelType:R.ChannelTypes.GUILD_STAGE_VOICE,guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))))}}):null)}K.displayName="ScheduleEventModalEntitySlide"},236674:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}r.default=e;n&&n.set(e,r);return r}(n(667294)),l=n(536211),u=n(341186),o=g(n(930409)),i=g(n(644263)),d=g(n(30098)),s=g(n(728429)),f=g(n(934018)),c=g(n(971639)),E=g(n(776360)),v=n(938159),_=n(549905),p=n(834547),y=g(n(60667)),S=g(n(69252)),I=g(n(247001)),T=g(n(881269));function g(e){return e&&e.__esModule?e:{default:e}}
function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=a;else if(u>1){for(var o=new Array(u),i=0;i<u;i++)o[i]=arguments[i+3];t.children=o}if(t&&l)for(var d in l)void 0===t[d]&&(t[d]=l[d]);else t||(t=l||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t,n,r,g=e.guildId,N=e.guildEvent,m=e.guildEventId,C=e.error,O=a.useMemo((function(){return(0,v.convertToFakeGuildEvent)(N,g)}),[N,g]),A=O.channel_id,D=O.name,L=O.image,M=O.description,b=(0,p.getScheduleFromEvent)(O),G=(0,l.useStateFromStores)([i.default],(function(){return i.default.getChannel(A)}),[A]),P=(0,l.useStateFromStores)([d.default],(function(){return d.default.getGuild(g)}),[g]),R=(0,
_.getLocationFromEvent)(O),w=(0,l.useStateFromStores)([s.default],(function(){return null!=N.creatorId?s.default.getUser(N.creatorId):s.default.getCurrentUser()}),[N.creatorId]),V=(0,l.useStateFromStores)([o.default],(function(){return o.default.isLurking(g)}),[g]),U=(0,u.getChannelIconComponent)(G,P);return h("div",{className:T.default.content},void 0,h(S.default,{className:T.default.previewCard,guild:P,channel:G,location:null!=R?R:void 0,creator:w,userCount:1,name:D,description:M,startTime:null!==(t=null==b||null===(n=b.startDate)||void 0===n?void 0:n.toISOString(!1))&&void 0!==t?t:"",imageSource:function(e,t){return null==t&&null==e.image?null:t&&/^data:/.test(t)?t:(0,y.default)(e)}((0,v.convertToFakeGuildEvent)(N,g,m),L),isActive:!1,isUserLurking:V,isEnded:!1,speakers:[],speakerCount:0,rsvped:!0}),h("div",{className:T.default.textContainer},void 0,h(c.default,{size:c.default.Sizes.SIZE_24},void 0,I.default.Messages.GUILD_EVENT_PREVIEW_TITLE),h(E.default,{
color:E.default.Colors.HEADER_SECONDARY,size:E.default.Sizes.SIZE_16,className:T.default.subheader},void 0,null!=location?I.default.Messages.GUILD_EVENT_PREVIEW_EXTERNAL_EVENT_BODY:I.default.Messages.GUILD_EVENT_PREVIEW_BODY.format({channelName:null!==(r=null==G?void 0:G.name)&&void 0!==r?r:"",channelHook:function(){var e;return h("div",{className:T.default.channelName},void 0,null!=U?h(U,{width:20,height:20,className:T.default.icon}):h(f.default,{height:18,width:18,className:T.default.locationIcon}),null!==(e=null==G?void 0:G.name)&&void 0!==e?e:R)}})),null!=C&&h(E.default,{color:E.default.Colors.ERROR,size:E.default.Sizes.SIZE_12,className:T.default.subheader},void 0,C.getAnyErrorMessage())))}m.displayName="ScheduleEventModalPreviewSlide"},682185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}r.default=e;n&&n.set(e,r);return r}(n(667294)),l=f(n(971639)),u=f(n(776360)),o=f(n(82375)),i=f(n(247001)),d=f(n(766050)),s=["isSlideReady"];function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),
1===u)t.children=a;else if(u>1){for(var o=new Array(u),i=0;i<u;i++)o[i]=arguments[i+3];t.children=o}if(t&&l)for(var d in l)void 0===t[d]&&(t[d]=l[d]);else t||(t=l||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.isSlideReady,n=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++){n=l[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return v("div",{className:d.default.slideContainer},void 0,v("div",{className:d.default.header},void 0,v(l.default,{size:l.default.Sizes.SIZE_24},void 0,i.default.Messages.GUILD_EVENT_CREATE_HEADER),v(u.default,{color:u.default.Colors.HEADER_SECONDARY,className:d.default.text},void 0,i.default.Messages.GUILD_EVENT_CREATE_BODY)),a.createElement(o.default,E({},n,{canSetFocus:t})))}_.displayName="ScheduleEventModalSettingsSlide"},648628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;C(n(667294))
;var r,a=n(536211),l=n(115865),u=n(463893),o=h(n(750064)),i=h(n(991636)),d=h(n(517286)),s=h(n(729748)),f=h(n(16941)),c=h(n(32443)),E=h(n(259530)),v=h(n(971639)),_=h(n(776360)),p=h(n(308920)),y=C(n(303763)),S=n(179495),I=n(549905),T=n(770348),g=h(n(247001)),N=h(n(894692));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var l=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=a;else if(u>1){for(var o=new Array(u),i=0;i<u;i++)o[i]=arguments[i+3];t.children=o}if(t&&l)for(var d in l)void 0===t[d]&&(t[d]=l[d]);else t||(t=l||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=y.default.INVITE_OPTIONS_7_DAYS,D=y.default.INVITE_OPTIONS_UNLIMITED,L=O(E.default,{});function M(e){var t,n,r=e.onClose,E=e.event,h=null==E?void 0:E.guild_id,m=(0,a.useStateFromStores)([d.default],(function(){var e;return null!=h?null===(e=d.default.getDefaultChannel(h))||void 0===e?void 0:e.id:null}),[h]),C=null!=E?E:{},M=C.channel_id,b=C.id,G=(0,a.useStateFromStores)([s.default],(function(){var e=M||m;return null==e?null:s.default.getInvite(e)}),[M,m]);if(null==E){r();return null}var P=null==G?void 0:G.code,R=null!=P?(0,u.generateInviteKeyFromExtraData)({baseCode:P,guildScheduledEventId:b}):null,w=null==R||null==G,V=(0,
o.default)(R||""),U=null!==(t=null==G?void 0:G.maxAge)&&void 0!==t?t:A.value,j=null!==(n=null==G?void 0:G.maxUses)&&void 0!==n?n:D.value;return O("div",{className:N.default.container},void 0,O(f.default,{onClick:r,className:N.default.close,"aria-label":g.default.Messages.CLOSE},void 0,L),O(i.default,{},void 0,O("div",{className:N.default.iconContainer},void 0,O(c.default,{height:30,width:30,className:N.default.icon}))),O(v.default,{size:v.default.Sizes.SIZE_24,className:N.default.header},void 0,g.default.Messages.GUILD_EVENT_CREATED_MODAL_HEADER),O(_.default,{size:_.default.Sizes.SIZE_16,color:_.default.Colors.HEADER_SECONDARY,className:N.default.body},void 0,g.default.Messages.GUILD_EVENT_CREATED_MODAL_BODY),O("div",{className:N.default.invite},void 0,O(l.InviteCopyInputConnected,{value:V,autoFocus:!1,onCopy:function(e){if(!w){(0,S.copy)(e);var t=(0,I.getChannelTypeFromEntity)(E.entity_type);p.default.track(T.AnalyticEvents.COPY_INSTANT_INVITE,{server:E.guild_id,channel:M,
channel_type:t,location:T.InstantInviteSources.GUILD_EVENTS,code:G.code,guild_scheduled_event_id:null==E?void 0:E.id})}}}),O(_.default,{size:_.default.Sizes.SIZE_12,color:_.default.Colors.HEADER_SECONDARY,className:N.default.inviteDetail},void 0,(0,y.maxAgeString)(U,j))))}M.displayName="ScheduleEventModalSuccessSlide"},379344:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I;var r,a=p(n(667294)),l=n(536211),u=n(6505),o=p(n(278352)),i=p(n(956117)),d=v(n(971639)),s=v(n(776360)),f=v(n(247001)),c=v(n(615544)),E=v(n(244224));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=a;else if(u>1){for(var o=new Array(u),i=0;i<u;i++)o[i]=arguments[i+3];t.children=o}if(t&&l)for(var d in l)void 0===t[d]&&(t[d]=l[d]);else t||(t=l||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(){return a.createElement(a.Fragment,null,y(s.default,{color:s.default.Colors.HEADER_PRIMARY,size:s.default.Sizes.SIZE_12,className:c.default.inlineText},void 0,f.default.Messages.GUILD_EVENT_STAGE_UPSELL_HINT_1),y(s.default,{color:s.default.Colors.HEADER_PRIMARY,size:s.default.Sizes.SIZE_12,className:c.default.inlineText
},void 0,f.default.Messages.GUILD_EVENT_STAGE_UPSELL_HINT_2),y(s.default,{color:s.default.Colors.HEADER_PRIMARY,size:s.default.Sizes.SIZE_12,className:c.default.inlineText},void 0,f.default.Messages.GUILD_EVENT_STAGE_UPSELL_HINT_3),y(s.default,{color:s.default.Colors.HEADER_PRIMARY,size:s.default.Sizes.SIZE_12,className:c.default.inlineText},void 0,f.default.Messages.GUILD_EVENT_STAGE_UPSELL_HINT_4))};function I(e){var t=e.onClick;if((0,l.useStateFromStores)([u.HotspotStore],(function(){return!u.HotspotStore.hasHotspot(u.HotspotLocations.STAGE_CHANNEL_UPSELL)})))return null;return y("div",{className:c.default.container},void 0,y("div",{className:c.default.content},void 0,y("div",{className:c.default.textContainer},void 0,y(d.default,{size:d.default.Sizes.SIZE_16},void 0,f.default.Messages.GUILD_EVENT_STAGE_UPSELL_TITLE),y(s.default,{color:s.default.Colors.HEADER_SECONDARY,size:s.default.Sizes.SIZE_12,className:c.default.descriptionText
},void 0,f.default.Messages.GUILD_EVENT_STAGE_TOOLTIP_BODY),y(s.default,{color:s.default.Colors.HEADER_SECONDARY,size:s.default.Sizes.SIZE_12},void 0,f.default.Messages.GUILD_EVENT_STAGE_UPSELL.format({suggestionsHook:S}))),y("div",{className:c.default.image},void 0,y("img",{src:E.default,alt:f.default.Messages.GUILD_EVENT_STAGE_UPSELL_ALT_IMAGE}))),y("div",{className:c.default.footer},void 0,y(i.default,{onClick:t,color:i.default.Colors.GREY,size:i.default.Sizes.SMALL,className:c.default.button},void 0,f.default.Messages.CREATE_STAGE_CHANNEL),y(i.default,{onClick:function(){o.hideHotspot(u.HotspotLocations.STAGE_CHANNEL_UPSELL)},color:i.default.Colors.TRANSPARENT,size:i.default.Sizes.SMALL,look:i.ButtonLooks.LINK},void 0,f.default.Messages.DONT_SHOW_AGAIN)))}I.displayName="StageChannelUpsell"},834641:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return{entity:d(e),schedule:s(e,t),topic:(n=e,r=n.name,a=null==r||""===r.trim(),
a?"Topic must be specified.":void 0)};var n,r,a};var r=i(n(730381)),a=n(549905),l=n(834547),u=n(198756),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.entityType,n=e.channelId,r=(0,a.getLocationFromEventData)(e);return null==t?"An event type must be specified.":null!=r&&""!==r.trim()||null!=n?void 0:"Either a location or channel must be specified."}function s(e,t){var n=(0,l.getScheduleFromEventData)(e),a=e.entityType;if(null==n||null==(null==n?void 0:n.startDate))return o.default.Messages.GUILD_EVENT_START_DATE_REQUIRED;var i=n.startDate,d=n.endDate;return a===u.GuildScheduledEventEntityTypes.EXTERNAL&&null==d?o.default.Messages.GUILD_EVENT_END_DATE_REQUIRED:!t&&i.isBefore((0,r.default)())?o.default.Messages.GUILD_EVENT_PAST_START_DATE:null!=d&&null!=i&&d.isBefore(i)?o.default.Messages.GUILD_EVENT_END_DATE_BEFORE_START_DATE:null!=d&&d.isBefore((0,r.default)())?o.default.Messages.GUILD_EVENT_PAST_END_DATE_1:void 0}},547690:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),l=i(n(16941)),u=i(n(776360)),o=i(n(997586));function i(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=a;else if(u>1){
for(var o=new Array(u),i=0;i<u;i++)o[i]=arguments[i+3];t.children=o}if(t&&l)for(var d in l)void 0===t[d]&&(t[d]=l[d]);else t||(t=l||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.steps,n=e.stepIndex,r=e.onClick;return s("div",{className:o.default.container},void 0,t.map((function(e,t){var i,d=n===t;return s(l.default,{onClick:function(){return r(t)},className:o.default.stepContainer},e,s("div",{className:(0,a.default)(o.default.progressBar,(i={},i[o.default.selectedProgressBar]=d,i))}),s(u.default,{color:d?u.default.Colors.BRAND:u.default.Colors.MUTED,size:u.default.Sizes.SIZE_12},void 0,e))})))}f.displayName="NamedStepsProgressBar"},244224:(e,t,n)=>{e.exports=n.p+"c1b64035ca9a96e65e1a450302353a58.svg"}}]);
//# sourceMappingURL=d14384b43b7ca3066ece.js.map