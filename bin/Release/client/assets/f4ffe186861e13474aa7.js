(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[76022],{799050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(47354),a=n(377371),o=u(n(636602)),l=u(n(351772)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){n(e);return}i.done?t(u):Promise.resolve(u).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){s(o,r,a,l,i,"next",e)}function i(e){s(o,r,a,l,i,"throw",e)}l(void 0)}))}}var f={signup:function(e,t){return l.default.post({url:i.Endpoints.HUB_WAITLIST_SIGNUP,body:{email:e,school:t},trackedActionData:{event:r.NetworkActionNames.HUB_WAITLIST_SIGNUP,properties:function(e){var t,n=!1,r=null==e||null===(t=e.body)||void 0===t?void 0:t.email_domain;if(null!=r){n=-1!==r.split(".").indexOf("edu")}return(0,a.exact)({is_edu_email:n})}}})},
sendVerificationEmail:function(e,t,n){return d(regeneratorRuntime.mark((function o(){var u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:o.next=2;return l.default.post({url:i.Endpoints.HUB_EMAIL_VERIFY_SEND,body:{email:e,guild_id:n,allow_multiple_guilds:t,use_verification_code:!0},trackedActionData:{event:r.NetworkActionNames.HUB_EMAIL_VERIFY_SEND,properties:function(e){var t,n=null==e||null===(t=e.body)||void 0===t?void 0:t.has_matching_guild;return(0,a.exact)({has_matching_guild:n})}}});case 2:u=o.sent;return o.abrupt("return",u.body);case 4:case"end":return o.stop()}}),o)})))()},verify:function(e){return d(regeneratorRuntime.mark((function t(){var n,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e){t.next=12;break}t.prev=1;t.next=4;return l.default.post({url:i.Endpoints.HUB_EMAIL_VERIFY,body:{token:e},trackedActionData:{event:r.NetworkActionNames.HUB_EMAIL_VERIFY}});case 4:a=t.sent
;u=null===(n=a.body.guild)||void 0===n?void 0:n.id;o.default.dispatch({type:i.ActionTypes.HUB_VERIFY_EMAIL_SUCCESS,guildId:u});t.next=12;break;case 9:t.prev=9;t.t0=t.catch(1);o.default.dispatch({type:i.ActionTypes.HUB_VERIFY_EMAIL_FAILURE,errors:t.t0.body});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},verifyCode:function(e,t,n){return d(regeneratorRuntime.mark((function a(){var u,s,d;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(null==e){a.next=14;break}a.prev=1;a.next=4;return l.default.post({url:i.Endpoints.HUB_EMAIL_VERIFY_CODE,body:{code:e,guild_id:t,email:n},trackedActionData:{event:r.NetworkActionNames.HUB_EMAIL_VERIFY}});case 4:s=a.sent;d=null===(u=s.body.guild)||void 0===u?void 0:u.id;o.default.dispatch({type:i.ActionTypes.HUB_VERIFY_EMAIL_SUCCESS,guildId:d});return a.abrupt("return",s.body);case 10:a.prev=10;a.t0=a.catch(1);o.default.dispatch({type:i.ActionTypes.HUB_VERIFY_EMAIL_FAILURE,errors:a.t0.body});throw a.t0;case 14:
case"end":return a.stop()}}),a,null,[[1,10]])})))()}};t.default=f},948027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-06_hub_email_connection",label:"Hub Email Connection",defaultConfig:{showModal:!1,showTab:!1,forceShowModal:!1},treatments:[{id:1,label:"Show email connection modal",config:{showModal:!0,showTab:!0,forceShowModal:!1}},{id:2,label:"Force show email connection modal",config:{showModal:!0,showTab:!0,forceShowModal:!0}}]});t.default=r},218813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(730381)),a=n(923387),o=p(n(737863)),l=n(203847),i=p(n(30098)),u=p(n(728429)),s=n(42031),d=p(n(71636)),f=p(n(948027)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}var v={init:function(e){var t=e.hasModalOpen,n=e.openModal;s.ProcessArgs.isDisallowPopupsSet()||o.default.call((function(){
var e=u.default.getCurrentUser(),o=null!=e&&(0,r.default)().diff((0,r.default)(d.default.extractTimestamp(e.id)),"days")<3,s=null!=Object.values(i.default.getGuilds()).find((function(e){return e.hasFeature(c.GuildFeatures.HUB)})),p=!(0,l.isDismissibleContentDismissed)(a.DismissibleContent.HUB_WAITLIST_UPSELL);if(o||t()||s||!p){f.default.getCurrentConfig({}).forceShowModal&&n()}else{f.default.trackExposure({});if(f.default.getCurrentConfig({}).showModal){n();(0,l.markDismissibleContentAsShown)(a.DismissibleContent.HUB_WAITLIST_UPSELL)}}}))},hideHubUpsell:function(){(0,l.markDismissibleContentAsDismissed)(a.DismissibleContent.HUB_WAITLIST_UPSELL)}};t.default=v},612076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=N(n(294184)),l=N(n(799050)),i=n(327269),u=N(n(644263)),s=N(n(956117)),d=N(n(279950)),f=n(354479),c=n(688388),p=N(n(971639)),v=N(n(776360)),_=n(485280),m=N(n(247001)),E=N(n(404029));function N(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function y(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){n(e);return}i.done?t(u):Promise.resolve(u).then(r,a)}var C=(0,f.uid)(),g=function(e){var t=e.setStep,n=e.setGuildsInfo,r=e.email,f=e.setEmail,N=e.setGuildId,S=e.invite,g=e.onClose,O=e.isNUXFlow,b=a.useState(null),h=b[0],M=b[1],A=a.useState(!1),T=A[0],w=A[1],R=function(){var e,a=(e=regeneratorRuntime.mark((function e(a){var o,s,d,f,c,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault();M(null);w(!0);e.prev=3;(f=(null==S||null===(o=S.guild)||void 0===o?void 0:o.id)||(null===(s=u.default.getChannel(null==S||null===(d=S.channel)||void 0===d?void 0:d.id))||void 0===s?void 0:s.getGuildId())||void 0)===_.INVITE_ROUTING_HUB_GUILD_ID&&(f=void 0);e.next=8;return l.default.sendVerificationEmail(r,!0,f);case 8:c=e.sent;p=c.guilds_info;if(!c.has_matching_guild){e.next=16;break}N(f);t(_.HubEmailConnectionSteps.VERIFY_PIN);e.next=29;break;case 16:if(0!==p.length){
e.next=20;break}t(_.HubEmailConnectionSteps.SUBMIT_SCHOOL);e.next=29;break;case 20:if(1!==p.length){e.next=27;break}N(p[0].id);e.next=24;return l.default.sendVerificationEmail(r,!0,p[0].id);case 24:t(_.HubEmailConnectionSteps.VERIFY_PIN);e.next=29;break;case 27:n(p);t(_.HubEmailConnectionSteps.SELECT_SCHOOL);case 29:e.next=34;break;case 31:e.prev=31;e.t0=e.catch(3);M(new i.APIError(e.t0));case 34:e.prev=34;w(!1);return e.finish(34);case 37:case"end":return e.stop()}}),e,null,[[3,31,34,37]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){y(o,r,a,l,i,"next",e)}function i(e){y(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return a.apply(this,arguments)}}(),L=m.default.Messages.HUB_EMAIL_CONNECTION_CONTENT_HEADER,U=m.default.Messages.HUB_EMAIL_CONNECTION_CONTENT_DESCRIPTION;if(O){L=m.default.Messages.HUB_EMAIL_CONNECTION_NUX_HEADER;U=m.default.Messages.HUB_EMAIL_CONNECTION_NUX_CONTENT_DESCRIPTION
}else if(null!=(null==S?void 0:S.guild)&&S.guild.id!==_.INVITE_ROUTING_HUB_GUILD_ID&&null!=(null==S?void 0:S.approximate_member_count)){var P=S.guild.name;L=m.default.Messages.HUB_EMAIL_CONNECTION_INVITE_HEADER.format({guildName:P,count:S.approximate_member_count})}return I("div",{className:E.default.container},void 0,I("div",{className:E.default.topImage}),I(p.default,{className:(0,o.default)(E.default.centerText,E.default.header),size:v.default.Sizes.SIZE_24},void 0,L),I("div",{className:E.default.descriptionWidth},void 0,I(v.default,{className:E.default.centerText,size:v.default.Sizes.SIZE_14,color:v.default.Colors.HEADER_SECONDARY},void 0,U)),I("form",{className:E.default.formContent,onSubmit:R},void 0,I(c.FormItem,{},void 0,I(c.FormTitle,{id:C},void 0,m.default.Messages.HUB_EMAIL_CONNECTION_CONTENT_INPUT_HEADER),I(d.default,{placeholder:m.default.Messages.HUB_EMAIL_CONNECTION_CONTENT_INPUT_PLACEHOLDER,onChange:function(e){f(e)},error:null==h?void 0:h.getAnyErrorMessage(),
"aria-labelledby":C})),I(v.default,{color:v.default.Colors.HEADER_SECONDARY,className:E.default.formDescription,size:v.default.Sizes.SIZE_14},void 0,m.default.Messages.HUB_EMAIL_CONNECTION_CONTENT_INPUT_DESCRIPTION),I(s.default,{type:"submit",size:s.default.Sizes.LARGE,color:s.default.Colors.BRAND,className:E.default.submitButton,submitting:T},void 0,I(v.default,{className:E.default.submitText,size:v.default.Sizes.SIZE_14},void 0,m.default.Messages.HUB_EMAIL_CONNECTION_CONTENT_BUTTON)),O&&I(s.default,{look:s.default.Looks.LINK,color:E.default.cancelButton,onClick:g,className:E.default.cancelButton},void 0,m.default.Messages.HUB_EMAIL_CONNECTION_CANCEL)))};g.displayName="HubEmailConnectionContent";var O=g;t.default=O},71283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(612076)),l=f(n(10467)),i=f(n(703932)),u=f(n(663916)),s=f(n(88428)),d=n(485280);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var v=function(e){var t=e.onClose,n=e.invite,r=e.forceGuildScrollHeight,f=void 0===r||r,c=e.isNUXFlow,v=a.useState([d.HubEmailConnectionSteps.VERIFY_EMAIL]),_=v[0],m=v[1],E=a.useState(""),N=E[0],S=E[1],I=a.useState(""),y=I[0],C=I[1],g=a.useState(void 0),O=g[0],b=g[1],h=a.useState([]),M=h[0],A=h[1],T=function(e){var t=_.concat(e);m(t.slice(-4))};switch(_[_.length-1]){case d.HubEmailConnectionSteps.VERIFY_EMAIL:return p(o.default,{setGuildsInfo:A,setStep:T,email:N,setEmail:S,setGuildId:b,invite:n,onClose:t,isNUXFlow:c});case d.HubEmailConnectionSteps.SELECT_SCHOOL:return p(l.default,{guildsInfo:M,setStep:T,email:N,setGuildId:b,forceGuildScrollHeight:f});case d.HubEmailConnectionSteps.SUBMIT_SCHOOL:return p(i.default,{onBack:function(){if(_.length>1){var e=_.slice(0,-1);m(e.slice(-4))}},setStep:T,email:N,school:y,setSchool:C});case d.HubEmailConnectionSteps.VERIFY_PIN:return p(u.default,{email:N,onClose:t,guildId:O});case d.HubEmailConnectionSteps.EMAIL_WAITLIST:return p(s.default,{
setStep:T,school:y});default:return null}};t.default=v},10467:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=g(n(294184)),l=g(n(824390)),i=g(n(799050)),u=n(327269),s=g(n(539563)),d=g(n(16941)),f=g(n(380439)),c=g(n(535813)),p=g(n(80828)),v=g(n(971639)),_=g(n(272544)),m=g(n(776360)),E=n(582945),N=g(n(692711)),S=n(485280),I=g(n(247001)),y=g(n(696481)),C=g(n(489893));function g(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){n(e);return}i.done?t(u):Promise.resolve(u).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){b(o,r,a,l,i,"next",e)}function i(e){b(o,r,a,l,i,"throw",e)}l(void 0)}))}}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){var t=e.guildInfo,n=e.onClick,r=e.submitting,a=N.default.getGuildIconURL({id:t.id,icon:t.icon,size:40})||void 0;return M(d.default,{className:y.default.clickableGuildInfoRow,
onClick:n},void 0,M(_.default,{mask:_.default.Masks.AVATAR_DEFAULT,width:40,height:40},void 0,M(f.default,{className:y.default.guildIcon,iconSrc:a,guild:new s.default(t),size:f.default.Sizes.MEDIUM})),M(m.default,{className:y.default.guildName,size:m.default.Sizes.SIZE_16},void 0,t.name),r?M(p.default,{type:p.default.Type.PULSING_ELLIPSIS}):M("img",{className:y.default.arrow,alt:"",src:C.default}))}A.displayName="GuildInfoRow";var T=function(e){var t,n=e.setStep,r=e.email,s=e.guildsInfo,d=e.setGuildId,f=e.forceGuildScrollHeight,p=a.useState(null),_=p[0],N=p[1],C=a.useState(void 0),g=C[0],O=C[1],b=a.useState(null),T=b[0],w=b[1],R=function(){return n(S.HubEmailConnectionSteps.SUBMIT_SCHOOL)},L=s;g&&(L=s.filter((function(e){return(0,l.default)(g.toLowerCase(),e.name.toLowerCase())})));return M("div",{className:y.default.container},void 0,M(v.default,{className:(0,o.default)(y.default.centerText,y.default.header),size:m.default.Sizes.SIZE_24
},void 0,I.default.Messages.HUB_EMAIL_CONNECTION_GUILD_SELECT_HEADER),M("div",{className:y.default.description},void 0,M(m.default,{className:y.default.centerText,size:m.default.Sizes.SIZE_14,color:m.default.Colors.HEADER_SECONDARY},void 0,I.default.Messages.HUB_EMAIL_CONNECTION_GUILD_SELECT_SUBHEADER.format({onJoinWaitlist:R}))),M("div",{className:(0,o.default)(y.default.guildList,(t={},t[y.default.forcedHeight]=f,t))},void 0,M("div",{className:y.default.searchContainer},void 0,M(c.default,{placeholder:I.default.Messages.SEARCH,className:y.default.searchBox,inputClassName:y.default.searchBoxInput,searchIconClassName:y.default.searchBoxIcon,closeIconClassName:y.default.searchBoxIcon,onChange:function(e){O(e)},label:I.default.Messages.SEARCH,searchTerm:g,onClear:function(){O(void 0)}}),M(m.default,{color:m.default.Colors.ERROR,size:m.default.Sizes.SIZE_12},void 0,null==_?void 0:_.getAnyErrorMessage())),L.length>0?M(E.ScrollerThin,{className:y.default.scroller},void 0,L.map((function(e){
return void 0===e?null:M(A,{guildInfo:e,onClick:(t=e.id,h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(null);d(t);w(t);e.prev=3;e.next=6;return i.default.sendVerificationEmail(r,!0,t);case 6:n(S.HubEmailConnectionSteps.VERIFY_PIN);e.next=12;break;case 9:e.prev=9;e.t0=e.catch(3);N(new u.APIError(e.t0));case 12:e.prev=12;w(null);return e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,9,12,15]])})))),submitting:T===e.id},e.id);var t}))):M("div",{className:y.default.noResultsContainer},void 0,M("div",{className:y.default.noResultsContent},void 0,M("div",{className:y.default.noResultsImage}),M(v.default,{className:(0,o.default)(y.default.centerText,y.default.header),size:m.default.Sizes.SIZE_24},void 0,I.default.Messages.HUB_EMAIL_CONNECTION_GUILD_SELECT_NO_RESULTS_HEADER),M(m.default,{className:y.default.centerText,size:m.default.Sizes.SIZE_16
},void 0,I.default.Messages.HUB_EMAIL_CONNECTION_GUILD_SELECT_NO_RESULTS_SUBHEADER.format({onJoinWaitlist:R}))))))};T.displayName="HubEmailConnectionGuildSelect";var w=T;t.default=w},376022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HubEmailConnectionModalView=void 0;t.default=N;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(47354),l=v(n(885986)),i=n(3400),u=v(n(218813)),s=v(n(71283)),d=v(n(380600)),f=n(33989),c=v(n(247001)),p=v(n(110643));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=m(d.default,{});function N(e){var t=e.transitionState,n=e.onClose,r=e.isNUXFlow;a.useEffect((function(){u.default.hideHubUpsell();r&&l.default.flowStep(f.FlowType.ORGANIC,f.RegistrationSteps.HUB_CONNECTION)}),[r]);return m(i.ModalRoot,{className:p.default.modalRoot,transitionState:t,"aria-label":c.default.Messages.HUB_WAITLIST_MODAL_JOIN_HEADER,impressionName:o.ImpressionNames.HUB_EMAIL_SIGNUP},void 0,m(i.ModalContent,{style:{overflow:"hidden",
paddingRight:"0px"},paddingFix:!1,className:p.default.modalContent},void 0,m("div",{className:p.default.container},void 0,m("div",{className:p.default.sidebarContainer},void 0,E),m("div",{className:p.default.contentContainer},void 0,m(i.ModalCloseButton,{onClick:n,className:p.default.closeButton}),m(s.default,{isNUXFlow:r,onClose:n})))))}N.displayName="HubEmailConnectionModal";var S=m(d.default,{}),I=function(e){var t=e.invite;return m("div",{className:p.default.container},void 0,m("div",{className:p.default.sidebarContainer},void 0,S),m("div",{className:p.default.contentContainer},void 0,m(s.default,{invite:t})))};t.HubEmailConnectionModalView=I;I.displayName="HubEmailConnectionModalView"},380600:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(776360)),o=i(n(247001)),l=i(n(870472));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(){return s("div",{
className:l.default.container},void 0,s("div",{className:l.default.iconContainer},void 0,s("div",{className:l.default.icon})),s(a.default,{strong:!0,color:a.default.Colors.HEADER_PRIMARY,size:a.default.Sizes.SIZE_20,className:l.default.header},void 0,o.default.Messages.HUB_EMAIL_CONNECTION_SIDEBAR_HEADER),s(a.default,{color:a.default.Colors.HEADER_SECONDARY,size:a.default.Sizes.SIZE_14,className:l.default.description},void 0,o.default.Messages.HUB_EMAIL_CONNECTION_SIDEBAR_DESCRIPTION.format()))};d.displayName="HubEmailConnectionSidebar";var f=d;t.default=f},703932:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=N(n(294184)),l=N(n(799050)),i=n(327269),u=N(n(956117)),s=N(n(279950)),d=n(354479),f=n(688388),c=N(n(971639)),p=N(n(776360)),v=n(485280),_=n(770348),m=N(n(247001)),E=N(n(971932));function N(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value
}catch(e){n(e);return}i.done?t(u):Promise.resolve(u).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){y(o,r,a,l,i,"next",e)}function i(e){y(o,r,a,l,i,"throw",e)}l(void 0)}))}}var g=(0,d.uid)(),O=function(e){var t=e.email,n=e.setStep,r=e.onBack,d=e.school,N=e.setSchool,S=a.useState(null),y=S[0],O=S[1],b=a.useState(!1),h=b[0],M=b[1],A=function(){var e=C(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(null);M(!0);e.prev=2;e.next=5;return l.default.signup(t,d);case 5:n(v.HubEmailConnectionSteps.EMAIL_WAITLIST);e.next=11;break;case 8:e.prev=8;e.t0=e.catch(2);O(new i.APIError(e.t0));case 11:e.prev=11;M(!1);return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=C(regeneratorRuntime.mark((function e(t){
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==d||""===d||t.charCode!==_.KeyboardKeys.ENTER){e.next=3;break}e.next=3;return A();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return I("div",{className:E.default.container},void 0,I("div",{className:E.default.topImage}),I(c.default,{className:(0,o.default)(E.default.centerText,E.default.header),size:p.default.Sizes.SIZE_24},void 0,m.default.Messages.HUB_EMAIL_CONNECTION_SCHOOL_SUBMIT_HEADER),I("div",{className:E.default.descriptionWidth},void 0,I(p.default,{className:E.default.centerText,size:p.default.Sizes.SIZE_14,color:p.default.Colors.HEADER_SECONDARY},void 0,m.default.Messages.HUB_EMAIL_CONNECTION_SCHOOL_SUBMIT_DESCRIPTION)),I(f.FormItem,{className:E.default.formItem},void 0,I(f.FormTitle,{id:g},void 0,m.default.Messages.HUB_EMAIL_CONNECTION_SCHOOL_SUBMIT_INPUT_HEADER),I(s.default,{onKeyPress:T,
placeholder:m.default.Messages.HUB_EMAIL_CONNECTION_SCHOOL_SUBMIT_INPUT_PLACEHOLDER,onChange:function(e){N(e)},error:null==y?void 0:y.getAnyErrorMessage(),"aria-labelledby":g})),I("div",{className:E.default.footer},void 0,I(u.default,{className:E.default.backButton,onClick:r,look:u.default.Looks.LINK,size:u.default.Sizes.NONE,color:u.default.Colors.PRIMARY},void 0,m.default.Messages.BACK),I(u.default,{onClick:A,size:u.default.Sizes.MEDIUM,color:u.default.Colors.BRAND,className:E.default.submitButton,submitting:h},void 0,I(p.default,{className:E.default.submitText,size:p.default.Sizes.SIZE_14},void 0,m.default.Messages.JOIN_WAITLIST))))};O.displayName="HubEmailConnectionSubmitSchool";var b=O;t.default=b},663916:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(294184)),l=S(n(496486)),i=S(n(799050)),u=n(327269),s=n(139982),d=S(n(956117)),f=S(n(279950)),c=n(354479),p=n(688388),v=S(n(971639)),_=S(n(776360)),m=n(770348),E=S(n(247001)),N=S(n(286458));function S(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){n(e);return}i.done?t(u):Promise.resolve(u).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){C(o,r,a,l,i,"next",e)}function i(e){C(o,r,a,l,i,"throw",e)}l(void 0)}))}}var O=(0,c.uid)(),b=function(e){var t=e.email,n=e.guildId,r=e.onClose,c=a.useState(""),S=c[0],I=c[1],C=a.useState(null),b=C[0],h=C[1],M=a.useCallback(g(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}e.prev=1;e.next=4;return i.default.verifyCode(S,n,t);case 4:if((a=e.sent).guild){null==r||r();(0,s.transitionTo)(m.Routes.CHANNEL(a.guild.id))}e.next=11;break;case 8:e.prev=8;e.t0=e.catch(1);h(new u.APIError(e.t0));case 11:case"end":
return e.stop()}}),e,null,[[1,8]])}))),[S,t,n,r]),A=l.default.throttle((function(){i.default.sendVerificationEmail(t,!0,n)}),1e3),T=function(){var e=g(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==S||""===S||t.charCode!==m.KeyboardKeys.ENTER){e.next=3;break}e.next=3;return M();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return y("div",{className:N.default.container},void 0,y("div",{className:N.default.topImage}),y(v.default,{className:(0,o.default)(N.default.centerText,N.default.header),size:_.default.Sizes.SIZE_24},void 0,E.default.Messages.HUB_VERIFY_EMAIL_ADDRESS),y("div",{className:N.default.descriptionWidth},void 0,y(_.default,{className:N.default.centerText,size:_.default.Sizes.SIZE_14,color:_.default.Colors.HEADER_SECONDARY},void 0,E.default.Messages.HUB_PIN_DESCRIPTION.format({email:t,onClick:A}))),y(p.FormItem,{className:N.default.formItem
},void 0,y(p.FormTitle,{id:O},void 0,E.default.Messages.HUB_ENTER_PIN),y(f.default,{onKeyPress:T,label:E.default.Messages.HUB_ENTER_PIN,onChange:function(e){null!=e&&""!==e&&I(e)},error:null==b?void 0:b.getAnyErrorMessage(),"aria-labelledby":O})),y(d.default,{fullWidth:!0,onClick:M,size:d.default.Sizes.LARGE,color:d.default.Colors.BRAND},void 0,y(_.default,{className:N.default.submitText,size:_.default.Sizes.SIZE_14},void 0,E.default.Messages.SUBMIT)))};b.displayName="HubEmailConnectionVerifyCode";var h=b;t.default=h},88428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null
;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(294184)),o=f(n(956117)),l=f(n(971639)),i=f(n(776360)),u=n(485280),s=f(n(247001)),d=f(n(404029));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.school,n=e.setStep;return p("div",{className:d.default.container},void 0,p("div",{className:d.default.topImage}),p(l.default,{className:(0,
a.default)(d.default.centerText,d.default.header),size:i.default.Sizes.SIZE_24},void 0,s.default.Messages.HUB_WAITLIST_MODAL_JOINED_HEADER),p("div",{className:d.default.descriptionWidth},void 0,p(i.default,{className:d.default.centerText,size:i.default.Sizes.SIZE_14,color:i.default.Colors.HEADER_SECONDARY},void 0,s.default.Messages.HUB_WAITLIST_MODAL_JOINED_DESCRIPTION.format({school:t}))),p(o.default,{look:o.default.Looks.LINK,size:o.default.Sizes.SMALL,color:o.default.Colors.LINK,onClick:function(){n(u.HubEmailConnectionSteps.VERIFY_EMAIL)},className:d.default.resendLink},void 0,s.default.Messages.HUB_EMAIL_CONFIRMATION_DIFFERENT_EMAIL))};v.displayName="HubEmailConnectionWaitlist";var _=v;t.default=_},33989:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RegistrationSteps=t.FlowType=t.CreateGuildSteps=t.ClaimAccountSteps=t.AgeGateSteps=void 0;var n,r,a,o,l;t.FlowType=n;!function(e){e.UNKNOWN="unknown";e.ANY="any";e.INVITE="invite"
;e.ORGANIC="organic_registration";e.ORGANIC_MARKETING="organic_marketing";e.ORGANIC_GUILD_TEMPLATES="organic_guild_template";e.CREATE_GUILD="create_guild"}(n||(t.FlowType=n={}));t.AgeGateSteps=r;!function(e){e.AGE_GATE="age_gate";e.AGE_GATE_UNDERAGE="age_gate_underage"}(r||(t.AgeGateSteps=r={}));t.ClaimAccountSteps=a;!function(e){e.CLAIM_ACCOUNT="claim_account";e.CLAIM_ACCOUNT_SUCCESS="claim_account_success"}(a||(t.ClaimAccountSteps=a={}));t.CreateGuildSteps=o;!function(e){e.GUILD_TEMPLATES="guild_templates";e.GUILD_CREATE="guild_create";e.CREATION_INTENT="creation_intent";e.CHANNEL_PROMPT="channel_prompt";e.JOIN_GUILD="join_guild";e.SUCCESS="create_success"}(o||(t.CreateGuildSteps=o={}));t.RegistrationSteps=l;!function(e){e.NUF_STARTED="nuf_started";e.AGE_GATE="age_gate";e.NUF_COMPLETE="nuf_complete";e.HUB_CONNECTION="hub_connection"}(l||(t.RegistrationSteps=l={}))},885986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=d(n(219548)),a=d(n(972247)),o=d(n(791548)),l=d(n(308920)),i=n(33989),u=n(770348),s=["version"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}var v="UserFlowAnalyticsStore_current",_="UserFlowAnalyticsStore";new o.default("UserFlowAnalytics");function m(e){if(e===i.FlowType.UNKNOWN)return null
;var t=a.default.get(_+"-"+e);if(null==t)return null;var n=t.version,r=p(t,s);return 1!==n?null:r}var E=(0,r.default)((function(e,t){return{flows:{},currentFlow:null,activeFlow:function(){var e,n=null!==(e=t().currentFlow)&&void 0!==e?e:a.default.get(v);if(null==n)return null;var r=t().flows[n],o=null!=r?r:m(n);return null!=(null==o?void 0:o.currentStep)?n:null}}}));E.subscribe((function(e){var t;if(null!=e){!function(e){if(e.type!==i.FlowType.UNKNOWN){var t=_+"-"+e.type;if(e.ended){a.default.remove(t);a.default.remove(v)}else{a.default.set(_+"-"+e.type,c({},e,{version:1}));a.default.set(v,e.type)}}}(e);l.default.track(u.AnalyticEvents.NUO_TRANSITION,{flow_type:e.type,from_step:e.lastStep,to_step:e.currentStep,seconds_on_from_step:"function"!=typeof(null===(t=e.lastTimestamp)||void 0===t?void 0:t.getTime)?0:(e.currentTimestamp.getTime()-e.lastTimestamp.getTime())/1e3},{flush:!0});if(e.ended){var n=c({},E.getState().flows);delete n[e.type];E.setState({flows:n,currentFlow:null})}}
}),(function(e){return null!=e.currentFlow?e.flows[e.currentFlow]:void 0}));function N(e,t){var n,r=E.getState().flows,a=r[e],o=p(r,[e].map(f)),l=null!=a?a:m(e);if(null!=(null==l?void 0:l.currentStep)){if(l.currentStep===t)return;0}E.setState({flows:c({},o,(n={},n[e]={type:e,lastStep:null,lastTimestamp:null,currentStep:t,currentTimestamp:new Date,skipped:!1},n)),currentFlow:e})}function S(e,t,n){var r;void 0===n&&(n=!1);var a=e;if(e===i.FlowType.ANY){var o;a=null!==(o=E.getState().activeFlow())&&void 0!==o?o:i.FlowType.UNKNOWN}var l=E.getState().flows,u=l[a],s=p(l,[a].map(f)),d=null!=u?u:m(a);null!=d&&null!=d.currentStep&&d.currentStep!==t&&E.setState({flows:c({},s,(r={},r[a]=c({},d,{lastStep:d.currentStep,lastTimestamp:d.currentTimestamp,currentStep:t,currentTimestamp:new Date,ended:n}),r)),currentFlow:a})}function I(){return null!=E.getState().activeFlow()}var y={flowStart:N,flowStepOrStart:function(e,t){I()?S(e,t):N(e,t)},flowStep:S,hasActiveFlow:I};t.default=y},489893:(e,t,n)=>{
e.exports=n.p+"dea5252276408a8bfca6dda585ca5216.svg"}}]);
//# sourceMappingURL=f4ffe186861e13474aa7.js.map