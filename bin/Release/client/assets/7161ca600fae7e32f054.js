"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[38698],{215485:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(636602)),u=i(n(594506)),a=i(n(563621)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var l={update:function(e){r.default.dispatch({type:o.ActionTypes.CHANNEL_COLLAPSE,channelId:e})},toggleCollapseGuild:function(e){u.default.saveUserGuildSettings(e,{hide_muted_channels:!a.default.isGuildCollapsed(e)});r.default.dispatch({type:o.ActionTypes.GUILD_TOGGLE_COLLAPSE_MUTED,guildId:e})}};t.default=l},675531:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.useInsufficientInvitePermissionModalExperiment=t.InsufficientInvitePermissionModalExperiment=void 0;var r,u=n(667294),a=n(373505),o=(r=n(247001))&&r.__esModule?r:{default:r};var i=(0,a.createExperiment)({kind:"guild",id:"2022-02_insufficient_invite_permission_modal",label:"Insufficient Invite Permission Modal",defaultConfig:{
displayMenuItem:!1},treatments:[{id:1,label:"Display a modal when the user lacks permission to invite others to a server",config:{displayMenuItem:!0}}]});t.InsufficientInvitePermissionModalExperiment=i;t.useInsufficientInvitePermissionModalExperiment=function(e,t){var n=o.default.getLocale(),r=["en-US","en-GB"].includes(n)&&!t;(0,u.useEffect)((function(){r&&i.trackExposure({guildId:e})}),[e,r]);return i.useExperiment({guildId:e},{disable:!r})}},890861:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=P;var r,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=u?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=n(536211),o=n(982437),i=n(799393),l=n(145122),s=h(n(711195)),f=h(n(423046)),c=h(n(30098)),d=h(n(689389)),p=h(n(728429)),v=n(194322),y=n(770348),m=h(n(247001)),b=h(n(35637));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,r,u,a,o){try{var i=e[a](o),l=i.value}catch(e){n(e);return}i.done?t(l):Promise.resolve(l).then(r,u)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var a=e.apply(t,n);function o(e){E(a,r,u,o,i,"next",e)}function i(e){E(a,r,u,o,i,"throw",e)}o(void 0)}))}}function M(e,t,n,u){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=u;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t,r,h,_){var E=c.default.getGuild(e),P=f.default.getId(),O=(0,a.useStateFromStores)([p.default],(function(){return p.default.getUser(t)}));(0,a.useStateFromStores)([d.default],(function(){return d.default.getGuildVersion(e)}),[e]);var w=u.useMemo((function(){var n;return(n={})[e]=[t],n}),[e,t]);(0,o.useSubscribeGuildMembers)(w);var S=h===y.AppContext.POPOUT;if(null==E||S)return null;var N=P===t&&(d.default.can(y.Permissions.CHANGE_NICKNAME,E)||d.default.can(y.Permissions.MANAGE_NICKNAMES,E)),j=P===t,k=d.default.canManageUser(y.Permissions.MANAGE_NICKNAMES,t,E);if(!(N||k||j))return null;if(null==O)return null
;var A=j?m.default.Messages.CHANGE_IDENTITY:m.default.Messages.CHANGE_NICKNAME;return M(l.MenuItem,{id:"change-nickname",label:M("div",{className:b.default.labelWrapper},void 0,M("span",{className:b.default.label},void 0,A)),icon:_,action:function(){if(j){(0,s.default)(O.id,O.getAvatarURL(e,80),{guildId:e});(0,i.openGuildIdentitySettings)(E,r)}else(0,v.openModalLazy)(I(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(63797)]).then(n.bind(n,263797));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return u.createElement(o,g({},t,{guildId:e,user:O,analyticsSource:r}))}));case 5:case"end":return t.stop()}}),t)}))))}})}P.displayName="useChangeIdentityItem"},772703:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.source,n=e.guild,r=e.channel,u=e.stageInstance,l=E(t,n,r),f=I(t),c=(0,
a.useStateFromStores)([s.default],(function(){return(0,i.canViewInviteModal)(s.default,n,r,u)})),p=(0,o.useInsufficientInvitePermissionModalExperiment)(n.id,c).displayMenuItem;if(null==r&&t===d.InstantInviteSources.GUILD_CONTEXT_MENU)return null;if(c)return l;if(p)return f;return null};var r,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=u?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=n(675531),i=n(689575),l=n(145122),s=y(n(689389)),f=y(n(2604)),c=n(194322),d=n(770348),p=n(474477),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function b(e,t,n,u){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=u;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function _(e,t,n,r,u,a,o){try{var i=e[a](o),l=i.value}catch(e){n(e);return}i.done?t(l):Promise.resolve(l).then(r,u)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var a=e.apply(t,n);function o(e){_(a,r,u,o,i,"next",e)}function i(e){
_(a,r,u,o,i,"throw",e)}o(void 0)}))}}var E=function(e,t,r){return b(l.MenuItem,{id:"invite-people",label:v.default.Messages.INVITE_PEOPLE,color:p.MenuItemColor.BRAND,icon:e===d.InstantInviteSources.GUILD_HEADER?f.default:void 0,action:function(){return(0,c.openModalLazy)(g(regeneratorRuntime.mark((function a(){var o,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return Promise.all([n.e(40532),n.e(15865),n.e(13557),n.e(14022)]).then(n.bind(n,115865));case 2:o=a.sent;i=o.default;return a.abrupt("return",(function(n){return u.createElement(i,h({},n,{guild:t,channel:e!==d.InstantInviteSources.GUILD_HEADER?r:void 0,source:e}))}));case 5:case"end":return a.stop()}}),a)}))))}})};E.displayName="useRegularMenuItem";var I=function(e){return b(l.MenuItem,{id:"invite-people",label:v.default.Messages.INVITE_PEOPLE,color:p.MenuItemColor.BRAND,icon:e===d.InstantInviteSources.GUILD_HEADER?f.default:void 0,action:function(){return(0,
c.openModalLazy)(g(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(25522)]).then(n.bind(n,525522));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return u.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}})};I.displayName="useExperimentMenuItem"},682905:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=I;var r,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=u?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=m(n(294184)),o=n(536211),i=n(6505),l=n(145122),s=m(n(59573)),f=n(194322),c=n(598671),d=m(n(3594)),p=n(770348),v=m(n(247001)),y=m(n(35637));function m(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function h(e,t,n,u){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=u;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t,n,r,u,a,o){try{
var i=e[a](o),l=i.value}catch(e){n(e);return}i.done?t(l):Promise.resolve(l).then(r,u)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var a=e.apply(t,n);function o(e){g(a,r,u,o,i,"next",e)}function i(e){g(a,r,u,o,i,"throw",e)}o(void 0)}))}}function I(e,t){void 0===t&&(t=!1);var r=(0,d.default)(e),m=(0,o.useStateFromStores)([i.HotspotStore],(function(){return i.HotspotStore.hasHotspot(i.HotspotLocations.GUILD_EVENTS_CREATE_EVENT_BADGE)}));if(!r)return null;return h(l.MenuItem,{id:"create-event",label:u.createElement(u.Fragment,null,v.default.Messages.SCHEDULE_EVENT,m?h(c.TextBadge,{text:v.default.Messages.NEW,className:(0,a.default)(y.default.newBadge,y.default.badgeSpacing)}):null),icon:t?s.default:void 0,action:function(){(0,f.openModalLazy)(E(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2
;return Promise.all([n.e(40532),n.e(15865),n.e(15198),n.e(8062),n.e(1025),n.e(34329)]).then(n.bind(n,901025));case 2:r=t.sent;a=r.default;return t.abrupt("return",(function(t){return u.createElement(a,_({},t,{guildId:e}))}));case 5:case"end":return t.stop()}}),t)}))),{onCloseRequest:p.NOOP_NULL});(0,i.hideHotspot)(i.HotspotLocations.GUILD_EVENTS_CREATE_EVENT_BADGE)}})}I.displayName="useCreateEventItem"},848270:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.LeaveServerFeedbackExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_leave_server_feedback_survey",label:"renders feedback survey when user leaves a server",defaultConfig:{showSurvey:!1},treatments:[{id:1,label:"leave server feedback survey is rendered",config:{showSurvey:!0}}]});t.LeaveServerFeedbackExperiment=r}}]);
//# sourceMappingURL=7161ca600fae7e32f054.js.map