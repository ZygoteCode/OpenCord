"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[3575],{804394:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.init=function(){r.default.dispatch({type:a.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_INIT})};t.savePermissionUpdates=function(e,t,n){r.default.dispatch({type:a.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING});return new Promise((function(n){!function r(){if(0===t.length)return n();var a=t.pop();if(null==a)return r();i.default.updatePermissionOverwrite(e,a).then(r,r)}()})).then((function(){r.default.dispatch({type:a.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS,silent:n})}))};t.selectPermission=function(e){r.default.dispatch({type:a.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION,id:e})};t.setAdvancedMode=function(e){r.default.dispatch({type:a.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE,advancedMode:e})};t.updatePermission=function(e,t,n){r.default.dispatch({
type:a.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION,id:e,allow:t,deny:n})};var r=o(n(636602)),i=o(n(709403)),a=n(770348);function o(e){return e&&e.__esModule?e:{default:e}}},289371:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.canCreatePrivateChannel=function(e,t,n){if(e===p.ChannelTypes.GUILD_TEXT||e===p.ChannelTypes.GUILD_ANNOUNCEMENT)return t;if((0,l.isGuildVocalChannelType)(e)||e===p.ChannelTypes.GUILD_CATEGORY)return t&&n;return!0};t.extractPermissionOverwrites=function(e,t){var n=[];Object.values(e).forEach((function(e){var r=e.row;null!=r.id&&""!==r.id&&(r.rowType===E.RowType.ROLE?n.push((0,d.permissionOverwriteForRole)(r.id,t)):r.rowType===E.RowType.MEMBER&&n.push((0,d.permissionOverwriteForUser)(r.id,t)))}));return n};t.flipEveryonePermission=C;t.getAllExistingRolesWithPermission=O;t.getExistingMembers=b;t.getExistingMembersRows=function(e,t,n,r,i){return b(e,t,n,r,i).map((function(e){return w(e,n)})).sort(I)};t.getExistingRoles=g
;t.getExistingRolesRowWithPermissionDisabled=function(e,t,n,i){var a=[];if(null==e.roles)return a;if(0===(a=O(e,t,n,i).sort(M).map((function(e){return y(e,r.default.has(e.permissions,n))}))).length)return _(R.default.Messages.CHANNEL_PERMISSIONS_NO_ROLES);return a};t.getExistingRolesRows=function(e,t,n,r){var i=[];if(null==e.roles)return i;if(0===(i=g(e,t,n,r).sort(M).map((function(e){return y(e)}))).length)return _(R.default.Messages.CHANNEL_PERMISSIONS_NO_ROLES);return i};t.getMembersRows=function(e,t,n,r,i){void 0===i&&(i=function(){return!0});return e.map(u.default.getUser).filter(f.isNotNullish).filter((function(e){return!n.isOwner(e)&&m(t,e.id,r)&&(i(A(e,n))||i(e.username)||i(e.discriminator))})).map((function(e){return w(e,n)})).sort(I)};t.getNoRolesRow=_;t.getPrivateChannelHintText=function(e){switch(e){case p.ChannelTypes.GUILD_TEXT:case p.ChannelTypes.GUILD_ANNOUNCEMENT:return R.default.Messages.PRIVATE_TEXT_CHANNEL_CREATION_PERMISSION_MISSING_HINT.format()
;case p.ChannelTypes.GUILD_VOICE:return R.default.Messages.PRIVATE_VOICE_CHANNEL_CREATION_PERMISSION_MISSING_HINT.format();case p.ChannelTypes.GUILD_CATEGORY:return R.default.Messages.PRIVATE_CATEGORY_CREATION_PERMISSION_MISSING_HINT.format();default:return null}};t.getRemoveTooltipHint=function(e){switch(e){case E.RowType.ROLE:return R.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP;case E.RowType.OWNER:return R.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_OWNER;case E.RowType.ADMINISTRATOR:return R.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_ADMINISTRATOR;case E.RowType.MEMBER:return R.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP;case E.RowType.EMPTY_STATE:default:return null}};t.getRolesRows=function(e,t,n,r){void 0===r&&(r=function(){return!0});if(null==e.roles)return[];return Object.values(e.roles).filter((function(i){return!v(i)&&m(t,i.id,n)&&N(e,i)&&r(i.name)})).sort(M).map((function(e){return y(e)}))}
;t.getRolesRowsWithPermissionDisabled=function(e,t,n,i){void 0===i&&(i=function(){return!0});if(null==e.roles)return[];return Object.values(e.roles).filter((function(r){return!v(r)&&m(t,r.id,n)&&N(e,r)&&i(r.name)})).sort(M).map((function(e){return y(e,r.default.has(e.permissions,n))}))};t.getRowTypeLabel=function(e,t){switch(e){case E.RowType.ROLE:return R.default.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_ROLE;case E.RowType.OWNER:return R.default.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_OWNER;case E.RowType.ADMINISTRATOR:return R.default.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_ADMINISTRATOR;case E.RowType.MEMBER:return t?R.default.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_MEMBER:null;case E.RowType.EMPTY_STATE:return null}};t.grantUserChannelAccess=function(e,t){var n=u.default.getCurrentUser();if(null==n)return;var i=e.permissionOverwrites[n.id];if(null==i){var l={id:n.id,type:o.PermissionOverwriteType.MEMBER,allow:r.default.add(c.default.NONE,t),
deny:c.default.NONE};(0,a.savePermissionUpdates)(e.id,[l],!0)}else{var s=i.allow,d=i.deny;s=r.default.add(s,t);(0,a.updatePermission)(i.id,s,d)}};t.hasCustomRoles=function(e){var t=Object.keys(e.roles);return 0!==t.length&&(1!==t.length||t[0]!==e.id)};t.isPrivateGuildChannel=function(e,t){if(null==e)return!1;var n=e.permissionOverwrites[e.guild_id];null!=(null==t?void 0:t[e.guild_id])&&(n=t[e.guild_id]);if(null!=n)return r.default.has(n.deny,e.accessPermissions);return!1};t.isPrivateTextChannel=function(e){var t=e.permissionOverwrites[e.guild_id];return null!=t&&e.type===p.ChannelTypes.GUILD_TEXT&&r.default.has(t.deny,p.Permissions.VIEW_CHANNEL)};t.toggleChannelEveryonePermission=function(e,t,n){var r=C(e,t,n);(0,a.updatePermission)(r.id,r.allow,r.deny)};var r=T(n(267258)),i=n(235234),a=n(804394),o=n(81069),l=n(567186),s=T(n(876874)),u=T(n(728429)),d=n(319986),f=n(71246),c=T(n(656016)),E=n(739889),p=n(770348),R=T(n(247001));function T(e){return e&&e.__esModule?e:{default:e}}
function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function v(e){return r.default.has(e.permissions,p.Permissions.ADMINISTRATOR)}function y(e,t){var n;void 0===t&&(t=!1);var a=function(e){return r.default.has(e.permissions,p.Permissions.ADMINISTRATOR)?E.RowType.ADMINISTRATOR:E.RowType.ROLE}(e);return{rowType:a,colorString:null!==(n=e.colorString)&&void 0!==n?n:(0,i.int2hex)(p.DEFAULT_ROLE_COLOR),name:e.name,id:e.id,disabled:v(e)||t,key:a+":"+e.id}}function M(e,t){var n=v(e)?0:1,r=v(t)?0:1;return n!==r?n-r:t.position-e.position}function _(e){void 0===e&&(e=R.default.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_NO_ROLES);return[{rowType:E.RowType.EMPTY_STATE,colorString:(0,i.int2hex)(p.DEFAULT_ROLE_COLOR),name:e,disabled:!0,id:"EMPTY_STATE"}]}function m(e,t,n,i){var a=u.default.getCurrentUser();if(null==a)return!1
;if(null==e)return a.id!==t;var o=e.permissionOverwrites[t];null!=(null==i?void 0:i[t])&&(o=i[t]);return null==o||!r.default.has(o.allow,n)}function N(e,t){return e.id!==t.id}function g(e,t,n,r){return Object.values(e.roles).filter((function(i){return v(i)||!m(t,i.id,n,r)&&N(e,i)}))}function O(e,t,n,i){return Object.values(e.roles).filter((function(a){var o;return v(a)||!m(t,a.id,n,i)&&N(e,a)||r.default.has(r.default.combine(a.permissions,null===(o=t.permissionOverwrites[a.id])||void 0===o?void 0:o.allow),n)}))}function A(e,t){var n;return null!==(n=s.default.getNick(t.id,e.id))&&void 0!==n?n:e.username}function h(e,t){return t.isOwner(e)}function w(e,t){var n=function(e,t){return t.isOwner(e)?E.RowType.OWNER:E.RowType.MEMBER}(e,t);return{rowType:n,name:A(e,t),userTag:e.tag,id:e.id,avatarURL:e.getAvatarURL(t.id,24),bot:e.bot,verifiedBot:e.isVerifiedBot(),disabled:h(e,t),key:n+":"+e.id}}function I(e,t){
return e.rowType!==t.rowType?e.rowType-t.rowType:e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase())}function b(e,t,n,r,i){return e.map(u.default.getUser).filter(f.isNotNullish).filter((function(e){return!m(t,e.id,r,i)||h(e,n)}))}function C(e,t,n){var i=e.permissionOverwrites[e.guild_id];null==i&&(i=c.default.makeEveryoneOverwrite(e.guild_id));var a=S({},i);a.deny=r.default.remove(a.deny,t);a.allow=r.default.remove(a.allow,t);n||(a.deny=r.default.add(a.deny,t));return a}},403575:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.AddMembersBody=te;t.MemberRoleSelector=ne;t.default=re;t.getFullRowId=$
;var r,i=W(n(667294)),a=G(n(294184)),o=n(798628),l=n(536211),s=n(804394),u=n(441224),d=G(n(328704)),f=n(567186),c=G(n(644263)),E=G(n(876874)),p=G(n(30098)),R=G(n(663303)),T=G(n(870461)),S=G(n(956117)),v=G(n(789446)),y=G(n(16941)),M=G(n(530250)),_=n(354479),m=n(688388),N=G(n(291555)),g=G(n(340858)),O=G(n(482357)),A=n(3400),h=G(n(628551)),w=G(n(971639)),I=G(n(776360)),b=G(n(521358)),C=G(n(308920)),L=n(319986),P=G(n(895201)),D=G(n(827513)),k=W(n(289371)),H=G(n(925502)),j=n(739889),x=n(770348),B=G(n(247001)),U=G(n(618719));function G(e){return e&&e.__esModule?e:{default:e}}function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function W(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}function V(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){V(a,r,i,o,l,"next",e)}function l(e){V(a,r,i,o,l,"throw",e)}o(void 0)}))}}function Y(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return q.apply(this,arguments)}function Q(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=i;else if(o>1){for(var l=new Array(o),s=0;s<o;s++)l[s]=arguments[s+3];t.children=l}if(t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Z=(0,_.uid)(),X=(0,_.uid)();function $(e){return e.rowType+":"+e.id}function J(e){return Q(m.FormTitle,{tag:m.FormTitle.Tags.H5,className:(0,a.default)(U.default.sectionTitle,U.default.rowHeight)},e,e)}J.displayName="renderSectionTitle";function K(e,t){return t?e.slice(1):e}function ee(e){
var t,n=e.id,r=e.children,l=e.rowLabel,s=e.checked,u=e.onSelect,d=e.disabled,f=e.showCheckbox,c=e.selected,E=e.onMouseEnter,p=e["aria-posinset"],R=e["aria-setsize"],T=(0,o.useListItem)(n);return i.createElement(y.default,q({},T,{id:n,className:(0,a.default)(U.default.addMemberRow,(t={},t[U.default.selectedRow]=c,t)),onClick:function(e){if(!d){e.preventDefault();u()}},onMouseEnter:E,role:"option","aria-disabled":d,"aria-selected":s,"aria-setsize":R,"aria-posinset":p}),Q(M.default,{justify:M.default.Justify.BETWEEN,align:M.default.Align.CENTER},void 0,f?Q(v.default,{displayOnly:!0,size:18,value:s,type:v.default.Types.INVERTED},void 0,Q("div",{className:U.default.checkboxLabel},void 0,r)):r,null!=l?Q(I.default,{color:I.default.Colors.MUTED,size:I.default.Sizes.SIZE_12},void 0,l):null))}ee.displayName="AddMembersRow";function te(e){
var t=e.guild,n=e.channel,r=e.permission,a=e.pendingAdditions,o=e.setPendingAdditions,s=e.isStageChannel,d=void 0===s?null!=n&&n.isGuildStageVoice():s,f=e.description,c=i.useState(!1),p=c[0],R=c[1],T=i.useState(""),S=T[0],v=T[1];function y(e){var t=K(S.trim(),p);return new RegExp(""+D.default.escape(t),"i").test(e)}var M,_=(0,l.useStateFromStores)([E.default],(function(){return E.default.getMemberIds(t.id)}));p?M=[]:d?M=k.getRolesRowsWithPermissionDisabled(t,n,r,y):0===(M=k.getRolesRows(t,n,r,y)).length&&(""!==S.trim()||k.hasCustomRoles(t)||(M=k.getNoRolesRow()));var m=k.getMembersRows(_,n,t,r,y);var N={placeholderText:B.default.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_PLACEHOLDER,hintText:B.default.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_SUBTITLE,renderEmptyText:function(e){return B.default.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_NO_RESULT.format({query:e})}};return Q(ne,{pendingAdditions:a,query:S,onQueryChange:function(e){var n=e.trim(),r="@"===n.charAt(0)
;P.default.requestMembers(t.id,K(n,r),j.MEMBER_REQUEST_COUNT);v(e);R(r)},onClickRow:function(e){var t=$(e);o((function(n){var r=q({},n);if(t in r)delete r[t];else{var i;e.rowType===j.RowType.ROLE||e.rowType===j.RowType.ADMINISTRATOR?i={type:u.RichTagTypes.ROLE,label:e.name,color:e.colorString}:e.rowType!==j.RowType.MEMBER&&e.rowType!==j.RowType.OWNER||(i={type:u.RichTagTypes.MEMBER,label:e.name,avatar:e.avatarURL});null!=i&&(r[t]={display:i,row:e})}return r}))},onRemovePendingAddition:function(e){o((function(t){t[e];return function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(t,[e].map(Y))}))},roles:M,members:m,placeholderText:N.placeholderText,hintText:N.hintText,renderEmptyText:N.renderEmptyText,isStageChannel:d,description:f})}te.displayName="AddMembersBody";function ne(e){
var t,n=e.listClassName,r=e.pendingAdditions,o=e.query,s=e.onQueryChange,u=e.onClickRow,f=e.onRemovePendingAddition,c=e.roles,E=e.members,p=e.placeholderText,S=e.hintText,v=e.renderEmptyText,y=e.isStageChannel,_=e.focusSearchAfterReady,m=e.isReady,N=e.description,O=i.useRef(null),A=i.useRef(null),w=(0,l.useStateFromStores)([R.default],(function(){return R.default.hidePersonalInformation})),C=i.useState(!1),L=C[0],P=C[1],D=i.useState(0),x=D[0],G=D[1],z=i.useState(-1),W=z[0],V=z[1],F=i.useCallback((function(e,t,n){void 0===n&&(n=!0);G(e);V(t);if(n){var r;null===(r=A.current)||void 0===r||r.scrollToIndex({section:null!=e?e:0,row:null!=t?t:0,padding:8})}}),[]),Y=i.useCallback((function(e,t){if(null!=t){s("");var n=(e===j.AddMembersSections.ROLES?c:E)[t];n.rowType!==j.RowType.EMPTY_STATE&&u(n)}}),[c,E,u,s]),q=i.useCallback((function(e){var t;if(null!=e&&e.rowType!==j.RowType.EMPTY_STATE){u(e);s("");null===(t=O.current)||void 0===t||t.focus()}}),[u,s]),K=i.useMemo((function(){
return Object.keys(r)}),[r]);var te=E.some((function(e){return!e.disabled}))||c.some((function(e){return!e.disabled}))||""===o.trim();function ne(){var e;P(!(null===(e=A.current)||void 0===e?void 0:e.isScrolledToTop())&&te)}i.useEffect((function(){ne()}));return Q("div",{className:U.default.content},void 0,function(){var e=N;null==e&&y&&(e=B.default.Messages.CHANNEL_PERMISSIONS_MODERATOR_DESCRIPTION);return e&&Q(I.default,{color:I.default.Colors.HEADER_SECONDARY,className:U.default.description},void 0,e)}(),Q("div",{className:(0,a.default)(U.default.searchBox,(t={},t[U.default.scrollSeparator]=L,t))},void 0,i.createElement(H.default,{ref:O,query:o,onQueryChange:s,selectedSection:x,selectedRow:W,onSelectionChange:F,onSelect:Y,tags:K.map((function(e){return r[e].display})),sections:[c.length,E.length],onRemoveTag:function(e){f(K[e])},placeholder:p,focusAfterReady:_,isReady:m,"aria-labelledby":Z,"aria-controls":X}),null!=S?Q(I.default,{size:I.default.Sizes.SIZE_12
},void 0,S):null),te?i.createElement(b.default,{ref:A,className:(0,a.default)(U.default.roleMemberList,n),sections:[c.length,E.length],renderRow:function(e){var t,n,a=e.section,o=e.row,l=null,s=!1,u=!1,d=!1;switch(a){case j.AddMembersSections.ROLES:s=(n=$(l=c[o]))in r||l.disabled;u=l.disabled;d=x===j.AddMembersSections.ROLES&&W===o;t=i.createElement(i.Fragment,null,Q("div",{className:U.default.rowHeight},void 0,Q(g.default,{color:l.colorString,height:20})),Q("div",{className:U.default.rowLabel},void 0,Q(I.default,{className:U.default.rowTitle,color:l.rowType===j.RowType.EMPTY_STATE?I.default.Colors.MUTED:I.default.Colors.STANDARD},void 0,l.name),y&&l.disabled?Q(I.default,{color:I.default.Colors.HEADER_SECONDARY,size:I.default.Sizes.SIZE_12},void 0,B.default.Messages.CHANNEL_PERMISSIONS_ROLE_ALREADY_HAS_PERMISSIONS):null));break;case j.AddMembersSections.MEMBERS:s=(n=$(l=E[o]))in r||l.disabled;u=l.disabled;d=x===j.AddMembersSections.MEMBERS&&W===o
;t=i.createElement(i.Fragment,null,Q(h.default,{src:l.avatarURL,size:h.default.Sizes.SIZE_24,"aria-label":""}),Q(I.default,{className:U.default.rowLabel,"aria-hidden":!w},void 0,l.name),l.bot&&Q(T.default,{verified:l.verifiedBot}),!w&&Q(I.default,{color:I.default.Colors.MUTED,className:U.default.rowLabelSubText},void 0,l.userTag))}return null==l?null:Q(ee,{id:"user-row-"+o,rowLabel:k.getRowTypeLabel(l.rowType),checked:s,disabled:u,onSelect:function(){return q(l)},showCheckbox:l.rowType!==j.RowType.EMPTY_STATE,onMouseEnter:function(){return F(a,o,!1)},selected:d,"aria-posinset":o+1,"aria-setsize":c.length+E.length},n,Q(M.default,{align:M.default.Align.CENTER,justify:M.default.Justify.START},void 0,t))},rowHeight:40,renderSection:function(e){switch(e.section){case j.AddMembersSections.ROLES:return J(B.default.Messages.ROLES);case j.AddMembersSections.MEMBERS:return J(B.default.Messages.MEMBERS)}},sectionHeight:32,onScroll:ne,role:void 0,innerRole:"listbox",innerId:X,
innerAriaMultiselectable:!0,innerAriaOrientation:"vertical"}):Q(M.default,{className:n,align:M.default.Align.CENTER,justify:M.default.Justify.CENTER,direction:M.default.Direction.VERTICAL},void 0,Q(d.default,{className:U.default.noResultIcon}),Q(I.default,{},void 0,v(o))))}ne.displayName="MemberRoleSelector";function re(e){var t=e.transitionState,n=e.onClose,r=e.channelId,a=e.newChannel,o=e.inSettings,s=i.useState(!1),u=s[0],d=s[1],E=i.useState({}),R=E[0],T=E[1],v=(0,l.useStateFromStores)([c.default],(function(){return c.default.getChannel(r)}),[r]),y=(0,l.useStateFromStores)([p.default],(function(){return p.default.getGuild(null==v?void 0:v.getGuildId())}));i.useEffect((function(){C.default.track(x.AnalyticEvents.OPEN_MODAL,{type:"Grant Channel Access"})}),[]);if(null==v||null==y)return null;var _=a&&0===Object.keys(R).length;function m(){return(m=F(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
if(null!=v&&0!==Object.keys(R).length){e.next=3;break}n();return e.abrupt("return");case 3:d(!0);e.prev=4;e.next=7;return ie(v,R,o);case 7:n();d(!1);e.next=14;break;case 11:e.prev=11;e.t0=e.catch(4);d(!1);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}var g=(0,f.isGuildTextChannelType)(v.type)?N.default:O.default;return Q(A.ModalRoot,{transitionState:t,size:A.ModalSize.SMALL,"aria-labelledby":Z,className:U.default.modalRoot},void 0,Q(A.ModalHeader,{separator:!1,direction:M.default.Direction.VERTICAL,align:M.default.Align.CENTER,className:U.default.header},void 0,Q(w.default,{id:Z,tag:w.default.Tags.H2,size:w.default.Sizes.SIZE_24},void 0,B.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TITLE),Q(I.default,{size:I.default.Sizes.SIZE_16,color:I.default.Colors.HEADER_SECONDARY,className:U.default.headerSubtitle},void 0,Q(g,{height:16,width:16,className:U.default.headerSubtitleIcon}),v.name)),Q(te,{guild:y,channel:v,permission:v.accessPermissions,
pendingAdditions:R,setPendingAdditions:T}),Q(A.ModalFooter,{},void 0,!_&&i.createElement(i.Fragment,null,Q(S.default,{onClick:function(){return m.apply(this,arguments)},look:S.default.Looks.FILLED,size:S.default.Sizes.SMALL,className:U.default.button,submitting:u},void 0,B.default.Messages.DONE),Q(S.default,{look:S.default.Looks.LINK,color:S.default.Colors.TRANSPARENT,onClick:n,size:S.default.Sizes.SMALL},void 0,B.default.Messages.CANCEL)),_&&Q(S.default,{look:S.default.Looks.FILLED,color:S.default.Colors.GREY,onClick:n,size:S.default.Sizes.SMALL},void 0,B.default.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_SKIP)))}re.displayName="AddMembersModal";function ie(e,t,n){var r=[];Object.values(t).forEach((function(t){var n=t.row;null!=n.id&&""!==n.id&&(n.rowType===j.RowType.ROLE?r.push((0,L.permissionOverwriteForRole)(n.id,e.type)):n.rowType===j.RowType.MEMBER&&r.push((0,L.permissionOverwriteForUser)(n.id,e.type)))}));return(0,s.savePermissionUpdates)(e.id,r,n)}},925502:(e,t,n)=>{
Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=o(n(441224)),a=o(n(35021));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var s=r.forwardRef((function(e,t){
var n=e.query,o=e.onQueryChange,l=e.onRemoveTag,s=e.onSelect,u=e.onSelectionChange,d=e.selectedSection,f=e.selectedRow,c=e.tags,E=e.sections,p=e.placeholder,R=void 0===p?"":p,T=e.focusAfterReady,S=e.isReady,v=e["aria-labelledby"],y=e["aria-controls"];return r.createElement(i.default,{autoFocus:!0,className:a.default.searchBar,maxHeight:100,onQueryChange:o,onRemoveTag:l,selectedSection:d,selectedRow:f,onSelect:s,onSelectionChange:u,placeholder:0===c.length?R:"",query:n,ref:t,size:i.default.Sizes.MEDIUM,tags:c,sections:E,focusAfterReady:T,isReady:S,inputProps:{"aria-labelledby":v,"aria-controls":y,"aria-expanded":!0,"aria-activedescendant":"user-row-"+f}})}));t.default=s},328704:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=u;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;n&&n.set(e,r)}(n(667294));var r,i=o(n(294184)),a=o(n(735716));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=i;else if(o>1){for(var l=new Array(o),s=0;s<o;s++)l[s]=arguments[s+3];t.children=l}if(t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(e){var t=e.className;return s("div",{className:(0,i.default)(a.default.image,t)})}u.displayName="NoResultsImage"}}]);
//# sourceMappingURL=274d22b299ca1aa4854f.js.map